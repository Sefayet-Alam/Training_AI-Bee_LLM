/* [@grammarly-license] license information can be found in https://denali-static.grammarly.com/licenses.txt */(window.webpackJsonp=window.webpackJsonp||[]).push([[14,10],{"++u8":function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){let t;!function(e){e.collapseButtonClick="collapseButtonClick"}(t=e.Type||(e.Type={}))}(a||(a={}))},"+5S2":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r}));var a={};n.r(a),n.d(a,"getNormalizedPosition",(function(){return g})),n.d(a,"getPositionInViewport",(function(){return f})),n.d(a,"isAboveViewportTop",(function(){return b})),n.d(a,"willFitViewport",(function(){return y})),n.d(a,"getCardPadding",(function(){return v})),n.d(a,"ContentOffset",(function(){return S})),n.d(a,"InfinityScrollGetter",(function(){return C})),n.d(a,"Mover",(function(){return k}));var r={};n.r(r),n.d(r,"CARDS_BEYOND_VIEWPORT",(function(){return x})),n.d(r,"CARDS_AROUND_ACTIVE",(function(){return I})),n.d(r,"CARD_VISIBILITY_DEFAULT_SETTING",(function(){return j})),n.d(r,"manageCardsVisibility",(function(){return T})),n.d(r,"freezeActiveCardOnCardsListUpdate",(function(){return M})),n.d(r,"manageCardsInert",(function(){return N})),n.d(r,"moveNearestItemIntoViewport",(function(){return P}));var i={};n.r(i),n.d(i,"getScrollObserver",(function(){return R})),n.d(i,"getPlaceholderState",(function(){return B})),n.d(i,"getAssistantHeight",(function(){return F})),n.d(i,"getCardsViewportState",(function(){return D})),n.d(i,"getCardsRect",(function(){return H}));var o=n("OA+g"),s=n("I7vG"),l=n("lrqh"),c=n("6fbX"),u=n("zR/0"),d=n("BeBM"),p=n("NW9S"),m=n("NbEL"),h=n("EjiM");const g=(e,t)=>n=>{const a=p.a.FromViewportTop.ISO.unwrap(e),r=p.a.FromViewportTop.ISO.unwrap(n),i=a-r;return p.a.FromViewportTop.ISO.wrap(i<-t.top?a+t.top:i>t.bottom?a-t.bottom:r)},f=(e,t,n)=>a=>{const r=Object(h.b)({cardTop:a,cardHeight:e.positionState.height,viewportHeight:n.height,padding:t});return p.a.FromViewportTop.ISO.modify(p.a.concatC(-r))(a)},b=e=>t=>p.b.FromWindowTop.ISO.modify(p.a.concatC(e.scrollTop.get()+e.paddingTop.get()))(t)<e.viewport.get().top,y=(e,t)=>(n,a)=>{const r=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.currentLens.items,e=>Object(s.pipe)(e.get(n),l.g.map(({value:e})=>0===Object(h.b)({cardTop:r.converters.windowToViewport(a),cardHeight:e.positionState.height,viewportHeight:r.viewport.height,padding:{before:0,after:0}}))),l.g.unsafeGet)},v=(e,t)=>Object(s.pipe)(t.get(e),l.g.map(({index:e})=>({before:Object(s.pipe)(t.getAt(e-1),l.g.map(e=>e.positionState.height),l.g.getOrElse(()=>0)),after:Object(s.pipe)(t.getAt(e+1),l.g.map(e=>e.positionState.height),l.g.getOrElse(()=>0))})),l.g.getOrElse(()=>({before:0,after:0})));var S,C,w,k;!function(e){e.CARD_CONTENT_OFFSET_REM=3.4,e.WITH_LABEL_CARD_CONTENT_OFFSET_REM=e.CARD_CONTENT_OFFSET_REM+1,e.contentOffsetGetter=(t=e.CARD_CONTENT_OFFSET_REM,n=e.WITH_LABEL_CARD_CONTENT_OFFSET_REM)=>(e,a)=>Math.round((e?n:t)*a)}(S||(S={})),(w=C||(C={})).cardPositionGetter=(e,t)=>(n,a)=>{const r=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(d.e.getLens).get(),l.b.fromOption(()=>({kind:"error",reason:"Current lens is not WithItemsLensState"})),l.b.chain(({items:e,id:t})=>Object(s.pipe)(e.get(n),l.b.fromOption(()=>({kind:"notFound",reason:`The item with id: ${n} does not exist in lens ${t}`})),l.b.map(({value:e})=>Object(s.pipe)(a,l.g.fold(()=>Object(o.flow)(p.a.AbsTop.ISO.wrap,r.converters.absTopToViewportTop,r.converters.viewportToWindow)(e.positionState.absTop),o.identity))))))},w.cardPositionInViewportGetter=(e,t)=>(n,a)=>{const r=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(d.e.getLens).get(),l.b.fromOption(()=>({kind:"error",reason:"Current lens is not WithItemsLensState"})),l.b.chain(({items:e,id:t})=>Object(s.pipe)(e.get(n),l.b.fromOption(()=>({kind:"notFound",reason:`The item with id: ${n} does not exist in lens ${t}`})),l.b.chain(({value:t})=>Object(s.pipe)(a,l.g.map(r.converters.windowToViewport),l.g.alt(()=>l.g.some(Object(o.flow)(p.a.AbsTop.ISO.wrap,r.converters.absTopToViewportTop)(t.positionState.absTop))),l.g.map(f(t,v(n,e),r.viewport)),l.g.map(r.converters.viewportToWindow),l.b.fromOption(()=>({kind:"error",reason:"Cannot get card position in viewport"})))))))},function(e){const t=(e,t,n,a)=>{const r=a.viewport.get(),i=a.scrollTop.get(),o=p.a.converters(i,p.b.FromWindowTop.ISO.unwrap(r.top),a.paddingTop.get());return l.b.tryCatchError(()=>Object(s.pipe)(d.e.getLens(n),l.g.chain(t=>t.items.get(e)),l.g.map(e=>p.a.AbsTop.ISO.wrap(e.value.positionState.absTop)),l.g.map(e=>o.absTopToViewportTop(e)),l.g.fold(()=>{throw new c.b("Cannot get offset for unknown card")},e=>{const n=o.windowToViewport(t);return p.a.FromViewportTop.ISO.unwrap(e)-p.a.FromViewportTop.ISO.unwrap(n)})))};e.moveCardToPositionSyncGetter=(e,n)=>a=>Object(s.pipe)(t(a.id,a.position,e.get(),n),l.b.chain(e=>n.moveCardsBy(e,"moveCardToPositionAnimated"))),e.moveCardToPositionAnimatedGetter=(e,n)=>a=>Object(s.pipe)(t(a.id,a.position,e.get(),n),l.b.fold(e=>u.a.throwError(e),e=>n.moveCardsByAnimated(e,"moveCardToPositionAnimated")))}(k||(k={}));var E=n("GUi3"),O=n("gy42"),A=n("+w1e"),_=n("TC4P");const x=5,I=100,j={cardsBeyondViewport:x,cardsAroundActive:I},T=(e,t,n,a,r=j,i=O.b.Scheduler.rafScheduler)=>{const o=e=>!e.positionState.visible&&_.a.isAnimatable(e)&&e.visualState.incomplete?(a.next({type:A.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),n.completeTransition(e.visualState.transitionId)(e)):e,s=e.pipe(u.a.map(d.e.mapper(({currentLens:e,alertSource:t})=>l.g.some({currentLens:e,alertSource:t})))),c=Object(h.h)(n)(s,t.viewport,t.scrollTop,t.paddingTop,i).pipe(u.a.map(({viewport:e,scrollTop:t,paddingTop:n})=>({viewport:e,scrollTop:t,paddingTop:n,completeTransition:o})),u.a.map(Object(h.g)({cardsBeyondViewport:r.cardsBeyondViewport,cardsAroundActive:r.cardsAroundActive,changePosition:n})));return{id:"manageCardsVisibility",when:E.a.isWithAlertsId,what:d.e.Effect.Applicator.create(c)}},M=(e,t,n)=>{const a=Object(s.pipe)(e,u.a.map(d.e.mapper(({currentLens:e,alertSource:t})=>l.g.some({currentLens:e,alertSource:t}))),Object(h.a)(n),u.a.switchMap(O.b.Scheduler.rafScheduler),u.a.filter(e=>0!==e),u.a.tap(e=>t.moveCardsBy(e,"freezeActiveCardOnCardsListUpdate")));return{id:"freezeActiveCardOnCardsListUpdate",when:E.a.isWithAlertsId,what:d.e.Effect.Applicator.create(u.a.mergeStatic(u.a.mergeStatic(a).pipe(u.a.switchMapTo(u.a.NEVER))))}},N=(e,t,n,a=O.b.Scheduler.rafScheduler)=>{const r=e.pipe(u.a.map(d.e.mapper(({currentLens:e,alertSource:t})=>l.g.some({currentLens:e,alertSource:t})))),i=Object(h.h)(n)(r,t.viewport,t.scrollTop,t.paddingTop,a).pipe(u.a.map(Object(h.c)(n)));return{id:"manageCardsInert",when:E.a.isWithAlertsId,what:d.e.Effect.Applicator.create(i)}},P=(e,t,n,a,r,i=O.b.Scheduler.rafScheduler)=>{const o=t.pipe(u.a.map(d.e.mapper(({currentLens:e,alertSource:t})=>l.g.some({currentLens:e,alertSource:t})))),c=Object(h.h)(r)(o,a.viewport,a.scrollTop,a.paddingTop,i).pipe(u.a.switchMap(t=>e.pipe(u.a.withLatestFrom(o),u.a.switchMap(([,e])=>Object(s.pipe)(e,l.g.map(Object(h.e)(n,t)),l.g.getOrElse(()=>u.a.EMPTY))))));return{id:"moveNearestItemIntoViewport",when:E.a.isWithAlertsId,what:d.e.Effect.Applicator.create(c.pipe(u.a.switchMapTo(u.a.NEVER)))}};var L=n("D9EC");const R=e=>O.b.toBooleanWithDebounce(e.scrollTop.pipe(u.a.skip(1)),100,!0).pipe(u.a.startWith(!1),u.a.shareReplay({bufferSize:1,refCount:!0})),B=(e,t)=>{const n=R(t),a=e.view(d.e.mapper(({currentLens:e,alertSource:t})=>l.g.some({currentLens:e,alertSource:t})));return u.a.combineLatestStatic(u.a.combineLatestStatic(n,a.pipe(u.a.map(l.g.forAll(({currentLens:e})=>Object(s.pipe)(d.k.getActiveItem(e),l.g.forAll(e=>!_.a.isAnimatable(e)||!e.visualState.incomplete&&!e.positionState.animationInProgress))))),L.a).pipe(u.a.distinctUntilChanged()),a.pipe(u.a.filter(l.g.forAll(e=>e.currentLens.isCardsHeightValid)),u.a.map(l.g.map(({currentLens:e})=>{const t=e.cardsHeight;return Object(s.pipe)(d.k.getActiveItem(e),l.g.map(({positionState:e})=>[{top:0,height:e.absTop},{top:e.absTop+e.height,height:t-(e.absTop+e.height)}]),l.g.getOrElse(()=>[{top:0,height:t},{top:0,height:0}]))})),u.a.distinctUntilChanged(l.g.getEq(m.c.eqDimensionsTuple).equals)),(e,t)=>e?t:l.g.none).pipe(u.a.startWith(l.g.none),u.a.shareReplay({bufferSize:1,refCount:!0}))},F=(e,t,n)=>Object(h.f)(n)(e.view(d.e.mapper(({currentLens:e,alertSource:t})=>l.g.some({currentLens:e,alertSource:t})))).pipe(u.b.compact,u.a.map(({currentLens:e})=>e.cardsHeight),u.a.startWith(0),u.a.combineLatest(t.paddingTop,t.viewport,(e,t,n)=>e+t+p.b.FromWindowTop.ISO.unwrap(n.top))),D=(e,t,n)=>Object(h.f)(n)(e.view(d.e.mapper(({currentLens:e,alertSource:t})=>l.g.some({currentLens:e,alertSource:t})))).pipe(u.a.switchMap(l.g.fold(()=>u.a.of(m.a.hidden),e=>e.currentLens.items.size>0?u.a.combineLatestStatic(t.scrollTop,t.viewport,t.paddingTop).pipe(u.a.map(([t,n,a])=>{const r=p.a.converters(t,p.b.FromWindowTop.ISO.unwrap(n.top),a),i=e.currentLens.items,c=Object(s.pipe)(i.getAt(0),l.g.map(e=>Object(s.pipe)(e.positionState.absTop,Object(o.flow)(p.a.AbsTop.ISO.wrap,r.absTopToViewportTop))),l.g.unsafeGet),u=l.g.unsafeGet(i.getAt(i.size-1)),d=p.a.AbsTop.ISO.wrap(u.positionState.absTop),h=u.positionState.height,g=r.absTopToViewportTop(d);return p.a.FromViewportTop.ISO.unwrap(g)+h<0?m.a.above:p.a.FromViewportTop.ISO.unwrap(c)>n.height?m.a.below:m.a.hidden})):u.a.of(m.a.hidden))),u.a.distinctUntilChanged(),u.a.debounce(e=>e===m.a.hidden?u.a.EMPTY:u.a.timer(300)),u.a.shareReplay({bufferSize:1,refCount:!0})),H=(e,t)=>{const n=new m.b.Impl(t.scrollTop.get(),t.viewport.get(),t.paddingTop.get());return Object(s.pipe)(e.view(d.e.getLens).get(),l.g.chain(({items:e,cardsHeight:t})=>Object(s.pipe)(e.getAt(0),l.g.map(e=>{const a=Object(o.flow)(p.a.AbsTop.ISO.wrap,n.converters.absTopToViewportTop,n.converters.viewportToWindow)(e.positionState.absTop);return{top:a,bottom:p.b.FromWindowTop.ISO.modify(p.a.concatC(t))(a)}}))))}},"+LKT":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("OA+g"),o=n("vOOZ"),s=n("1w6p"),l=n("zR/0"),c=n("8uad"),u=n("0A/6"),d=n("N19O"),p=n("HUX/");!function(e){e.Card=e=>s.b.Node.make(({view:t})=>{const n=t("view");return r.createElement(o.a.Fragment,null,n.pipe(l.a.distinctUntilChanged((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),l.a.map(a=>r.createElement(d.a.Provider,{card:n,cardVisibleViewportHeight:t("visibleViewportHeight")},i=>r.createElement(u.a.Card,{mount:i,miniCard:r.createElement(c.a.Mini,{card:n,actions:e}),fullCard:r.createElement(c.a.Full,{card:n,actions:e}),successCard:r.createElement(c.a.Success,{cardData:a,isLastCard:t("isLastCard"),actions:e}),feedbackForm:r.createElement(c.a.FeedbackForm,{cardData:a,actions:e}),actions:e,card:a,mutedCard:r.createElement(c.a.MutedAlert,{cardData:a,actions:e})})))))}),e.DenaliCardWrapper=s.b.Grid.make(({slots:e,view:t})=>r.createElement(o.a.div,{className:Object(i.pipe)(t("layoutDensity"),l.a.map(e=>Object(p.a)(e).container))},e.children))}(a||(a={}))},"+Zgs":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return g}));var a=n("93Qa"),r=n("OA+g"),i=n("I7vG"),o=n("lrqh"),s=n("hoSD"),l=n("1w6p"),c=n("gy42"),u=n("zR/0"),d=n("UEGg"),p=n("C7EH");const m=(e,t)=>l.a.composeKnot({title:C(e),root:S(e,t),suggestions:v(e,t),controls:f(e,t)}),h=(e,t)=>l.a.composeKnot({root:l.a.fromSideEffect(e=>{t.next(e)},e),title:C(e)}),g=e=>l.a.animatingFlow(()=>c.b.toObservable(Object(i.pipe)(e,o.g.fromPredicate(d.a.isBulkApplied),o.g.map(r.constVoid))),(e,t)=>Object(i.pipe)(t,o.g.fold(()=>o.g.some(o.m.left("invisible")),()=>Object(i.pipe)(e,o.g.chain(r.identity),o.g.fold(()=>o.g.some(o.m.right("visible")),()=>o.g.none))))),f=(e,t)=>l.a.composeKnot({apply:b(e,t),dismiss:y(e,t)}),b=(e,t)=>l.a.composeKnot({root:l.a.fromSideEffect(e=>{t.next(e)},e),content:w(l.a.fromSideEffect(r.constVoid,e.pipe(u.a.map(o.g.some))))}),y=(e,t)=>l.a.fromSideEffect(e=>{t.next(e.action)},e),v=(e,t)=>l.a.fromSideEffect(e=>{t.next(e.action)},e.pipe(u.a.skipBy(p.a.eqByAlerts),u.a.map(e=>Object(i.pipe)(e,s.e.pick("alerts"),o.f.map(t=>Object.assign(Object.assign({},t),{a11yContrast:e.a11yContrast})))))),S=(e,t)=>l.a.fromSideEffect(e=>{t.next(e)},e),C=e=>w(l.a.fromSideEffect(r.constVoid,e.pipe(u.a.map(o.g.some)))),w=e=>l.a.animatingFlow(e,(e,t)=>Object(i.pipe)(Object(r.tuple)(Object(i.pipe)(e,o.g.chain(r.identity)),t),Object(r.tupled)(a.sequenceT(o.g.option)),o.g.filter(([e,t])=>p.a.isInAppliedState(e)!==p.a.isInAppliedState(t)),o.g.map(()=>o.m.both("fadeOut","fadeIn"))))},"+dDf":function(e,t,n){"use strict";n.d(t,"a",(function(){return rs}));var a,r=n("VAoy"),o=n("NfPf"),s=n("ERkP"),l=n("IL1e"),c=n("h6df"),u=n("vOOZ"),d=n("zR/0"),p=n("1w6p"),m=n("+w1e"),h=n("07Tf");(a||(a={})).Context=s.createContext(h.a.invariantContent("AlertRefState"));function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var b=n("e12y");function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var S=function(e){var t=e.children,n=e.className,a=v(e,["children","className"]);return s.createElement("div",y({"data-role":"column-layout",className:b.a.joinClasses([C.holder,n])},a),t)},C=b.a.stylesheet({holder:[{display:"flex",flexDirection:"column"}]}),w=n("hzDq");function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function E(e){return function(t){return s.createElement(s.Fragment,null,s.createElement(e,k({},t,{"aria-describedby":Boolean(t.meta.description)?"".concat(t.id,"-description"):void 0})),Boolean(t.meta.description)&&s.createElement(w.a,{id:"".concat(t.id,"-description")},t.meta.description))}}var O=n("PBHX");function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var x=new O.c(100);function I(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var j=E((function(e){var t=e.child,n=e.footer,a=e.id,r=e.meta,i=I(e,["child","footer","id","meta"]);return s.createElement(S,{id:"".concat(a,"-container"),role:"region","aria-label":r.label,"aria-describedby":i["aria-describedby"]},t,n?s.createElement("div",{className:T.wrapper},n):null)})),T=b.a.stylesheet({wrapper:[{display:"flex",flexDirection:"column"}]}),M=n("f9Xq"),N=n("lrqh"),P=n("PrA7"),L=n("91hE");function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){R(e,t,n[t])}))}return e}var F=function(e){return"selectAlternative"===e.type?N.g.some(e.alternativeIndex):N.g.none};function D(e){return function(t){return Object(c.m)(t,l.k(Object(c.h)(F,N.g.exists((function(t){return t===e})))),N.g.isSome)}}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){H(e,t,n[t])}))}return e}var U=n("6fbX"),W=n("iVSA"),q=n("bO3R"),z=n("3kT7");function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){$(e,t,n[t])}))}return e}var Y,Z={lineHeight:"calc(2px * var(--rem) - 2px)",padding:0},X={flexShrink:0,minHeight:b.a.rem(2),justifyContent:"initial",$nest:{"& span":Z," & > div":{width:b.a.percent(100)}}},Q=[{$nest:{"&[data-textpos]":{padding:0}}},Object(z.b)({default:{backgroundColor:W.f.Base.Surface.Primary.Default,border:"1px solid ".concat(W.b.CoreNeutral20),whiteSpace:"normal",lineHeight:"calc(2px * var(--rem) - 2px)",fontWeight:700},hovered:{},disabled:{},clicked:{},toggled:{backgroundColor:W.b.CoreNeutral1,borderColor:W.f.Interface.InteractiveBranded.Primary.Default},hidden:{}})],J={fill:W.b.CoreNeutral0,stroke:W.b.CoreNeutral0},ee=Object(z.b)({default:{display:"inline-flex",color:W.b.CoreNeutral40,border:"1px solid ".concat(W.b.CoreNeutral20),lineHeight:"calc(1.75px * var(--rem) - 1px)",minHeight:"calc(1.75px * var(--rem) - 1px)"},hovered:{},clicked:{},disabled:{},toggled:{},hidden:{}}),te=K({},Object(z.b)({default:{color:W.b.CoreBlue40,minHeight:"auto"},hovered:{opacity:.75},clicked:{},disabled:{},toggled:{},hidden:{}})),ne=K({},Object(z.b)({default:{},hovered:{},clicked:{},disabled:{},toggled:{},hidden:{}}),{$nest:{"& span":Z,"& i":J,"&:not([data-disabled='true'])[data-hovered='true'] i":J}}),ae=K({},Object(z.b)({default:{},hovered:{},clicked:{},disabled:{},toggled:{},hidden:{}})),re={borderRadius:b.a.rem(100)},ie=[X,Object(z.b)({default:{backgroundColor:W.b.CoreYellow20,color:W.b.CoreYellow80,lineHeight:b.a.rem(2),transitionDuration:".2s"},hovered:{backgroundColor:W.b.CoreYellow30,$nest:{"& i":{fill:W.b.CoreYellow80,stroke:W.b.CoreYellow80}}},disabled:{},clicked:{},toggled:{},hidden:{}}),{$nest:{"& i":{fill:W.b.CoreYellow80,stroke:W.b.CoreYellow80}}}],oe=($(Y={},M.a.HorizontalAlign.Left,b.a.style({textAlign:"left"})),$(Y,M.a.HorizontalAlign.Center,b.a.style({textAlign:"center"})),$(Y,M.a.HorizontalAlign.Right,b.a.style({textAlign:"end"})),Y);function se(e){return null!=e?oe[e]:oe[M.a.HorizontalAlign.Left]}var le,ce=K({},Object(z.b)({default:{backgroundColor:W.b.CoreBlue30,color:W.b.CoreNeutral90,lineHeight:b.a.rem(2),transitionDuration:".2s",fontWeight:600},hovered:{backgroundColor:W.b.CoreBlue40,$nest:{"& i":{fill:W.b.CoreNeutral90,stroke:W.b.CoreNeutral90}}},disabled:{},clicked:{},toggled:{},hidden:{}})),ue=K({},Object(z.b)({default:{backgroundColor:"transparent",color:W.b.CoreNeutral30,lineHeight:b.a.rem(2),transitionDuration:".2s"},hovered:{backgroundColor:W.b.CoreNeutral60,$nest:{"& i":{fill:W.b.CoreNeutral30,stroke:W.b.CoreNeutral30}}},disabled:{},clicked:{},toggled:{},hidden:{}})),de=K({},Object(z.b)({default:{backgroundColor:W.b.CoreGreen60},hovered:{backgroundColor:W.b.CoreGreen40},disabled:{},clicked:{},toggled:{},hidden:{}})),pe=b.a.stylesheet({textMiddleAlign:[{$nest:{"& span":{verticalAlign:"initial"}}}],main:[X],primary:[ne],secondary:[ae],toggle:Q,round:[re],yellow:ie,outlined:[ee,{$nest:{"& span":{lineHeight:"calc(1.75px * var(--rem) - 1px)",padding:0}}}],link:[te],darkPrimary:[ce],darkSecondary:[ue],ggoPrimary:[de]});function me(e){return K({name:e.name,onClick:e.onClick,"aria-label":e.meta.label,"aria-describedby":e["aria-describedby"],title:void 0!==e.tooltip&&e.state!==M.a.ButtonState.Disabled?he(e.tooltip):void 0},function(e){switch(e){case M.a.ButtonState.Enabled:return{disabled:!1};case M.a.ButtonState.Disabled:return{disabled:!0};case M.a.ButtonState.Selected:return{disabled:!1,active:!0};case M.a.ButtonState.Deselected:return{disabled:!1,active:!1};case M.a.ButtonState.Hidden:return{hidden:!0};default:return Object(U.c)(e)}}(e.state))}function he(e){return s.createElement(s.Fragment,null,Object(c.m)(e.split("\n"),(function(e){var t=e.length;return 0===t?e:N.a.cons(e[0],e.slice(1,t).map((function(e,t){return s.createElement(s.Fragment,{key:t},s.createElement("br",null),e)})))})))}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ye(e){return function(e){if(Array.isArray(e))return e}(e)||be(e)||Se(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||be(e)||Se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){if(e){if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}!function(e){e[e.HeadingLevel4LetterSpacing=0]="HeadingLevel4LetterSpacing",e[e.HeadingLevel3LetterSpacing=0]="HeadingLevel3LetterSpacing",e[e.HeadingLevel1LetterSpacing=-.0025]="HeadingLevel1LetterSpacing",e[e.BodyLetterSpacing=0]="BodyLetterSpacing",e[e.MediumLetterSpacing=0]="MediumLetterSpacing",e[e.SmallLetterSpacing=0]="SmallLetterSpacing",e[e.HeadingLevel4Size=1]="HeadingLevel4Size",e[e.HeadingLevel3Size=1.25]="HeadingLevel3Size",e[e.HeadingLevel1Size=1.75]="HeadingLevel1Size",e[e.BodySize=.875]="BodySize",e[e.MediumLetterSize=1]="MediumLetterSize",e[e.SmallSize=.75]="SmallSize"}(le||(le={}));var Ce,we,ke=b.a.style({padding:"".concat(b.a.rem(.15625)," 0")}),Ee=function(e){var t=e.size,n=e.format,a=e.textColor,r=e.backgroundColor,i=e.outlineColor,o=e.text,l=e.meta,c=e.removeImplicitPadding,u=void 0!==c&&c,d=function(e,t){var n="".concat(e,"-").concat(t),a=He.get(n);if(void 0!==a)return a;var r=b.a.style({color:W.b[e],backgroundColor:Boolean(t)?W.b[t]:t});return He.put(n,r),r}(a,r),p=ye(n),m=p[0],h=p.slice(1),g=void 0!==m?De[m]:"span",f=h.map((function(e){return e===M.a.TextFormat.StrikeoutDiagonal?function(e){var t="sd-".concat(e),n=He.get(t);if(void 0!==n)return n;var a=b.a.style(function(e){return{backgroundImage:"linear-gradient(to top left,\n    rgba(0,0,0,0) 0%,\n    rgba(0,0,0,0) calc(50% - 0.5px),\n    ".concat(W.b[e]," 50%,\n    rgba(0,0,0,0) calc(50% + 0.5px),\n    rgba(0,0,0,0) 100%)")}}(e));return He.put(t,a),a}(null!=i?i:a):Fe[e]}));return void 0!==i&&f.push(function(e){var t="ol-".concat(e),n=He.get(t);if(void 0!==n)return n;var a=b.a.style({borderColor:W.b[e]});return He.put(t,a),a}(i)),u||f.push(ke),s.createElement(g,{className:b.a.joinClasses([d,Be[t]].concat(ve(f))),"aria-label":l.label,children:o})},Oe=b.a.rem(1.5),Ae=b.a.rem(1.5),_e=b.a.rem(2),xe=b.a.rem(1.5),Ie=b.a.rem(21/16),je=b.a.rem(.875),Te={letterSpacing:b.a.rem(le.HeadingLevel4LetterSpacing),fontSize:b.a.rem(le.HeadingLevel4Size),lineHeight:Oe},Me={letterSpacing:b.a.rem(le.HeadingLevel3LetterSpacing),fontSize:b.a.rem(le.HeadingLevel3Size),lineHeight:Ae},Ne={letterSpacing:"".concat(le.HeadingLevel1LetterSpacing,"em"),fontSize:b.a.rem(le.HeadingLevel1Size),lineHeight:_e},Pe={letterSpacing:b.a.rem(le.MediumLetterSpacing),fontSize:b.a.rem(le.MediumLetterSize),lineHeight:xe},Le={letterSpacing:b.a.rem(le.BodyLetterSpacing),fontSize:b.a.rem(le.BodySize),lineHeight:Ie},Re={letterSpacing:b.a.rem(le.SmallLetterSpacing),fontSize:b.a.rem(le.SmallSize),lineHeight:je},Be=b.a.stylesheet((fe(Ce={},M.a.TextSize.HeadingLevel4,[Te]),fe(Ce,M.a.TextSize.HeadingLevel3,[Me]),fe(Ce,M.a.TextSize.HeadingLevel1,[Ne]),fe(Ce,M.a.TextSize.Medium,[Pe]),fe(Ce,M.a.TextSize.Regular,[Le]),fe(Ce,M.a.TextSize.Small,[Re]),Ce)),Fe=b.a.stylesheet((fe(we={},M.a.TextFormat.Bold,[{fontWeight:"bolder"}]),fe(we,M.a.TextFormat.Italic,[{fontStyle:"italic"}]),fe(we,M.a.TextFormat.StrikeoutHorizontal,[{textDecoration:"line-through"}]),fe(we,M.a.TextFormat.StrikeoutDiagonal,[]),fe(we,M.a.TextFormat.Outline,[{padding:"".concat(b.a.rem(1/16)," ").concat(b.a.rem(3.5/16)," ").concat(b.a.rem(1/16)," ").concat(b.a.rem(3.5/16)),border:"1px solid",borderRadius:"2px"}]),we)),De={strikeoutHorizontal:"s",strikeoutDiagonal:"span",outline:"span",bold:"b",italic:"i"};var He=new O.c(100);function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue=function(e){return s.createElement("div",{"data-role":"box",className:We(e)},e.children)};function We(e){var t=e.padding,n=e.borderRadius,a=e.backgroundColor,r=e.minWidth,i=[ze.base];return void 0!==t&&i.push(function(e){var t="p-".concat(null==e?void 0:e.top,"-").concat(null==e?void 0:e.bottom,"-").concat(null==e?void 0:e.left,"-").concat(null==e?void 0:e.right),n=$e.get(t);if(void 0!==n)return n;var a={$debugName:"padding"};void 0!==e&&(a.paddingRight=b.a.rem(Number(e.right)),a.paddingBottom=b.a.rem(Number(e.bottom)),a.paddingTop=b.a.rem(Number(e.top)),a.paddingLeft=b.a.rem(Number(e.left)));var r=b.a.style(a);return $e.put(t,r),r}(t)),void 0!==n&&i.push(function(e){var t=e.topLeft,n=e.topRight,a=e.bottomRight,r=e.bottomLeft,i="bdr-".concat(t,"-").concat(n,"-").concat(a,"-").concat(r),o=$e.get(i);if(void 0!==o)return o;var s={$debugName:"borderRadius"};void 0!==e&&(s.borderTopLeftRadius=b.a.rem(Number(Ge[t])),s.borderTopRightRadius=b.a.rem(Number(Ge[n])),s.borderBottomRightRadius=b.a.rem(Number(Ge[a])),s.borderBottomLeftRadius=b.a.rem(Number(Ge[r])));var l=b.a.style(s);return $e.put(i,l),l}(n)),void 0!==a&&i.push(function(e){var t="bgc-".concat(e),n=$e.get(t);if(void 0!==n)return n;var a=b.a.style({backgroundColor:W.b[e]});return $e.put(t,a),a}(a)),void 0!==r&&i.push(function(e){var t="minW-".concat(e),n=$e.get(t);if(void 0!==n)return n;var a={$debugName:"minwidth"};void 0!==e&&(a.minWidth=b.a.rem(Number(e)));var r=b.a.style(a);return $e.put(t,r),r}(r)),i.length>0?b.a.joinClasses(i):void 0}var qe,ze=b.a.stylesheet({base:[{display:"block"}]}),$e=new O.c(100);var Ge=(Ve(qe={},M.a.Radius.Radius0,0),Ve(qe,M.a.Radius.RadiusHalf,.125),Ve(qe,M.a.Radius.Radius1,.25),Ve(qe,M.a.Radius.Radius2,.5),Ve(qe,M.a.Radius.Radius3,.75),qe);function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye=function(e){var t=s.useRef(null);return s.useEffect((function(){var n,a=e.maxLines&&(null===(n=t.current)||void 0===n?void 0:n.querySelector("*:last-child"));if(a){var r=setTimeout((function(){var e,n,r=window.getComputedStyle(a,null),i=r.getPropertyValue("color"),o=r.getPropertyValue("font-size"),s=r.getPropertyValue("line-height"),l=r.getPropertyValue("letter-spacing");Object.assign(null!==(n=null===(e=t.current)||void 0===e?void 0:e.style)&&void 0!==n?n:{},{color:i,fontSize:o,lineHeight:s,letterSpacing:l})}),0);return function(){return clearTimeout(r)}}return function(){}}),[e.maxLines]),s.createElement("div",{ref:t,"data-role":"block-layout",className:Ze(e)},e.children)};function Ze(e){var t=e.spacing,n=e.innerSpacing,a=e.horizontalAlign,r=e.verticalAlign,i=e.fraction,o=e.maxLines,s=[Xe.base];return void 0!==o&&s.push(function(e){var t="m-".concat(e),n=et.get(t);if(void 0!==n)return n;var a=b.a.style({display:"-webkit-inline-box",overflow:"hidden",WebkitBoxOrient:"vertical","-webkit-line-clamp":e});return et.put(t,a),a}(o)),void 0===t&&void 0===n||s.push(function(e){var t=e.spacing,n=e.innerSpacing,a="".concat(null==t?void 0:t.top,"-").concat(null==t?void 0:t.bottom,"-").concat(null==t?void 0:t.left,"-").concat(null==t?void 0:t.right,"-").concat(null==n?void 0:n.vertical,"-").concat(null==n?void 0:n.horizontal),r=et.get(a);if(void 0!==r)return r;var i,o,s={$debugName:"spacing"};void 0!==t&&(s.marginRight=b.a.rem(Number(t.right)),s.marginBottom=b.a.rem(Number(t.bottom)),s.marginTop=b.a.rem(Number(t.top)),s.marginLeft=b.a.rem(Number(t.left))),void 0!==n&&(s.marginRight=b.a.rem(Number(null!==(i=null==t?void 0:t.right)&&void 0!==i?i:0)-Number(n.horizontal)),s.marginBottom=b.a.rem(Number(null!==(o=null==t?void 0:t.bottom)&&void 0!==o?o:0)-Number(n.vertical)),s.$nest={"& > *":{marginRight:b.a.rem(Number(n.horizontal)),marginBottom:b.a.rem(Number(n.vertical))}});var l=b.a.style(s);return et.put(a,l),l}({spacing:t,innerSpacing:n})),void 0!==a&&s.push(tt[a]),void 0!==r&&s.push(nt[r]),void 0!==i&&s.push(function(e){var t="f-".concat(e),n=et.get(t);if(void 0!==n)return n;var a=b.a.style({flex:e,overflow:"hidden"});return et.put(t,a),a}(i)),s.length>0?b.a.joinClasses(s):void 0}var Xe=b.a.stylesheet({base:[{overflowWrap:"anywhere",display:"inline-block"}]});var Qe,Je,et=new O.c(100),tt=b.a.stylesheet((Ke(Qe={},M.a.HorizontalAlign.Left,[{textAlign:"left"}]),Ke(Qe,M.a.HorizontalAlign.Center,[{textAlign:"center"}]),Ke(Qe,M.a.HorizontalAlign.Right,[{textAlign:"right"}]),Qe)),nt=b.a.stylesheet((Ke(Je={},M.a.VerticalAlign.Top,[{$nest:{"& > *":{verticalAlign:"top"}}}]),Ke(Je,M.a.VerticalAlign.Middle,[{$nest:{"& > *":{verticalAlign:"middle"}}}]),Ke(Je,M.a.VerticalAlign.Bottom,[{$nest:{"& > *":{verticalAlign:"bottom"}}}]),Je)),at=n("9NHN"),rt=n("3rlE");const it=({title:e,titleId:t,desc:n,descId:a,...r})=>s.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...r},n?s.createElement("desc",{id:a},n):null,e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H17v2.5a.5.5 0 0 1-1 0V7h-2.5a.5.5 0 0 1 0-1H16V3.5a.5.5 0 0 1 .5-.5ZM6 8.5A2.5 2.5 0 0 1 8.5 6h2a.5.5 0 0 1 0 1h-2A1.5 1.5 0 0 0 7 8.5v7a2.49 2.49 0 0 1 1.5-.5H16v-2.5a.5.5 0 0 1 1 0v3a.5.5 0 0 1-.5.5h-8a1.5 1.5 0 0 0 0 3h8a.5.5 0 0 1 0 1h-8A2.5 2.5 0 0 1 6 17.5v-9Zm2 9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5Z",fill:"#646B81"})),ot=({title:e,titleId:t,desc:n,descId:a,...r})=>s.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...r},n?s.createElement("desc",{id:a},n):null,e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.139 7.684a.5.5 0 0 1 .387-.184h6.948a.5.5 0 0 1 .387.184l2.527 3.104a.5.5 0 0 1-.038.672l-6 5.897a.5.5 0 0 1-.7 0l-6-5.897a.5.5 0 0 1-.038-.672L8.14 7.684Zm.625.816-1.712 2.103h2.115l1.07-2.103H8.764Zm2.595 0-1.07 2.103h3.178L12.611 8.5H11.36Zm2.332 0 .856 2.103h2.401L15.236 8.5h-1.545Zm3.087 3.103h-2.22l-1.296 3.456 3.516-3.456Zm-4.809 4.055 1.52-4.055h-3.257l1.737 4.055Zm-2.825-4.055 1.398 3.263-3.32-3.263h1.922Z",fill:"#646B81"})),st=({title:e,titleId:t,desc:n,descId:a,...r})=>s.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...r},n?s.createElement("desc",{id:a},n):null,e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 5a1 1 0 0 0-1 1v1h4V6a1 1 0 0 0-1-1h-2Zm4 2V6a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v1H5a.5.5 0 0 0 0 1h1.54l.809 9.708A2.5 2.5 0 0 0 9.84 20h4.32a2.5 2.5 0 0 0 2.491-2.292L17.461 8H19a.5.5 0 0 0 0-1h-4Zm1.457 1H7.543l.802 9.625A1.5 1.5 0 0 0 9.84 19h4.32a1.5 1.5 0 0 0 1.495-1.375L16.457 8ZM10.5 10a.5.5 0 0 1 .5.5V16a.5.5 0 0 1-1 0v-5.5a.5.5 0 0 1 .5-.5Zm3 0a.5.5 0 0 1 .5.5V16a.5.5 0 0 1-1 0v-5.5a.5.5 0 0 1 .5-.5Z",fill:"#646B81"})),lt=({title:e,titleId:t,desc:n,descId:a,...r})=>s.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...r},n?s.createElement("desc",{id:a},n):null,e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9ZM6.5 12a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0ZM12 9a.5.5 0 0 1 .5.5v2h2a.5.5 0 0 1 0 1h-2v2a.5.5 0 0 1-1 0v-2h-2a.5.5 0 0 1 0-1h2v-2A.5.5 0 0 1 12 9Z",fill:"#646B81"}));var ct=n("BQwU");const ut=({title:e,titleId:t,desc:n,descId:a,...r})=>s.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...r},n?s.createElement("desc",{id:a},n):null,e?s.createElement("title",{id:t},e):null,s.createElement("path",{d:"M20.5 19a.5.5 0 0 1 0 1h-17a.5.5 0 1 1 0-1h17ZM16.894 3.853l1.252 1.253a1.5 1.5 0 0 1 0 2.121L8.374 17H5v-3.374l9.773-9.773a1.5 1.5 0 0 1 2.121 0Zm-3.228 2.52L6 14.04V16h1.96l7.666-7.667-1.96-1.96Zm1.814-1.812-1.107 1.105 1.96 1.96 1.106-1.106a.5.5 0 0 0 0-.707l-1.252-1.252a.5.5 0 0 0-.707 0Z",fill:"#646B81"})),dt=({title:e,titleId:t,desc:n,descId:a,...r})=>s.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...r},n?s.createElement("desc",{id:a},n):null,e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12a9.96 9.96 0 0 0 2.4 6.5L8 17a3.25 3.25 0 0 0 1.97-2.553A3.998 3.998 0 0 1 8 11V9a4 4 0 1 1 8 0v2c0 1.468-.79 2.751-1.97 3.447A3.25 3.25 0 0 0 16 17l3.6 1.5A9.96 9.96 0 0 0 22 12c0-5.523-4.477-10-10-10Zm6.86 17.275-3.245-1.352a4.25 4.25 0 0 1-2.53-3.072 4.006 4.006 0 0 1-2.17 0 4.25 4.25 0 0 1-2.53 3.072l-3.246 1.352A9.965 9.965 0 0 0 12 22a9.965 9.965 0 0 0 6.86-2.725ZM1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12Zm11-6a3 3 0 0 0-3 3v2a3 3 0 1 0 6 0V9a3 3 0 0 0-3-3Z",fill:"#646B81"}));function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var mt={close:function(e){return s.createElement(rt.d.Close,{className:bt(e)})},"arrow-right":function(e){return s.createElement(rt.d.Arrow,{direction:rt.a.right,className:bt(e)})},"arrow-left":function(e){return s.createElement(rt.d.Arrow,{direction:rt.a.left,className:bt(e)})},gear:function(e){return s.createElement(rt.d.Gear,{enforceStroke:!0,width:13,className:bt(e)})},dictionary:function(e){return s.createElement(it,{className:bt(e)})},clarity:function(e){return s.createElement(rt.d.ClarityOutcome,{className:bt(e)})},correctness:function(e){return s.createElement(rt.d.Correctness,{className:bt(e)})},engagement:function(e){return s.createElement(rt.d.EngagementOutcome,{className:bt(e)})},delivery:function(e){return s.createElement(rt.d.DeliveryOutcome,{className:bt(e)})},diamond:function(e){return s.createElement(rt.d.Paid,{width:20,className:bt(e)})},diamondSmall:function(e){return s.createElement(ot,pt({},Object(at.c)(bt(e),ft.premium)))},feedback:function(e){return s.createElement(rt.d.AssistantFeedback,{className:bt(e)})},sensitivity:function(e){return s.createElement(rt.d.Sensitivity,{className:bt(e)})},"external-link":function(e){return s.createElement(rt.d.ExternalLink,{className:bt(e)})},sparkles:function(e){return s.createElement(rt.d.Sparkles,{className:bt(e)})},ignore:function(e){return s.createElement(st,{className:bt(e)})},info:function(e){return s.createElement(rt.d.Info,{className:bt(e)})},report:function(e){return s.createElement(rt.d.Report,{width:12,className:bt(e)})},proofreader:function(e){return s.createElement(rt.d.Proofread,{width:16,className:bt(e)})},mute:function(e){return s.createElement(rt.d.Mute,{width:16,className:bt(e)})},more:function(e){return s.createElement(rt.e,pt({},Object(at.c)(bt(e)),{width:14,viewBox:"0 0 14 4"}),s.createElement("path",{d:"M6.99951 0.5C7.82794 0.5 8.49951 1.17157 8.49951 2C8.49951 2.82843 7.82794 3.5 6.99951 3.5C6.17108 3.5 5.49951 2.82843 5.49951 2C5.49951 1.17157 6.17108 0.5 6.99951 0.5Z",fill:"#6D758D"}),s.createElement("path",{d:"M11.9995 0.5C12.8279 0.5 13.4995 1.17157 13.4995 2C13.4995 2.82843 12.8279 3.5 11.9995 3.5C11.1711 3.5 10.4995 2.82843 10.4995 2C10.4995 1.17157 11.1711 0.5 11.9995 0.5Z",fill:"#6D758D"}),s.createElement("path",{d:"M1.99951 0.5C2.82794 0.5 3.49951 1.17157 3.49951 2C3.49951 2.82843 2.82794 3.5 1.99951 3.5C1.17108 3.5 0.499512 2.82843 0.499512 2C0.499512 1.17157 1.17108 0.5 1.99951 0.5Z",fill:"#6D758D"}))},controls:function(e){return s.createElement(rt.e,{className:bt(e),width:24,height:24,viewBox:"0 0 24 24",fill:"none"},s.createElement("path",{d:"M12 5.5H21M3 5.5H7M7 5.5C7 6.32843 7.67157 7 8.5 7C9.32843 7 10 6.32843 10 5.5C10 4.67157 9.32843 4 8.5 4C7.67157 4 7 4.67157 7 5.5ZM3 11.5H12M17 11.5H21M17 11.5C17 12.3284 16.3284 13 15.5 13C14.6716 13 14 12.3284 14 11.5C14 10.6716 14.6716 10 15.5 10C16.3284 10 17 10.6716 17 11.5ZM14 17.5H21M3 17.5H9M9 17.5C9 18.3284 9.67157 19 10.5 19C11.3284 19 12 18.3284 12 17.5C12 16.6716 11.3284 16 10.5 16C9.67157 16 9 16.6716 9 17.5Z",stroke:"#6D758D","stroke-linecap":"round"}))},performance:function(e){return s.createElement(rt.d.Performance,{className:bt(e)})},"bullet-list":function(e){return s.createElement(rt.d.Formatting.BulletList,{className:bt(e)})},accept:function(e){return s.createElement(rt.d.Yes,{className:bt(e)})},copy:function(e){return s.createElement(rt.d.Copy,{className:bt(e)})},newSmall:function(e){return s.createElement(lt,{className:bt(e)})},gButtonSmall:function(e){return s.createElement(ct.a,{className:bt(e)})},edit:function(e){return s.createElement(ut,{className:bt(e)})},user:function(e){return s.createElement(dt,{className:bt(e)})}},ht={width:b.a.rem(1.5),height:b.a.rem(1.5),minWidth:b.a.rem(1.5),minHeight:b.a.rem(1.5),borderRadius:b.a.rem(1.5)},gt={$nest:{"& path":{fill:W.b.CoreYellow80}}},ft=b.a.stylesheet({main:[ht],premium:[gt]});function bt(e){return void 0===e.backgroundColor?ft.main:b.a.joinClasses([ft.main,yt(e.backgroundColor)])}function yt(e){var t=vt.get(e);if(void 0!==t)return t;var n=b.a.style({backgroundColor:W.b[e]});return vt.put(e,n),n}var vt=new O.c(100),St={width:b.a.rem(.85),height:b.a.rem(.85)},Ct={width:b.a.rem(1.5),height:b.a.rem(1.5),borderRadius:b.a.rem(1.5),display:"inline-flex",justifyContent:"center",alignItems:"center"},wt=b.a.stylesheet({main:[{objectFit:"contain",alignSelf:"center",overflow:"hidden"}],defaultSize:[St],wrapper:[Ct]});function kt(e){return void 0===e?wt.wrapper:b.a.joinClasses([wt.wrapper,yt(e)])}function Et(e){return void 0===e?b.a.joinClasses([wt.main,wt.defaultSize]):b.a.joinClasses([wt.main,Ot(e)])}function Ot(e){var t=At.get(e);if(void 0!==t)return t;var n=b.a.style({width:b.a.rem(Number(e)),height:b.a.rem(Number(e))});return At.put(e,n),n}var At=new O.c(100);function _t(e,t,n){var a="wrapper-".concat(e,"-").concat(t,"-backgroundColor"),r=It.get(a);if(void 0!==r)return r;var i=b.a.style({width:b.a.rem(Number(t)),height:b.a.rem(Number(e)),display:"inline-flex",justifyContent:"center",alignItems:"center",margin:0});return void 0!==n&&(i=b.a.joinClasses([i,yt(n)])),It.put(a,i),i}function xt(e,t,n){var a=n?"content-".concat(e,"-").concat(t,"-").concat(n):"content-".concat(e,"-").concat(t),r=It.get(a);if(void 0!==r)return r;var i=b.a.style({width:b.a.rem(Number(t)),height:b.a.rem(Number(e)),borderRadius:n?b.a.rem(Number(n)):void 0});return It.put(a,i),i}var It=new O.c(100);function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){jt(e,t,n[t])}))}return e}var Mt={display:"flex",flexWrap:"nowrap",alignItems:"inherit",maxWidth:"100%"},Nt=Tt({},Mt,{flexGrow:1}),Pt=Tt({},Mt,{marginLeft:"auto",flexShrink:0}),Lt=b.a.stylesheet({row:[{display:"flex",flexDirection:"row",alignItems:"center"}],rowLeft:[Nt],rowRight:[Pt]});function Rt(e){return void 0===e?Lt.row:b.a.joinClasses([Lt.row,Dt(e)])}function Bt(e){return void 0===e?Lt.rowLeft:b.a.joinClasses([Lt.rowLeft,Ut[e]])}function Ft(e){return void 0===e?Lt.rowRight:b.a.joinClasses([Lt.rowRight,Ut[e]])}function Dt(e){var t=e.top,n=e.bottom,a=e.left,r=e.right,i="".concat(t,"-").concat(n,"-").concat(a,"-").concat(r),o=Vt.get(i);if(void 0!==o)return o;var s=b.a.style({marginTop:b.a.rem(Number(t)),marginLeft:b.a.rem(Number(a)),marginRight:b.a.rem(Number(r)),marginBottom:b.a.rem(Number(n))});return Vt.put(i,s),s}var Ht,Vt=new O.c(100),Ut=b.a.stylesheet((jt(Ht={},M.a.VerticalAlign.Top,[{alignItems:"start"}]),jt(Ht,M.a.VerticalAlign.Middle,[{alignItems:"center"}]),jt(Ht,M.a.VerticalAlign.Bottom,[{alignItems:"end"}]),Ht)),Wt=n("M0yq"),qt=E((function(e){return s.createElement(Wt.a.List,{"data-role":"list",selectionMode:"single",selectionBehavior:"toggle","aria-label":e.meta.label,"aria-describedby":e["aria-describedby"],assistiveScroll:!0,theme:{list:$t.list,item:{base:$t.listItem,focused:$t.listItemFocused}},onSelectionChange:function(t){return("all"===t?e.items:e.items.filter((function(e){return t.has(e.id)}))).forEach(e.onSelect)}},e.items.map((function(t,n){return s.createElement(Wt.a.Item,{key:t.id,textValue:t.meta.label},e.renderItem(t,n))})))})),zt={backgroundColor:W.b.CoreNeutral10,$nest:{'& [data-role="list-item-secondary-buttons"]':{opacity:1}}},$t=b.a.stylesheet({list:[{margin:0,display:"flex",flexDirection:"column"}],listItem:[{display:"flex",minHeight:b.a.rem(2),cursor:"pointer",outline:"none",border:"none",backgroundColor:W.b.CoreNeutral0,borderRadius:b.a.rem(W.e.Radius1),padding:"0 0 0 ".concat(b.a.rem(W.g.Space2)),boxSizing:"border-box",$nest:{"&:hover":zt}}],listItemFocused:[zt]}),Gt=n("26kZ");function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yt="listItemPrimaryButton",Zt="listItemLabel",Xt="listItemSecondaryButtonsContainer",Qt="listItemSecondaryButton",Jt={width:"calc(".concat(b.a.rem(W.g.Space8)," - ").concat(b.a.rem(W.g.SpaceHalf),")"),height:"calc(".concat(b.a.rem(W.g.Space8)," - ").concat(b.a.rem(W.g.Space1),")"),margin:"".concat(b.a.rem(W.g.SpaceHalf)),cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",border:"none",backgroundColor:W.b.CoreNeutral10,borderRadius:b.a.rem(W.e.Radius1),$nest:{"&:active, &:hover, &:focus-visible":{backgroundColor:W.b.CoreNeutral20,opacity:1}}},en={listItemPrimaryButton:b.a.joinClasses([Yt,b.a.style({cursor:"pointer",outline:"none",border:"none",background:"transparent",padding:0})]),listItemLabel:b.a.joinClasses([Zt,b.a.style({display:"inline-flex",textAlign:"left"})]),listItemSecondaryButtonsContainer:b.a.joinClasses([Xt,b.a.style({display:"flex",alignItems:"center",opacity:0,$nest:{"&:focus-within":{opacity:1}}})]),listItemSecondaryButton:b.a.joinClasses([Qt,b.a.style(Jt)])},tn=n("Mi01");function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var an={flexShrink:0,alignItems:"center",justifyContent:"center",height:b.a.rem(2),width:b.a.rem(2)},rn={$nest:{"& i":{height:b.a.rem(2),width:b.a.rem(2)}}},on=b.a.stylesheet({button:[an],item:[rn]}),sn=n("gy42"),ln=n("LNSM"),cn=n("Y4t5"),un=(n("HQ1c"),n("AKgc"),n("5C44"),n("mvgW")),dn=(n("DFfw"),n("hO7h")),pn=function(e){return e.length>0},mn=un.c;var hn=function(e){return[e]};dn.k,dn.j;var gn=function(e){return function(e){return function(t){for(var n=mn(e(0,bn(t))),a=1;a<t.length;a++)n.push.apply(n,e(a,t[a]));return n}}((function(t,n){return e(n)}))},fn=function(e){return function(t){for(var n=yn(t),a=[e(t)];pn(n);)a.push(e(n)),n=yn(n);return a}},bn=(c.k,c.k,dn.G,dn.J,dn.H,dn.I,dn.q,dn.o,dn.n,un.b,dn.q),yn=function(e){return e.slice(1)};dn.w,dn.A,dn.z,dn.s;dn.e,n("vuzl"),n("FzYa"),n("Osoa");var vn=pn;l.B,l.w,l.A;l.m;l.l;l.p,l.o;l.f;l.b,l.a;var Sn=hn,Cn=function(e){return function(t){return Object(c.m)(t,function(e){return function(t){for(var n=[],a=0;a<t.length;a++)n.push.apply(n,e(a,t[a]));return n}}((function(t,n){return e(n)})))}},wn=(c.k,function(e){return function(t){for(var n=[],a=0;a<t.length;a++){var r=e(a,t[a]);un.i(r)&&n.push(r.value)}return n}}),kn=function(e){return wn((function(t,n){return e(n)}))},En=(c.k,function(e){return function(t){return t.map((function(n,a){return e(t.slice(a))}))}});c.k,l.r,l.s,l.E,l.H,l.F,l.G,l.v,l.t,l.u,l.e,l.d,l.h,l.x,un.b;function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return On(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xn=function(e,t){var n={root:e,rootMargin:"0px",threshold:[0,1]};return sn.a.getIntersectionObservable(t,n).pipe(d.a.filter(vn),d.a.map((function(e){return 1!==e[0].intersectionRatio})),d.a.startWith(t.offsetHeight>e.offsetHeight))},In=function(e,t){return ln.a.combine(e,t,N.g.map2(xn)).pipe(d.b.compact,d.a.switchMap(c.k),d.a.onErrorResumeNext(d.a.of(!0)))},jn=N.c.getStructEq({topOverflow:N.c.eqBoolean,bottomOverflow:N.c.eqBoolean});var Tn=new O.c(100);var Mn=b.a.stylesheet({"scroll-main":[{display:"flex",flexDirection:"column",borderTop:"1px solid transparent",borderBottom:"1px solid transparent",transitionProperty:"border-top-color, border-bottom-color",transitionDuration:".2s",pointerEvents:"auto"}],overflowBottom:[{borderBottomColor:b.a.important(W.b.CoreNeutral20)}],overflowTop:[{borderTopColor:b.a.important(W.b.CoreNeutral20)}]}),Nn=n("xEVj");function Pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(){return(Rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Ln(e,t,n[t])}))}return e}function Fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Dn="sliderOuterContainer",Hn="sliderLabel",Vn="sliderContainer",Un="slider",Wn="sliderDragging",qn="sliderNotDragging",zn="sliderSliderDivisionPoint",$n="sliderDivisionPointHoverArea",Gn="sliderInner",Kn="sliderInnerNotDragging",Yn="sliderInnerDragging",Zn="sliderInnerJiggle",Xn="sliderKnob",Qn="sliderKnobJiggle",Jn="sliderKnobNotDragging",ea="sliderKnobDragging",ta="sliderKnobEmoji",na={fontWeight:700,fontSize:b.a.rem(.875),lineHeight:b.a.rem(1),width:b.a.rem(8)},aa={height:b.a.rem(2.625),display:"flex",flexDirection:"column",justifyContent:"center"},ra={position:"relative",width:b.a.percent(100),backgroundColor:W.b.CoreNeutral40,borderRadius:b.a.rem(.375),transition:"height 0.15s ease-in-out",$nest:Ln({"&:hover":{height:b.a.rem(.5)}},"&:hover .".concat(zn),{visibility:"visible"})},ia={height:b.a.rem(.125)},oa={height:b.a.rem(.5),$nest:Ln({},"& .".concat(zn),{visibility:"visible"})},sa={position:"absolute",height:b.a.rem(.25),backgroundColor:W.b.CoreNeutral0,top:b.a.rem(.125),bottom:b.a.rem(.125),borderRadius:b.a.percent(100),visibility:"hidden"},la={background:W.b.CoreNeutral90,opacity:0,height:b.a.rem(1.5),position:"absolute",borderRadius:b.a.percent(100),cursor:"pointer",top:b.a.rem(-.5),zIndex:1,$nest:{"&:hover":{opacity:.1}}},ca={position:"relative",display:"flex",alignItems:"center",backgroundColor:W.b.CorePurple40,height:b.a.percent(100),borderRadius:b.a.rem(.375)},ua=b.a.keyframes({from:{width:"100%"},to:{width:"calc(100% - ".concat(b.a.rem(1.5),")")}}),da=b.a.keyframes({from:{width:"calc(100% - ".concat(b.a.rem(1.5),")")},to:{width:"100%"}}),pa={animation:"".concat(ua," 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 1s forwards,\n              ").concat(da," 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 2s forwards")},ma=b.a.keyframes({from:{transform:"none"},to:{transform:"translateX(".concat(b.a.rem(-.75),")")}}),ha=b.a.keyframes({from:{transform:"translateX(".concat(b.a.rem(-.75),")")},to:{transform:"none"}}),ga={animation:"".concat(ma," 0.8s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 1s forwards,\n              ").concat(ha," 0.2s cubic-bezier( 0.05, 0.46, 0.37, 0.92 ) 2s forwards")},fa={position:"absolute",right:b.a.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:W.b.CoreNeutral0,borderRadius:b.a.rem(1.875),cursor:"ew-resize",transitionProperty:"width, height",transitionDuration:"0.15s",transitionTimingFunction:"ease-in-out",zIndex:1,$nest:{"&:hover":{width:b.a.rem(2),height:b.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},ba={width:b.a.rem(1.75),height:b.a.rem(1.75),boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)"},ya={width:b.a.rem(2),height:b.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},va={width:b.a.rem(.9375),height:b.a.rem(.9375),pointerEvents:"none"},Sa={outerContainer:b.a.joinClasses([Dn,b.a.style({display:"flex",alignItems:"center"})]),label:b.a.joinClasses([Hn,b.a.style(na)]),container:b.a.joinClasses([Vn,b.a.style(aa)]),slider:b.a.joinClasses([Un,b.a.style(ra)]),sliderNotDragging:b.a.joinClasses([qn,b.a.style(ia)]),sliderDragging:b.a.joinClasses([Wn,b.a.style(oa)]),sliderDivisionPoint:b.a.joinClasses([zn,b.a.style(sa)]),sliderDivisionPointHoverArea:b.a.joinClasses([$n,b.a.style(la)]),sliderInner:b.a.joinClasses([Gn,b.a.style(ca)]),sliderInnerNotDragging:b.a.joinClasses([Kn,b.a.style({transition:"width 0.15s ease-in-out"})]),sliderInnerDragging:b.a.joinClasses([Yn,b.a.style({transition:"none"})]),sliderInnerJiggle:b.a.joinClasses([Zn,b.a.style(pa)]),knob:b.a.joinClasses([Xn,b.a.style(fa)]),knobJiggle:b.a.joinClasses([Qn,b.a.style(ga)]),knobNotDragging:b.a.joinClasses([Jn,b.a.style(ba)]),knobDragging:b.a.joinClasses([ea,b.a.style(ya)]),knobEmoji:b.a.joinClasses([ta,b.a.style(va)])};function Ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wa(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ka=b.a.stylesheet({default:[{overflow:"initial",userSelect:"initial",verticalAlign:"initial"}]}),Ea=n("BlMh"),Oa=n("I4nd"),Aa=n("UMB3");function _a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function xa(){return(xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ja=E((function(e){var t=s.useRef(null),n=Object(Oa.a)({"aria-label":e.meta.label,"aria-labelledby":null==e.meta.label?e.contentId:void 0,"aria-describedby":e["aria-describedby"],onPress:function(t){return e.onPress(t.target.getBoundingClientRect())},elementType:"div"},t).buttonProps;return s.createElement("div",xa({className:Ta.button},n))})),Ta=b.a.stylesheet({container:[{position:"relative",minHeight:b.a.rem(3.5),display:"grid"}],content:[{display:"flex",alignItems:"center",$nest:{"& > div:first-of-type":{flexGrow:1}}}],button:[{position:"absolute",left:0,top:0,width:"100%",height:"100%",background:"transparent",cursor:"pointer"}]});function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Na(){return(Na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ma(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var La=b.a.rem(.25),Ra=b.a.rem(.3125),Ba=function(e,t){var n=Pa(t,2),a=n[0],r=n[1];return Math.min(r,Math.max(a,e))},Fa=b.a.stylesheet({outerContainer:[{position:"relative",display:"flex",flexDirection:"column",justifyContent:"flex-end"}],outerContainerNormalHeight:[{height:"calc(".concat(La,")")}],outerContainerExtendedHeight:[{height:"calc(".concat(La," + ").concat(Ra,")")}],pinPoint:[{position:"absolute",top:0,width:0,height:0,borderLeft:"".concat(La," solid transparent"),borderRight:"".concat(La," solid transparent"),borderTop:"".concat(Ra," solid ").concat(W.b.CoreNeutral50)}],background:[{width:"100%",height:La,borderRadius:La,overflow:"hidden"}],fill:[{position:"relative",height:La}],loading:[{position:"absolute",width:"100%",height:La,backgroundImage:"linear-gradient(-45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent)",backgroundSize:"20px 20px"}]});function Da(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||Ua(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Va(e){return function(e){if(Array.isArray(e))return Da(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ua(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ua(e,t){if(e){if("string"==typeof e)return Da(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Da(e,t):void 0}}var Wa=function(e,t){return{$nest:{"@media (prefers-reduced-motion: no-preference)":{animation:"".concat(e," ").concat(b.a.seconds(.3)," ").concat(t)}}}},qa=b.a.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),za=b.a.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}});function $a(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}var Ga,Ka,Ya,Za,Xa,Qa,Ja,er=b.a.stylesheet({default:[{height:"1px",backgroundColor:W.b[M.a.Color.CoreNeutral20],border:"none",flex:1}]}),tr=n("SMwH"),nr=n("hoSD");function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ar(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Ka=Ga||(Ga={}),Ya=Ka.pointerWidth=Math.sqrt(200),Ka.slightMargin=17.5,Za={position:"absolute",zIndex:b.d.level4,width:220,backgroundColor:W.a.NeutralGray90,borderRadius:b.a.rem(b.d.radius1),$nest:{"& i path":{fill:W.b.CoreNeutral30,stroke:W.b.CoreNeutral30}}},Xa={position:"absolute",top:b.a.rem(.75),right:b.a.rem(.75),color:W.a.NeutralGray30,textDecoration:"none"},Qa={display:"block",position:"absolute",width:0,height:0,borderTop:"".concat(Ga.pointerWidth,"px solid transparent"),borderBottom:"".concat(Ga.pointerWidth,"px solid transparent"),borderLeft:"".concat(Ga.pointerWidth,"px solid transparent"),borderRight:"".concat(Ga.pointerWidth,"px solid transparent")},Ja=Ka.stylesheet=b.a.stylesheet({wrapper:[{position:"relative"}],popover:[Za],closeButton:[Xa],anchorPointer:[Qa]}),Ka.modifiers=b.a.stylesheet({preCheck:[{$nest:rr({},"&.".concat(Ja.anchorPointer),{visibility:"hidden",position:"fixed",top:-1e3,left:-1e3})}],top:[{$nest:rr({},"&.".concat(Ja.anchorPointer),{borderTopColor:W.a.NeutralGray90,top:-Ya,left:"calc(50% - ".concat(Ya,"px)")})}],bottom:[{$nest:rr({},"&.".concat(Ja.anchorPointer),{borderBottomColor:W.a.NeutralGray90,bottom:-Ya,left:"calc(50% - ".concat(Ya,"px)")})}],left:[{$nest:rr({},"&.".concat(Ja.anchorPointer),{borderLeftColor:W.a.NeutralGray90,left:-Ya,top:"calc(50% - ".concat(Ya,"px)")})}],right:[{$nest:rr({},"&.".concat(Ja.anchorPointer),{borderRightColor:W.a.NeutralGray90,right:-Ya,top:"calc(50% - ".concat(Ya,"px)")})}]});var or,sr,lr=function(e,t){return e.left>=t.left&&e.top>=t.top&&e.left+e.width<t.left+t.width&&e.top+e.height<t.top+t.height},cr=function(e,t,n,a){switch(e){case M.a.Position.Left:return N.g.some(n.left-t.width-Ga.pointerWidth/2);case M.a.Position.Right:return N.g.some(n.right+Ga.pointerWidth/2);case M.a.Position.Top:case M.a.Position.Bottom:var r=-t.width/2,i=-t.width+Ga.pointerWidth/2+Ga.slightMargin,o=-Ga.slightMargin;return Object(c.m)(ur(e,t,n,a),N.g.chain((function(e){return N.g.fromNullable([r,i,o].find((function(r){return lr({top:e,left:n.left+n.width/2+r,width:t.width,height:t.height},a)})))})));default:Object(U.c)(e)}},ur=function(e,t,n,a){switch(e){case M.a.Position.Top:return N.g.some(n.top-t.height-Ga.pointerWidth/2);case M.a.Position.Bottom:return N.g.some(n.bottom+Ga.pointerWidth/2);case M.a.Position.Left:case M.a.Position.Right:var r=-t.height/2,i=-t.height+Ga.pointerWidth+Ga.slightMargin,o=-Ga.slightMargin;return Object(c.m)(cr(e,t,n,a),N.g.chain((function(e){return N.g.fromNullable([r,i,o].find((function(r){return lr({top:n.top+n.height/2+r,left:e,width:t.width,height:t.height},a)})))})));default:Object(U.c)(e)}},dr=function(e,t,n,a){var r="".concat(Ga.pointerWidth/2,"px");switch(e){case M.a.Position.Top:return Object(c.m)(cr(e,t,n,a),N.g.map((function(e){return{left:e,bottom:r}})));case M.a.Position.Bottom:return Object(c.m)(cr(e,t,n,a),N.g.map((function(e){return{left:e,top:r}})));case M.a.Position.Left:return Object(c.m)(ur(e,t,n,a),N.g.map((function(e){return{top:e,right:r}})));case M.a.Position.Right:return Object(c.m)(ur(e,t,n,a),N.g.map((function(e){return{top:e,left:r}})));default:Object(U.c)(e)}},pr=function(e){var t=e.type;return s.createElement("div",null,t," not implemented")},mr={animation:function(e){var t=s.useRef(null),n=function(e,t){switch(e){case"behavior:animation:fadeIn":return{className:b.a.style(Wa(qa,$a(t))),direction:"in"};case"behavior:animation:fadeOut":return{className:b.a.style(Wa(za,$a(t))),direction:"out"};default:Object(U.c)(e)}}(e.type,e.timeCurve),a=Ha(s.useState("in"===n.direction?n.className:void 0),2),r=a[0],i=a[1];return s.useEffect((function(){return function(){var e,a;(function(e){var t,n;return(null!==(n=null===(t=e.shadowRoot)||void 0===t?void 0:t.ownerDocument.defaultView)&&void 0!==n?n:window).matchMedia("(prefers-reduced-motion: reduce)").matches})(t.current)||(e=t.current,a=n,Object(c.m)(Object(c.n)(Object(c.m)(a,N.g.fromPredicate((function(e){return"out"===e.direction}))),function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c.m)(t.parentElement,N.g.fromNullable,N.g.chain((function(t){return e(t,Va(n).concat([t]))})),N.g.alt((function(){return dn.l(n)})))}(e)),Object(c.o)(cn.f(N.g.option)),N.g.tap((function(t){var n,a,r=Ha(t,2),i=r[0],o=r[1],s=null!==(a=null===(n=e.shadowRoot)||void 0===n?void 0:n.ownerDocument)&&void 0!==a?a:document,l=e.getBoundingClientRect(),u=e.cloneNode(!0);u.classList.add(i.className),u.style.position="absolute",u.style.top="".concat(l.top,"px"),u.style.left="".concat(l.left,"px"),u.style.width="".concat(l.width,"px"),u.style.height="".concat(l.height,"px"),requestAnimationFrame((function(){Object(c.m)(o.find((function(e){return s.contains(e)})),N.g.fromNullable,N.g.tap((function(e){u.addEventListener("animationend",(function(){s.contains(u)&&u.remove()})),e.appendChild(u)})))}))}))))}}),[n]),s.createElement("div",{"data-name":"behavior-animation-wrapper","data-animation":e.type,ref:t,className:r,onAnimationEnd:function(){return i(void 0)}},e.children)},button:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe;return{primary:E((function(t){return s.createElement(q.a.Primary,G({},me(t),{className:b.a.joinClasses([e.main,e.primary,t.shape===M.a.ButtonShape.Round?pe.round:void 0,t.verticalAlign===M.a.VerticalAlign.Middle?pe.textMiddleAlign:void 0,se(t.horizontalAlign)])}),t.text)})),secondary:E((function(t){return s.createElement(q.a.Tertiary,G({},me(t),{className:b.a.joinClasses([e.secondary,e.main,t.shape===M.a.ButtonShape.Round?pe.round:void 0,t.verticalAlign===M.a.VerticalAlign.Middle?pe.textMiddleAlign:void 0,se(t.horizontalAlign)])}),t.text)})),toggle:E((function(t){return s.createElement(q.a.Secondary,G({},me(t),{className:b.a.joinClasses([z.a,e.toggle,e.main,t.shape===M.a.ButtonShape.Round?pe.round:void 0,t.verticalAlign===M.a.VerticalAlign.Middle?pe.textMiddleAlign:void 0,se(t.horizontalAlign)])}),t.text)})),yellow:E((function(t){return s.createElement(q.a.Primary,G({},me(t),{className:b.a.joinClasses([e.yellow,t.shape===M.a.ButtonShape.Round?pe.round:void 0,t.verticalAlign===M.a.VerticalAlign.Middle?pe.textMiddleAlign:void 0,se(t.horizontalAlign)])}),t.text)})),outlined:E((function(t){return s.createElement(q.a.Secondary,G({},me(t),{className:b.a.joinClasses([e.outlined,e.main,t.shape===M.a.ButtonShape.Round?pe.round:void 0,t.verticalAlign===M.a.VerticalAlign.Middle?pe.textMiddleAlign:void 0,se(t.horizontalAlign)])}),t.text)})),link:E((function(t){return s.createElement(q.a,G({},me(t),{className:b.a.joinClasses([e.link,e.main])}),t.text)})),darkPrimary:E((function(t){return s.createElement(q.a.Tertiary,G({},me(t),{className:b.a.joinClasses([e.darkPrimary,e.main,t.shape===M.a.ButtonShape.Round?pe.round:void 0,t.verticalAlign===M.a.VerticalAlign.Middle?pe.textMiddleAlign:void 0,se(t.horizontalAlign)])}),t.text)})),darkSecondary:E((function(t){return s.createElement(q.a.Tertiary,G({},me(t),{className:b.a.joinClasses([e.darkSecondary,e.main,t.shape===M.a.ButtonShape.Round?pe.round:void 0,t.verticalAlign===M.a.VerticalAlign.Middle?pe.textMiddleAlign:void 0,se(t.horizontalAlign)])}),t.text)})),ggoPrimary:E((function(t){return s.createElement(q.a.Tertiary,G({},me(t),{className:b.a.joinClasses([e.ggoPrimary,e.main,t.shape===M.a.ButtonShape.Round?pe.round:void 0,t.verticalAlign===M.a.VerticalAlign.Middle?pe.textMiddleAlign:void 0,se(t.horizontalAlign)])}),t.text)}))}}(),alternativeChoice:function(e){var t=e.id,n=e.designSystem,a=e.content,r=e.activeIndex,i=e.notify,o=e.meta,l=P.Monitoring.Logging.getLogger("AlternativeChoiceView");return s.createElement("div",{role:"group","aria-label":o.label,"aria-describedby":"".concat(t,"-description"),children:[s.createElement(n.column,{children:[Object(c.m)(N.g.fromNullable(a[r]),N.b.fromOption((function(){return"Cannot render alternative choice preview if there's no choice that matches the current alternative index."})),N.b.map((function(e){return e.preview})),N.b.filterOrElse(L.c.isBlock,(function(){return"Cannot render alternative choice preview if it's not of type `block.`"})),N.b.filterOrElse(L.c.hasOnlyTextParts,(function(){return"Cannot render alternative choice preview `block` if not every part is of type `text.`"})),N.b.map((function(e){return e.parts.length>0?s.createElement(n.block,B({},e,{children:e.parts.map((function(e,t){return s.createElement(n.text,B({key:t},e))})),spacing:{top:M.a.Space.D0,right:M.a.Space.D0,bottom:M.a.Space.D1,left:M.a.Space.D0},key:"preview"})):null})),N.b.getOrElse((function(e){return l.warn(e),null}))),s.createElement(n.block,{innerSpacing:{horizontal:M.a.Space.D05,vertical:M.a.Space.D05},verticalAlign:M.a.VerticalAlign.Top,children:a.map((function(e,t){return"button"===e.label.type&&"block"===e.label.label.type?s.createElement(n.button.toggle,{key:t,id:e.label.id,text:n.block(B({},e.label.label,{children:e.label.label.parts.map((function(e,t){return"text"===e.type?e.text:"icon"===e.type&&"known"===e.source.kind?s.createElement(n.icon[e.source.name],B({key:t},e)):null}))})),name:e.label.name.value,state:D(r)(e.label.actions)?M.a.ButtonState.Selected:M.a.ButtonState.Deselected,tooltip:void 0,shape:M.a.ButtonShape.Square,meta:{},onClick:i(e.label.actions,e.label.id)}):l.warn("Content where `label.type` is not `button` and `label.label.type` is not `block` are not supported (yet)",{content:e})})),key:"control",id:L.e.from("AlternativeChoiceView-control")}),Object(c.m)(N.g.fromNullable(o.description),N.g.map((function(e){return s.createElement(w.a,{id:"".concat(t,"-description"),children:[e]})})),N.g.toNullable)],id:L.e.from("AlternativeChoiceView")})]})},text:Ee,clickableText:function(e){var t=e.textView,n=e.onClick,a=e.name,r=wa(e,["textView","onClick","name"]);return s.createElement(q.a,{name:a,onClick:n,className:b.a.joinClasses([z.a,ka.default])},s.createElement(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Ca(e,t,n[t])}))}return e}({},r,{text:r.text})))},image:function(e){var t=e.name,n=e.url,a=e.size,r=e.backgroundColor;return s.createElement("div",{className:kt(r),"data-role":"icon"},s.createElement("img",{src:n,className:Et(a),alt:t}))},imageSized:function(e){var t,n=e.name,a=e.url,r=e.height,i=e.width,o=e.backgroundColor,l=e.borderRadius,c=e.meta;return s.createElement("figure",{className:_t(r,i,o),"data-role":"icon"},s.createElement("img",{src:a,className:xt(r,i,l),alt:null!==(t=c.label)&&void 0!==t?t:n.value,"aria-description":c.description}))},icon:mt,alertsCount:function(e){var t=e.textView,n=f(e,["textView"]),r=s.useContext(a.Context).alertIds.length;return r>0?s.createElement(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){g(e,t,n[t])}))}return e}({key:"alertsCountText"},n,{text:"".concat(r),removeImplicitPadding:!0})):null},assistantCard:j,count:function(e){var t=e.backgroundColor,n=e.value,a=e.id,r=e.textColor,i=void 0===r?M.a.Color.CoreNeutral0:r,o=e.meta;return s.createElement(Ye,{id:a,"aria-label":o.label,"aria-description":o.description},s.createElement(Ue,{id:a,backgroundColor:t,borderRadius:{topLeft:M.a.Radius.Radius3,topRight:M.a.Radius.Radius3,bottomRight:M.a.Radius.Radius3,bottomLeft:M.a.Radius.Radius3},minWidth:.75,padding:{top:M.a.Space.D0,right:M.a.Space.D025,bottom:M.a.Space.D0125,left:M.a.Space.D025}},s.createElement(Ee,{size:M.a.TextSize.Small,format:[M.a.TextFormat.Bold],textColor:i,text:n,meta:o,removeImplicitPadding:!0})))},block:Ye,row:function(e){var t=e.left,n=e.right,a=e.spacing,r=e.verticalAlign,i=Array.isArray(t)&&0===t.length,o=Array.isArray(n)&&0===n.length;return i&&o?null:s.createElement("div",{"data-role":"row-layout",className:Rt(a)},i?null:s.createElement("div",{"data-role":"row-content",className:Bt(r)},t),o?null:s.createElement("div",{"data-role":"row-content",className:Ft(r)},n))},column:S,slider:function(e){var t=e.fillColor,n=e.segmentSize,a=e.choices,r=e.designSystem,i=e.onChoiceSelected,o=Nn.a.useElWatcher(),l=o.ref,p=o.onMount,m=new d.a.Subject,h=new d.a.Subject,g=new d.a.Subject,f=new d.a.Subject,y=new d.a.Subject,v=new d.a.Subject,S=new d.a.BehaviorSubject(!0),C=a.length-1,w=C>0?100/C:0,k=a.reduce((function(e){var t=e[e.length-1],n=0;return void 0!==t&&(n=t+w),e.push(n),e}),[]),E=new d.a.BehaviorSubject(k[1]),O=d.a.mergeStatic(y.pipe(d.a.mapTo(!0)),g.pipe(d.a.mapTo(!1)),f.pipe(d.a.mapTo(!1))).pipe(d.a.startWith(!1)),A=d.a.mergeStatic(y,h).pipe(d.a.withLatestFrom(O),d.a.filter((function(e){var t=Fn(e,2);t[0];return t[1]})),d.a.map((function(e){return Fn(e,1)[0]})),d.a.withLatestFrom(l),d.a.map((function(e){var t=Fn(e,2),n=t[0],a=t[1];return Object(c.m)(a,N.g.map((function(e){return e.getBoundingClientRect()})),N.g.bindTo("sliderClientRect"),N.g.apS("containerMouseEventVal",N.g.some(n)))})),d.b.compact,d.a.map((function(e){var t=e.containerMouseEventVal,n=e.sliderClientRect,a=n.x,r=n.x+n.width;return t.clientX<=a?0:t.clientX>=r?100:(t.clientX-a)/(r-a)*100}))),_=E.pipe(d.a.distinctUntilChanged(),d.a.map((function(e){for(var t=-1,n=0;n<k.length-1;n++){var a=k[n],r=k[n+1];e>=a&&e<=r&&(t=e>=(a+r)/2?n+1:n)}return t}))),x=_.pipe(d.a.distinctUntilChanged(),d.a.map((function(e){return a[e]})));return Nn.a.useSubscriptionTo(d.a.mergeStatic(A.pipe(d.a.distinctUntilChanged()),O.pipe(d.a.distinctUntilChanged(),d.a.filter((function(e){return!e})),d.a.withLatestFrom(A),d.a.map((function(e){var t=Fn(e,2);t[0];return t[1]})),d.a.map((function(e){var t,n=0,a=!0,r=!1,i=void 0;try{for(var o,s=k[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value,c=Math.abs(e-l);(void 0===t||c<t)&&(t=c,n=l)}}catch(e){r=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}))),m.pipe(d.a.filter((function(e){return"ArrowRight"===e.key||"ArrowLeft"===e.key})),d.a.tap((function(e){e.preventDefault(),e.stopPropagation()})),d.a.map((function(e){return e.key})),d.a.filter((function(e){return"ArrowRight"===e||"ArrowLeft"===e})),d.a.withLatestFrom(E),d.a.map((function(e){var t,n=Fn(e,2),a=n[0],r=n[1];return(t="ArrowRight"===a?r+w:r-w)>100?100:t<0?0:t}))),v.pipe(d.a.map((function(e){return k[e]})))).pipe(d.a.tap((function(e){return E.next(e)})))),Nn.a.useSubscriptionTo(x.pipe(d.a.map((function(e){return i(e.actions,e.id,M.a.ActionNotifyUserAction.SelectSliderChoice)})),d.a.tap((function(e){return e()})))),a.length<2?(P.Monitoring.Logging.getLogger("SliderView").warn("Cannot render slider with less than 2 choices.",{choicesLength:a.length}),null):s.createElement(u.a.div,{className:Sa.outerContainer,onKeyDown:function(e){return m.next(e)},"data-role":"slider"},s.createElement(u.a.div,{className:Sa.label},x.pipe(d.a.map((function(e){return e.label})))),s.createElement(u.a.div,{className:Sa.container,style:{width:b.a.rem(C*n)},onMouseMove:function(e){return h.next(e)},onMouseUp:function(e){return g.next(e)},onMouseLeave:function(e){return f.next(e)}},s.createElement(u.a.div,Rn({},Object(at.c)(Sa.slider,O.pipe(d.a.map((function(e){return e?Sa.sliderDragging:Sa.sliderNotDragging})))),{mount:p,onMouseOver:function(){return S.next(!1)},onFocus:function(){return S.next(!1)}}),s.createElement(u.a.div,Rn({},Object(at.c)(Sa.sliderInner,O.pipe(d.a.map((function(e){return e?Sa.sliderInnerDragging:Sa.sliderInnerNotDragging}))),S.pipe(d.a.map((function(e){return e&&1===C?Sa.sliderInnerJiggle:null})))),{style:{width:E.pipe(d.a.map(b.a.percent)),color:W.b[t]}}),s.createElement(u.a.div,Rn({},Object(at.c)(Sa.knob,O.pipe(d.a.map((function(e){return e?Sa.knobDragging:Sa.knobNotDragging}))),S.pipe(d.a.map((function(e){return e&&C>1?Sa.knobJiggle:null})))),{onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),y.next(e)},tabIndex:0}),x.pipe(d.a.map((function(e){return"known"===e.icon.source.kind?s.createElement(r.icon[e.icon.source.name],{key:e.icon.source.name,backgroundColor:e.icon.backgroundColor}):s.createElement(r.image,Bn({key:e.icon.source.name,backgroundColor:e.icon.backgroundColor},e.icon.source))}))))),O.pipe(d.a.map((function(e){return a.map((function(t,a){var r={width:b.a.rem(.25),left:b.a.rem(0===a?.125:a===C?a*n-.25-.125:a*n-.25)};return s.createElement(u.a.Fragment,{key:t.id},s.createElement("div",{className:Sa.sliderDivisionPoint,style:r}),_.pipe(d.a.map((function(t){return t===a||e?null:s.createElement(u.a.div,{className:Sa.sliderDivisionPointHoverArea,style:Bn({},r,{transform:"scaleX(6)"}),onClick:function(){return v.next(a)}})}))))}))}))))))},box:Ue,alternativeSlider:function(e){var t=e.fillColor,n=e.segmentSize,a=e.choices,r=e.designSystem,i=e.activeAltIndex,o=e.meta,l=e.notify;return s.createElement(r.column,{children:[s.createElement(r.slider,{fillColor:t,segmentSize:n,meta:o,choices:a.map((function(e){return{id:e.id,icon:e.icon,label:e.label,actions:e.actions}})),designSystem:r,onChoiceSelected:l,key:"select"}),s.createElement(u.a.Fragment,{key:"preview"},i.view((function(e){return Object(c.m)(N.g.fromNullable(a[e+1]),N.b.fromOption((function(){return"Cannot render alternative slider preview if there's no choice that matches the current alternative index."})),N.b.map((function(e){return e.preview})),N.b.filterOrElse(L.c.isBlock,(function(){return"Cannot render alternative slider preview if it's not of type `block.`"})),N.b.filterOrElse(L.c.hasOnlyTextParts,(function(){return"Cannot render alternative slider preview `block` if not every part is of type `text.`"})),N.b.map((function(e){return s.createElement(r.block,V({},e,{children:e.parts.map((function(e,t){return s.createElement(r.text,V({key:t},e))}))}))})),N.b.getOrElse((function(e){return P.Monitoring.Logging.getLogger("AlternativeSliderView").warn(e),null})))})))],id:L.e.from("AlternativeSlider")})},scroll:function(e){var t=ln.a.create(N.g.none),n=ln.a.create(N.g.none),a=ln.a.create(N.g.none),r=In(t,n),i=In(t,a),o=d.a.combineLatestStatic([r,i]).pipe(d.a.map((function(e){var t=_n(e,2);return{topOverflow:t[0],bottomOverflow:t[1]}})),d.a.startWith({topOverflow:!1,bottomOverflow:!1}),d.a.distinctUntilChanged(jn.equals));return s.createElement(s.Fragment,null,s.createElement("style",null,'div[data-role="scroll"] {\n            border-color: transparent;\n          }'),s.createElement(u.a.div,{"data-role":"scroll",className:o.pipe(d.a.map((function(t){return function(e){var t=e.maxHeight,n=e.topOverflow,a=e.bottomOverflow,r=[];r.push(Mn["scroll-main"]),n&&r.push(Mn.overflowTop);a&&r.push(Mn.overflowBottom);void 0!==t&&r.push(function(e){var t="overflow-".concat(e),n=Tn.get(t);if(void 0!==n)return n;var a=b.a.style({$debugName:"overflow",maxHeight:b.a.rem(e),overflowY:"auto",overflowX:"hidden",$nest:{"& > *":{overflow:"visible"}}});return Tn.put(t,a),a}(t));return r.length>0?b.a.joinClasses(r):void 0}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){An(e,t,n[t])}))}return e}({},e,t))}))),mount:function(e){return t.set(N.g.fromNullable(e))}},s.createElement("div",{style:{margin:0},ref:function(e){return n.set(N.g.fromNullable(e))}}),e.children,s.createElement("div",{style:{margin:0},ref:function(e){return a.set(N.g.fromNullable(e))}})))},list:qt,listItem:function(e){var t=s.createElement(s.Fragment,null,s.createElement("div",{"data-role":"list-item",className:en.listItemPrimaryButton},s.createElement("div",{"data-role":"list-item-label",className:en.listItemLabel},e.label)),e.secondaryButtons.length>0?s.createElement("div",{"data-role":"list-item-secondary-buttons",className:en.listItemSecondaryButtonsContainer},e.secondaryButtons.map((function(t){var n=E((function(t){return s.createElement("button",{key:t.id,"data-role":"list-item-secondary-button",onClick:function(e){e.stopPropagation(),t.onClick()},onKeyDown:function(e){return e.stopPropagation()},onPointerDown:function(e){return e.stopPropagation()},className:en.listItemSecondaryButton,"aria-label":t.meta.label,"aria-describedby":t["aria-describedby"]},"icon"===t.label.type?"known"===t.label.icon.source.kind?s.createElement(e.designSystem.icon[t.label.icon.source.name],{key:t.label.icon.source.name,backgroundColor:t.label.icon.backgroundColor}):s.createElement(e.designSystem.image,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Kt(e,t,n[t])}))}return e}({key:t.label.icon.source.name,backgroundColor:t.label.icon.backgroundColor},t.label.icon.source)):t.label.text)}))(t);return t.tooltip?s.createElement(Gt.a,{key:t.id,title:t.tooltip},n):n}))):null);return e.tooltip?s.createElement(Gt.a,{title:he(e.tooltip)},t):t},strongAlertRef:function(e){var t=e.children,n=e.alertIds;return s.createElement(a.Context.Provider,{value:{alertIds:n}},t)},popoverAnchor:function(e){var t=Nn.a.useElWatcher(),n=Nn.a.useElWatcher(),a=Nn.a.useMemoOnDidMount((function(){return ln.a.create(b.a.joinClasses([Ga.modifiers.preCheck,Ga.modifiers[e.positionHint]]))})),r=Nn.a.useMemoOnDidMount((function(){return ln.a.create({top:0,left:0})}));s.useEffect((function(){e.onShow()}),[]),s.useEffect((function(){var i=d.a.timer(0,500).pipe(d.a.switchMapTo(t.ref),d.a.map(N.g.map((function(e){return e.getBoundingClientRect()}))),d.a.distinctUntilChanged(N.g.getEq(nr.c.Rect.eq).equals)),o=d.a.timer(0,500).pipe(d.a.switchMapTo(n.ref),d.a.map(N.g.map((function(e){return e.getBoundingClientRect()}))),d.a.distinctUntilChanged(N.g.getEq(nr.c.Box.eq).equals)),s=d.a.combineLatestStatic([i,o]).subscribe((function(t){var n=ir(t,2),i=n[0],o=n[1];Object(c.m)(Object(cn.f)(N.g.option)(i,o),N.g.chain((function(t){var n=ir(t,2),a=n[0],r=n[1];return function(e,t,n,a){var r=[e,M.a.Position.Top,M.a.Position.Left,M.a.Position.Right,M.a.Position.Bottom].filter((function(e,t,n){return n.indexOf(e)===t}));return Object(c.m)(r,l.l((function(e){return Object(c.m)(dr(e,t,n,a),N.g.map((function(t){return{position:e,adjustment:t}})))})))}(e.positionHint,r,a,{top:0,left:0,right:document.documentElement.scrollWidth,bottom:document.documentElement.scrollHeight,width:document.documentElement.scrollWidth,height:document.documentElement.scrollHeight})})),N.g.fold((function(){return a.set(Ga.modifiers.preCheck)}),(function(e){var t=e.position,n=e.adjustment;a.set(Ga.modifiers[t]),r.set(n)})))}));return function(){return s.unsubscribe()}}),[]);var i=a.pipe(d.a.distinctUntilChanged(),d.a.map((function(e){return b.a.joinClasses([Ga.stylesheet.anchorPointer,e])}))),o=r.pipe(d.a.distinctUntilChanged(tr.isEqual));return s.createElement(u.a.div,{className:Ga.stylesheet.wrapper,mount:t.onMount,style:{display:e.inlineWrapper?"inline-block":"block"}},s.createElement(u.a.div,{className:i},s.createElement(u.a.div,{className:Ga.stylesheet.popover,style:o,mount:n.onMount},e.popover)),e.children)},nativeSkillsModal:pr,nativeSkillsList:function(e){var t=e.designSystem,n=e.notify,a=e.onSelect;return s.createElement(t.block,{innerSpacing:{horizontal:M.a.Space.D05,vertical:M.a.Space.D05},verticalAlign:M.a.VerticalAlign.Top,horizontalAlign:M.a.HorizontalAlign.Center,children:[s.createElement("p",{key:"header"},"Mock implementation of Skills list"),s.createElement(t.radioButtonsGroup,{id:"skills-list-radio-group",type:"radioButtonsGroup",onClick:function(){return n},meta:{label:"select-a-skill",description:"Select a skill"},options:[{id:"translate",label:"Translate",onSelect:a,meta:{label:"translate",description:"Access the translate skill"}},{id:"paraphrase",label:"Paraphrase",onSelect:a,meta:{label:"paraphrase",description:"Access the paraphrase skill"}}],designSystem:t})],key:"block",id:L.e.from("container-block")})},nativeSkillsView:function(){return s.createElement(Ye,{innerSpacing:{horizontal:M.a.Space.D05,vertical:M.a.Space.D05},verticalAlign:M.a.VerticalAlign.Top,horizontalAlign:M.a.HorizontalAlign.Center,children:[s.createElement("p",{key:"header"},"Mock implementation of Skills View")],key:"block",id:L.e.from("container-block")})},nativeToneInsightsModal:pr,nativeLearnMoreModal:pr,nativeSettingsModal:pr,nativeFeedbackModal:pr,nativeInlineCardContent:pr,inlineCard:E((function(e){var t=e.child,n=e.id,a=e.meta,r=e.minWidth,i=e.maxWidth,o=_(e,["child","id","meta","minWidth","maxWidth"]),l=function(e,t){var n="".concat(e,"-").concat(t),a=x.get(n);if(void 0!==a)return a;var r=b.a.style(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){A(e,t,n[t])}))}return e}({display:"inline-block"},e?{minWidth:b.a.rem(e)}:{},t?{maxWidth:b.a.rem(t)}:{}));return x.put(n,r),r}(null!=r?r:or,null!=i?i:sr);return s.createElement(S,{id:"".concat(n,"-container"),role:"region","aria-label":a.label,"aria-describedby":o["aria-describedby"],className:l},t)})),nativeGetStartedChecklistModal:function(e){var t=e.designSystem,n=e.notify;return s.createElement(t.block,{innerSpacing:{horizontal:M.a.Space.D05,vertical:M.a.Space.D05},verticalAlign:M.a.VerticalAlign.Top,horizontalAlign:M.a.HorizontalAlign.Center,children:[s.createElement("p",{key:"header"},"Mock Implementation of nativeGetStartedChecklistModal"),s.createElement(t.button.primary,{key:"complete-all-items-btn",id:"complete-all-items-btn",text:"Complete all items",name:"fire-actions",state:M.a.ButtonState.Enabled,tooltip:void 0,shape:M.a.ButtonShape.Square,meta:{},onClick:n}),s.createElement("p",{key:"footer"},"")],key:"block",id:L.e.from("container-block")})},nativeKeyTakeawaysAssistantCard:pr,nativeProofitModal:pr,dropDownMenuButton:function(e){var t=function(t){return"known"===t.source.kind?s.createElement(e.designSystem.icon[t.source.name],{key:t.source.name,backgroundColor:t.backgroundColor}):s.createElement(e.designSystem.image,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){nn(e,t,n[t])}))}return e}({key:t.source.name,backgroundColor:t.backgroundColor},t.source))};return s.createElement(tn.a.Dropdown,{label:t(e.icon),placement:"bottom right",theme:{button:on.button,item:on.item},"aria-label":e.menu.meta.label,onAction:function(t){return Object(c.m)(e.menu.sections,l.c((function(e){return e.items})),l.k((function(e){return e.id===String(t)})),N.g.tap((function(t){return e.onClick(t.onClickActions,t.id)()})))}},e.menu.sections.map((function(e,n){return s.createElement(tn.a.Section,{key:n,title:e.title},e.items.map((function(e){return s.createElement(tn.a.Item,{key:e.id,textValue:e.id},e.icon&&t(e.icon),e.text)})))})))},radioButtonsGroup:function(e){var t=e.id,n=e.options,a=e.onClick,r=e.meta;return s.createElement(Ea.a.Group,{name:t,"aria-label":r.label,description:r.description,onChange:function(e){return Object(c.m)(n,N.a.findFirst((function(t){return t.id===e})),N.g.tap((function(e){return a(e.onSelect,e.id)})))}},n.map((function(e){return s.createElement(Ea.a.Item,{id:e.id,key:e.id,value:e.id,"aria-label":e.meta.label,"aria-description":e.meta.description},e.label)})))},nativeExperimentalGBConsistencyUpsellFooter:pr,nativeExperimentalGBToneInsightsUpsellFooter:pr,collapsedCard:function(e){var t="".concat(e.id,"-collapsed-content"),n=Ia(s.useState(!1),2),a=n[0],r=n[1],i=s.useCallback((function(t){r(t),e.onHoverChanged(t)}),[]),o=Object(Aa.g)({onHoverChange:i}).hoverProps,l=Object(Aa.f)({onFocusWithinChange:i}).focusWithinProps;return s.createElement("div",xa({},o,l,{className:Ta.container}),s.createElement(ja,xa({},e,{contentId:t})),s.createElement("div",{id:t,className:Ta.content},e.child,s.createElement("div",{role:"tooltip",style:{opacity:a?1:0}},e.quickActions)))},longFormCard:function(e){return s.createElement(s.Fragment,null,function(e,t,n){switch(e){case"focused":return t;case"collapsed":return n;case"hidden":return null;default:return Object(U.c)(e)}}(e.viewKind,e.fullContent,e.collapsedContent))},progressBar:function(e){var t=e.value,n=e.backgroundColor,a=e.fillColor,r=e.pinPointValue,i=e.state;return s.createElement("div",Na({role:"progressbar","aria-label":"Progress","aria-valuenow":t},Object(at.c)(Fa.outerContainer,void 0!==r?Fa.outerContainerExtendedHeight:Fa.outerContainerNormalHeight)),void 0!==r&&s.createElement("div",{"aria-label":"Progress starting point",className:Fa.pinPoint,style:{left:"calc(".concat(Ba(r,[2,98]),"% - ").concat(La,")")}}),s.createElement("div",{className:Fa.background,style:{backgroundColor:"".concat(W.b[n])}},s.createElement("div",{className:Fa.fill,style:{width:"".concat(t,"%"),backgroundColor:"".concat(W.b[a])}},i===M.a.ContentProgressBarState.Loading&&s.createElement("div",{className:Fa.loading}))))},horizontalRule:function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));return s.createElement("hr",{className:er.default})},tooltip:function(e){var t=e.text,n=e.child,a=e.alignment;return s.createElement(Gt.a,{title:he(t),align:a},n)},lifecycle:function(e){var t=e.onMountHandler,n=e.onUnmountHandler,a=e.children;return s.useEffect((function(){return t(),function(){return n()}}),[]),s.createElement(s.Fragment,null,a)}},hr=n("AHUR"),gr=function(e){var t=e.parentKey,n=e.from,a=e.transition,r=e.to,i=e.onAnimationEnd,o=e.renderContent,l=fr(a.animateFrom,"from"),c=fr(a.animateTo,"to"),u=l.needFullWidth||c.needFullWidth;return s.createElement("div",{className:b.a.joinClasses([br,u?yr:""])},n&&s.createElement("div",{onAnimationEnd:function(){return i(a.fromName)},className:b.a.joinClasses(l.className)},o(n,"from-".concat(t),[])),s.createElement("div",{onAnimationEnd:function(){return i(a.toName)},className:b.a.joinClasses(c.className)},o(r,"to-".concat(t),[])))};function fr(e,t){switch(e){case"fadeOut":return{className:[Sr],needFullWidth:!1};case"fadeIn":return{className:[wr],needFullWidth:!1};case"slideLeft":return{className:Er(t,"left"),needFullWidth:!0};case"slideRight":return{className:Er(t,"right"),needFullWidth:!0};default:return{className:[],needFullWidth:!1}}}var br=b.a.style({position:"relative",overflow:"hidden"}),yr=b.a.style({width:"100%"}),vr=b.a.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}}),Sr=b.a.style({position:"absolute",opacity:0,visibility:"hidden",animation:"".concat(vr," ").concat(b.a.seconds(.3)," ease-out")}),Cr=b.a.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),wr=b.a.style({animation:"".concat(Cr," ").concat(b.a.seconds(.3)," ease-out")}),kr=function(e){return"calc(".concat(e,"px * var(--cardWidth))")},Er=function(e,t){var n="to"===e?0:"".concat(kr("left"===t?-1:1)),a="from"===e?0:"".concat(kr("left"===t?1:-1)),r=b.a.keyframes({from:{transform:"translateX(".concat(a,")"),visibility:"visible"},to:{transform:"translateX(".concat(n,")"),visibility:"from"===e?"hidden":"visible"}}),i=b.a.style({position:"absolute",left:0,right:0,visibility:"hidden"}),o=b.a.style({position:"from"===e?"absolute":"relative",animation:"".concat(r," ").concat(b.a.seconds(.3)," ease-out")});return"from"===e?[i,o]:[o]};function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Ar(e,t,n[t])}))}return e}function Ir(e){return function(e){if(Array.isArray(e))return e}(e)||_r(e)||Tr(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e){return function(e){if(Array.isArray(e))return Or(e)}(e)||_r(e)||Tr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tr(e,t){if(e){if("string"==typeof e)return Or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Or(e,t):void 0}}var Mr=function(e){var t=e.content,n=e.prevContent,r=e.transitions,i=e.designSystem,o=e.notify,p=e.onMount,m=e.onAnimationEnd,h=e.sduiRootId,g=e.longFormCardState,f=void 0===g?{viewKind:"collapsed"}:g,b=function(e){return"name"in e},y=function(e){return Object(c.m)(e,l.C((function(e){return"applyAlerts"===e.type&&0===e.alternativeIndex?{type:"applyAlerts",alternativeIndex:C.get()}:"selectAlternative"===e.type?(C.set(e.alternativeIndex),e):e})))},v=function(e,t,n,a,l){return function(u){return Object(c.m)(e,N.g.fromNullable,N.g.chain(dn.l),N.g.map((function(e){var d=Ir(e),p=d[0],h=d.slice(1);switch(p.type){case"behavior:strongAlertRef":return v(h,t,n,a,l)((function(e){return s.createElement(i.strongAlertRef,{key:"".concat(t,"-strongAlertRef"),alertIds:p.alertIds,children:u(xr({},e,{alertRefs:p.alertIds}))})}));case"behavior:animation:fadeIn":case"behavior:animation:fadeOut":return v(h,t,n,a,l)((function(e){return s.createElement(i.animation,xr({key:"".concat(t,"-animation")},p,{children:u(e)}))}));case"behavior:popoverAnchor":return v(h,t,n,a,l)((function(e){return Object(c.m)(N.g.some(p),N.g.filter(L.b.PopoverAnchor.nonEmpty),N.g.fold((function(){return u(e)}),(function(a){var l=a.id,d=a.positionHint,p=a.view;return s.createElement(i.popoverAnchor,{key:"".concat(t,"-popoverAnchor"),inlineWrapper:"inline"===Object(hr.c)(n),positionHint:d,popover:w(p.child,p.id,r,m,e),children:u(e),onShow:function(){return Object(c.m)(p.onShow,(function(t){return o(l,t||[],e)}))}})})))}));case"behavior:lifecycle":return v(h,t,n,a,l)((function(e){return s.createElement(i.lifecycle,{key:"".concat(t,"-lifecycle"),children:u(xr({},e)),onMountHandler:E(e)(p.onMount,a),onUnmountHandler:E(e)(p.onUnmount,a)})}));default:Object(U.c)(p)}})),N.g.getOrElse(Object(c.g)(u(l))))}},S=new Map,C=ln.a.create(0),w=function(e,t,n,a,r){var d=b(e)?n.find((function(t){return t.toName===e.name.value})):void 0;if(void 0!==d){var p=S.get(d.fromName);return s.createElement(gr,{key:Nr(t,e),parentKey:t,renderContent:function(e,t){return w(e,Nr(t,e),[],c.f,r)},onAnimationEnd:a,from:p,to:e,transition:d})}return v("behaviors"in e?e.behaviors:void 0,Nr(t,e),e.type,e.id,r)((function(r){switch(e.type){case"text":return s.createElement(i.text,xr({key:Nr(t,e)},e));case"clickableText":return s.createElement(i.clickableText,xr({},e,{key:Nr(t,e),name:e.name.value,textView:i.text,onClick:E(r)(e.onClickActions,e.id)}));case"button":var d=w(e.label,t,n,a,r);return s.createElement(u.a.Fragment,{key:Nr(t,e)},C.view((function(n){return s.createElement(i.button[e.kind],{key:Nr(t,e),id:e.id,text:d,name:e.name.value,state:e.name.value===M.a.ComponentKnownName.ButtonAccept&&-1===n?M.a.ButtonState.Hidden:e.state,tooltip:e.tooltip,shape:e.shape,verticalAlign:"block"===e.label.type||"row"===e.label.type?e.label.verticalAlign:void 0,meta:e.meta,horizontalAlign:e.horizontalAlign,onClick:E(r)(e.actions,e.id)})})));case"alternativeChoice":return s.createElement(u.a.Fragment,{key:Nr(t,e)},C.view((function(n){return s.createElement(i.alternativeChoice,{key:Nr(t,e),id:e.id,designSystem:i,content:e.alternatives,activeIndex:n,notify:E(r),meta:e.meta})})));case"icon":return k(e.source,e.backgroundColor,Nr(t,e));case"image":return s.createElement(i.imageSized,xr({key:Nr(t,e)},e));case"count":return s.createElement(i.count,xr({key:Nr(t,e)},e));case"block":return s.createElement(i.block,xr({key:Nr(t,e)},e,{children:e.parts.map((function(e,i){return w(e,Nr(t,{id:i.toString()}),n,a,r)}))}));case"row":return s.createElement(i.row,xr({key:Nr(t,e)},e,{left:e.left.map((function(e,i){return w(e,Nr(t,{id:i.toString()}),n,a,r)})),right:e.right.map((function(e,i){return w(e,Nr(t,{id:i.toString()}),n,a,r)}))}));case"column":return s.createElement(i.column,xr({key:Nr(t,e)},e,{children:e.children.map((function(e,i){return w(e,Nr(t,{id:i.toString()}),n,a,r)}))}));case"slider":return s.createElement(i.slider,xr({key:Nr(t,e),designSystem:i,onChoiceSelected:E(r)},e));case"alternativeSlider":return s.createElement(i.alternativeSlider,xr({key:Nr(t,e),designSystem:i,activeAltIndex:C.view(),notify:E(r)},e));case"strongAlertRef":var p=xr({},r,{alertRefs:e.alertIds});return s.createElement(i.strongAlertRef,xr({key:t},e,{children:w(e.child,t,n,a,p)}));case"scroll":return s.createElement(i.scroll,xr({key:Nr(t,e),children:w(e.child,t,n,a,r)},e));case"box":return s.createElement(i.box,xr({key:Nr(t,e),children:w(e.child,t,n,a,r)},e));case"list":return s.createElement(i.list,xr({key:Nr(t,e),onSelect:function(e){var t=function(e,t){return e&&0!==e.length?Object(c.m)(e,l.w,N.g.map((function(e){switch(e.type){case"behavior:strongAlertRef":return xr({},t,{alertRefs:e.alertIds});case"behavior:animation:fadeIn":case"behavior:animation:fadeOut":case"behavior:popoverAnchor":case"behavior:lifecycle":return t;default:Object(U.c)(e)}})),N.g.getOrElse((function(){return t}))):t}(e.behaviors,r);return E(t)(e.actions,e.id)()},renderItem:function(o,l){var c=Nr(t,e)+"."+l.toString(),u=w(o.label,t,n,a,r);return v(o.behaviors,c,e.type,e.id,r)((function(e){return s.createElement(i.listItem,{key:c,id:o.id,label:u,tooltip:o.tooltip,behaviors:o.behaviors,secondaryButtons:o.secondaryButtons.map((function(t){return xr({},t,{onClick:E(e)(t.onClickActions,t.id)})})),designSystem:i,meta:o.meta})}))}},e));case"alertsCount":return s.createElement(i.alertsCount,xr({key:Nr(t,e),textView:i.text},e));case"assistantCard":return s.createElement(i.assistantCard,xr({key:Nr(t,e)},e,{child:w(e.child,t,n,a,r),footer:e.footer?w(e.footer,t,n,a,r):null}));case"nativeSkillsModal":return s.createElement(i.nativeSkillsModal,xr({key:Nr(t,e)},e));case"nativeSkillsList":return s.createElement(i.nativeSkillsList,xr({key:Nr(t,e),designSystem:i,notify:function(){return o(e.id,e.onSelect,r)}},e));case"nativeSkillsView":return s.createElement(i.nativeSkillsView,xr({key:Nr(t,e)},e));case"nativeToneInsightsModal":return s.createElement(i.nativeToneInsightsModal,xr({key:Nr(t,e)},e));case"nativeLearnMoreModal":return s.createElement(i.nativeLearnMoreModal,xr({key:Nr(t,e)},e));case"nativeSettingsModal":return s.createElement(i.nativeSettingsModal,xr({key:Nr(t,e)},e));case"nativeFeedbackModal":return s.createElement(i.nativeFeedbackModal,xr({key:Nr(t,e)},e));case"nativeGetStartedChecklistModal":return s.createElement(i.nativeGetStartedChecklistModal,xr({key:Nr(t,e),designSystem:i,notify:function(){return o(e.id,e.onComplete,r)}},e));case"nativeKeyTakeawaysAssistantCard":return s.createElement(i.nativeKeyTakeawaysAssistantCard,xr({key:Nr(t,e)},e));case"nativeProofitModal":return s.createElement(i.nativeProofitModal,xr({key:Nr(t,e)},e));case"viewStack":return Object(c.m)(N.g.fromNullable(e.views[e.selected]),N.g.fold((function(){return s.createElement("div",null,"unknown selected view, corresponding view is missing")}),(function(e){return w(e,t,n,a,r)})));case"dropDownMenuButton":return s.createElement(i.dropDownMenuButton,xr({key:Nr(t,e),designSystem:i,onClick:E(r)},e));case"nativeExperimentalGBConsistencyUpsellFooter":return s.createElement(i.nativeExperimentalGBConsistencyUpsellFooter,xr({key:Nr(t,e)},e));case"nativeExperimentalGBToneInsightsUpsellFooter":return s.createElement(i.nativeExperimentalGBToneInsightsUpsellFooter,xr({key:Nr(t,e)},e));case"nativeInlineCardContent":return s.createElement(i.nativeInlineCardContent,xr({key:Nr(t,e)},e));case"inlineCard":return s.createElement(i.inlineCard,xr({key:Nr(t,e)},e,{child:w(e.child,t,n,a,r)}));case"radioButtonsGroup":return s.createElement(i.radioButtonsGroup,xr({key:Nr(t,e),designSystem:i,onClick:E(r)},e));case"collapsedCard":return s.createElement(i.collapsedCard,xr({},e,{child:w(e.child,t,n,a,r),quickActions:e.quickActions?w(e.quickActions,t,n,a,r):null,onHoverChanged:function(t){return o(e.id,[{type:"hoverStateChanged",hovered:t}],r)},onPress:function(t){return E(r)([{type:"positionedClick",sourcePosition:t}],e.id)()}}));case"longFormCard":return s.createElement(i.longFormCard,xr({},e,{fullContent:w(e.fullContent,t,n,a,r),collapsedContent:w(e.collapsedContent,t,n,a,r),viewKind:f.viewKind}));case"progressBar":return s.createElement(i.progressBar,xr({key:Nr(t,e)},e));case"tooltip":return s.createElement(i.tooltip,{text:e.text,child:w(e.child,t,n,a,r),alignment:e.alignment});case"horizontalRule":return s.createElement(i.horizontalRule);case"assistantFeed":case"lensesSwitchPanel":case"popoverStack":case"gButton":throw new Error("".concat(e.type," can not be rendered directly"));default:if(Object(hr.b)(e))throw new Error("".concat(e.type," component rendering is not implemented here"));return s.createElement("div",null,"unknown element")}}))},k=function(e,t,n){return"known"===e.kind?s.createElement(i.icon[e.name],{key:n,backgroundColor:t}):s.createElement(i.image,xr({key:n},e,{backgroundColor:t}))},E=function(e){return function(t,n){return function(){return Object(c.m)(t,y,(function(t){return o(n,t,e)}))}}};N.g.isSome(n)&&hr.a.forEach(N.g.unsafeGet(n),(function(e){b(e)&&S.set(e.name.value,e)}));var O=r.reduce((function(e,t){return S.has(t.fromName)&&(e+=1),e+=1}),0),A=ln.a.create([]);Nn.a.useSubscriptionTo(Object(c.m)(A,d.a.first((function(e){return e.length===O})),d.a.filter((function(){return O>0})),d.a.tap(m))),Nn.a.useEffectOnDidMount(p);return s.createElement(a.Context.Provider,{value:{alertIds:[]}},w(t,h,r,(function(e){return A.modify((function(t){return jr(t).concat([e])}))}),{alertRefs:[]}))};function Nr(e,t){return"".concat(e,".").concat(t.id)}var Pr=n("YfIO");function Lr(){return(Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Rr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Br(e,t,n,a){if(n.some((function(e){return"positionedClick"===e.type}))){var r=n[0];return 1===t.alerts.length?{type:m.b.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:t.alerts[0]},clickPoint:r.sourcePosition}:{type:m.b.Type.miniItemClick,id:t.id}}if(n.some((function(e){return"hoverStateChanged"===e.type}))){var i=n[0];return{type:m.b.Type.hover,id:t.id,kind:i.hovered?"hover":"unhover"}}return{type:m.b.Type.sduiCardAction,sourceId:e,cardId:t.id,actions:n,scope:a}}var Fr=function(e){var t=e.inert,n=Rr(e,["inert"]),a=s.useRef(null);return Nn.a.useSubscriptionTo(t.pipe(d.a.tap((function(e){var t,n;return e?null===(t=a.current)||void 0===t?void 0:t.setAttribute("inert","true"):null===(n=a.current)||void 0===n?void 0:n.removeAttribute("inert")})))),s.createElement(u.a.div,Lr({mount:a},n))},Dr=p.b.Grid.make((function(e){var t=e.view,n=e.slots;return s.createElement(Fr,{className:sn.b.chooseWhen(t("hovered"))(Gr.listWrapperFocused,Gr.listWrapper),inert:t("inert")},n.card)})),Hr=p.b.Grid.make((function(e){var t=e.view,n=e.slots;return s.createElement(Fr,{className:Gr.listWrapperFocused,inert:t("inert")},n.card)})),Vr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mr;return p.b.Node.make((function(a){var r=a.view,i=a.notify,o=r("view").pipe(d.a.distinctUntilChanged((function(e,t){return e.equals(t)}))),l=[];return s.createElement(u.a.Fragment,null,o.pipe(d.a.map((function(a){return s.createElement(n,{key:a.id,sduiRootId:a.id,content:a.cardDSL.value,designSystem:t,notify:function(e,t,n){return i(Br(e,a,t,n))()},transitions:l,prevContent:a.prevCardDSL,onAnimationEnd:c.f,onMount:c.f,longFormCardState:{viewKind:e}})}))))}))},Ur=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mr;return p.b.Knot.make(Dr,{card:Vr("collapsed",e,t)})},Wr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mr;return p.b.Knot.make(Hr,{card:Vr("focused",e,t)})},qr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mr;return p.b.Union.make("kind",{collapsed:Ur(e,t),focused:Wr(e,t),hidden:p.b.Node.empty})},zr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mr;return Pr.a.make(qr(e,t))},$r={background:W.f.Base.Surface.Primary.Default,borderRadius:b.a.rem(W.e.Radius1)},Gr=b.a.stylesheet({listWrapper:[$r,{border:"0.5px solid ".concat(W.f.Base.Boundaries.Primary.Default)}],listWrapperFocused:[$r,W.d.Elevation300]});function Kr(e){switch(e){case"focused":case"expanded":case"success":case"presuccess":case"feedback_form":return"focused";case"added":case"rendered":return"collapsed";case"hidden":case"removed":case"muted":return"hidden";default:return Object(U.c)(e)}}var Yr=n("iEw6");function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Qr,Jr,ei=function(e){return function(t){var n=function(n){return d.a.combineLatestStatic([n.pipe(d.a.pluck("action"),d.a.tap((function(t){return e.next(t)})),d.a.filter((function(e){return"hover"===e.type})),d.a.map((function(e){return"hover"===e.kind})),d.a.startWith(!1)),t]).pipe(d.a.map((function(e){var t=Xr(e,2),n=t[0],a=t[1];return{root:{inert:a.positionState.inert,hovered:n},card:{kind:"alertRefSDUI",view:a}}})))},a={collapsed:n,focused:n,hidden:Object(c.g)(d.a.of(void 0))},r=p.a.composeUnion(a,(function(){return t.pipe(d.a.map((function(e){return{kind:Kr(e.visualState.transition.type)}})))})),i=p.a.composeUnion(a,(function(){return t.pipe(d.a.map((function(e){return{kind:Object(c.m)(e.visualState.from,N.g.fold((function(){return"collapsed"}),Kr))}})))}));return Yr.a.flow(t,r,i)}};(Jr=Qr||(Qr={})).ListCard=Vr,Jr.AnimatedListCard=zr,Jr.animatedListCardFlowFactory=ei,Jr.CollapsedCardWrapper=Dr,Jr.FocusedCardWrapper=Hr,Jr.SingleCard=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mr;return p.b.Node.make((function(n){var a=n.view,r=n.notify,i=a("view");return s.createElement(u.a.Fragment,null,i.pipe(d.a.distinctUntilChanged((function(e,t){return e.equals(t)})),d.a.map((function(n){return s.createElement(t,{key:n.id,sduiRootId:n.id,content:n.cardDSL.value,designSystem:e,notify:function(e,t,a){return r({type:m.b.Type.sduiCardAction,sourceId:e,cardId:n.id,actions:t,scope:a})()},transitions:l.J(n.transitions),prevContent:n.prevCardDSL,onAnimationEnd:r({type:m.a.Kind.completeTransitionTo,id:n.id,transitionId:n.visualState.transitionId}),onMount:c.f})}))))}))},Jr.SquashedListCard=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mr;return p.b.Node.make((function(n){var a=n.view,r=n.notify,i=a("view").pipe(d.a.distinctUntilChanged((function(e,t){return e.equals(t)}))),o=new d.a.Subject;return Nn.a.useSubscriptionTo(o.pipe(d.a.tap((function(e){return r(e)()})))),p.b.mount(zr(e,t),Object(c.m)(ei(o)(i),Yr.a.extend((function(e){return o.next(e)}))))}))};var ti,ni=n("GRZr"),ai=n("u/VI"),ri=n("OA+g"),ii=n("I7vG"),oi=n("dE97"),si=n("GUi3"),li=n("+LKT"),ci=n("RNks"),ui=n("Q4mH"),di=n("+Zgs"),pi=n("MD/T"),mi=n("0A/6");(ti||(ti={})).Card=e=>p.b.Node.make(({view:t})=>{const n=t("view"),a=Object(di.c)(n,e),r=Object(di.a)(n,e);return s.createElement(u.a.Fragment,null,n.pipe(d.a.distinctUntilChanged((e,t)=>e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),d.a.map(t=>s.createElement(mi.a.Card,{miniCard:p.b.mount(pi.b,a),fullCard:p.b.mount(pi.a,r),actions:e,card:t}))))});var hi=n("P79j"),gi=n("IdhR"),fi=n("yZqL"),bi=n("HUX/"),yi=n("rk+4"),vi=n("BugA"),Si=n("Q8bi"),Ci=n("aIes"),wi=n("xdtP"),ki=n("ax6a"),Ei=n("WIwS"),Oi=n("ps/9");const Ai={display:"block",color:ki.a.CoreNeutral90,fontWeight:"bold"},_i={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},xi={display:"block",color:ki.a.CoreBlue50,fontWeight:"normal"},Ii={color:Ei.k},ji={color:Ei.k},Ti={color:ki.a.CoreCyan50,fontWeight:"bold",fontSize:b.a.rem(.9375)},Mi={marginTop:b.a.rem(.3),color:ki.a.CoreNeutral90},Ni={position:"relative",marginLeft:b.a.rem(-.5)},Pi={position:"absolute",top:0,left:0,display:"flex",margin:`${b.a.rem(.5625)} 0 0 ${b.a.rem(.4375)}`,color:Ei.k,pointerEvents:"none"},Li={display:"block",padding:`${b.a.rem(1.4375)} 0 0 ${b.a.rem(.4375)}`,borderRadius:b.a.rem(Oi.t),backgroundColor:Ei.f,transitionDuration:b.a.seconds(0),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:Ei.g}}},Ri={display:"flex",color:ki.a.CoreBlue50,pointerEvents:"all",alignItems:"center"},Bi={minWidth:b.a.rem(1),minHeight:b.a.rem(1),stroke:ki.a.CoreBlue50},Fi={width:b.a.percent(100),pointerEvents:"all"},Di={color:ki.a.CoreBlue50,textDecoration:"none"},Hi={position:"absolute",right:0,bottom:0,marginLeft:b.a.rem(.5)},Vi={$nest:{"& i":{color:Ei.j}}},Ui=b.a.stylesheet({plagiarismTitle:[Ai],plagiarismTitleContent:[_i],titleUrl:[_i,xi],titleBy:[Ii],plagiarismP2:[ji],percent:[Ti],textToCopy:[_i,Mi],referenceWrapper:[Ni],referenceData:[Pi],copyableReference:[Li],citationStyleSelect:[Ri],citationStyleIcon:[Bi],citationStyleDdlButton:[Fi],descriptionLink:[Di],expandBtn:[Hi],more:[Vi]}),Wi=e=>Ci.d.setInnerHTML(e,{allowedTags:["b","i","br"]}),qi=({card:e})=>{const t=s.useContext(yi.a.Context);return s.createElement(vi.a,{className:Ui.plagiarismP2},t.plagiarism.percentileDescription(s.createElement("span",{className:Ui.percent},e.meta.percentile,"%")))},zi=({title:e,url:t})=>s.createElement(vi.j,{className:Ui.plagiarismTitle},s.createElement("div",Object.assign({className:Ui.plagiarismTitleContent},Wi(e))),Object(ii.pipe)(t,N.g.map(e=>s.createElement(q.a,{name:"url-button",href:e,target:"_blank",rel:"noopener noreferrer",styleType:Si.Typography.Type.Base,className:Ui.titleUrl},e)),N.g.toNullable)),$i=({title:e,authors:t})=>s.createElement(vi.j,{className:Ui.plagiarismTitle},s.createElement("div",Object.assign({className:Ui.plagiarismTitleContent},Wi(e))),Object(ii.pipe)(t,N.g.map(e=>s.createElement(vi.a,{className:Ui.plagiarismTitleContent}," ",s.createElement("span",{className:Ui.titleBy},"by")," ",s.createElement("span",Object.assign({},Wi(e))))),N.g.toNullable)),Gi=({alert:e})=>"publication"===e.plagiarismType.source?s.createElement($i,{title:e.title,authors:e.plagiarismType.authors}):s.createElement(zi,{title:e.title,url:e.plagiarismType.url}),Ki=()=>{const e=s.useContext(yi.a.Context);return s.createElement(vi.a,null,e.plagiarism.cardDescription(Object(wi.a)(Ui.descriptionLink)))},Yi=({card:e,dismissActions:t})=>{const n=s.useContext(yi.a.Context),a=e.alerts.map(e=>e.id);return s.createElement(q.a.Ghost,{name:"ignore",title:n.dismiss,"aria-label":n.dismiss,onClick:Ci.d.callOnce(()=>t.next({type:m.d.Kind.dismissBatch,alerts:a}))},s.createElement(rt.d.Ignore,null))},Zi=({visualState:e})=>s.createElement(gi.b,{visualState:e,className:Ui.more},s.createElement(Ki,null));var Xi=n("0PmZ");const Qi=({card:e,actions:t})=>s.createElement(Xi.a,{onLeftClick:()=>t.next({type:m.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:e},direction:"left"}),onRightClick:()=>t.next({type:m.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:e},direction:"right"}),currentMatch:e.activeAlertIndex,totalMatch:e.alerts.length,style:{}});var Ji=n("ZD0N"),eo=n("eihE"),to=n("XXDN");const no=({textToCopy:e,children:t})=>s.createElement(eo.a.Context.Consumer,null,n=>{return s.createElement(q.a.Flat,{key:"copy_title",name:"copy_title",title:"Click to copy",tag:Ji.b.div,className:Ui.copyableReference,onClick:()=>n(e,"referenceCopied")},t,s.createElement("div",Object.assign({className:Ui.textToCopy},(a=e,Ci.d.setInnerHTML(a,{allowedTags:["b","i","br"]})))));var a}),ao={mla:"MLA",apa:"APA",chicago:"Chicago"},ro=nr.e.keys(ao);class io extends s.Component{static _renderPublication(e){const t=ln.a.create("mla");return s.createElement(u.a.div,{key:"publication",className:Ui.referenceWrapper},t.view(n=>s.createElement(s.Fragment,null,s.createElement(no,{key:"rf1"+n,textToCopy:e.citationStyle[n]}),s.createElement(vi.l,{className:Ui.referenceData},s.createElement(yi.a.Context.Consumer,null,({plagiarism:e})=>e.publicationReferenceDescription(s.createElement(to.a,{vAlign:"top",name:"plagiarism",label:s.createElement(q.a,{name:"citation-style-select",active:!1,className:Ui.citationStyleSelect,tag:Ji.b.div},ao[n])},ro.map(e=>s.createElement(q.a.Flat,{className:Ui.citationStyleDdlButton,key:e,name:"citation-button-"+e,active:t.view(t=>t===e),onClick:()=>t.set(e)},ao[e])))))))))}static _renderWeb(e,t){return s.createElement("div",{key:"web",className:Ui.referenceWrapper},s.createElement(no,{textToCopy:e+Object(ii.pipe)(t.url,N.g.fold(()=>"",e=>". "+e))},s.createElement(yi.a.Context.Consumer,null,({plagiarism:e})=>s.createElement(vi.l,{className:Ui.referenceData},e.webReferenceDescription))))}render(){const e=this.props.alert;return"publication"===e.plagiarismType.source?io._renderPublication(e.plagiarismType):io._renderWeb(e.title,e.plagiarismType)}}const oo=({card:e,actions:t})=>s.createElement(fi.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:m.b.Type.alertCardShow,cardType:m.b.CardType.defaultCard,alertId:e.activeAlert.id}),theme:Object(bi.b)(e.renderOptions),body:s.createElement(s.Fragment,null,s.createElement(qi,{card:e}),s.createElement(Gi,{alert:e.activeAlert}),s.createElement(io,{alert:e.activeAlert})),mainActions:s.createElement(Yi,{card:e,dismissActions:t}),footer:s.createElement(Zi,{visualState:e.visualState}),navigation:s.createElement(Qi,{actions:t,card:e}),subActions:s.createElement(gi.a,{actions:t,card:e,mode:"mini"})});var so,lo=n("D9EC"),co=n("XxrX");!function(e){e.Card=({card:e,actions:a})=>co.a.Density.matchL(()=>s.createElement(t,{card:e,actions:a}),()=>s.createElement(n,{card:e,actions:a}),()=>s.createElement(n,{card:e,actions:a}))(e.renderOptions.layoutDensity);const t=({card:e,actions:t})=>{const n=e.alerts[0];return s.createElement(mi.a.MiniContrast,Object.assign({cardId:e.id,getActiveAlert:()=>n},Object(at.c)(wo.wrapper,wo.dot,wo.dotOutcomesPlagiarism),{actions:t,inert:e.positionState.inert,sduiStyle:e.renderOptions.features.has(co.a.Features.sduiContainerStyle)}),s.createElement("div",{className:wo.miniContainer},s.createElement("span",Object.assign({key:"title"},Object(at.c)(wo.text,"publication"===n.plagiarismType.source&&wo.fullText)),n.title),"web"===n.plagiarismType.source?Object(ii.pipe)(n.plagiarismType.url,N.g.map(nr.f.urlToDomain),N.g.filter(lo.n),N.g.map(e=>s.createElement("span",{key:"url",className:wo.domain}," — ",e)),N.g.toNullable):Object(ii.pipe)(n.plagiarismType.authors,N.g.map(e=>s.createElement("span",{key:"publication",className:wo.publication}," — ",e)),N.g.toNullable)))},n=({card:e,actions:t})=>{const n=e.alerts[0],a="web"===n.plagiarismType.source?Object(ii.pipe)(n.plagiarismType.url,N.g.map(nr.f.urlToDomain),N.g.filter(lo.n)):n.plagiarismType.authors;return s.createElement(mi.a.Mini,Object.assign({cardId:e.id,getActiveAlert:()=>n},Object(at.c)(go.wrapper,wo.dotOutcomesPlagiarism,Object(ii.pipe)(a,N.g.fold(()=>go.dotInTheMiddle,()=>go.dot))),{actions:t,inert:e.positionState.inert}),s.createElement("div",{className:go.miniContainer},Object(ii.pipe)(a,N.g.map(e=>s.createElement("span",{className:go.subTitle},e)),N.g.toNullable),s.createElement("span",Object.assign({key:"title"},Object(at.c)(go.text)),n.title)))}}(so||(so={}));const uo={overflow:"hidden",color:ki.a.CoreNeutral90,textOverflow:"ellipsis"},po={height:b.a.rem(3.5)},mo={overflow:"hidden",marginBottom:b.a.rem(-.25),textOverflow:"ellipsis",fontSize:b.a.rem(.75)},ho={$nest:{"&:before":{top:b.a.rem(.85),bottom:0}}},go=b.a.stylesheet({text:[uo],wrapper:[po],miniContainer:[{display:"flex",flexDirection:"column"}],dotInTheMiddle:[{top:0,bottom:0,left:0}],subTitle:[mo],dot:[ho]}),fo={overflow:"hidden",color:ki.a.CoreNeutral90,textOverflow:"ellipsis"},bo={maxWidth:b.a.percent(100),flexShrink:0},yo={height:b.a.rem(3)},vo={overflow:"hidden",maxWidth:b.a.percent(100),textOverflow:"ellipsis",flexShrink:0},So={$nest:{"&:before":{top:b.a.px(1),bottom:0}}},Co={$nest:{"&:before":{backgroundColor:ki.a.CoreCyan50}}},wo=b.a.stylesheet({text:[fo],fullText:[bo],wrapper:[yo],miniContainer:[{display:"flex"}],domain:[vo],publication:[{overflow:"hidden",textOverflow:"ellipsis"}],dot:[So],dotOutcomesPlagiarism:[Co]});var ko,Eo;!function(e){function t(e){return{mini:()=>e,full:()=>e,hidden:()=>e}}function n(e){switch(e){case"added":case"rendered":return"mini";case"focused":case"expanded":return"full";case"hidden":case"removed":return"hidden";case"presuccess":case"success":case"feedback_form":case"muted":throw new Error(e+" is not supported for PlagiarismCard");default:Object(U.c)(e)}}e.flow=function(e){return p.a.composeUnion(t(e),()=>e.pipe(d.a.map(e=>({plagiarismCardKind:n(e.visualState.transition.type)}))))},e.shadeFlow=function(e){return p.a.composeUnion(t(e),()=>e.pipe(d.a.map(e=>({plagiarismCardKind:Object(ri.pipe)(e.visualState.from,N.g.fold(()=>"hidden",n))}))))}}(ko||(ko={})),function(e){function t(e){return p.b.Node.make(({state:t})=>s.createElement(u.a.Fragment,null,t.pipe(d.a.map(t=>s.createElement(so.Card,{card:t,actions:e})))))}function n(e){return p.b.Node.make(({state:t})=>s.createElement(u.a.Fragment,null,t.pipe(d.a.map(t=>s.createElement(oo,{card:t,actions:e})))))}e.Card=p.b.Node.make(({view:e,notify:a})=>{const r=e("view"),i=new d.a.Subject;return Nn.a.useSubscriptionTo(i.pipe(d.a.tap(e=>a(e)()))),p.b.mount(Pr.a.make(function(e){return p.b.Union.make("plagiarismCardKind",{mini:t(e),full:n(e),hidden:p.b.Node.empty})}(i)),Object(ri.pipe)(Yr.a.flow(r,ko.flow(r),ko.shadeFlow(r),e=>e.activeAlert.id),Yr.a.extend(e=>i.next(e))))})}(Eo||(Eo={}));var Oo,Ao,_o=n("boxh"),xo=n("B/RW"),Io=n("Xojx");!function(e){function t(e,t){return{mini:p.a.fromSideEffect(e=>{"onClick"===e.action&&t.next({type:m.b.Type.miniItemClick,id:Io.a.id})},e),full:p.a.fromSideEffect(e=>{"upgrade"===e.kind&&t.next({type:"upgradeHookAction",kind:xo.a.ActionsKind.onUpgrade}),"onUpgradeButtonMount"===e.kind&&t.next({type:"upgradeHookAction",kind:xo.a.ActionsKind.onUpgradeButtonMount,element:e.element})},e),hidden:()=>e}}function n(e){switch(e){case"added":case"rendered":return"mini";case"focused":case"expanded":return"full";case"hidden":case"removed":return"hidden";case"presuccess":case"success":case"feedback_form":case"muted":throw new Error(e+" is not supported for UpgradeHookCard");default:Object(U.c)(e)}}e.flow=function(e,a){return Object(ri.pipe)(p.a.composeUnion(t(e,a),()=>e.pipe(d.a.map(e=>({cardKind:n(e.visualState.transition.type)})))))},e.shadeFlow=function(e,a){return p.a.composeUnion(t(e,a),()=>e.pipe(d.a.map(e=>({cardKind:Object(ri.pipe)(e.visualState.from,N.g.fold(()=>"hidden",n))}))))}}(Oo||(Oo={})),(Ao||(Ao={})).ListCard=p.b.Node.make(({view:e,notify:t})=>{const n=Object(ri.pipe)(e("view"),d.a.distinctUntilChanged((e,t)=>e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type)),a=new d.a.Subject;return Nn.a.useSubscriptionTo(a.pipe(d.a.tap(e=>t(e)()))),p.b.mount(Pr.a.make(p.b.Union.make("cardKind",{mini:Object(ri.pipe)(_o.a,p.b.contramapState(e=>({alertsCount:e.alerts.length}))),full:Object(ri.pipe)(xo.b,p.b.contramapState(e=>({showCloseButton:!1,alertsState:{count:e.alerts.length,alerts:e.groupedAlerts}}))),hidden:p.b.Node.empty})),Object(ri.pipe)(Yr.a.flow(n,Oo.flow(n,a),Oo.shadeFlow(n,a)),Yr.a.extend(e=>a.next(e))))});var jo,To,Mo=n("gyms"),No=n("5mwv");!function(e){function t(e){switch(e){case"added":case"rendered":return"mini";case"focused":case"expanded":return"full";case"hidden":case"removed":return"hidden";case"presuccess":case"success":case"feedback_form":case"muted":throw new Error(e+" is not supported for UpgradeHookCard");default:Object(U.c)(e)}}e.flow=function(e,n){return Object(ri.pipe)(p.a.composeUnion({mini:p.a.fromSideEffect(e=>{"onClick"===e.action?n({type:m.b.Type.miniItemClick,id:Io.a.id})():e.action.kind===No.a.ActionsKind.onMiniShow&&n({type:"upgradeHookAction",kind:No.a.ActionsKind.onMiniShow})()},e),full:p.a.fromSideEffect(e=>{e.kind===Mo.a.ActionsKind.onFullShow?n({type:"upgradeHookAction",kind:Mo.a.ActionsKind.onFullShow})():e.kind===Mo.a.ActionsKind.onUpgrade?n({type:"upgradeHookAction",kind:Mo.a.ActionsKind.onUpgrade})():e.kind===Mo.a.ActionsKind.onContinueWithFreePlan&&n({type:"upgradeHookAction",kind:Mo.a.ActionsKind.onContinueWithFreePlan})()},e),hidden:()=>e},()=>e.pipe(d.a.map(e=>({cardKind:t(e.visualState.transition.type)})))))},e.shadeFlow=function(e){return p.a.composeUnion({mini:()=>e,full:()=>e,hidden:()=>e},()=>e.pipe(d.a.map(e=>({cardKind:Object(ri.pipe)(e.visualState.from,N.g.fold(()=>"hidden",t))}))))}}(jo||(jo={})),function(e){e.ListCard=p.b.Node.make(({view:e,notify:a})=>{const r=Object(ri.pipe)(e("view"),d.a.distinctUntilChanged((e,t)=>e.alerts.length===t.alerts.length&&e.groupedAlerts===t.groupedAlerts&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type));return p.b.mount(Pr.a.make(p.b.Union.make("cardKind",{mini:t,full:n,hidden:p.b.Node.empty})),Object(ri.pipe)(Yr.a.flow(r,jo.flow(r,a),jo.shadeFlow(r)),Yr.a.extend(e=>a(e)())))});const t=Object(ri.pipe)(No.b,p.b.contramapState(e=>({alertsCount:e.alerts.length}))),n=Object(ri.pipe)(Mo.b,p.b.contramapState(e=>({alertsState:{count:e.alerts.length,alerts:e.groupedAlerts,documentType:e.documentType}})))}(To||(To={}));var Po=n("4GD7"),Lo=n("UEGg"),Ro=n("uqkn"),Bo=n("IVzZ"),Fo=n("YJiV"),Do=n("+5S2"),Ho=n("E0zP"),Vo=n("W39u"),Uo=n("TC4P"),Wo=n("C7EH"),qo=n("AK7F"),zo=n("BeBM"),$o=n("bFfh"),Go=n("OOrw"),Ko=n("amLG"),Yo=n("ot6E"),Zo=n("dS2Y"),Xo=n("zoQI"),Qo=n("x98X"),Jo=n.n(Qo),es=n("ev6t");const ts=({title:e,onClick:t})=>{const n=Object(bi.b)({layoutDensity:"minimal"});return s.createElement(Xo.b,Object.assign({},Object(at.c)(n.container,ns.container),{onClick:t}),s.createElement("div",{className:n.wrapper},s.createElement(Si.Typography.Base,{className:ns.label},s.createElement("img",{className:es.a.titleIcon,src:Jo.a,alt:"","aria-hidden":!0}),e)))},ns=b.a.prefixedStylesheet("draft_ai_mini_card",{label:[{color:ki.a.CoreNeutral90,textOverflow:"ellipsis",position:"relative",lineHeight:b.a.rem(2),marginLeft:b.a.rem(1),userSelect:"none"}],container:[{cursor:"pointer"}]});var as,rs;(as||(as={})).DraftAI=p.b.Node.make(({view:e,notify:t})=>{const n=e("view"),a=s.useRef(null),r=s.useContext(Yo.a.Context).draftAI.cardTitle;return s.createElement(u.a.div,{forwardRef:a,mount:e=>t({kind:Zo.b.Event.Kind.draftAIMiniCardMount,node:Ko.O.fromNullable(e)})()},n.pipe(d.a.distinctUntilChanged(Zo.a.eq.equals),d.a.mapTo(s.createElement(ts,{title:r,onClick:t({kind:Zo.b.Event.Kind.draftAIMiniCardClick,cardPosition:{top:a.current?a.current.getBoundingClientRect().top:0}})}))))}),function(e){e.hasItemUnion=zo.e.hasItems;const t=Object(lo.p)(i,s,l);e.isSelectableItem=Object(lo.p)(i,s,l,h);const n=e=>Object(ii.pipe)(zo.k.getActiveItemOfType(h)(e),N.g.chain(r.a.Capabilities.toAlertItem));function a(e,t,n,a,i,o,s,l,c){return zo.e.Items.mapper(e=>e.kind,{[Ro.a.Kind]:e,[Bo.a.Kind]:t,[Go.a.Kind]:n,[qo.a.Kind]:a,[qo.b.Kind]:i,[Wo.a.Kind]:o,[Zo.a.Kind]:s,[Io.a.Kind]:l,[r.a.Kind]:c})}function i(e){return e.kind===Ro.a.Kind}function s(e){return e.kind===Bo.a.Kind}function l(e){return e.kind===Go.a.Kind}function c(e){return e.kind===Wo.a.Kind}function u(e){return e.kind===Zo.a.Kind}function m(e){return Io.a.isUpgradeHookItem(e)}function h(e){return e.kind===r.a.Kind}function g(e){return i(e)&&Ho.a.isEthicalAIItem(e)}function f(e){return s(e)&&Ho.a.isEthicalAIItem(e)}function b(e){return{viewState:(t,n)=>n=>{switch(n.kind){case Ro.a.Kind:return{view:n,isLastCard:t,kind:"alertCard",visibleViewportHeight:N.g.none};case Bo.a.Kind:return{view:n,isLastCard:t,kind:"alertsBundle",visibleViewportHeight:N.g.none};case Go.a.Kind:return{view:n,kind:"plagiarismCard"};case qo.a.Kind:return{view:n,kind:"priorityToggle"};case qo.b.Kind:return{view:n,kind:"priorityToggleHint"};case Wo.a.Kind:return{view:n,kind:"bulkAccept"};case Zo.a.Kind:return{view:n,kind:"draftAI"};case Io.a.Kind:return e.denali.premiumUphookCardUI?{view:n,kind:"upgradeHookCardExp"}:{view:n,kind:"upgradeHookCard"};case r.a.Kind:return{kind:"alertRefSDUI",view:n};default:return Object(U.c)(n)}}}}e.getActiveItemWithAlert=function(e){return Object(ii.pipe)(zo.k.getActiveItemOfType(t)(e),N.g.alt(()=>n(e)))},e.getActiveAlignableItem=function(e){return Object(ii.pipe)(zo.k.getActiveItemOfType(Object(lo.p)(i,s,l,c,m))(e),N.g.alt(()=>n(e)))},e.getActiveFocusableItem=function(e){return Object(ii.pipe)(zo.k.getActiveItemOfType(Object(lo.p)(i,m,s,l,Object(lo.b)(c,e=>e.hasMarkFocusable)))(e),N.g.alt(()=>n(e)))},e.checksFeedItemsMapper=a,e.isAlertCard=i,e.isAlertsBundle=s,e.isPlagiarismCard=l,e.isBulkAcceptItem=c,e.isPriorityToggle=function(e){return e.kind===qo.a.Kind},e.isDraftAIItem=u,e.isUpgradeHook=m,e.isAlertRefSDUI=h,e.isEthicalAIAlertCard=g,e.isEthicalAIAlertsBundle=f,e.defaultOrd=Object(ni.fold)(N.h.getMonoid())([Object(ii.pipe)(N.h.ordBoolean,N.h.contramap(Object(ri.not)(g))),Object(ii.pipe)(N.h.ordBoolean,N.h.contramap(m)),Object(ii.pipe)(N.h.ordBoolean,N.h.contramap(i)),Ro.a.ord]),e.sduiToChecksFeedOrd=function(t){return n=>N.h.fromCompare((a,r)=>o.a.isSDUIItem(a)&&o.a.isSDUIItem(r)?o.a.getOrd(n).compare(a,r):e.getByActiveAlertPositionOrd(t).compare(a,r))},e.getByActiveAlertPositionOrd=e=>Object(ni.fold)(N.h.getMonoid())([Object(ii.pipe)(oi.d.ordHRange,N.h.contramap(t=>Object(ii.pipe)(e.hasActiveAlert(t),N.g.map(e=>e.alert),N.g.getOrElse(()=>({getHighlightRanges:()=>[{start:0,end:0}]})))))]),e.byActiveAlertPositionOrd=Object(ni.fold)(N.h.getMonoid())([Object(ii.pipe)(N.h.ordBoolean,N.h.contramap(m)),Object(ii.pipe)(N.h.ordBoolean,N.h.contramap(i)),Ro.a.ord]),e.bundlesOrd=Object(ni.fold)(N.h.getMonoid())([Object(ii.pipe)(N.h.ordBoolean,N.h.contramap(Object(ri.not)(f))),Object(ii.pipe)(N.h.ordBoolean,N.h.contramap(i)),Bo.a.ord]),e.item=e=>p.b.Union.make("kind",{alertCard:li.a.Card(e),alertsBundle:ui.a.Card(e),plagiarismCard:Eo.Card,priorityToggle:hi.a.Toggle,priorityToggleHint:hi.a.Hint,bulkAccept:ti.Card(e),draftAI:as.DraftAI,upgradeHookCard:Ao.ListCard,upgradeHookCardExp:To.ListCard,alertRefSDUI:Qr.SquashedListCard()}),e.upgradeHookOnlyItem=()=>p.b.Union.make("kind",{alertCard:p.b.Node.empty,upgradeHookCardExp:To.ListCard}),e.viewState=b,e.createCardListFlow=(e,t,n,a)=>Object(ci.b)(r=>{switch(r.key){case"draftAI":Object(ii.pipe)(n,N.g.tap(e=>{e.next(r.action)}));break;case"priorityToggle":t.next(r.action);break;case"plagiarismCard":e.actionEvents.next(r.action);break;case"upgradeHookCard":case"upgradeHookCardExp":switch(r.action.type){case"upgradeHookAction":Object(ii.pipe)(a,N.g.tap(e=>e.next(r.action)));break;default:e.actionEvents.next(r.action)}break;case"alertRefSDUI":e.actionEvents.next(r.action);break;default:Object(U.d)(r)}}),e.listItemOrd=e=>Object(ai.contramap)(e=>e.cell.item.view)(e).compare;const y={equals:(e,t)=>e.kind===t.kind&&Vo.a.eqById.equals(e,t)},v=(e,t,n,a,i,o,s,l,c)=>({equals:(u,d)=>{const p={[Ro.a.Kind]:e,[Bo.a.Kind]:t,[Go.a.Kind]:n,[qo.a.Kind]:a,[qo.b.Kind]:i,[Wo.a.Kind]:o,[Zo.a.Kind]:s,[Io.a.Kind]:l,[r.a.Kind]:c};return y.equals(u,d)&&function(e,t){return(n,a)=>t[e(n)].equals(n,a)}(e=>e.kind,p)(u,d)}}),S=Object(ni.fold)(N.c.getMonoid())([Uo.a.eq,Vo.a.verticalPositionEq,y]);function C(e){const t=Ro.a.Capabilities.getChangePosition(e),n=Go.a.Capabilities.getChangePosition();return{changePosition:e=>a(t.changePosition(e),Bo.a.changePosition(e),n.changePosition(e),t=>qo.a.changePosition(t,e),t=>qo.b.changePosition(t,e),t=>Wo.a.changePosition(t)(e),t=>Zo.a.changePosition(t)(e),Io.a.Capabilities.changePosition(e),r.a.Capabilities.changePosition(e))}}function w(){return{updateUserInput:e=>a(Ro.a.updateUserInput(e),Bo.a.changeUserInput(e),ri.identity,ri.identity,ri.identity,ri.identity,ri.identity,ri.identity,ri.identity)}}function k(e,t){const n=Ro.a.Capabilities.getAnimatable(e),i=Bo.a.Capabilities.getAnimatable(t),o=Go.a.Capabilities.getAnimatable();return{completeTransition:e=>a(n.completeTransition(e),i.completeTransition(e),o.completeTransition(e),ri.identity,ri.identity,t=>Wo.a.completeTransition(t,e),ri.identity,Io.a.Capabilities.animatable.completeTransition(e),r.a.Capabilities.animatable.completeTransition(e)),transitionTo:e=>a(n.transitionTo(e),i.transitionTo(e),o.transitionTo(e),ri.identity,ri.identity,t=>Wo.a.transitionTo(t,e),ri.identity,Io.a.Capabilities.animatable.transitionTo(e),r.a.Capabilities.animatable.transitionTo(e)),changeVisualState:e=>a(n.changeVisualState(e),i.changeVisualState(e),o.changeVisualState(e),ri.identity,ri.identity,Wo.a.changeVisualState(e),ri.identity,Io.a.Capabilities.animatable.changeVisualState(e),r.a.Capabilities.animatable.changeVisualState(e))}}function E(e,t,n,i){const o=Bo.a.getCardHydrator(i),s=Bo.a.getSelect(t,n,o),l=Bo.a.getSelectByAlert(t,n,o),c=Ro.a.Capabilities.getSelect(e),u=Go.a.Capabilities.getSelect(t,n),d=Io.a.Capabilities.getSelect(t,n);return{select:(e,t)=>a(c.select(e,t),s(e,t),u.select(e,t),ri.identity,ri.identity,t=>Wo.a.select(t,e),ri.identity,d.select(e,t),r.a.Capabilities.select.select(e,t)),selectByAlert:(e,t,n)=>a(c.selectByAlert(e,t,n),l(t,e,n),u.selectByAlert(e,t,n),ri.identity,ri.identity,t=>Wo.a.select(t,e),ri.identity,d.selectByAlert(e,t,n),r.a.Capabilities.select.selectByAlert(e,t,n)),unselect:(e,t)=>a(c.unselect(e,t),Bo.a.unselect(e,t),u.unselect(e,t),ri.identity,ri.identity,t=>Wo.a.unselect(t,e),ri.identity,d.unselect(e,t),r.a.Capabilities.select.unselect(e,t))}}function O(e,t,n,r){return{removeAlertFromItem:(o,l)=>a(t=>Ro.a.Capabilities.getRemoveAlerts(e,l.itemsOrd)(o,zo.k.getActiveItemOfType(i)(l))(t),e=>Bo.a.Capabilities.getRemoveAlertsCapability(t,n,r,l.itemsOrd)(o,zo.k.getActiveItemOfType(s)(l))(e),Go.a.Capabilities.getRemoveAlert(zo.k.getActiveItem,l.itemsOrd).removeAlertFromItem(o,l),ri.identity,ri.identity,ri.identity,ri.identity,ri.identity,ri.identity)}}function A(e,t,n){const i=Ro.a.Capabilities.getRemove(e);return{remove:(e,o)=>a(i.remove(e,o),a=>Boolean(e(a))?Bo.a.Capabilities.getRemove(t,n)([a.activeAlert],o(a))(a):a,t=>Boolean(e(t))?Go.a.Capabilities.remove([t.activeAlert],o(t))(t):t,ri.identity,ri.identity,ri.identity,ri.identity,Io.a.Capabilities.remove.remove(e,o),r.a.Capabilities.remove.remove(e,o))}}function _(e,t,n,r){const i=Ro.a.Capabilities.getUpdateWithAlert(e),o=Bo.a.Capabilities.getUpdatableWithAlertsCapability(t,r),s=Go.a.Capabilities.getUpdateWithAlert(n);return{updateWithAlerts:e=>a(i.updateWithAlerts(e),o(e),s.updateWithAlerts(e),ri.identity,ri.identity,ri.identity,ri.identity,ri.identity,ri.identity)}}e.equatable={structEq:v(Ro.a.eq,Bo.a.eq,Go.a.eq,qo.c,qo.c,Wo.a.eq,Zo.a.eq,Io.a.eq,r.a.eq),idEq:v(y,y,y,y,y,y,y,y,y),visualStateEq:v(S,S,S,qo.c,qo.c,Wo.a.visualStateEq,Zo.a.eq,Io.a.eq,r.a.eq)},e.cloneable=()=>{const e=Vo.a.Capabilities.getPojoCloneable().clone;return{clone:a(Ro.a.Capabilities.getCloneable().clone,e,e,qo.a.clone,qo.b.clone,Wo.a.clone,Zo.a.clone,e,e)}},e.changePosition=C,e.hasUserInput=w,e.disposable={isScheduledToDispose:a(e=>Ho.a.willBeDisposed(e,e.removedAlertsIds),e=>Ho.a.willBeDisposed(e,e.removedAlertsIds),e=>Ho.a.willBeDisposed(e,e.removedAlertsIds),ri.constFalse,ri.constFalse,ri.constFalse,ri.constFalse,ri.constFalse,r.a.Capabilities.disposable.isScheduledToDispose)},e.hidable={isHidden:a(Uo.a.isHidden,Uo.a.isHidden,Uo.a.isHidden,e=>"hidden"===e.visibilityState,e=>"hidden"===e.visibilityState,Uo.a.isHidden,e=>"hidden"===e.visibilityState,Uo.a.isHidden,Uo.a.isHidden)},e.animatableItem=k,e.queries={isSelectableByAlert:e=>a(t=>Object(ii.pipe)(t.lensId,N.g.exists(e=>e!==si.a.SpecialId.Premium))&&Ho.a.hasAlert(e.alert.id)(t),Ho.a.hasAlert(e.alert.id),Ho.a.hasAlert(e.alert.id),ri.constFalse,ri.constFalse,ri.constFalse,ri.constFalse,Ho.a.hasAlert(e.alert.id),r.a.Capabilities.hasAlerts.isSelectableByAlert(e)),hasAlert:e=>a(Ho.a.hasAlert(e),Ho.a.hasAlert(e),Ho.a.hasAlert(e),ri.constFalse,ri.constFalse,Wo.a.hasAlert(e),ri.constFalse,Ho.a.hasAlert(e),r.a.Capabilities.hasAlerts.hasAlert(e)),useReferenceHeightOnRemove:ri.constFalse,hasActiveAlert:a(Ho.a.hasActiveAlert,Ho.a.hasActiveAlert,Ho.a.hasActiveAlert,N.g.empty,N.g.empty,N.g.empty,N.g.empty,Ho.a.hasActiveAlert,r.a.Capabilities.hasAlerts.hasActiveAlert)},e.select=E,e.removeAlert=O,e.remove=A,e.updateWithAlert=_,e.releaseAlert=(t,n,a,r)=>$o.a.Capabilities.getAlertReleaser(Object.assign(Object.assign({},O(t,n,a,r)),e.disposable)),e.unselectable=(e,t,n,a)=>$o.a.Capabilities.getUnselectable(zo.k.getActiveItem,E(e,t,n,a)),e.selectableByAlert=(t,n,a,r,i)=>$o.a.Capabilities.getSelectableByAlert(zo.k.getActiveItem,Object.assign(Object.assign(Object.assign({},e.queries),E(t,n,a,r)),i.denali.feedUpgradeHook||i.denali.premiumUphookCardUI?{willShowChecksFeed:ri.constTrue}:$o.a.Capabilities.getHasChecksFeed())),e.selectableById=(e,t,n,a)=>$o.a.Capabilities.getSelectableById(zo.k.getActiveItem,E(e,t,n,a)),e.updateMeta=e=>({updateMeta:t=>Object(ni.fold)(Object(ni.getEndomorphismMonoid)())([$o.a.Plagiarism.updateCardsWithLensMeta(e),$o.a.Capabilities.getMetaUpdatable().updateMeta(t)])}),e.animatableFeed=(e,t,n,a)=>$o.a.Capabilities.getAnimatable(e,Object.assign(Object.assign(Object.assign({},O(e,t,n,a)),k(e,a)),$o.a.Capabilities.getHasChecksFeed())),e.hasPriorityToggle=(t,n)=>$o.a.WithPriority.getHasPriorityToggle(Object.assign(Object.assign(Object.assign({},k(t,n)),e.queries),e.disposable));const x=t=>["focused","expanded"].includes(t.visualState.transition.type)&&!Boolean(e.disposable.isScheduledToDispose(t));function I(e){const t=Fo.a.getCardSelections(e);return{nextAlert:a(t.nextAlert,t.nextAlert,t.nextAlert,()=>N.g.none,()=>N.g.none,()=>N.g.none,()=>N.g.none,()=>N.g.none,()=>N.g.none),prevAlert:a(t.prevAlert,t.prevAlert,t.prevAlert,()=>N.g.none,()=>N.g.none,()=>N.g.none,()=>N.g.none,()=>N.g.none,()=>N.g.none)}}e.alignable={isValidToAlign:a(x,x,x,ri.constFalse,ri.constFalse,x,ri.constFalse,x,x)},e.alertIterator=I,e.itemReleaser=()=>$o.a.Capabilities.getItemReleaser(),e.hasAlerts=$o.a.Capabilities.getHasAlerts,e.priorityTest=Object(lo.b)(e.isAlertCard,e=>Lo.a.isPriority(e.activeAlert)),e.draftAITest=Object(lo.p)(e.priorityTest,u),e.isInSuccess=$o.a.WithPriority.isInSuccess(e.priorityTest,e.disposable),e.isInSuccessWithDraftAI=$o.a.WithPriority.isInSuccess(e.draftAITest,e.disposable),e.isInGlobalSuccess=$o.a.WithPriority.isInGlobalSuccess(e.priorityTest,e.disposable),e.verifiable=()=>$o.a.Capabilities.getVerifiable(e.disposable),e.alignMarkToGetter=(e,t,n)=>{const r=Po.a.alignMarkToItem(e,t),i=Wo.a.alignMarkToBulkItem(e,t),o=Do.a.ContentOffset.contentOffsetGetter();return e=>a(r(e),r(e),r(e),()=>d.a.EMPTY,()=>d.a.EMPTY,N.g.isSome(e.suggestedPosition)?i({suggestedPosition:N.g.unsafeGet(e.suggestedPosition)}):Wo.a.moveToViewportTop(t,o(!1,n.get())),()=>d.a.EMPTY,()=>d.a.EMPTY,r(e))},e.alignItemToMarkGetter=(e,t)=>{const n=Po.a.alignItemToMark(e,t);return e=>a(n(e),n(e),n(e),()=>d.a.EMPTY,()=>d.a.EMPTY,()=>d.a.EMPTY,()=>d.a.EMPTY,n(e),n(e))};const j={getFeatures:a(()=>[],()=>[],()=>[],()=>[],()=>[],()=>[],()=>[],()=>[],e=>r.a.Item.isBulkDismissSDUI(e)?[r.a.Features.BulkDismiss]:r.a.Item.isBulkAcceptSDUI(e)?[r.a.Features.BulkAccept]:[])};e.getCapabilities=function(t,n,a,r,i,o,s=Fo.b.Default){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},b(o)),e.disposable),e.hidable),e.equatable),w()),C(t)),k(t,i)),E(t,r,s,i)),A(t,s,i)),O(t,r,s,i)),_(t,n,s,i)),e.queries),e.alignable),e.releaseAlert(t,r,s,i)),e.unselectable(t,r,s,i)),e.selectableByAlert(t,r,s,i,o)),e.selectableById(t,r,s,i)),e.updateMeta(a)),e.animatableFeed(t,r,s,i)),e.hasPriorityToggle(t,i)),e.itemReleaser()),e.verifiable()),e.cloneable()),j),e.hasAlerts(I(r),r,()=>e.isSelectableItem,Object.assign(Object.assign({},e.queries),e.disposable)))}}(rs||(rs={}))},"+w1e":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l}));var a,r,i,o,s,l,c=n("D9EC"),u=n("6fbX"),d=n("UEGg"),p=n("++u8");!function(e){let t,n,a;function r(t){return t.type===e.Type.takeawayCorrectlyDetected||t.type===e.Type.takeawayIncorrectlyDetected}function i(t){return t.type===e.Type.bulkApply}function o(t){return t.type===e.Type.bulkDismiss}function s(t){return t.type===e.Type.bulkIgnore}function l(t){return t.type===e.Type.bulkHighlight}function u(t){return t.type===e.Type.bulkUndo}function m(t){return t.type===e.Type.bulkIndividualUndo}function h(t){return t.type===e.Type.bulkLooksGood}!function(e){e.switchToNext="switchToNext",e.switchToClosestByViewport="switchToClosestByViewport",e.alertMinicardButtonClick="alertMinicardButtonClick",e.cardMatchesNavigationButtonClick="cardMatchesNavigationButtonClick",e.openSetGoals="setGoals",e.alertCardShow="alertCardShow",e.moreAlertsButtonShow="moreAlertsButtonShow",e.alternativeReplacementRadioButtonClick="alternativeReplacementRadioButtonClick",e.alertApply="alertApply",e.alertFeedback="alertFeedback",e.hover="hover",e.onboardingClose="onboardingClose",e.muteAlertCategory="muteAlertCategory",e.undoMuteAlertCategory="undoMuteAlertCategory",e.premiumTrialFooterCtaClick="premiumTrialFooterCtaClick",e.toSignIn="toSignIn",e.moreActionsButtonToggle="moreActionsButtonToggle",e.openPreferences="preferences",e.dismissMuteQuotedAdvice="dismissMuteQuotedAdvice",e.fullSentenceHighlightChangesToggle="fullSentenceHighlightChangesToggle",e.muteQuotedAdviceShow="muteQuotedAdviceShow",e.alertIgnore="alertIgnore",e.alertResolve="alertResolve",e.alertIgnoreFormSubmit="alertIgnoreFormSubmit",e.alertApplyFormSubmit="alertApplyFormSubmit",e.alertIgnoreFeedbackFormShow="alertIgnoreFeedbackFormShow",e.gbPromptApply="gbPromptApply",e.gbPromptCreateRule="gbPromptCreateRule",e.gbPromptDismiss="gbPromptDismiss",e.gbPromptShow="gbPromptShow",e.takeawayCorrectlyDetected="takeawayCorrectlyDetected",e.takeawayIncorrectlyDetected="takeawayIncorrectlyDetected",e.takeawayDismiss="takeawayDismiss",e.takeawayResolve="takeawayResolve",e.changeUserInput="changeUserInput",e.focusUserInput="focusUserInput",e.miniItemClick="miniItemClick",e.bulkApply="bulkApply",e.bulkDismiss="bulkDismiss",e.bulkIgnore="bulkIgnore",e.bulkHighlight="bulkHighlight",e.bulkIndividualUndo="bulkIndividualUndo",e.bulkUndo="bulkUndo",e.bulkAcceptItemShow="bulkAcceptItemShow",e.bulkLooksGood="bulkLooksGood",e.mutedAlertSuccessShow="mutedAlertSuccessShow",e.mutedAlertSuccessDismissed="mutedAlertSuccessDismissed",e.mutedAlertSuggestionManagementClick="mutedAlertSuggestionManagementClick",e.toneAIChangeToneAlternative="toneAIChangeToneAlternative",e.shortenItReviewEdit="shortenItReviewEdit",e.shortenItDismissEdit="shortenItDismissEdit",e.shortenItKeepEdit="shortenItKeepEdit",e.sduiCardAction="sduiCardAction",e.openIdeasGallery="openIdeasGallery",e.ethicalAIOpenExternalLink="ethicalAIOpenExternalLink",e.createSnippet="createSnippet",e.snippetsOpenExternalLink="manageSnippetsOpenExternalLink",e.suggestedSnippetSuccessDismissed="suggestedSnippetSuccessDismissed",e.listItemClick="listItemClick"}(t=e.Type||(e.Type={})),function(e){e.defaultCard="defaultCard",e.superCard="superCard"}(n=e.CardType||(e.CardType={})),e.getCardType=function(e){switch(e.activeAlert.type){case d.a.Type.super:return n.superCard;case d.a.Type.default:default:return n.defaultCard}},e.isAlertApplyAction=function(t){return t.type===e.Type.alertApply},e.isAlertFeedbackAction=function(t){return t.type===e.Type.alertFeedback},e.isTakeawayCorrectlyDetectedAction=function(t){return t.type===e.Type.takeawayCorrectlyDetected},e.isTakeawayIncorrectlyDetectedAction=function(t){return t.type===e.Type.takeawayIncorrectlyDetected},e.isTakeawayDismissAction=function(t){return t.type===e.Type.takeawayDismiss},e.isTakeawayResolveAction=function(t){return t.type===e.Type.takeawayResolve},e.isTakeawayDetectionFeedbackAction=r,e.isTakeawayAction=function(t){return r(t)||t.type===e.Type.takeawayDismiss||t.type===e.Type.takeawayResolve},e.isToneAIChangeToneAlternativeAction=function(t){return t.type===e.Type.toneAIChangeToneAlternative},e.isEthicalAIOpenExternalLinkAction=function(t){return t.type===e.Type.ethicalAIOpenExternalLink},e.isSnippetsOpenExternalLink=function(t){return t.type===e.Type.snippetsOpenExternalLink},e.isAlertIgnoreAction=function(t){return t.type===e.Type.alertIgnore},e.isAlertResolveAction=function(t){return t.type===e.Type.alertResolve},e.isAlertIgnoreFeedbackFormSubmit=function(t){return t.type===e.Type.alertIgnoreFormSubmit},e.isAlertApplyFeedbackFormSubmit=function(t){return t.type===e.Type.alertApplyFormSubmit},e.isGbPromptApply=function(t){return t.type===e.Type.gbPromptApply},e.isGbPromptCreateRule=function(t){return t.type===e.Type.gbPromptCreateRule},e.isGbPromptDismiss=function(t){return t.type===e.Type.gbPromptDismiss},e.isGbPromptShow=function(t){return t.type===e.Type.gbPromptShow},e.isMuteCategoryAction=function(t){return t.type===e.Type.muteAlertCategory},e.isUndoMuteCategoryAction=function(t){return t.type===e.Type.undoMuteAlertCategory},e.isMutedAlertCardDismissedAction=function(t){return t.type===e.Type.mutedAlertSuccessDismissed},e.isCreateSnippetAction=function(t){return t.type===e.Type.createSnippet},e.isSuggestedSnippetSuccessDismissed=function(t){return t.type===e.Type.suggestedSnippetSuccessDismissed},e.isHoverAction=function(t){return t.type===e.Type.hover},e.isAlertCardShow=function(t){return t.type===e.Type.alertCardShow},e.isBulkAcceptItemShow=function(t){return t.type===e.Type.bulkAcceptItemShow},e.isSwitchToClosestByViewport=function(t){return t.type===e.Type.switchToClosestByViewport},e.isAlertMinicardButtonClick=function(t){return t.type===e.Type.alertMinicardButtonClick},e.isMiniItemClick=function(t){return t.type===e.Type.miniItemClick},e.isChecklistItemCollapseButtonClick=function(e){return e.type===p.a.Type.collapseButtonClick},e.isOnboardingClose=function(t){return t.type===e.Type.onboardingClose},e.isNavigation=function(t){return t.type===e.Type.openSetGoals||t.type===e.Type.openPreferences},e.isDismissMuteQuotedAdvice=function(t){return t.type===e.Type.dismissMuteQuotedAdvice},e.isMuteQuotedAdviceShow=function(t){return t.type===e.Type.muteQuotedAdviceShow},e.isChangeUserInput=function(t){return t.type===e.Type.changeUserInput},e.isFocusUserInput=function(t){return t.type===e.Type.focusUserInput},e.isBulkApply=i,e.isBulkDismiss=o,e.isBulkIgnore=s,e.isBulkHighlight=l,e.isBulkUndo=u,e.isBulkIndividualUndo=m,e.isBulkLooksGood=h,e.isBulkAction=Object(c.p)(i,o,s,l,m,h,u),e.isMutedAlertSuggestionsManagementClick=function(t){return t.type===e.Type.mutedAlertSuggestionManagementClick},e.isSDUICardAction=function(t){return t.type===e.Type.sduiCardAction},function(e){e.hasAction=function(e,t){return e.actions.some(e=>e.type===t)}}(a=e.ProxySduiCardAction||(e.ProxySduiCardAction={})),e.isOpenIdeasGallery=function(t){return t.type===e.Type.openIdeasGallery},e.isListItemClick=function(t){return t.type===e.Type.listItemClick},e.hasClickPoint=Object(c.p)(e.isBulkHighlight,e.isAlertMinicardButtonClick,e.isListItemClick)}(a||(a={})),function(e){let t;!function(e){e.drilldown="synfonyDrilldownSelect",e.back="synfonyDrilldownBack"}(t=e.Kind||(e.Kind={})),e.isDrilldown=function(e){return e.type===t.drilldown},e.isBack=function(e){return e.type===t.back}}(r||(r={})),function(e){e.isReviewEdit=function(e){return e.type===a.Type.shortenItReviewEdit},e.isDismissEdit=function(e){return e.type===a.Type.shortenItDismissEdit},e.isKeepEdit=function(e){return e.type===a.Type.shortenItKeepEdit}}(i||(i={})),function(e){let t;function n(e){return e.type===t.startTransitionTo}!function(e){e.startTransitionTo="startTransitionTo",e.completeTransitionTo="completeTransitionTo"}(t=e.Kind||(e.Kind={})),e.isStartTransitionTo=n,e.isCardExpand=function(e){return n(e)&&"expanded"===e.transition.type},e.isCompleteTransitionTo=function(e){return e.type===t.completeTransitionTo}}(o||(o={})),function(e){let t;!function(e){e.dismissBatch="dismissBatch"}(t=e.Kind||(e.Kind={})),e.isDismissAlertsBatchAction=function(e){return e.type===t.dismissBatch}}(s||(s={})),function(e){let t;!function(e){e.setAcademicDomainAndCitationStyle="setAcademicDomainAndCitationStyle"}(t=e.Kind||(e.Kind={})),e.isSetAcademicDomainAndCitationStyleAction=function(e){return e.type===t.setAcademicDomainAndCitationStyle}}(l||(l={})),Object(u.d)(void 0)},"//AU":function(e,t,n){e.exports=n.p+"files/a99245a221a8049c7592df0d6dc7ade5/grammarlyproductbeta1_8-bold.woff2"},"/NN6":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n("D57K"),r=n("ERkP"),i=n("9ACk"),o=n("iVSA"),s=n("9NHN"),l=n("LNSM"),c=n("e12y"),u=n("vOOZ"),d=n("zR/0");const p=c.a.stylesheet({visible:[{opacity:1}],hidden:[{opacity:0}],visibleTransition:[{opacity:1,transition:"opacity 150ms linear"}],hiddenTransition:[{opacity:0,transition:"opacity 150ms linear"}]}),m={enter:p.hidden,enterActive:p.visibleTransition,enterDone:p.visible,exit:p.visible,exitActive:p.hiddenTransition,exitDone:p.hidden};var h;!function(e){e.enter="enter",e.enterActive="enterActive",e.enterDone="enterDone",e.exit="exit",e.exitActive="exitActive",e.exitDone="exitDone"}(h||(h={})),function(e){const t={enter:e.enterActive,enterActive:e.enterDone,enterDone:e.exit,exit:e.exitActive,exitActive:e.exitDone,exitDone:e.enter};e.next=e=>t[e],e.shouldSwitchState=t=>n=>n===e.enterDone&&!t||n===e.exitDone&&t||n===e.enter||n===e.exit}(h||(h={}));const g=e=>r.createElement(f,Object.assign({},e,{classNames:m})),f=e=>{const t=r.useRef(function(e){const t=l.a.create(e?h.enterDone:h.exitDone);return{state:t,next:()=>t.modify(h.next)}}(e.in));return r.useEffect(()=>{const n=t.current.state.pipe(d.a.filter(h.shouldSwitchState(e.in)),d.a.delay(0),d.a.tap(t.current.next)).subscribe();return()=>n.unsubscribe()},[e.in,t]),r.createElement(u.a.Fragment,null,t.current.state.view(n=>n===h.exitDone?null:e.children(m[n],t.current.next,n)))};const b=({portalContainer:e,children:t})=>void 0===e?r.createElement(r.Fragment,null,t):r.createElement(i.b,{portalContainer:e},t),y=e=>{var t,{children:n,className:o,state:l,offset:c=8,onTransitionEnd:u,portalContainer:d}=e,p=Object(a.__rest)(e,["children","className","state","offset","onTransitionEnd","portalContainer"]);const m=r.useRef(null),{popoverProps:h}=Object(i.d)(Object.assign(Object.assign({},p),{isNonModal:!0,offset:c,popoverRef:m}),l);return r.createElement(b,{portalContainer:d},r.createElement("div",Object.assign({},h,{style:Object.assign(Object.assign({},h.style),{minWidth:null===(t=p.triggerRef.current)||void 0===t?void 0:t.clientWidth}),ref:m},Object(s.c)(w.popover,o),{onTransitionEnd:u}),r.createElement(i.a,{onDismiss:l.close}),r.createElement("div",{className:w.wrapper},n),r.createElement(i.a,{onDismiss:l.close})))},v=e=>{var{children:t}=e,n=Object(a.__rest)(e,["children"]);const i=r.useRef(t),o=r.useRef(v._index++);return r.useEffect(()=>{v._activePopovers.modify(e=>{const t=new Set(e);return n.state.isOpen?t.add(o.current):t.delete(o.current),t})},[n.state.isOpen]),r.createElement(g,{in:n.state.isOpen},(e,t)=>r.createElement(y,Object.assign({},n,{onTransitionEnd:t},Object(s.c)(n.className,e)),i.current))};v._index=0,v._activePopovers=l.a.create(new Set),v.activeCount=v._activePopovers.view(e=>e.size);const S={width:c.a.percent(100)},C={display:"flex",flexDirection:"column",alignItems:"flex-start",background:o.f.Base.Surface.Primary.Default,boxShadow:o.d.Elevation100.boxShadow,border:o.d.Elevation100.border,borderRadius:c.a.rem(o.e.Radius1)},w=c.a.stylesheet({wrapper:[S],popover:[C]})},"/Yt+":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n("ERkP"),r=n("ot6E"),i=n("HeG+");const o=({activeWord:e})=>{const t=a.useContext(r.a.Context);return a.createElement("div",{className:i.emptyResultWrapper},t.synonyms.empty(a.createElement("span",{className:i.activeWord},e)))},s=({activeWord:e})=>{const t=a.useContext(r.a.Context);return a.createElement("div",{className:i.emptyResultWrapper},t.synonyms.symfony.empty(a.createElement("span",{className:i.activeWord},e)))}},"/by5":function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return A}));var a=n("D57K"),r=n("ERkP"),i=n("OA+g"),o=n("I7vG"),s=n("9NHN"),l=n("vOOZ"),c=n("LNSM"),u=n("rk+4"),d=n("bO3R"),p=n("ZD0N"),m=n("yB2L"),h=n("3rlE"),g=n("Q8bi"),f=n("GUi3"),b=n("viRF"),y=n("XxrX"),v=n("6fbX"),S=n("lrqh"),C=n("39mS");const w=e=>{var{title:t,tooltip:n,tooltipAlignment:i,isActive:o,isDisabled:l,className:c,children:u}=e,m=Object(a.__rest)(e,["title","tooltip","tooltipAlignment","isActive","isDisabled","className","children"]);return r.createElement(d.a,Object.assign({},m,{styleType:g.Typography.Type.Base,active:o,tag:p.b.div,title:"string"==typeof n?r.createElement("div",{className:C.a.tooltip},n):n,titleAlign:i,disabled:l},Object(s.c)(C.a.outcomeBtn,C.a.outcomeBtnBorders,c)),t,u)};const k=({progress:e,label:t})=>r.createElement("div",{className:C.a.progressBarBg},r.createElement(l.a.div,{className:C.a.progressBar,"aria-label":t,role:"progressbar","aria-valuenow":e.view(b.a.iso.unwrap),style:e.view(e=>Boolean(e)?{transform:`translateX(${e}%)`}:{})})),E=({lens:e,activeLensId:t,tooltipAlignment:n,isDisabled:a,cardVisualMode:i,onClick:u})=>r.createElement(d.a,Object.assign({id:e.id,name:"lens-"+e.id,styleType:g.Typography.Type.Base,tag:p.b.div,active:t.view(t=>t===e.id),title:e.description&&r.createElement("div",{className:C.a.tooltip},e.description),"aria-label":`${e.title}: ${e.description}`,titleAlign:n,disabled:a,onClick:u},Object(s.c)(t.view(t=>t!==e.id&&!f.a.isMainLens(t)&&t!==f.a.SpecialId.Premium).view(e=>e&&C.a.inactive),function(e){switch(e){case f.a.SpecialId.Correctness:case f.a.SpecialId.CorrectnessPriority:return C.a.correctness;case f.a.SpecialId.Clarity:case f.a.SpecialId.ClarityPriority:return C.a.clarity;case f.a.SpecialId.Engagement:case f.a.SpecialId.EngagementPriority:return C.a.engagement;case f.a.SpecialId.Delivery:case f.a.SpecialId.DeliveryPriority:return C.a.delivery;case f.a.SpecialId.Vox:case f.a.SpecialId.VoxPriority:return C.a.vox;case f.a.SpecialId.KnowledgeHub:case f.a.SpecialId.KnowledgeHubPriority:return C.a.knowledgeHub;case f.a.SpecialId.Plagiarism:return C.a.plagiarism;default:return Object(v.c)(e)}}(e.id),C.a.outcomeBtnBorders)),e.title,Boolean(e.status)?r.createElement(g.Typography.Small,{className:C.a.outcomeStatus},e.status):null,r.createElement(k,{label:e.title,progress:e.progress}),Object(o.pipe)(e.logo,S.g.map(e=>r.createElement(O,{className:C.a.voxLogo,key:"logo",src:e})),S.g.getOrElse(()=>r.createElement(l.a.Fragment,null,c.a.combine(e.progress.view(b.a.isMax),e.isUnavailable,i,(t,n,a)=>{return t?r.createElement(h.d.CheckmarkOutcomes,{key:"checkmark",className:C.a.checkmarkIcon}):n?r.createElement(h.d.Info,{key:"info",width:11,className:C.a.infoIcon}):a===y.a.CardVisualMode.ContrastLightMode?(i=e.type,o=C.a.checkmarkIcon,[f.a.Type.Critical,f.a.Type.Plagiarism,f.a.Type.Other].includes(i)?null:f.a.outcomeTypeMatch({correctness:r.createElement(h.d.Correctness,{className:o}),clarity:r.createElement(h.d.ClarityOutcome,{className:o}),premium:r.createElement(h.d.Star,{className:o}),engagement:r.createElement(h.d.EngagementOutcome,{className:o}),delivery:r.createElement(h.d.DeliveryOutcome,{className:o}),vox:null,knowledgeHub:null})(i)):null;var i,o}))))),O=({src:e,className:t})=>r.createElement("img",{"aria-hidden":!0,className:t,src:e,alt:""}),A=({id:e,data:t,name:n,activeLensId:a,onClick:o})=>{const s=r.useContext(u.a.Context);return r.createElement(l.a.Fragment,null,t.view(Object(i.flow)(S.g.map(t=>r.createElement(w,{id:e,key:t.id,name:n,title:t.title,isActive:a.view(t=>t===e),onClick:o,className:C.a.premium},r.createElement(l.a.Fragment,null,t.alerts.view(e=>r.createElement(m.a.OutcomeCounter,{theme:C.a,count:e}))),r.createElement(g.Typography.Small,{className:C.a.outcomeStatus},s.sidebar.advancedAlerts))),S.g.toNullable)))}},"/kIX":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n("I7vG"),r=n("gT+5"),i=n("kMag"),o=n("0Hf4"),s=n("Ars8");function l(e,t,n){return Object(a.pipe)(e,u,d(t),p(n,t.length+1),h,e=>e.innerHTML)}const c=()=>o.a.getStyles()+`\n.${r.a.markBulkApplied&&r.a.markBulkApplied.split(/\s/)[0]} { border-bottom-style: hidden !important }`+`\n.${r.a.markSelected&&r.a.markSelected.split(/\s/)[0]} { background-color: transparent !important }`,u=e=>{const t=document.createElement("div");return t.innerHTML=e,t},d=e=>t=>(e.reduce(function(e){return(t,n,a)=>(n.getHighlightRanges().filter(i.b.isMainView).forEach(n=>{const r=e.querySelectorAll(`[${g.MARK_ID}="${n.meta.id}"]`);if(r.length>0){const e=r[r.length-1],n=function(e,t){const n=document.createElement("span");return n.className=s.a.superscriptContainer,n.innerHTML=`<span class="${e} ${s.a.superscript}" data-superscript>${t+1}</span>`,n}(e.classList.value,a);e.appendChild(n),t.push(n)}}),t)}(t),[]).forEach(b),Array.from(t.querySelectorAll("span."+s.b)).forEach(f),t),p=(e,t=0)=>n=>(e.forEach((e,a)=>e.getHighlightRanges().filter(i.b.isMainView).forEach(e=>{const r=n.querySelectorAll(`[${g.MARK_ID}="${e.meta.id}"]`),i=(t+a).toString();r.forEach(e=>e.setAttribute(g.VERTICAL_UNDERLINE,i)),Boolean(r[0])&&(r[0].setAttribute(g.VERTICAL_START,""),m(r[0],i),r[r.length-1].setAttribute(g.VERTICAL_END,""))})),n),m=(e,t)=>e.insertAdjacentHTML("afterbegin",`<span ${g.VERTICAL_INDEX}>${t}</span><span ${g.VERTICAL_BODY}><br /></span>`),h=e=>(e.querySelectorAll(`[${g.VERTICAL_INDEX}]`).forEach(t=>{const n=t.textContent;e.querySelectorAll(`[${g.VERTICAL_UNDERLINE}="${n}"] [${g.VERTICAL_END}]`).forEach(e=>{e.removeAttribute(g.VERTICAL_END)})}),e);var g;function f(e,t,n){var a,r;n.length>t+1&&(a=e,r=n[t+1],a.textContent.length-function(e,t){const n=document.createRange();return n.setStartAfter(e),n.setEndBefore(t),n.toString().length}(a,r)>=0)&&function(e){e.style.width="auto",e.parentElement.insertAdjacentElement("afterend",e)}(e)}function b(e){if(e.children.length>0&&e.previousSibling){const t=Array.from(e.children);e.innerHTML="",function e(t){let n=[];if(!(t instanceof Element))return n;t.matches(`[${g.MARK_ID}]`)&&t.lastElementChild&&t.lastElementChild.classList.contains(s.b)&&(n=Array.from(t.lastElementChild.children),t.lastElementChild.remove());return t.lastElementChild?n.concat(e(t.lastElementChild)):n}(e.previousSibling).concat(t).sort((e,t)=>Number(e.textContent)-Number(t.textContent)).forEach(t=>e.appendChild(t))}}!function(e){e.MARK_ID="data-mark-id",e.VERTICAL_UNDERLINE="data-vertical-underline",e.VERTICAL_START="data-vertical-underline-start",e.VERTICAL_BODY="data-vertical-underline-body",e.VERTICAL_END="data-vertical-underline-end",e.VERTICAL_INDEX="data-vertical-underline-index"}(g||(g={}))},"0/nD":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("p7l/"),o=n("zR/0");!function(e){e.navigationHideWidthThreshold=850,e.useCollapsibleNavbarThreshold=(t=e.navigationHideWidthThreshold)=>r.useContext(i.a.Context).pipe(o.a.pluck("rect","width"),o.a.map(e=>e<=t))}(a||(a={}))},"0A/6":function(e,t,n){"use strict";n.d(t,"a",(function(){return de}));var a=n("ERkP"),r=n("OA+g"),i=n("I7vG"),o=n("vOOZ"),s=n("LNSM"),l=n("lrqh"),c=n("9T0W"),u=n("+w1e"),d=n("D/5U"),p=n("sWLkM"),m=n("rq0W");const h=({children:e,mount:t})=>a.createElement(o.a.div,{"data-role":"animation-wrapper",className:d.a.animationWrapper,mount:t},e),g=e=>Object(i.pipe)(l.g.fromNullable(e.activeAlert),l.g.fold(()=>e.id,e=>e.id));class f extends a.Component{constructor(){super(...arguments),this._elementState=c.a.emptyWithName("card")}_stateToElement(e){switch(e){case"added":case"rendered":return this.props.miniCard;case"focused":case"expanded":case"presuccess":return this.props.fullCard;case"success":return this.props.successCard;case"feedback_form":return this.props.feedbackForm;case"removed":return this.props.removedCard;case"muted":return this.props.mutedCard;default:return null}}componentWillUnmount(){const{card:e,actions:t}=this.props;t.next({type:u.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})}render(){const{actions:e,card:t,transitionClassMapper:n}=this.props;if(!t.visualState.incomplete)return a.createElement(h,{mount:this.props.mount},a.createElement(o.a.div,{key:t.visualState.transition.type},this._stateToElement(t.visualState.transition.type)));const f=n||m.c,{main:b,shade:y}=f(t.visualState),v=s.a.create(void 0===y?l.g.none:Object(i.pipe)(t.visualState.from,l.g.map(e=>({state:e,className:y}))));return!Boolean(b)&&l.g.isNone(v.get())&&requestAnimationFrame(()=>e.next({type:u.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId})),a.createElement(c.a.Context.Provider,{value:this._elementState},a.createElement(h,{mount:this.props.mount},v.view(Object(r.flow)(l.g.map(({state:n,className:r})=>a.createElement(o.a.div,{className:r,key:"shade"+n+g(t),onAnimationEnd:n=>{p.b.get(n.animationName)!==r&&d.b.get(n.animationName)!==r||(e.next({type:u.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),requestAnimationFrame(()=>v.set(l.g.none)))}},this._stateToElement(n))),l.g.toUndefined)),a.createElement(o.a.div,{className:b,key:"expanded"===t.visualState.transition.type?"focused":t.visualState.transition.type,onAnimationEnd:()=>e.next({type:u.a.Kind.completeTransitionTo,id:t.id,transitionId:t.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===t.visualState.transition.type&&e.next({type:u.a.Kind.startTransitionTo,id:t.id,transition:{type:"success",clockwise:t.visualState.transition.clockwise}})}},this._stateToElement(t.visualState.transition.type))))}}var b=n("9NHN"),y=n("ax6a"),v=n("3rlE"),S=n("BugA"),C=n("e12y"),w=n("WIwS"),k=n("ps/9");class E extends a.Component{constructor(){super(...arguments),this._ref=a.createRef(),this._createCardToggler=e=>()=>this.props.actions.next({type:u.b.Type.hover,kind:e,id:this.props.cardId})}componentDidUpdate(){var e,t;Boolean(this.props.inert)?null===(e=this._ref.current)||void 0===e||e.setAttribute("inert","true"):null===(t=this._ref.current)||void 0===t||t.removeAttribute("inert")}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:n,children:r,counter:i,className:s,hideActivateButton:l,hideDot:c}=this.props;return a.createElement(o.a.div,Object.assign({"data-aid":t,mount:e=>this._ref.current=e,onClick:t=>{const a=e();n.next({type:u.b.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:a},clickPoint:{x:t.clientX,y:t.clientY}})},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},Object(b.c)(s,L.wrapper,null!=c&&c?null:L.miniCard)),a.createElement(S.a,Object.assign({},Object(b.c)(L.contentWrapper,null!=c&&c?L.contentWrapperWithoutDot:L.contentWrapperWithDot)),r),a.createElement("div",{className:L.iconContainer},i&&a.createElement("div",{className:O},i),null!=l&&l?null:a.createElement("div",{className:A},a.createElement(v.d.Arrow,{className:L.activeTopIcon}),a.createElement(v.d.Arrow,{className:L.activeBottomIcon}))))}}const O=C.a.joinClasses(["baseMiniCounterContainer",C.a.style({position:"absolute",height:C.a.percent(100),top:0,right:0,zIndex:k.i,margin:"auto 0",background:y.a.CoreNeutral0,opacity:1})]),A=C.a.joinClasses(["baseMiniActivateBtnSelector",C.a.style({position:"absolute",top:0,right:0,height:C.a.percent(100),zIndex:k.i,display:"flex",flexDirection:"column",margin:"auto 0",background:y.a.CoreNeutral0,opacity:0,justifyContent:"center"})]),_={position:"relative",display:"flex",overflow:"hidden",borderRadius:C.a.rem(k.t),background:y.a.CoreNeutral0,boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:y.a.CoreNeutral0,boxShadow:"0 1px 12px 0 rgba(129, 137, 169, .2)",transitionDuration:C.a.seconds(.2)},"&:hover .baseMiniActivateBtnSelector":{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},x={overflow:"hidden",color:w.j,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:C.a.rem(1.5)},I={margin:`0 ${C.a.rem(3)} 0 ${C.a.rem(2)}`},j={paddingLeft:C.a.rem(.5)},T={position:"absolute",top:0,right:C.a.rem(.5),bottom:0,display:"flex"},M={display:"flex",margin:`${C.a.rem(.1)} 0 ${C.a.rem(-1.25)}`,transform:"rotate(180deg)"},N={$nest:{"&:before":{position:"absolute",width:C.a.px(10),height:C.a.px(10),borderRadius:C.a.percent(50),content:"''",transform:"scale(.5)"}}},P={$nest:{"&:before":{margin:"auto 0 auto "+C.a.rem(.75)}}},L=C.a.stylesheet({wrapper:[_],contentWrapper:[x],contentWrapperWithDot:[I],contentWrapperWithoutDot:[j],iconContainer:[T],activeTopIcon:[M],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[N],miniCard:[N,P]});var R=n("qZUR");class B extends a.Component{constructor(){super(...arguments),this._ref=a.createRef(),this._createCardToggler=e=>()=>this.props.actions.next({type:u.b.Type.hover,kind:e,id:this.props.cardId})}componentDidUpdate(){var e,t;Boolean(this.props.inert)?null===(e=this._ref.current)||void 0===e||e.setAttribute("inert","true"):null===(t=this._ref.current)||void 0===t||t.removeAttribute("inert")}componentWillUnmount(){this._createCardToggler("unhover")()}render(){const{getActiveAlert:e,cardId:t,actions:n,children:r,counter:i,className:s,hideActivateButton:l,hideDot:c,sduiStyle:d}=this.props;return a.createElement(o.a.div,Object.assign({"data-aid":t,tabIndex:0,role:"button","aria-disabled":!1,mount:e=>this._ref.current=e,onClick:t=>{const a=e();n.next({type:u.b.Type.alertMinicardButtonClick,alertHighlight:{highlightIndex:0,alert:a},clickPoint:{x:t.clientX,y:t.clientY}})},onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.target.click(),e.preventDefault())},onMouseEnter:this._createCardToggler("hover"),onMouseLeave:this._createCardToggler("unhover")},Object(b.c)(s,null!=d&&d?Y.sduiWrapper:Y.wrapper,null!=c&&c?null:Y.miniCard)),a.createElement(S.a,Object.assign({},Object(b.c)(Y.contentWrapper,null!=c&&c?Y.contentWrapperWithoutDot:Y.contentWrapperWithDot)),r),a.createElement("div",{className:Y.iconContainer},i&&a.createElement("div",{className:F},i),null!=l&&l?null:a.createElement("div",{className:D},a.createElement(v.d.Arrow,{className:Y.activeTopIcon}),a.createElement(v.d.Arrow,{className:Y.activeBottomIcon}))))}}const F=C.a.joinClasses(["baseMiniCounterContainer",C.a.style({position:"absolute",height:C.a.percent(100),top:0,right:0,zIndex:k.i,margin:"auto 0",background:y.a.CoreNeutral0,opacity:1})]),D=C.a.joinClasses(["baseMiniActivateBtnSelector",C.a.style({position:"absolute",top:0,right:0,height:C.a.percent(100),zIndex:k.i,display:"flex",flexDirection:"column",margin:"auto 0",opacity:0,justifyContent:"center"})]),H={position:"relative",display:"flex",overflow:"hidden",borderRadius:C.a.rem(C.d.radius2),background:y.a.CoreNeutral0,boxShadow:R.a.z100,cursor:"pointer",alignItems:"center",$nest:{"&:hover":{background:y.a.CoreNeutral10,transitionDuration:C.a.seconds(.2)},"&:focus":{background:y.a.CoreNeutral10,boxShadow:R.a.z100+", 0 0 0 2px rgb(99 142 235)",outline:"none"},"&:hover .baseMiniActivateBtnSelector":{opacity:1},"&:hover .baseMiniCounterContainer":{opacity:0}}},V={boxShadow:R.b.llamaShadowToken},U={overflow:"hidden",color:w.j,textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:C.a.rem(1.5)},W={margin:`0 ${C.a.rem(3)} 0 ${C.a.rem(2)}`},q={paddingLeft:C.a.rem(.5)},z={position:"absolute",top:0,right:C.a.rem(.5),bottom:0,display:"flex"},$={display:"flex",margin:`${C.a.rem(.1)} 0 ${C.a.rem(-1.25)}`,transform:"rotate(180deg)"},G={$nest:{"&:before":{position:"absolute",width:C.a.px(10),height:C.a.px(10),borderRadius:C.a.percent(50),content:"''",transform:"scale(.5)"}}},K={$nest:{"&:before":{margin:"auto 0 auto "+C.a.rem(.75)}}},Y=C.a.stylesheet({wrapper:[H],sduiWrapper:[H,V],contentWrapper:[U],contentWrapperWithDot:[W],contentWrapperWithoutDot:[q],iconContainer:[z],activeTopIcon:[$],activeBottomIcon:[{display:"flex",height:"auto"}],dotBase:[G],miniCard:[G,K]});var Z,X=n("D9EC"),Q=n("rk+4"),J=n("bO3R"),ee=n("zR/0"),te=n("3bJT");!function(e){e[e.stage0=0]="stage0",e[e.stage1=1]="stage1",e[e.stage2=2]="stage2"}(Z||(Z={}));const ne=({actions:e,isLastCard:t})=>{const n=a.useContext(Q.a.Context).successLens.fixedText.titles,r=s.a.create(Z.stage0),i=()=>e.next({type:u.b.Type.switchToNext});return a.createElement(o.a.div,{className:ue.successWrapper},a.createElement(S.i,{className:ue.successText,onAnimationEnd:()=>{r.set(Z.stage1)}},n[Object(X.q)(n.length)]),a.createElement(o.a.span,null,r.view(e=>e>=Z.stage1&&a.createElement("span",{onAnimationEnd:()=>r.set(Z.stage2)},a.createElement(v.d.CheckmarkAnimated,{className:ue.successCheckMark})))),a.createElement(o.a.span,{className:ue.successBtnHolder},t.pipe(ee.a.combineLatest(r,(e,t)=>t<Z.stage2?null:e?a.createElement(J.a.Caps,{className:ue.doneBtn,name:"done",key:"done-btn",onClick:i},"Done"):a.createElement(J.a.Caps,{className:ue.successBtn,name:"next",key:"next-card",onClick:i},"Next")))))},ae=C.a.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),re={fontWeight:"bold",lineHeight:C.a.rem(2),animation:`${ae} ${C.a.seconds(.2)} linear forwards`},ie={position:"relative",borderRadius:C.a.rem(k.s),background:y.a.CoreNeutral0,boxShadow:`0 ${C.a.rem(.625)} ${C.a.rem(k.a)} 0 rgba(198, 203, 222, .45)`},oe={display:"flex",padding:`${C.a.rem(1.5)} ${C.a.rem(2)}`,alignItems:"center"},se={marginLeft:C.a.rem(1),minWidth:0,minHeight:0,width:C.a.rem(1.325),height:C.a.rem(1.325),animation:`${ae} ${C.a.seconds(.2)} linear forwards`},le={float:"right",width:C.a.rem(4),textAlign:"center",animation:`${ae} ${C.a.seconds(.2)} linear forwards`},ce={backgroundColor:y.a.CoreGreen50,color:y.a.CoreNeutral0,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:w.a}}},ue=Object.assign(Object.assign({},C.a.stylesheet({successText:[re],successCheckMark:[se],successBtnHolder:[{marginLeft:"auto",fontWeight:"bold"}],successBtn:[le],doneBtn:[le,ce]})),{fullCard:C.a.joinClasses([te.b.fullCardSelector,C.a.style(ie)]),successWrapper:C.a.joinClasses([te.b.successWrapperSelector,C.a.style(ie,oe)])});var de,pe;(pe=de||(de={})).Mini=E,pe.MiniContrast=B,pe.Card=f,pe.Success=ne},"0Hf4":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("lyoF");const r=Object(a.a)()},"0PmZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("ERkP"),r=n("9NHN"),i=n("rk+4"),o=n("bO3R"),s=n("3rlE"),l=n("BugA"),c=n("e12y");const u=({onLeftClick:e,onRightClick:t,currentMatch:n,totalMatch:c,replaceOneMatch:u=!0,disableOnEnd:d=!0,style:p})=>{const h=a.useContext(i.a.Context).card.matchesNavigation;return 0===c?null:1===c&&u?a.createElement("div",Object.assign({},Object(r.c)(m.matchesRow,!!Boolean(p.matchesRow)&&p.matchesRow)),a.createElement(l.h,Object.assign({},Object(r.c)(m.matchesCount,!!Boolean(p.matchesCount)&&p.matchesCount)),h.numberOfMatches(c))):a.createElement("div",Object.assign({},Object(r.c)(m.matchesRow,!!Boolean(p.matchesRow)&&p.matchesRow)),a.createElement(o.a.Ghost,{disabled:d&&0===n,name:"left",title:h.prev,"aria-label":h.prev,onClick:e},a.createElement(s.d.Arrow,Object.assign({},Object(r.c)(m.leftButtonIcon,!!Boolean(p.leftButtonIcon)&&p.leftButtonIcon)))),a.createElement(l.h,Object.assign({},Object(r.c)(m.matchesCount,!!Boolean(p.matchesCount)&&p.matchesCount)),h.currentMatchPosition(n+1,c)),a.createElement(o.a.Ghost,{disabled:d&&n===c-1,name:"right",title:h.next,"aria-label":h.next,onClick:t},a.createElement(s.d.Arrow,Object.assign({},Object(r.c)(m.rightButtonIcon,!!Boolean(p.rightButtonIcon)&&p.rightButtonIcon)))))},d={display:"inline-block",verticalAlign:"middle",$nest:{"& > * + *":{marginLeft:c.a.rem(.25)}}},p={textTransform:"uppercase",letterSpacing:c.a.px(.8),lineHeight:c.a.rem(2)},m=c.a.stylesheet({matchesRow:[d],leftButtonIcon:[{transform:"rotate(90deg)"}],rightButtonIcon:[{transform:"rotate(270deg)"}],matchesCount:[p]})},"0Qd1":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n("ERkP"),r=n("bO3R"),i=n("BugA"),o=n("9NHN"),s=n("3rlE"),l=n("e12y");const c={marginRight:l.a.rem(.5),width:l.a.rem(2)},u=l.a.stylesheet({base:[{display:"flex",alignItems:"center"}],icon:[c]}),d=({className:e})=>a.createElement("div",Object.assign({},Object(o.c)(u.base,e)),a.createElement(s.d.Grammarly,{className:u.icon}),a.createElement("svg",{"aria-hidden":!0,width:"99",height:"18",viewBox:"0 0 99 18"},a.createElement("g",{fill:"#4C4C4C",fillRule:"evenodd"},a.createElement("path",{d:"M2 17.16c-.5-.2-.84-.6-.84-1.16 0-.67.55-1.23 1.22-1.23.2 0 .36.04.5.1.86.4 1.8.63 2.92.63 2.05 0 3.02-.98 3.02-2.88v-.5c-.9 1.05-1.86 1.7-3.46 1.7-2.47 0-4.7-1.8-4.7-4.93v-.05c0-3.16 2.27-4.93 4.7-4.93 1.64 0 2.6.7 3.42 1.58v-.02c0-.8.67-1.48 1.5-1.48s1.5.67 1.5 1.5v6.8c0 1.9-.46 3.28-1.35 4.17-.98 1-2.5 1.42-4.55 1.42-1.4 0-2.63-.25-3.87-.74zM8.83 8.9v-.05c0-1.44-1.13-2.45-2.6-2.45-1.45 0-2.56 1-2.56 2.45v.04c0 1.45 1.1 2.44 2.57 2.44 1.46 0 2.6-1 2.6-2.45zM13.47 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.47C16.9 4.94 17.62 4 18.5 4c.94 0 1.47.6 1.47 1.46 0 .8-.52 1.26-1.13 1.4-1.52.35-2.37 1.52-2.37 3.65v2.8c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M19.6 11.65v-.03c0-2.3 1.77-3.38 4.28-3.38 1.06 0 1.83.18 2.58.43V8.5c0-1.25-.77-1.94-2.27-1.94-.84 0-1.5.12-2.08.3-.18.06-.3.08-.43.08-.7 0-1.26-.54-1.26-1.23 0-.52.34-.97.8-1.15.96-.36 1.98-.55 3.4-.55 1.62 0 2.8.43 3.56 1.18.8.8 1.14 1.96 1.14 3.38v4.8c0 .82-.65 1.45-1.46 1.45-.87 0-1.44-.6-1.44-1.23v-.02c-.73.8-1.73 1.34-3.2 1.34-2 0-3.63-1.15-3.63-3.25zm6.9-.7v-.52c-.5-.24-1.18-.4-1.9-.4-1.3 0-2.1.52-2.1 1.47v.04c0 .8.7 1.28 1.65 1.28 1.4 0 2.35-.77 2.35-1.86zM30.94 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.12c.7-.9 1.6-1.7 3.12-1.7 1.38 0 2.43.6 2.98 1.68.93-1.1 2.03-1.68 3.47-1.68 2.25 0 3.6 1.34 3.6 3.9v5.5c0 .82-.68 1.5-1.5 1.5-.84 0-1.5-.68-1.5-1.5V8.78c0-1.43-.64-2.16-1.77-2.16-1.12 0-1.8.73-1.8 2.15v4.5c0 .84-.7 1.5-1.52 1.5-.8 0-1.5-.66-1.5-1.5V8.8c0-1.43-.62-2.16-1.74-2.16-1.13 0-1.82.73-1.82 2.15v4.5c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M48.7 5.5c0-.83.68-1.5 1.5-1.5.84 0 1.5.67 1.5 1.5v.12c.7-.9 1.6-1.7 3.13-1.7 1.38 0 2.42.6 2.98 1.68.93-1.1 2.04-1.68 3.48-1.68 2.23 0 3.57 1.34 3.57 3.9v5.5c0 .82-.67 1.5-1.5 1.5s-1.5-.68-1.5-1.5V8.78c0-1.43-.63-2.16-1.75-2.16-1.13 0-1.82.73-1.82 2.15v4.5c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V8.8c0-1.43-.63-2.16-1.76-2.16-1.12 0-1.8.73-1.8 2.15v4.5c0 .84-.68 1.5-1.5 1.5-.84 0-1.5-.66-1.5-1.5V5.5M65.84 11.65v-.03c0-2.3 1.76-3.38 4.26-3.38 1.07 0 1.84.18 2.6.43V8.5c0-1.25-.78-1.94-2.28-1.94-.83 0-1.5.12-2.07.3-.18.06-.3.08-.44.08-.68 0-1.23-.54-1.23-1.23 0-.52.33-.97.8-1.15.96-.36 1.98-.55 3.38-.55 1.64 0 2.83.43 3.58 1.18.8.8 1.14 1.96 1.14 3.38v4.8c0 .82-.65 1.45-1.46 1.45-.86 0-1.43-.6-1.43-1.23v-.02c-.73.8-1.74 1.34-3.2 1.34-2 0-3.63-1.15-3.63-3.25zm6.9-.7v-.52c-.52-.24-1.2-.4-1.93-.4-1.27 0-2.06.52-2.06 1.47v.04c0 .8.67 1.28 1.64 1.28 1.4 0 2.35-.77 2.35-1.86zM77.17 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.47C80.6 4.94 81.3 4 82.2 4c.93 0 1.46.6 1.46 1.46 0 .8-.5 1.26-1.12 1.4-1.52.35-2.37 1.52-2.37 3.65v2.8c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M84.57 1.67c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V13.3c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V1.68M89.96 17.63c-.43-.15-.95-.5-.95-1.24s.58-1.23 1.2-1.23c.23 0 .37.04.5.08.25.08.4.12.62.12.53 0 .8-.1 1.07-.64l.1-.23-3.63-8.37c-.07-.2-.15-.5-.15-.7 0-.84.65-1.43 1.48-1.43.75 0 1.18.4 1.44 1.12l2.3 6.16 2.2-6.14C96.37 4.5 96.8 4 97.58 4c.77 0 1.42.6 1.42 1.38 0 .24-.08.57-.14.7l-3.7 8.87c-.88 2.15-1.77 2.96-3.56 2.96-.67 0-1.15-.1-1.64-.27"}))));var p=n("ax6a");const m=l.a.style({display:"flex",flexDirection:"column",width:"100vw",height:"100vh",background:p.a.CoreNeutral1,justifyContent:"center",alignItems:"center"}),h=l.a.style({position:"absolute",top:l.a.rem(1.875),left:l.a.rem(2.5)}),g=l.a.style({marginTop:l.a.rem(4.25),letterSpacing:"-.8px",fontSize:l.a.rem(2.625),lineHeight:l.a.rem(3.5)}),f=l.a.style({textAlign:"center",marginTop:l.a.rem(1),color:p.a.CoreNeutral50}),b=l.a.style({$nest:{"&[data-textpos='everywhere']":{marginTop:l.a.rem(2.25),padding:"0 "+l.a.rem(2.5),textTransform:"initial",letterSpacing:0,fontSize:l.a.rem(1),lineHeight:l.a.rem(3.125)}}}),y=l.a.style({marginTop:l.a.rem(1)}),v=({name:e,logo:t,title:n,description:o,primaryButton:s,secondaryButton:l})=>a.createElement("div",{"data-name":e,className:m},a.createElement(d,{className:h}),t,a.createElement(i.c,{className:g},n),a.createElement(i.j,{className:f},o),a.createElement(r.a.Primary,{name:"primary-button",className:b,onClick:s.onClick},s.title),l&&a.createElement(r.a.Ghost,{className:y,name:"secondary-button",onClick:l.onClick},l.title))},"0REP":function(e,t,n){"use strict";n.d(t,"c",(function(){return V})),n.d(t,"d",(function(){return U})),n.d(t,"e",(function(){return W})),n.d(t,"f",(function(){return q})),n.d(t,"a",(function(){return se})),n.d(t,"b",(function(){return le}));var a=n("f9Xq"),r=n("e12y"),i=n("qZUR"),o=n("ax6a"),s=n("PDIG"),l=n("0/nD");const c=r.a.percent(80),u=r.a.vh(20),d=r.a.percent(80),p=r.a.rem(20),m=s.a.maxWidth(l.a.navigationHideWidthThreshold),h=(e,t=0)=>({transition:`${r.a.seconds(e)} transform linear, ${r.a.seconds(e)} opacity linear`,transitionDelay:r.a.seconds(t)}),g=r.a.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),f={position:"relative",height:r.a.percent(100)},b={display:"flex",$nest:{[s.a.print]:{display:"none"}}},y={position:"relative",zIndex:r.d.level0,marginRight:r.a.rem(r.d.navigationWidth),width:r.a.rem(r.d.sidebarWidth),transition:"opacity .2s",$nest:{[s.a.tiny]:{width:r.a.rem(r.d.sidebarWidthTiny)},[s.a.xs]:{width:r.a.rem(r.d.sidebarWidthXs),marginRight:r.a.rem(r.d.navigationWidthXs)},[s.a.xsLower]:{width:r.a.rem(r.d.sidebarWidthXs),marginRight:r.a.rem(r.d.navigationWidthXs-1)},[m]:{width:r.a.rem(r.d.sidebarWidthXs),marginRight:0},[s.a.xss]:{width:r.a.rem(r.d.sidebarWidthXss),[`& button[data-name*="${a.a.ComponentKnownName.ButtonPrev}"], & button[data-name*="${a.a.ComponentKnownName.ButtonNext}"]`]:{display:"none"}}}},v={width:p},S={marginRight:r.a.rem(r.d.navigationWidth),$nest:{"&:before":{position:"absolute",left:r.a.rem(-1.5),display:"block",marginTop:r.a.rem(-4),paddingTop:r.a.rem(4),width:r.a.rem(1.5),height:r.a.percent(100),background:o.a.CoreNeutral0,content:"''"},[s.a.xs]:{marginRight:r.a.rem(r.d.navigationWidthXs)},[s.a.xsLower]:{marginRight:r.a.rem(r.d.navigationWidthXs-1)},[m]:{marginRight:0}}},C={position:"absolute",top:0,right:0,height:r.a.percent(100),pointerEvents:"auto",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"8fr 2fr"},w={position:"absolute",zIndex:r.d.level1,opacity:1},k={position:"absolute",zIndex:r.d.level0,display:"none"},E={opacity:0,$nest:{"&.lensMoveDown":{transform:`translateY(${c}))`},"&.lensMoveUp":{transform:`translateY(-${c}))`}}},O={opacity:0,$nest:{"&.lensMoveDown":{transform:`translateY(${u})`},"&.lensMoveUp":{transform:`translateY(-${u})`}}},A={position:"absolute",visibility:"hidden",opacity:.1,pointerEvents:"none"},_={opacity:.1,pointerEvents:"none"},x={animation:`${g} ${r.d.cardAnimationTime}ms`},I={opacity:0,$nest:{"&.lensMoveDown":{transform:`translateY(-${c}))`},"&.lensMoveUp":{transform:`translateY(${c}))`}}},j={opacity:.5,$nest:{"&.lensMoveDown":{transform:`translateY(-${u})`},"&.lensMoveUp":{transform:`translateY(${u})`}}},T={position:"absolute",zIndex:r.d.level0,opacity:0,pointerEvents:"none",$nest:{"&.lensMoveDown":{transform:`translateY(${u})`},"&.lensMoveUp":{transform:`translateY(-${u})`}}},M={position:"absolute",zIndex:r.d.level0},N={position:"absolute",zIndex:r.d.level1,opacity:1},P={opacity:0,$nest:{"&.lensMoveDown":{transform:`translateY(-${u})`},"&.lensMoveUp":{transform:`translateY(${u})`}}},L={position:"absolute",zIndex:r.d.level1,opacity:1},R={position:"absolute",opacity:0,transform:`translateX(${d})`},B={opacity:0,transform:`translateX(${d})`},F={position:"absolute",zIndex:r.d.level0,opacity:0,transform:`translateX(${d})`},D={opacity:0,transform:`translateX(${d})`},H={transform:"translateX(0)"},V={opacity:1},U={opacity:0,transform:`translateX(${d})`},W={opacity:0,transform:`translateX(${d})`,pointerEvents:"none"},q={transform:"translateX(0)"},z={position:"absolute",top:r.a.rem(-3),left:r.a.rem(-.1),fontWeight:"bold"},$={position:"absolute",top:0,right:0,width:"auto",height:"100vh",pointerEvents:"all",$nest:{[m]:{width:r.a.rem(12),transition:"transform .25s"}}},G={$nest:{[s.a.maxWidth(l.a.navigationHideWidthThreshold)]:{transform:`translateX(${r.a.rem(11)})`}}},K={$nest:{[m]:{transform:"translateX(0)"}}},Y={display:"none",cursor:"pointer",position:"absolute",left:r.a.rem(-1.65),top:r.a.rem(1),zIndex:r.d.level1,background:o.a.CoreNeutral0,borderRadius:r.a.px(5),border:"none",width:r.a.rem(2),height:r.a.rem(2),boxShadow:i.a.z100,margin:0,padding:0,overflow:"visible",textTransform:"none","-webkit-appearance":"none","-moz-appearance":"none",$nest:Object.assign(Object.assign({[m]:{display:"block"},"& i":{transform:"rotateZ(270deg)"},"&:active path":{stroke:o.a.CoreBlue50},"&:hover path":{stroke:o.a.CoreBlue50}},Object(s.c)({$nest:{"& path":{stroke:o.a.CoreBlue50}}}).$nest),{"&:focus:not(:focus-visible)":{boxShadow:i.a.z100}})},Z={zIndex:r.d.level2,height:"auto"},X={position:"absolute",width:r.a.percent(100)},Q={padding:`${r.a.rem(11)} ${r.a.rem(r.d.assistantSuccessLensPaddingRight)} 0 0`,width:r.a.percent(100),$nest:{[s.a.xssHeight]:{padding:`${r.a.rem(6)} ${r.a.rem(r.d.assistantSuccessLensPaddingRight)} 0 0`}}},J={display:"flex",flexDirection:"column",width:r.a.percent(100),height:"100vh",justifyContent:"center"},ee={height:r.a.rem(20)},te={position:"absolute",top:r.a.rem(1),width:r.a.percent(100)},ne={marginTop:r.a.rem(.5)},ae={marginLeft:r.a.rem(.25),padding:0,textTransform:"none",lineHeight:o.h.BodyLineHeight,$nest:{"&[data-textpos='everywhere']":{padding:0},"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{background:"none"}}},re={margin:r.a.rem(2)+" auto 0"},ie={position:"relative",opacity:1},oe={width:r.a.percent(100),position:r.a.important("static")},se=r.a.prefixedStylesheet("assistant",{fullHeight:[f],sidebarWrapper:[f,b],wrapper:[y],draftAIWrapper:[y,{marginRight:0}],iPadWrapper:[y,v],loaderWrapper:[y,S],fadedWrapper:[y,{opacity:0}],hiddenWrapper:[{position:"absolute",top:0,right:0,pointerEvents:"none"}],actionsWrapper:[C],lensLeaveStart:[w],lensLeaveStartTitle:[{opacity:1,transform:"translateY(0)"}],lensLeaveStartContent:[{opacity:1}],lensLeave:[h(.2),k],lensLeaveTitle:[h(.1),E],lensLeaveContent:[h(.2/3),O],lensHideStart:[A],lensHide:[A,{opacity:0,transition:"opacity .01s"}],contentHideStart:[_],contentHide:[_,{opacity:0,transition:"opacity .01s"}],lensEnter:[h(.2),{position:"absolute",opacity:1}],lensEnterTitle:[h(.1,.1),{opacity:1,transform:"translateY(0)"}],lensEnterContent:[h(.2),{opacity:1}],draftAILensContent:[x],lensEnterStart:[{opacity:0}],lensEnterStartTitle:[I],lensEnterStartContent:[j],stateLeave:[h(.2),T],stateLeaveStart:[M],stateEnter:[h(.2),N],stateEnterStart:[P],sidebarEnterLeft:[h(.2),L],titleEnterLeft:[h(.2),{}],sidebarEnterLeftStart:[R],titleEnterLeftStart:[B],sidebarLeaveRight:[h(.2),F],titleLeaveRight:[h(.2),D],sidebarLeaveRightStart:[H],navigationEnterLeft:[h(.2/3.1,.2-.2/3.1),V],navigationEnterLeftStart:[U],navigationLeaveRight:[h(.2/3.1),W],navigationLeaveRightStart:[q],allAlerts:[z],allAlertsVisible:[z,{transition:"opacity .2s ease .1s, transform .2s ease-out"}],allAlertsHidden:[z,{opacity:0,transition:"opacity .1s, transform .2s ease-out",transform:"scale(.75)",pointerEvents:"none"}],navigationWrapperTier:[$],expandedNavWrapperTier:[$,K],collapsedNavWrapperTier:[$,G],navCollapseButton:[Y,{$nest:{"& i":{transform:"rotateZ(90deg)"}}}],navExpandButton:[Y],sidebarTier:[Z],absoluteAssistant:[X],successLens:[Q],successLensContent:[{}],successLensIPad:[J],successLensContentIPad:[ee],successLensHeader:[te],toAllAlerts:[ne],mutedSuggestions:[{display:"inline-flex"}],reviewButton:[ae],upgradeButton:[re],newSuccessContainerContainer:[{position:"relative"}],onboardingWrapper:[oe]}),le=r.a.stylesheet({sidebarLoaderBase:[ie],checkingInStart:[R,ie],checkingInEnd:[L,ie],checkingOutStart:[H,ie],checkingOutEnd:[F,ie],checkingStart:[{opacity:.99}],checkingEnd:[{opacity:1,transition:"opacity .01s"}],hideStart:[{pointerEvents:"none"}],hideEnd:[{opacity:0,transition:"opacity .01s",pointerEvents:"none"}]})},"0UWf":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("a5W6"),r=n("m6JR"),i=n("OA+g"),o=n("5p8x"),s=n("ST6u"),l=r.eqString,c=r.eqNumber,u=r.eqBoolean;r.fromEquals((function(e,t){return e.length===t.length})),r.fromEquals((function(e,t){for(var n in e)if(!(n in t))return!1;for(var n in t)if(!(n in e))return!1;return!0}));var d=r.getStructEq,p=d;var m=o.h,h=a.getEq,g=r.getTupleEq;var f=i.identity,b={URI:r.URI,literal:function(){return r.eqStrict},string:l,number:c,boolean:u,nullable:function(e){return{equals:function(t,n){return null===t||null===n?t===n:e.equals(t,n)}}},type:p,struct:d,partial:function(e){return{equals:function(t,n){for(var a in e){var r=t[a],i=n[a];if(!(void 0===r||void 0===i?r===i:e[a].equals(r,i)))return!1}return!0}}},record:m,array:h,tuple:g,intersect:function(e){return function(t){return{equals:function(n,a){return t.equals(n,a)&&e.equals(n,a)}}}},sum:function(e){return function(t){return{equals:function(n,a){var r=n[e];return r===a[e]&&t[r].equals(n,a)}}}},lazy:function(e,t){return function(e){var t=Object(s.b)(e);return{equals:function(e,n){return t().equals(e,n)}}}(t)},readonly:f}},"0mPX":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("aIes");const r=["b","i","br","ul","li"];var i;!function(e){e.renderToHtml=function(e,t){const n=t?{allowedTags:r.concat(["a"]),linkRegExp:t}:{allowedTags:r};return a.d.setInnerHTML(e,n)}}(i||(i={}))},"17O8":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("D57K"),i=n("ERkP"),o=n("OA+g"),s=n("I7vG"),l=n("vOOZ"),c=n("9NHN"),u=n("zR/0"),d=n("gy42"),p=n("nb6X"),m=n("hoSD"),h=n("6fbX"),g=n("lrqh"),f=n("D9EC"),b=n("ax6a"),y=n("p7l/"),v=n("e12y"),S=n("xEVj");!function(e){let t;!function(e){e.toSelector=function(e){switch(e){case"top":case"topCenter":return{align:"top",selector:p.a.Selector.preferBy("top",p.a.Selector.Placement.middle)};case"topRight":return{align:"top",selector:p.a.Selector.preferBy("top",p.a.Selector.Placement.right)};case"topLeft":return{align:"top",selector:p.a.Selector.preferBy("top",p.a.Selector.Placement.left)};case"bottom":case"bottomCenter":return{align:"bottom",selector:p.a.Selector.preferBy("bottom",p.a.Selector.Placement.middle)};case"bottomRight":return{align:"bottom",selector:p.a.Selector.preferBy("bottom",p.a.Selector.Placement.right)};case"bottomLeft":return{align:"bottom",selector:p.a.Selector.preferBy("bottom",p.a.Selector.Placement.left)};case"left":return{align:"left",selector:p.a.Selector.preferBy("left",p.a.Selector.Placement.middle)};case"right":return{align:"right",selector:p.a.Selector.preferBy("right",p.a.Selector.Placement.middle)};case"auto":case"center":return{align:m.c.Rect.Axis.vertical,selector:p.a.Selector.preferBy("top",p.a.Selector.Placement.middle)};default:return Object(h.c)(e)}}}(t=e.Alignment||(e.Alignment={})),e.ByPoint=e=>{var{point:t,className:n}=e,a=Object(r.__rest)(e,["point","className"]);return i.createElement(l.a.div,Object.assign({"data-role":"positioned-container",style:t.pipe(u.a.map(g.g.mapOrDefault(p.a.toCss,{})))},Object(c.c)(_.wrapper,n,t.pipe(u.a.map(e=>g.g.isNone(e)?_.hidden:""))),a))};const n=t=>{var n;const{rect:r,onMount:s}=S.a.useRectWatcher(),l=d.b.toObservable(t.rect),c=d.b.toObservable(t.pinTargetRect),m=b(t.align),h=a(l,r,m,null!==(n=t.selector)&&void 0!==n?n:p.a.Selector.preferTopMiddle,c,"relative"===t.position);return i.createElement(e.ByPoint,{mount:s,className:t.className,point:h.pipe(u.a.map(g.g.map(e=>e.tangentialPoint)))},!0===t.withPin&&h.pipe(u.a.map(Object(o.flow)(g.g.chain(e=>e.median),g.g.map(t=>i.createElement(e.Pin,{point:t,key:"pin"})),g.g.toNullable))),t.children)};e.ByAbsoluteRect=e=>i.createElement(n,Object.assign({},e,{position:"absolute"})),e.ByRelativeRect=e=>i.createElement(n,Object.assign({},e,{position:"relative"})),e.Pin=e=>{const t=d.b.toObservable(e.point).pipe(u.a.map(e=>e.side),u.a.map(e=>A[e])),n=d.b.toObservable(e.point).pipe(u.a.map(e=>e.point),u.a.map(({x:e,y:t})=>({top:t,left:e})));return i.createElement(l.a.i,Object.assign({"data-role":"pin",style:n},Object(c.c)(t,A.wrapper)))};const a=(e,t,n,a,r,o)=>u.a.combineLatestStatic(e,i.useContext(y.a.Context).pipe(u.a.map(e=>e.rect)),t.pipe(u.a.distinctUntilChanged(g.g.getEq(m.c.Box.eq).equals)),r).pipe(u.a.map(([e,t,r,i])=>Object(s.pipe)(r,g.g.map(r=>{const l=p.a.QualifiedVariants.build(t,r,n(e));let c=a(l).point;const u=Object(s.pipe)(p.a.toRect(r,c),g.g.fromEither,g.g.chain(t=>Object(s.pipe)(m.c.Rect.getMedian(e,t),g.g.map(e=>({anchorMedian:e,bodyRect:t})))),g.g.chain(({anchorMedian:e,bodyRect:t})=>{if(void 0!==i){const n=m.c.Rect.stickToSide(m.c.Rect.Side.invert(e.side),i)(t);return c=p.a.fromRect(n),Object(s.pipe)(m.c.Rect.getMedian(i,n),g.g.map(({side:e,point:t})=>({side:e,point:m.c.Rect.Point.relativeTo(t,n)})))}return Object(s.pipe)(g.g.some(e),g.g.map(({side:e,point:n})=>({side:e,point:m.c.Rect.Point.relativeTo(n,t)})))}));return{tangentialPoint:p.a.relativeTo(c,o?e:t),median:u}})))),b=(e=m.c.Rect.Axis.both)=>Object(f.w)(m.c.Rect.Axis,e)?t=>p.a.Variants.byAxis(e,t):t=>({[e]:p.a.Zone.bySide(e,t)})}(a||(a={}));const C={position:"absolute",border:`${v.a.px(7)} solid ${b.a.BackgroundTooltip}`,transform:`translate(${v.a.px(-7)}, ${v.a.px(-7)})`},w={borderTopColor:"transparent",borderRightColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${v.a.px(7)})`}}},k={borderTopColor:"transparent",borderRightColor:"transparent",borderBottomColor:"transparent",$nest:{"& + *":{transform:`translateX(${v.a.px(-7)})`}}},E={borderRightColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${v.a.px(-7)})`}}},O={borderTopColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateX(${v.a.px(7)})`}}},A=v.a.stylesheet({wrapper:[C],top:[w],right:[k],bottom:[E],left:[O]}),_=v.a.stylesheet({hidden:[{visibility:"hidden",opacity:0}],wrapper:[{position:"absolute",transition:"opacity .2s"}]})},"1Y2u":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("ERkP"),r=n("LNSM"),i=n("9NHN"),o=n("rk+4"),s=n("bO3R"),l=n("3rlE"),c=n("jAl6"),u=n("CXK/"),d=n("zR/0"),p=n("aH3e"),m=n("QRqj");const h=l.c.size+2,g=(28-h)/2,f=e=>{const t=a.useContext(o.a.Context),n=r.a.combine(e.checking,e.hasErrors,(e,n)=>{const r=e?t.sidebar.checkingLabel:n?t.sidebar.fixErrorsLabel:t.sidebar.openLabel;return a.createElement("div",{className:m.labelReveal,key:"label","data-name":r},r)}),i=u.a.fadeOutState(e.checking.pipe(d.a.skipWhile(e=>!1===e))),l=e.checking.pipe(d.a.map(e=>e?"inProgress":"end")),p=l.pipe(d.a.map(e=>"end"!==e?a.createElement(c.a.Svg,{role:"presentation",key:"loading",type:"white",size:h,strokeWidth:5,onTransitionEnd:i.complete,x:164+g,y:g}):null)),f=l.pipe(d.a.map(e=>"inProgress"===e?null:a.createElement("g",{"data-name":"checking-complete",className:"checking-complete",key:"complete"})));return a.createElement(s.a,{name:"assistant",className:m.full,onClick:e.onClick},a.createElement(y,null,f,p),n)},b=Object(i.d)(e=>a.createElement("g",Object.assign({},e))),y=({children:e})=>{const t=a.useContext(p.a.Context);return a.createElement("svg",{viewBox:"0 0 192 28",className:t.has(p.a.Flag.supportsSVGTransitions)?m.background:m.edgeBackground},a.createElement("defs",null,a.createElement("mask",{id:"mask"},a.createElement("circle",{cx:14,cy:14,r:14,fill:"#fff"}),a.createElement("rect",{x:14,width:164,height:28,fill:"#fff"}),a.createElement("circle",{cx:178,cy:14,r:14,fill:"#fff"})),a.createElement("clipPath",{id:"clip"},a.createElement("circle",{cx:178,cy:14,r:14}),a.createElement("rect",{x:-14,width:192,height:28,fill:"#fff"}))),a.createElement("g",{clipPath:"url(#clip)"},a.createElement("rect",{id:"box",x:"0",y:"0",width:192,height:28,mask:"url(#mask)"})),a.createElement(b,null,e))}},"1aGC":function(e,t,n){(function(t){var n;"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(17),r=n(18),i=n(19),o=n(45),s=n(46),l=n(47),c=n(48),u=n(49),d=n(12),p=n(32),m=n(33),h=n(31),g=n(1),f={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:a.default,Format:r.default,Leaf:i.default,Embed:c.default,Scroll:o.default,Block:l.default,Inline:s.default,Text:u.default,Attributor:{Attribute:d.default,Class:p.default,Style:m.default,Store:h.default}};t.default=f},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return r(t,e),t}(Error);t.ParchmentError=i;var o,s={},l={},c={},u={};function d(e,t){var n;if(void 0===t&&(t=o.ANY),"string"==typeof e)n=u[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=u.text;else if("number"==typeof e)e&o.LEVEL&o.BLOCK?n=u.block:e&o.LEVEL&o.INLINE&&(n=u.inline);else if(e instanceof HTMLElement){var a=(e.getAttribute("class")||"").split(/\s+/);for(var r in a)if(n=l[a[r]])break;n=n||c[e.tagName]}return null==n?null:t&o.LEVEL&n.scope&&t&o.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(o=t.Scope||(t.Scope={})),t.create=function(e,t){var n=d(e);if(null==n)throw new i("Unable to create "+e+" blot");var a=n,r=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:a.create(t);return new a(r,t)},t.find=function e(n,a){return void 0===a&&(a=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:a?e(n.parentNode,a):null},t.query=d,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e(t)}));var a=t[0];if("string"!=typeof a.blotName&&"string"!=typeof a.attrName)throw new i("Invalid definition");if("abstract"===a.blotName)throw new i("Cannot register abstract class");if(u[a.blotName||a.attrName]=a,"string"==typeof a.keyName)s[a.keyName]=a;else if(null!=a.className&&(l[a.className]=a),null!=a.tagName){Array.isArray(a.tagName)?a.tagName=a.tagName.map((function(e){return e.toUpperCase()})):a.tagName=a.tagName.toUpperCase();var r=Array.isArray(a.tagName)?a.tagName:[a.tagName];r.forEach((function(e){null!=c[e]&&null!=a.className||(c[e]=a)}))}return a}},function(e,t,n){var a=n(51),r=n(11),i=n(3),o=n(20),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(r(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(a){(e(a)?t:n).push(a)})),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+o.length(t):t.delete?e-t.delete:e}),0)},l.prototype.length=function(){return this.reduce((function(e,t){return e+o.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],a=o.iterator(this.ops),r=0;r<t&&a.hasNext();){var i;r<e?i=a.next(e-r):(i=a.next(t-r),n.push(i)),r+=o.length(i)}return new l(n)},l.prototype.compose=function(e){for(var t=o.iterator(this.ops),n=o.iterator(e.ops),a=new l;t.hasNext()||n.hasNext();)if("insert"===n.peekType())a.push(n.next());else if("delete"===t.peekType())a.push(t.next());else{var r=Math.min(t.peekLength(),n.peekLength()),i=t.next(r),s=n.next(r);if("number"==typeof s.retain){var c={};"number"==typeof i.retain?c.retain=r:c.insert=i.insert;var u=o.attributes.compose(i.attributes,s.attributes,"number"==typeof i.retain);u&&(c.attributes=u),a.push(c)}else"number"==typeof s.delete&&"number"==typeof i.retain&&a.push(s)}return a.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),i=new l,c=a(n[0],n[1],t),u=o.iterator(this.ops),d=o.iterator(e.ops);return c.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case a.INSERT:n=Math.min(d.peekLength(),t),i.push(d.next(n));break;case a.DELETE:n=Math.min(t,u.peekLength()),u.next(n),i.delete(n);break;case a.EQUAL:n=Math.min(u.peekLength(),d.peekLength(),t);var s=u.next(n),l=d.next(n);r(s.insert,l.insert)?i.retain(n,o.attributes.diff(s.attributes,l.attributes)):i.push(l).delete(n)}t-=n}})),i.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=o.iterator(this.ops),a=new l,r=0;n.hasNext();){if("insert"!==n.peekType())return;var i=n.peek(),s=o.length(i)-n.peekLength(),c="string"==typeof i.insert?i.insert.indexOf(t,s)-s:-1;if(c<0)a.push(n.next());else if(c>0)a.push(n.next(c));else{if(!1===e(a,n.next(1).attributes||{},r))return;r+=1,a=new l}}a.length()>0&&e(a,{},r)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=o.iterator(this.ops),a=o.iterator(e.ops),r=new l;n.hasNext()||a.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===a.peekType())if("insert"===a.peekType())r.push(a.next());else{var i=Math.min(n.peekLength(),a.peekLength()),s=n.next(i),c=a.next(i);if(s.delete)continue;c.delete?r.push(c):r.retain(i,o.attributes.transform(s.attributes,c.attributes,t))}else r.retain(o.length(n.next()));return r.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=o.iterator(this.ops),a=0;n.hasNext()&&a<=e;){var r=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(a<e||!t)&&(e+=r),a+=r):e-=Math.min(r,e-a)}return e},e.exports=l},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,a=Object.prototype.toString,r=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===a.call(e)},i=function(e){if(!e||"[object Object]"!==a.call(e))return!1;var t,r=n.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!i)return!1;for(t in e);return void 0===t||n.call(e,t)};e.exports=function e(){var t,n,a,o,s,l,c=arguments[0],u=1,d=arguments.length,p=!1;for("boolean"==typeof c&&(p=c,c=arguments[1]||{},u=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});u<d;++u)if(null!=(t=arguments[u]))for(n in t)a=c[n],c!==(o=t[n])&&(p&&o&&(i(o)||(s=r(o)))?(s?(s=!1,l=a&&r(a)?a:[]):l=a&&i(a)?a:{},c[n]=e(p,l,o)):void 0!==o&&(c[n]=o));return c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},i=d(n(3)),o=d(n(2)),s=d(n(0)),l=d(n(16)),c=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),a(t,[{key:"attach",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new o.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,a){this.format(n,a)}},{key:"insertAt",value:function(e,n,a){if("string"==typeof n&&n.endsWith("\n")){var i=s.default.create(f.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,n.slice(0,-1))}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,a)}}]),t}(s.default.Embed);g.scope=s.default.Scope.BLOCK_BLOT;var f=function(e){function t(e){p(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return h(t,e),a(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),b(t))}),new o.default).insert("\n",b(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,a,i){n<=0||(s.default.query(a,s.default.Scope.BLOCK)?e+n===this.length()&&this.format(a,i):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),a,i),this.cache={})}},{key:"insertAt",value:function(e,n,a){if(null!=a)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,a);if(0!==n.length){var i=n.split("\n"),o=i.shift();o.length>0&&(e<this.length()-1||null==this.children.tail?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var s=this;i.reduce((function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length}),e+o.length)}}},{key:"insertBefore",value:function(e,n){var a=this.children.head;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),a instanceof l.default&&a.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var a=this.clone();return 0===e?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}var i=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},i}}]),t}(s.default.Block);function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,i.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:b(e.parent,t))}f.blotName="block",f.tagName="P",f.defaultChild="break",f.allowedChildren=[c.default,s.default.Embed,u.default],t.bubbleFormats=b,t.BlockEmbed=g,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(50);var o=f(n(2)),s=f(n(14)),l=f(n(8)),c=f(n(9)),u=f(n(0)),d=n(15),p=f(d),m=f(n(3)),h=f(n(10)),g=f(n(34));function f(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var v=(0,h.default)("quill"),S=function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(this,e),this.options=C(t,a),this.container=this.options.container,null==this.container)return v.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e){e===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(e,t){var a=n.selection.lastRange,r=a&&0===a.length?a.index:void 0;w.call(n,(function(){return n.editor.update(null,t,r)}),e)}));var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),h.default.level(e)}},{key:"find",value:function(e){return e.__quill||u.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&v.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var r=e.attrName||e.blotName;"string"==typeof r?this.register("formats/"+r,e,t):Object.keys(e).forEach((function(a){n.register(a,e[a],t)}))}else null==this.imports[e]||a||v.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?u.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),i(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var a=this,i=k(e,t,n),o=r(i,4);return e=o[0],t=o[1],n=o[3],w.call(this,(function(){return a.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return w.call(this,(function(){var a=n.getSelection(!0),r=new o.default;if(null==a)return r;if(u.default.query(e,u.default.Scope.BLOCK))r=n.editor.formatLine(a.index,a.length,b({},e,t));else{if(0===a.length)return n.selection.format(e,t),r;r=n.editor.formatText(a.index,a.length,b({},e,t))}return n.setSelection(a,l.default.sources.SILENT),r}),a)}},{key:"formatLine",value:function(e,t,n,a,i){var o,s=this,l=k(e,t,n,a,i),c=r(l,4);return e=c[0],t=c[1],o=c[2],i=c[3],w.call(this,(function(){return s.editor.formatLine(e,t,o)}),i,e,0)}},{key:"formatText",value:function(e,t,n,a,i){var o,s=this,l=k(e,t,n,a,i),c=r(l,4);return e=c[0],t=c[1],o=c[2],i=c[3],w.call(this,(function(){return s.editor.formatText(e,t,o)}),i,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var a=this.container.getBoundingClientRect();return{bottom:n.bottom-a.top,height:n.height,left:n.left-a.left,right:n.right-a.left,top:n.top-a.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=k(e,t),a=r(n,2);return e=a[0],t=a[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=k(e,t),a=r(n,2);return e=a[0],t=a[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,a){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return w.call(this,(function(){return r.editor.insertEmbed(t,n,a)}),i,t)}},{key:"insertText",value:function(e,t,n,a,i){var o,s=this,l=k(e,0,n,a,i),c=r(l,4);return e=c[0],o=c[2],i=c[3],w.call(this,(function(){return s.editor.insertText(e,t,o)}),i,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var a=this,i=k(e,t,n),o=r(i,4);return e=o[0],t=o[1],n=o[3],w.call(this,(function(){return a.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){e=new o.default(e);var n=t.getLength(),a=t.editor.deleteText(0,n),r=t.editor.applyDelta(e),i=r.ops[r.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),r.delete(1)),a.compose(r)}),n)}},{key:"setSelection",value:function(t,n,a){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var i=k(t,n,a),o=r(i,4);t=o[0],n=o[1],a=o[3],this.selection.setRange(new d.Range(t,n),a),a!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new o.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){return e=new o.default(e),t.editor.applyDelta(e,n)}),n,!0)}}]),e}();function C(e,t){if((t=(0,m.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==S.DEFAULTS.theme){if(t.theme=S.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=g.default;var n=(0,m.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var a=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=S.import("modules/"+t);return null==n?v.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,m.default)(!0,{},S.DEFAULTS,{modules:a},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function w(e,t,n,a){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new o.default;var r=null==n?null:this.getSelection(),i=this.editor.delta,s=e();if(null!=r&&(!0===n&&(n=r.index),null==a?r=E(r,s,t):0!==a&&(r=E(r,n,a,t)),this.setSelection(r,l.default.sources.SILENT)),s.length()>0){var c,u,d=[l.default.events.TEXT_CHANGE,s,i,t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(d)),t!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}return s}function k(e,t,n,r,i){var o={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=r,r=n,n=t,t=0),"object"===(void 0===n?"undefined":a(n))?(o=n,i=r):"string"==typeof n&&(null!=r?o[n]=r:i=n),[e,t,o,i=i||l.default.sources.API]}function E(e,t,n,a){if(null==e)return null;var i=void 0,s=void 0;if(t instanceof o.default){var c=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,a!==l.default.sources.USER)})),u=r(c,2);i=u[0],s=u[1]}else{var p=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&a===l.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),m=r(p,2);i=m[0],s=m[1]}return new d.Range(i,s-i)}S.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},S.events=l.default.events,S.sources=l.default.sources,S.version="1.3.6",S.imports={delta:o.default,parchment:u.default,"core/module":c.default,"core/theme":g.default},t.expandConfig=C,t.overload=k,t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},i=s(n(7)),o=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"formatAt",value:function(e,n,a,i){if(t.compare(this.statics.blotName,a)<0&&o.default.query(a,o.default.Scope.BLOT)){var s=this.isolate(e,n);i&&s.wrap(a,i)}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,a,i)}},{key:"optimize",value:function(e){if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var a=t.order.indexOf(e),r=t.order.indexOf(n);return a>=0||r>=0?a-r:e===n?0:e<n?-1:1}}]),t}(o.default.Inline);u.allowedChildren=[u,o.default.Embed,i.default],u.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(0);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=r)&&a.__esModule?a:{default:a}).default.Text);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},i=o(n(54));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,o(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)}))}))}));var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",s.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"emit",value:function(){s.log.apply(s,arguments),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];(this.listeners[e.type]||[]).forEach((function(t){var a=t.node,r=t.handler;(e.target===a||a.contains(e.target))&&r.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(i.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.quill=t,this.options=n};r.DEFAULTS={},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=["error","warn","log","info"],r="warn";function i(e){if(a.indexOf(e)<=a.indexOf(r)){for(var t,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];(t=console)[e].apply(t,i)}}function o(e){return a.reduce((function(t,n){return t[n]=i.bind(console,n,e),t}),{})}i.level=o.level=function(e){r=e},t.default=o},function(e,t,n){var a=Array.prototype.slice,r=n(52),i=n(53),o=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var c,u;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=a.call(e),t=a.call(t),o(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var d=r(e),p=r(t)}catch(e){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),c=d.length-1;c>=0;c--)if(d[c]!=p[c])return!1;for(c=d.length-1;c>=0;c--)if(u=d[c],!o(e[u],t[u],n))return!1;return typeof e==typeof t}(e,t,n))};function s(e){return null==e}function l(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var r=a.Scope.TYPE&a.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&a.Scope.LEVEL|r:this.scope=a.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=a.query(e,a.Scope.BLOT&(this.scope|a.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=d(n(2)),s=d(n(0)),l=d(n(4)),c=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(c.default);g.blotName="code",g.tagName="CODE";var f=function(e){function t(){return p(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),r(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,n){return t.insert(n).insert("\n",e.formats())}),new o.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var r=this.descendant(u.default,this.length()-1),o=a(r,1)[0];null!=o&&o.deleteAt(o.length()-1,1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,a,r){if(0!==n&&null!=s.default.query(a,s.default.Scope.BLOCK)&&(a!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+n)){var o=this.newlineIndex(e,!0)+1,l=i-o+1,c=this.isolate(o,l),u=c.next;c.format(a,r),u instanceof t&&u.formatAt(0,e-o+n-l,a,r)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var r=this.descendant(u.default,e),i=a(r,2),o=i[0],s=i[1];o.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var n=this.domNode.textContent.slice(e).indexOf("\n");return n>-1?e+n:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(l.default);f.blotName="code-block",f.tagName="PRE",f.TAB="  ",t.Code=g,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=b(n(2)),s=b(n(20)),l=b(n(0)),c=b(n(13)),u=b(n(24)),d=n(4),p=b(d),m=b(n(16)),h=b(n(21)),g=b(n(11)),f=b(n(3));function b(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return i(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var n=(0,h.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,h.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var a=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(a,t.attributes)}return e.push(t)}),new o.default)}(e)).reduce((function(e,o){var c=o.retain||o.delete||o.insert.length||1,u=o.attributes||{};if(null!=o.insert){if("string"==typeof o.insert){var m=o.insert;m.endsWith("\n")&&n&&(n=!1,m=m.slice(0,-1)),e>=i&&!m.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,m);var h=t.scroll.line(e),g=r(h,2),b=g[0],y=g[1],v=(0,f.default)({},(0,d.bubbleFormats)(b));if(b instanceof p.default){var S=b.descendant(l.default.Leaf,y),C=r(S,1)[0];v=(0,f.default)(v,(0,d.bubbleFormats)(C))}u=s.default.attributes.diff(v,u)||{}}else if("object"===a(o.insert)){var w=Object.keys(o.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,o.insert[w])}i+=c}return Object.keys(u).forEach((function(n){t.scroll.formatAt(e,c,n,u[n])})),e+c}),0),e.reduce((function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new o.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(a).forEach((function(r){if(null==n.scroll.whitelist||n.scroll.whitelist[r]){var i=n.scroll.lines(e,Math.max(t,1)),o=t;i.forEach((function(t){var i=t.length();if(t instanceof c.default){var s=e-t.offset(n.scroll),l=t.newlineIndex(s+o)-s+1;t.formatAt(s,l,r,a[r])}else t.format(r,a[r]);o-=i}))}})),this.scroll.optimize(),this.update((new o.default).retain(e).retain(t,(0,h.default)(a)))}},{key:"formatText",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(a).forEach((function(r){n.scroll.formatAt(e,t,r,a[r])})),this.update((new o.default).retain(e).retain(t,(0,h.default)(a)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new o.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],a=[];0===t?this.scroll.path(e).forEach((function(e){var t=r(e,1)[0];t instanceof p.default?n.push(t):t instanceof l.default.Leaf&&a.push(t)})):(n=this.scroll.lines(e,t),a=this.scroll.descendants(l.default.Leaf,e,t));var i=[n,a].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=S((0,d.bubbleFormats)(n),t)}return t}));return f.default.apply(f.default,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new o.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(a).forEach((function(r){n.scroll.formatAt(e,t.length,r,a[r])})),this.update((new o.default).retain(e).insert(t,(0,h.default)(a)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.default.blotName&&!(e.children.length>1)&&e.children.head instanceof m.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),a=this.scroll.line(e+t),i=r(a,2),s=i[0],l=i[1],u=0,d=new o.default;null!=s&&(u=s instanceof c.default?s.newlineIndex(l)-l+1:s.length()-l,d=s.delta().slice(l,l+u-1).insert("\n"));var p=this.getContents(e,t+u).diff((new o.default).insert(n).concat(d)),m=(new o.default).retain(e).concat(p);return this.applyDelta(m)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&l.default.find(t[0].target)){var r=l.default.find(t[0].target),i=(0,d.bubbleFormats)(r),s=r.offset(this.scroll),c=t[0].oldValue.replace(u.default.CONTENTS,""),p=(new o.default).insert(c),m=(new o.default).insert(r.value()),h=(new o.default).retain(s).concat(p.diff(m,n));e=h.reduce((function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)}),new o.default),this.delta=a.compose(e)}else this.delta=this.getDelta(),e&&(0,g.default)(a.compose(e),this.delta)||(e=a.diff(this.delta,n));return e}}]),e}();function S(e,t){return Object.keys(t).reduce((function(n,a){return null==e[a]||(t[a]===e[a]?n[a]=t[a]:Array.isArray(t[a])?t[a].indexOf(e[a])<0&&(n[a]=t[a].concat([e[a]])):n[a]=[t[a],e[a]]),n}),{})}t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=c(n(0)),o=c(n(21)),s=c(n(11)),l=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(0,c(n(10)).default)("quill:selection"),m=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=n},h=function(){function e(t,n){var a=this;d(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new m(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){a.mouseDown||setTimeout(a.update.bind(a,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&a.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(a.hasFocus()){var e=a.getNativeRange();null!=e&&e.start.node!==a.cursor.textNode&&a.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{a.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,r=n.startNode,i=n.startOffset,o=n.endNode,s=n.endOffset;a.setNativeRange(r,i,o,s)}})),this.update(l.default.sources.SILENT)}return r(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!i.default.query(e,i.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var a=i.default.find(n.start.node,!1);if(null==a)return;if(a instanceof i.default.Leaf){var r=a.split(n.start.offset);a.parent.insertBefore(this.cursor,r)}else a.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var r=void 0,i=this.scroll.leaf(e),o=a(i,2),s=o[0],l=o[1];if(null==s)return null;var c=s.position(l,!0),u=a(c,2);r=u[0],l=u[1];var d=document.createRange();if(t>0){d.setStart(r,l);var p=this.scroll.leaf(e+t),m=a(p,2);if(s=m[0],l=m[1],null==s)return null;var h=s.position(l,!0),g=a(h,2);return r=g[0],l=g[1],d.setEnd(r,l),d.getBoundingClientRect()}var f="left",b=void 0;return r instanceof Text?(l<r.data.length?(d.setStart(r,l),d.setEnd(r,l+1)):(d.setStart(r,l-1),d.setEnd(r,l),f="right"),b=d.getBoundingClientRect()):(b=s.domNode.getBoundingClientRect(),l>0&&(f="right")),{bottom:b.top+b.height,height:b.height,left:b[f],right:b[f],top:b.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return p.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var r=n.map((function(e){var n=a(e,2),r=n[0],o=n[1],s=i.default.find(r,!0),l=s.offset(t.scroll);return 0===o?l:s instanceof i.default.Container?l+s.length():l+s.index(r,o)})),o=Math.min(Math.max.apply(Math,u(r)),this.scroll.length()-1),s=Math.min.apply(Math,[o].concat(u(r)));return new m(s,o-s)}},{key:"normalizeNative",value:function(e){if(!g(this.root,e.startContainer)||!e.collapsed&&!g(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],r=[],i=this.scroll.length();return n.forEach((function(e,n){e=Math.min(i-1,e);var o,s=t.scroll.leaf(e),l=a(s,2),c=l[0],u=l[1],d=c.position(u,0!==n),p=a(d,2);o=p[0],u=p[1],r.push(o,u)})),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var r=this.scroll.length()-1,i=this.scroll.line(Math.min(t.index,r)),o=a(i,1)[0],s=o;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,r));s=a(l,1)[0]}if(null!=o&&null!=s){var c=e.getBoundingClientRect();n.top<c.top?e.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(e.scrollTop+=n.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",e,t,n,a),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var o=(this.getNativeRange()||{}).native;if(null==o||r||e!==o.startContainer||t!==o.startOffset||n!==o.endContainer||a!==o.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(a=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,a),i.removeAllRanges(),i.addRange(s)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof t&&(n=t,t=!1),p.info("setRange",e),null!=e){var a=this.rangeToNative(e);this.setNativeRange.apply(this,u(a).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,n=this.getRange(),r=a(n,2),i=r[0],c=r[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var u;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var d,p=[l.default.events.SELECTION_CHANGE,(0,o.default)(this.lastRange),(0,o.default)(t),e];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(p)),e!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,p)}}}]),e}();function g(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=m,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"insertInto",value:function(e,n){0===e.children.length?function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default.Embed);l.blotName="break",l.tagName="BR",t.default=l},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(44),o=n(30),s=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var n=c(t);e.insertBefore(n,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){var a=this.children.find(n),r=a[0],i=a[1];return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,i]:r instanceof t?r.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,n,a){void 0===n&&(n=0),void 0===a&&(a=Number.MAX_VALUE);var r=[],i=a;return this.children.forEachAt(n,a,(function(n,a,o){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&r.push(n),n instanceof t&&(r=r.concat(n.descendants(e,a,i))),i-=o})),r},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,a){this.children.forEachAt(e,t,(function(e,t,r){e.formatAt(t,r,n,a)}))},t.prototype.insertAt=function(e,t,n){var a=this.children.find(e),r=a[0],i=a[1];if(r)r.insertAt(i,t,n);else{var o=null==n?s.create("text",t):s.create(t,n);this.appendChild(o)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var a=this.children.find(e,n),r=a[0],i=a[1],o=[[this,e]];return r instanceof t?o.concat(r.path(i,n)):(null!=r&&o.push([r,i]),o)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),(function(e,a,r){e=e.split(a,t),n.appendChild(e)})),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,a=[],r=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(a.push.apply(a,e.addedNodes),r.push.apply(r,e.removedNodes))})),r.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),a.filter((function(e){return e.parentNode==n.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var a=c(e);a.next==t&&null!=a.next||(null!=a.parent&&a.parent.removeChild(n),n.insertBefore(a,t||void 0))}))},t}(o.default);function c(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),o=n(31),s=n(17),l=n(1),c=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new o.default(n.domNode),n}return r(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=l.query(e);n instanceof i.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var a=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(a),a},t.prototype.update=function(t,n){var a=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===a.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,a){var r=e.prototype.wrap.call(this,n,a);return r instanceof t&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},t}(s.default);t.default=c},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(30),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e;var e},t.scope=o.Scope.INLINE_BLOT,t}(i.default);t.default=s},function(e,t,n){var a=n(11),r=n(3),i={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var a=r(!0,{},t);for(var i in n||(a=Object.keys(a).reduce((function(e,t){return null!=a[t]&&(e[t]=a[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(a[i]=e[i]);return Object.keys(a).length>0?a:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return a(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var a=Object.keys(t).reduce((function(n,a){return void 0===e[a]&&(n[a]=t[a]),n}),{});return Object.keys(a).length>0?a:void 0}}},iterator:function(e){return new o(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function o(e){this.ops=e,this.index=0,this.offset=0}o.prototype.hasNext=function(){return this.peekLength()<1/0},o.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,a=i.length(t);if(e>=a-n?(e=a-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var r={};return t.attributes&&(r.attributes=t.attributes),"number"==typeof t.retain?r.retain=e:"string"==typeof t.insert?r.insert=t.insert.substr(n,e):r.insert=t.insert,r}return{retain:1/0}},o.prototype.peek=function(){return this.ops[this.index]},o.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},o.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.exports=i},function(e,n){var a=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,a,r;try{n=Map}catch(e){n=function(){}}try{a=Set}catch(e){a=function(){}}try{r=Promise}catch(e){r=function(){}}function i(o,l,c,u,d){"object"==typeof l&&(c=l.depth,u=l.prototype,d=l.includeNonEnumerable,l=l.circular);var p=[],m=[],h=void 0!==t;return void 0===l&&(l=!0),void 0===c&&(c=1/0),function o(c,g){if(null===c)return null;if(0===g)return c;var f,b;if("object"!=typeof c)return c;if(e(c,n))f=new n;else if(e(c,a))f=new a;else if(e(c,r))f=new r((function(e,t){c.then((function(t){e(o(t,g-1))}),(function(e){t(o(e,g-1))}))}));else if(i.__isArray(c))f=[];else if(i.__isRegExp(c))f=new RegExp(c.source,s(c)),c.lastIndex&&(f.lastIndex=c.lastIndex);else if(i.__isDate(c))f=new Date(c.getTime());else{if(h&&t.isBuffer(c))return f=new t(c.length),c.copy(f),f;e(c,Error)?f=Object.create(c):void 0===u?(b=Object.getPrototypeOf(c),f=Object.create(b)):(f=Object.create(u),b=u)}if(l){var y=p.indexOf(c);if(-1!=y)return m[y];p.push(c),m.push(f)}for(var v in e(c,n)&&c.forEach((function(e,t){var n=o(t,g-1),a=o(e,g-1);f.set(n,a)})),e(c,a)&&c.forEach((function(e){var t=o(e,g-1);f.add(t)})),c){var S;b&&(S=Object.getOwnPropertyDescriptor(b,v)),S&&null==S.set||(f[v]=o(c[v],g-1))}if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(c);for(v=0;v<C.length;v++){var w=C[v];(!(E=Object.getOwnPropertyDescriptor(c,w))||E.enumerable||d)&&(f[w]=o(c[w],g-1),E.enumerable||Object.defineProperty(f,w,{enumerable:!1}))}}if(d){var k=Object.getOwnPropertyNames(c);for(v=0;v<k.length;v++){var E,O=k[v];(E=Object.getOwnPropertyDescriptor(c,O))&&E.enumerable||(f[O]=o(c[O],g-1),Object.defineProperty(f,O,{enumerable:!1}))}}return f}(o,c)}function o(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=o,i.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},i.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},i.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},i.__getRegExpFlags=s,i}();"object"==typeof e&&e.exports&&(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=m(n(0)),s=m(n(8)),l=n(4),c=m(l),u=m(n(16)),d=m(n(13)),p=m(n(25));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return e instanceof c.default||e instanceof l.BlockEmbed}var g=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.emitter=n.emitter,Array.isArray(n.whitelist)&&(a.whitelist=n.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),a.domNode.addEventListener("DOMNodeInserted",(function(){})),a.optimize(),a.enable(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var r=this.line(e),o=a(r,2),s=o[0],c=o[1],p=this.line(e+n),m=a(p,1)[0];if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=m&&s!==m&&c>0){if(s instanceof l.BlockEmbed||m instanceof l.BlockEmbed)return void this.optimize();if(s instanceof d.default){var h=s.newlineIndex(s.length(),!0);if(h>-1&&(s=s.split(h+1))===m)return void this.optimize()}else if(m instanceof d.default){var g=m.newlineIndex(0);g>-1&&m.split(g+1)}var f=m.children.head instanceof u.default?null:m.children.head;s.moveChildren(m,f),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,a,r){(null==this.whitelist||this.whitelist[a])&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,a,r),this.optimize())}},{key:"insertAt",value:function(e,n,a){if(null==a||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==a||null==o.default.query(n,o.default.Scope.BLOCK)){var r=o.default.create(this.statics.defaultChild);this.appendChild(r),null==a&&n.endsWith("\n")&&(n=n.slice(0,-1)),r.insertAt(0,n,a)}else{var s=o.default.create(n,a);this.appendChild(s)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,a);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===o.default.Scope.INLINE_BLOT){var a=o.default.create(this.statics.defaultChild);a.appendChild(e),e=a}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(h,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function e(t,n,a){var r=[],i=a;return t.children.forEachAt(n,a,(function(t,n,a){h(t)?r.push(t):t instanceof o.default.Container&&(r=r.concat(e(t,n,i))),i-=a})),r};return n(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,e)}}}]),t}(o.default.Scroll);g.blotName="scroll",g.className="ql-editor",g.tagName="DIV",g.defaultChild="block",g.allowedChildren=[c.default,l.BlockEmbed,p.default],t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=g(n(21)),s=g(n(11)),l=g(n(3)),c=g(n(2)),u=g(n(20)),d=g(n(0)),p=g(n(5)),m=g(n(10)),h=g(n(9));function g(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,m.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",v=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.bindings={},Object.keys(a.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&a.options.bindings[t]&&a.addBinding(a.options.bindings[t])})),a.addBinding({key:t.keys.ENTER,shiftKey:null},E),a.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(a.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},C),a.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(a.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},C),a.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),a.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},k),a.addBinding({key:t.keys.DELETE},{collapsed:!1},k),a.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},C),a.listen(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"match",value:function(e,t){return t=_(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&t.key===(e.which||e.keyCode)}}]),i(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=_(e);if(null==a||null==a.key)return b.warn("Attempted to add invalid keyboard binding",a);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),a=(0,l.default)(a,t,n),this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var i=n.which||n.keyCode,o=(e.bindings[i]||[]).filter((function(e){return t.match(n,e)}));if(0!==o.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var c=e.quill.getLine(l.index),u=r(c,2),p=u[0],m=u[1],h=e.quill.getLeaf(l.index),g=r(h,2),f=g[0],b=g[1],y=0===l.length?[f,b]:e.quill.getLeaf(l.index+l.length),v=r(y,2),S=v[0],C=v[1],w=f instanceof d.default.Text?f.value().slice(0,b):"",k=S instanceof d.default.Text?S.value().slice(C):"",E={collapsed:0===l.length,empty:0===l.length&&p.length()<=1,format:e.quill.getFormat(l),offset:m,prefix:w,suffix:k};o.some((function(t){if(null!=t.collapsed&&t.collapsed!==E.collapsed)return!1;if(null!=t.empty&&t.empty!==E.empty)return!1;if(null!=t.offset&&t.offset!==E.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==E.format[e]})))return!1}else if("object"===a(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=E.format[e]:!1===t.format[e]?null==E.format[e]:(0,s.default)(t.format[e],E.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(E.prefix)||null!=t.suffix&&!t.suffix.test(E.suffix)||!0===t.handler.call(e,l,E))}))&&n.preventDefault()}}}}))}}]),t}(h.default);function S(e,t){var n,a=e===v.keys.LEFT?"prefix":"suffix";return f(n={key:e,shiftKey:t,altKey:null},a,/^$/),f(n,"handler",(function(n){var a=n.index;e===v.keys.RIGHT&&(a+=n.length+1);var i=this.quill.getLeaf(a);return!(r(i,1)[0]instanceof d.default.Embed&&(e===v.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index-1,p.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index+n.length+1,p.default.sources.USER),1))})),n}function C(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),a=r(n,1)[0],i={};if(0===t.offset){var o=this.quill.getLine(e.index-1),s=r(o,1)[0];if(null!=s&&s.length()>1){var l=a.formats(),c=this.quill.getFormat(e.index-1,1);i=u.default.attributes.diff(l,c)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,p.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-d,d,i,p.default.sources.USER),this.quill.focus()}}function w(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var a={},i=0,o=this.quill.getLine(e.index),s=r(o,1)[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),c=r(l,1)[0];if(c){var d=s.formats(),m=this.quill.getFormat(e.index,1);a=u.default.attributes.diff(d,m)||{},i=c.length()}}this.quill.deleteText(e.index,n,p.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(e.index+i-1,n,a,p.default.sources.USER)}}function k(e){var t=this.quill.getLines(e),n={};if(t.length>1){var a=t[0].formats(),r=t[t.length-1].formats();n=u.default.attributes.diff(r,a)||{}}this.quill.deleteText(e,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,p.default.sources.USER),this.quill.setSelection(e.index,p.default.sources.SILENT),this.quill.focus()}function E(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var a=Object.keys(t.format).reduce((function(e,n){return d.default.query(n,d.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e}),{});this.quill.insertText(e.index,"\n",a,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==a[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],p.default.sources.USER))}))}function O(e){return{key:v.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=d.default.query("code-block"),a=t.index,i=t.length,o=this.quill.scroll.descendant(n,a),s=r(o,2),l=s[0],c=s[1];if(null!=l){var u=this.quill.getIndex(l),m=l.newlineIndex(c,!0)+1,h=l.newlineIndex(u+c+i),g=l.domNode.textContent.slice(m,h).split("\n");c=0,g.forEach((function(t,r){e?(l.insertAt(m+c,n.TAB),c+=n.TAB.length,0===r?a+=n.TAB.length:i+=n.TAB.length):t.startsWith(n.TAB)&&(l.deleteAt(m+c,n.TAB.length),c-=n.TAB.length,0===r?a-=n.TAB.length:i-=n.TAB.length),c+=t.length+1})),this.quill.update(p.default.sources.USER),this.quill.setSelection(a,i,p.default.sources.SILENT)}}}}function A(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],p.default.sources.USER)}}}function _(e){if("string"==typeof e||"number"==typeof e)return _({key:e});if("object"===(void 0===e?"undefined":a(e))&&(e=(0,o.default)(e,!1)),"string"==typeof e.key)if(null!=v.keys[e.key.toUpperCase()])e.key=v.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}v.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},v.DEFAULTS={bindings:{bold:A("bold"),italic:A("italic"),underline:A("underline"),indent:{key:v.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:v.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:v.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":O(!0),"outdent code-block":O(!1),"remove tab":{key:v.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,p.default.sources.USER)}},tab:{key:v.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,p.default.sources.SILENT)}},"list empty enter":{key:v.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,p.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:v.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=r(t,2),a=n[0],i=n[1],o=(0,l.default)({},a.formats(),{list:"checked"}),s=(new c.default).retain(e.index).insert("\n",o).retain(a.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:v.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),a=r(n,2),i=a[0],o=a[1],s=(new c.default).retain(e.index).insert("\n",t.format).retain(i.length()-o-1).retain(1,{header:null});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,a=this.quill.getLine(e.index),i=r(a,2),o=i[0],s=i[1];if(s>n)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",p.default.sources.USER),this.quill.history.cutoff();var u=(new c.default).retain(e.index-s).delete(n+1).retain(o.length()-2-s).retain(1,{list:l});this.quill.updateContents(u,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,p.default.sources.SILENT)}},"code exit":{key:v.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=r(t,2),a=n[0],i=n[1],o=(new c.default).retain(e.index+a.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(o,p.default.sources.USER)}},"embed left":S(v.keys.LEFT,!1),"embed left shift":S(v.keys.LEFT,!0),"embed right":S(v.keys.RIGHT,!1),"embed right shift":S(v.keys.RIGHT,!0)}},t.default=v,t.SHORTKEY=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n(0)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.selection=n,a.textNode=document.createTextNode(t.CONTENTS),a.domNode.appendChild(a.textNode),a._length=0,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"value",value:function(){}}]),i(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var a=this,i=0;null!=a&&a.statics.scope!==o.default.Scope.BLOCK_BLOT;)i+=a.offset(a.parent),a=a.parent;null!=a&&(this._length=t.CONTENTS.length,a.optimize(),a.formatAt(i,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),r=void 0,i=void 0,l=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var c=[e,n.start.offset,n.end.offset];r=c[0],i=c[1],l=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var u=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof s.default?(r=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=t.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(o.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var d=[i,l].map((function(e){return Math.max(0,Math.min(r.data.length,e-1))})),p=a(d,2);return i=p[0],l=p[1],{startNode:r,startOffset:i,endNode:r,endOffset:l}}}}},{key:"update",value:function(e,t){var n=this;if(e.some((function(e){return"characterData"===e.type&&e.target===n.textNode}))){var a=this.restore();a&&(t.range=a)}}},{key:"value",value:function(){return""}}]),t}(o.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),r=n(4),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.default.Container);c.allowedChildren=[i.default,r.BlockEmbed,c],t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=(a=i)&&a.__esModule?a:{default:a};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){var n=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):n}}]),t}(o.default.Attributor.Style),u=new o.default.Attributor.Class("color","ql-color",{scope:o.default.Scope.INLINE}),d=new c("color","color",{scope:o.default.Scope.INLINE});t.ColorAttributor=c,t.ColorClass=u,t.ColorStyle=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return u(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((a=o)&&a.__esModule?a:{default:a}).default);function u(e,t){var n=document.createElement("a");n.href=e;var a=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(a)>-1}c.blotName="link",c.tagName="A",c.SANITIZED_URL="about:blank",c.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=c,t.sanitize=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=s(n(23)),o=s(n(107));function s(e){return e&&e.__esModule?e:{default:e}}var l=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:n.togglePicker();break;case i.default.keys.ESCAPE:n.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return r(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",(function(){t.selectItem(n,!0)})),n.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case i.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=o.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(n){var a=e.buildItem(n);t.appendChild(a),!0===n.selected&&e.selectItem(a)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":a(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=b(n(0)),r=b(n(5)),i=n(4),o=b(i),s=b(n(16)),l=b(n(25)),c=b(n(24)),u=b(n(35)),d=b(n(6)),p=b(n(22)),m=b(n(7)),h=b(n(55)),g=b(n(42)),f=b(n(23));function b(e){return e&&e.__esModule?e:{default:e}}r.default.register({"blots/block":o.default,"blots/block/embed":i.BlockEmbed,"blots/break":s.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":m.default,"modules/clipboard":h.default,"modules/history":g.default,"modules/keyboard":f.default}),a.default.register(o.default,s.default,c.default,d.default,p.default,m.default),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=function(){function e(e){this.domNode=e,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new a.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return a.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,r){var i=this.isolate(e,t);if(null!=a.query(n,a.Scope.BLOT)&&r)i.wrap(n,r);else if(null!=a.query(n,a.Scope.ATTRIBUTE)){var o=a.create(this.statics.scope);i.wrap(o),o.format(n,r)}},e.prototype.insertAt=function(e,t,n){var r=null==n?a.create("text",t):a.create(t,n),i=this.split(e);this.parent.insertBefore(r,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[a.DATA_KEY]&&delete this.domNode[a.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?a.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?a.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),r=n(32),i=n(33),o=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=a.default.keys(this.domNode),n=r.default.keys(this.domNode),s=i.default.keys(this.domNode);t.concat(n).concat(s).forEach((function(t){var n=o.query(t,o.Scope.ATTRIBUTE);n instanceof a.default&&(e.attributes[n.attrName]=n)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var a=t.attributes[n].value(t.domNode);e.format(n,a)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=o},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function i(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return a(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();r.DEFAULTS={modules:{}},r.themes={default:r},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=o(n(0)),i=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode("\ufeff"),n.rightGuard=document.createTextNode("\ufeff"),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,a=e.data.split("\ufeff").join("");if(e===this.leftGuard)if(this.prev instanceof i.default){var o=this.prev.length();this.prev.insertAt(o,a),t={startNode:this.prev.domNode,startOffset:o+a.length}}else n=document.createTextNode(a),this.parent.insertBefore(r.default.create(n),this),t={startNode:n,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof i.default?(this.next.insertAt(0,a),t={startNode:this.next.domNode,startOffset:a.length}):(n=document.createTextNode(a),this.parent.insertBefore(r.default.create(n),this.next),t={startNode:n,startOffset:a.length}));return e.data="\ufeff",t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var a=n.restore(e.target);a&&(t.range=a)}}))}}]),t}(r.default.Embed);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var a,r=n(0),i=(a=r)&&a.__esModule?a:{default:a},o={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new i.default.Attributor.Attribute("align","align",o),l=new i.default.Attributor.Class("align","ql-align",o),c=new i.default.Attributor.Style("align","text-align",o);t.AlignAttribute=s,t.AlignClass=l,t.AlignStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var a,r=n(0),i=(a=r)&&a.__esModule?a:{default:a},o=n(26),s=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),l=new o.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});t.BackgroundClass=s,t.BackgroundStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var a,r=n(0),i=(a=r)&&a.__esModule?a:{default:a},o={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},s=new i.default.Attributor.Attribute("direction","dir",o),l=new i.default.Attributor.Class("direction","ql-direction",o),c=new i.default.Attributor.Style("direction","direction",o);t.DirectionAttribute=s,t.DirectionClass=l,t.DirectionStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=(a=i)&&a.__esModule?a:{default:a};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c={scope:o.default.Scope.INLINE,whitelist:["serif","monospace"]},u=new o.default.Attributor.Class("font","ql-font",c),d=new(function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){return function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(o.default.Attributor.Style))("font","font-family",c);t.FontStyle=d,t.FontClass=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var a,r=n(0),i=(a=r)&&a.__esModule?a:{default:a},o=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=o,t.SizeStyle=s},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=o(n(0)),i=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.lastRecorded=0,a.ignoreChange=!1,a.clear(),a.quill.on(i.default.events.EDITOR_CHANGE,(function(e,t,n,r){e!==i.default.events.TEXT_CHANGE||a.ignoreChange||(a.options.userOnly&&r!==i.default.sources.USER?a.transform(t):a.record(t,n))})),a.quill.keyboard.addBinding({key:"Z",shortKey:!0},a.undo.bind(a)),a.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},a.redo.bind(a)),/Win/i.test(navigator.platform)&&a.quill.keyboard.addBinding({key:"Y",shortKey:!0},a.redo.bind(a)),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],i.default.sources.USER),this.ignoreChange=!1;var a=l(n[e]);this.quill.setSelection(a)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){var r=this.stack.undo.pop();n=n.compose(r.undo),e=r.redo.compose(e)}else this.lastRecorded=a;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(o(n(9)).default);function l(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=r.default.query(e,r.default.Scope.BLOCK)})))}(e)&&(n-=1),n}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=m(n(3)),i=m(n(2)),o=m(n(8)),s=m(n(23)),l=m(n(34)),c=m(n(59)),u=m(n(60)),d=m(n(28)),p=m(n(61));function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=[!1,"center","right","justify"],y=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],v=[!1,"serif","monospace"],S=["1","2","3",!1],C=["small",!1,"large","huge"],w=function(e){function t(e,n){h(this,t);var a=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,(function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==a.tooltip||a.tooltip.root.contains(n.target)||document.activeElement===a.tooltip.textbox||a.quill.hasFocus()||a.tooltip.hide(),null!=a.pickers&&a.pickers.forEach((function(e){e.container.contains(n.target)||e.close()}))})),a}return f(t,e),a(t,[{key:"addModule",value:function(e){var n=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var a=e.value||"";null!=a&&t[n][a]&&(e.innerHTML=t[n][a])}}))}))}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&E(e,b),new u.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&E(e,y,"background"===n?"#ffffff":"#000000"),new c.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?E(e,v):e.classList.contains("ql-header")?E(e,S):e.classList.contains("ql-size")&&E(e,C)),new d.default(e)})),this.quill.on(o.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(e){e.update()}))}))}}]),t}(l.default);w.DEFAULTS=(0,r.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var a=e.quill.getSelection(!0);e.quill.updateContents((new i.default).retain(a.index).delete(a.length).insert({image:n.target.result}),o.default.sources.USER),e.quill.setSelection(a.index+1,o.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var k=function(e){function t(e,n){h(this,t);var a=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.textbox=a.root.querySelector('input[type="text"]'),a.listen(),a}return f(t,e),a(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){s.default.match(t,"enter")?(e.save(),t.preventDefault()):s.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var a=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,o.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,o.default.sources.USER)),this.quill.root.scrollTop=a;break;case"video":t=(e=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/),n=t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!n)break;var r=this.quill.getSelection(!0);if(null!=r){var i=r.index+r.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),n,o.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",o.default.sources.USER),this.quill.setSelection(i+2,o.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(p.default);function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var a=document.createElement("option");t===n?a.setAttribute("selected","selected"):a.setAttribute("value",t),e.appendChild(a)}))}t.BaseTooltip=k,t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,a=this.iterator();n=a();){var r=n.length();if(e<r||t&&e===r&&(null==n.next||0!==n.next.length()))return[n,e];e-=r}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var a,r=this.find(e),i=r[0],o=e-r[1],s=this.iterator(i);(a=s())&&o<e+t;){var l=a.length();e>o?n(a,e-o,Math.min(t,o+l-e)):n(a,0,Math.min(l,e+t-o)),o+=l}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n,a=this.iterator();n=a();)t=e(t,n);return t},e}();t.default=a},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),o=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver((function(e){n.update(e)})),n.observer.observe(n.domNode,s),n.attach(),n}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,a,r){this.update(),e.prototype.formatAt.call(this,t,n,a,r)},t.prototype.insertAt=function(t,n,a){this.update(),e.prototype.insertAt.call(this,t,n,a)},t.prototype.optimize=function(t,n){var a=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var r=[].slice.call(this.observer.takeRecords());r.length>0;)t.push(r.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==a&&null!=e.domNode.parentNode&&(null==e.domNode[o.DATA_KEY].mutations&&(e.domNode[o.DATA_KEY].mutations=[]),t&&s(e.parent))},l=function(e){null!=e.domNode[o.DATA_KEY]&&null!=e.domNode[o.DATA_KEY].mutations&&(e instanceof i.default&&e.children.forEach(l),e.optimize(n))},c=t,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(e){var t=o.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(o.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=o.find(e,!1);s(t,!1),t instanceof i.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(l),r=(c=[].slice.call(this.observer.takeRecords())).slice();r.length>0;)t.push(r.pop())}},t.prototype.update=function(t,n){var a=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map((function(e){var t=o.find(e.target,!0);return null==t?null:null==t.domNode[o.DATA_KEY].mutations?(t.domNode[o.DATA_KEY].mutations=[e],t):(t.domNode[o.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==a&&null!=e.domNode[o.DATA_KEY]&&e.update(e.domNode[o.DATA_KEY].mutations||[],n)})),null!=this.domNode[o.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="DIV",t}(i.default);t.default=l},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,a){var r=this;n!==this.statics.blotName||a?e.prototype.format.call(this,n,a):(this.children.forEach((function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),r.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,n,a,r){null!=this.formats()[a]||o.query(a,o.Scope.ATTRIBUTE)?this.isolate(t,n).format(a,r):e.prototype.formatAt.call(this,t,n,a,r)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var a=this.formats();if(0===Object.keys(a).length)return this.unwrap();var r=this.next;r instanceof t&&r.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(a,r.formats())&&(r.moveChildren(this),r.remove())},t.blotName="inline",t.scope=o.Scope.INLINE_BLOT,t.tagName="SPAN",t}(i.default);t.default=s},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){var a=o.query(t.blotName).tagName;if(n.tagName!==a)return e.formats.call(this,n)},t.prototype.format=function(n,a){null!=o.query(n,o.Scope.BLOCK)&&(n!==this.statics.blotName||a?e.prototype.format.call(this,n,a):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,a,r){null!=o.query(a,o.Scope.BLOCK)?this.format(a,r):e.prototype.formatAt.call(this,t,n,a,r)},t.prototype.insertAt=function(t,n,a){if(null==a||null!=o.query(n,o.Scope.INLINE))e.prototype.insertAt.call(this,t,n,a);else{var r=this.split(t),i=o.create(n,a);r.parent.insertBefore(i,r)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="P",t}(i.default);t.default=s},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,a,r){0===t&&n===this.length()?this.format(a,r):e.prototype.formatAt.call(this,t,n,a,r)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=i},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,a){null==a?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,a)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=o.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=o.Scope.INLINE_BLOT,t}(i.default);t.default=s},function(e,t,n){"use strict";var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:r.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var a=n.indexOf(e,t);return-1!==a&&a===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),a=n.length>>>0,r=arguments[1],i=0;i<a;i++)if(t=n[i],e.call(r,t,i,n))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){function n(e,t,o){if(e==t)return e?[[0,e]]:[];(o<0||e.length<o)&&(o=null);var l=r(e,t),c=e.substring(0,l);l=i(e=e.substring(l),t=t.substring(l));var u=e.substring(e.length-l),d=function(e,t){var o;if(!e)return[[1,t]];if(!t)return[[-1,e]];var s=e.length>t.length?e:t,l=e.length>t.length?t:e,c=s.indexOf(l);if(-1!=c)return o=[[1,s.substring(0,c)],[0,l],[1,s.substring(c+l.length)]],e.length>t.length&&(o[0][0]=o[2][0]=-1),o;if(1==l.length)return[[-1,e],[1,t]];var u=function(e,t){var n=e.length>t.length?e:t,a=e.length>t.length?t:e;if(n.length<4||2*a.length<n.length)return null;function o(e,t,n){for(var a,o,s,l,c=e.substring(n,n+Math.floor(e.length/4)),u=-1,d="";-1!=(u=t.indexOf(c,u+1));){var p=r(e.substring(n),t.substring(u)),m=i(e.substring(0,n),t.substring(0,u));d.length<m+p&&(d=t.substring(u-m,u)+t.substring(u,u+p),a=e.substring(0,n-m),o=e.substring(n+p),s=t.substring(0,u-m),l=t.substring(u+p))}return 2*d.length>=e.length?[a,o,s,l,d]:null}var s,l,c,u,d,p=o(n,a,Math.ceil(n.length/4)),m=o(n,a,Math.ceil(n.length/2));if(!p&&!m)return null;s=m?p&&p[4].length>m[4].length?p:m:p,e.length>t.length?(l=s[0],c=s[1],u=s[2],d=s[3]):(u=s[0],d=s[1],l=s[2],c=s[3]);var h=s[4];return[l,c,u,d,h]}(e,t);if(u){var d=u[0],p=u[1],m=u[2],h=u[3],g=u[4],f=n(d,m),b=n(p,h);return f.concat([[0,g]],b)}return function(e,t){for(var n=e.length,r=t.length,i=Math.ceil((n+r)/2),o=i,s=2*i,l=new Array(s),c=new Array(s),u=0;u<s;u++)l[u]=-1,c[u]=-1;l[o+1]=0,c[o+1]=0;for(var d=n-r,p=d%2!=0,m=0,h=0,g=0,f=0,b=0;b<i;b++){for(var y=-b+m;y<=b-h;y+=2){for(var v=o+y,S=(O=y==-b||y!=b&&l[v-1]<l[v+1]?l[v+1]:l[v-1]+1)-y;O<n&&S<r&&e.charAt(O)==t.charAt(S);)O++,S++;if(l[v]=O,O>n)h+=2;else if(S>r)m+=2;else if(p&&(k=o+d-y)>=0&&k<s&&-1!=c[k]){var C=n-c[k];if(O>=C)return a(e,t,O,S)}}for(var w=-b+g;w<=b-f;w+=2){for(var k=o+w,E=(C=w==-b||w!=b&&c[k-1]<c[k+1]?c[k+1]:c[k-1]+1)-w;C<n&&E<r&&e.charAt(n-C-1)==t.charAt(r-E-1);)C++,E++;if(c[k]=C,C>n)f+=2;else if(E>r)g+=2;else if(!p&&(v=o+d-w)>=0&&v<s&&-1!=l[v]){var O=l[v];if(S=o+O-v,O>=(C=n-C))return a(e,t,O,S)}}}return[[-1,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-l),t=t.substring(0,t.length-l));return c&&d.unshift([0,c]),u&&d.push([0,u]),function e(t){t.push([0,""]);for(var n,a=0,o=0,s=0,l="",c="";a<t.length;)switch(t[a][0]){case 1:s++,c+=t[a][1],a++;break;case-1:o++,l+=t[a][1],a++;break;case 0:o+s>1?(0!==o&&0!==s&&(0!==(n=r(c,l))&&(a-o-s>0&&0==t[a-o-s-1][0]?t[a-o-s-1][1]+=c.substring(0,n):(t.splice(0,0,[0,c.substring(0,n)]),a++),c=c.substring(n),l=l.substring(n)),0!==(n=i(c,l))&&(t[a][1]=c.substring(c.length-n)+t[a][1],c=c.substring(0,c.length-n),l=l.substring(0,l.length-n))),0===o?t.splice(a-s,o+s,[1,c]):0===s?t.splice(a-o,o+s,[-1,l]):t.splice(a-o-s,o+s,[-1,l],[1,c]),a=a-o-s+(o?1:0)+(s?1:0)+1):0!==a&&0==t[a-1][0]?(t[a-1][1]+=t[a][1],t.splice(a,1)):a++,s=0,o=0,l="",c=""}""===t[t.length-1][1]&&t.pop();var u=!1;for(a=1;a<t.length-1;)0==t[a-1][0]&&0==t[a+1][0]&&(t[a][1].substring(t[a][1].length-t[a-1][1].length)==t[a-1][1]?(t[a][1]=t[a-1][1]+t[a][1].substring(0,t[a][1].length-t[a-1][1].length),t[a+1][1]=t[a-1][1]+t[a+1][1],t.splice(a-1,1),u=!0):t[a][1].substring(0,t[a+1][1].length)==t[a+1][1]&&(t[a-1][1]+=t[a+1][1],t[a][1]=t[a][1].substring(t[a+1][1].length)+t[a+1][1],t.splice(a+1,1),u=!0)),a++;u&&e(t)}(d),null!=o&&(d=function(e,t){var n=function(e,t){if(0===t)return[0,e];for(var n=0,a=0;a<e.length;a++){var r=e[a];if(-1===r[0]||0===r[0]){var i=n+r[1].length;if(t===i)return[a+1,e];if(t<i){e=e.slice();var o=t-n,s=[r[0],r[1].slice(0,o)],l=[r[0],r[1].slice(o)];return e.splice(a,1,s,l),[a+1,e]}n=i}}throw new Error("cursor_pos is out of bounds!")}(e,t),a=n[1],r=n[0],i=a[r],o=a[r+1];if(null==i)return e;if(0!==i[0])return e;if(null!=o&&i[1]+o[1]===o[1]+i[1])return a.splice(r,2,o,i),s(a,r,2);if(null!=o&&0===o[1].indexOf(i[1])){a.splice(r,2,[o[0],i[1]],[0,i[1]]);var l=o[1].slice(i[1].length);return l.length>0&&a.splice(r+2,0,[o[0],l]),s(a,r,3)}return e}(d,o)),d=function(e){for(var t=!1,n=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=2;a<e.length;a+=1)0===e[a-2][0]&&(r=e[a-2][1]).charCodeAt(r.length-1)>=55296&&r.charCodeAt(r.length-1)<=56319&&-1===e[a-1][0]&&n(e[a-1][1])&&1===e[a][0]&&n(e[a][1])&&(t=!0,e[a-1][1]=e[a-2][1].slice(-1)+e[a-1][1],e[a][1]=e[a-2][1].slice(-1)+e[a][1],e[a-2][1]=e[a-2][1].slice(0,-1));var r;if(!t)return e;var i=[];for(a=0;a<e.length;a+=1)e[a][1].length>0&&i.push(e[a]);return i}(d)}function a(e,t,a,r){var i=e.substring(0,a),o=t.substring(0,r),s=e.substring(a),l=t.substring(r),c=n(i,o),u=n(s,l);return c.concat(u)}function r(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,a=Math.min(e.length,t.length),r=a,i=0;n<r;)e.substring(i,r)==t.substring(i,r)?i=n=r:a=r,r=Math.floor((a-n)/2+n);return r}function i(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,a=Math.min(e.length,t.length),r=a,i=0;n<r;)e.substring(e.length-r,e.length-i)==t.substring(t.length-r,t.length-i)?i=n=r:a=r,r=Math.floor((a-n)/2+n);return r}var o=n;function s(e,t,n){for(var a=t+n-1;a>=0&&a>=t-1;a--)if(a+1<e.length){var r=e[a],i=e[a+1];r[0]===i[1]&&e.splice(a,2,[r[0],r[1]+i[1]])}return e}o.INSERT=1,o.DELETE=-1,o.EQUAL=0,e.exports=o},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function a(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?a:r).supported=a,t.unsupported=r},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,a="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(a=!1)),o.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},o.prototype.listeners=function(e,t){var n=a?a+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},o.prototype.emit=function(e,t,n,r,i,o){var s=a?a+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,i),!0;case 6:return u.fn.call(u.context,t,n,r,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,m=u.length;for(c=0;c<m;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,r);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){var r=new i(t,n||this),o=a?a+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.once=function(e,t,n){var r=new i(t,n||this,!0),o=a?a+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.removeListener=function(e,t,n,i){var o=a?a+e:e;if(!this._events[o])return this;if(!t)return 0==--this._eventsCount?this._events=new r:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new r:delete this._events[o]);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new r:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=a,o.EventEmitter=o,void 0!==e&&(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=v(n(3)),s=v(n(2)),l=v(n(0)),c=v(n(5)),u=v(n(10)),d=v(n(9)),p=n(36),m=n(37),h=v(n(13)),g=n(26),f=n(38),b=n(39),y=n(40);function v(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=(0,u.default)("quill:clipboard"),w="__ql-matcher",k=[[Node.TEXT_NODE,R],[Node.TEXT_NODE,P],["br",function(e,t){return I(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,function(e,t){var n={},a=e.style||{};return a.fontStyle&&"italic"===x(e).fontStyle&&(n.italic=!0),a.fontWeight&&(x(e).fontWeight.startsWith("bold")||parseInt(x(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=_(t,n)),parseFloat(a.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=l.default.query(e);if(null==n||"list-item"!==n.blotName||!I(t,"\n"))return t;for(var a=-1,r=e.parentNode;!r.classList.contains("ql-clipboard");)"list"===(l.default.query(r)||{}).blotName&&(a+=1),r=r.parentNode;return a<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:a}))}],["b",T.bind(T,"bold")],["i",T.bind(T,"italic")],["style",function(){return new s.default}]],E=[p.AlignAttribute,f.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),O=[p.AlignStyle,m.BackgroundStyle,g.ColorStyle,f.DirectionStyle,b.FontStyle,y.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),A=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.quill.root.addEventListener("paste",a.onPaste.bind(a)),a.container=a.quill.addContainer("ql-clipboard"),a.container.setAttribute("contenteditable",!0),a.container.setAttribute("tabindex",-1),a.matchers=[],k.concat(a.options.matchers).forEach((function(e){var t=r(e,2),i=t[0],o=t[1];(n.matchVisual||o!==L)&&a.addMatcher(i,o)})),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[h.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,S({},h.default.blotName,t[h.default.blotName]))}var a=this.prepareMatching(),i=r(a,2),o=i[0],l=i[1],c=function e(t,n,a){return t.nodeType===t.TEXT_NODE?a.reduce((function(e,n){return n(t,e)}),new s.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(r,i){var o=e(i,n,a);return i.nodeType===t.ELEMENT_NODE&&(o=n.reduce((function(e,t){return t(i,e)}),o),o=(i[w]||[]).reduce((function(e,t){return t(i,e)}),o)),r.concat(o)}),new s.default):new s.default}(this.container,o,l);return I(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new s.default).retain(c.length()-1).delete(1))),C.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var a=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(a),n),this.quill.setSelection(e+a.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),a=(new s.default).retain(n.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout((function(){a=a.concat(t.convert()).delete(n.length),t.quill.updateContents(a,c.default.sources.USER),t.quill.setSelection(a.length()-n.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=r,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach((function(a){var i=r(a,2),o=i[0],s=i[1];switch(o){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(o),(function(e){e[w]=e[w]||[],e[w].push(s)}))}})),[t,n]}}]),t}(d.default);function _(e,t,n){return"object"===(void 0===t?"undefined":a(t))?Object.keys(t).reduce((function(e,n){return _(e,n,t[n])}),e):e.reduce((function(e,a){return a.attributes&&a.attributes[t]?e.push(a):e.insert(a.insert,(0,o.default)({},S({},t,n),a.attributes))}),new s.default)}function x(e){return e.nodeType!==Node.ELEMENT_NODE?{}:e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function I(e,t){for(var n="",a=e.ops.length-1;a>=0&&n.length<t.length;--a){var r=e.ops[a];if("string"!=typeof r.insert)break;n=r.insert+n}return n.slice(-1*t.length)===t}function j(e){if(0===e.childNodes.length)return!1;var t=x(e);return["block","list-item"].indexOf(t.display)>-1}function T(e,t,n){return _(n,e,!0)}function M(e,t){var n=l.default.Attributor.Attribute.keys(e),a=l.default.Attributor.Class.keys(e),r=l.default.Attributor.Style.keys(e),i={};return n.concat(a).concat(r).forEach((function(t){var n=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=n&&(i[n.attrName]=n.value(e),i[n.attrName])||(null==(n=E[t])||n.attrName!==t&&n.keyName!==t||(i[n.attrName]=n.value(e)||void 0),null==(n=O[t])||n.attrName!==t&&n.keyName!==t||(n=O[t],i[n.attrName]=n.value(e)||void 0))})),Object.keys(i).length>0&&(t=_(t,i)),t}function N(e,t){var n=l.default.query(e);if(null==n)return t;if(n.prototype instanceof l.default.Embed){var a={},r=n.value(e);null!=r&&(a[n.blotName]=r,t=(new s.default).insert(a,n.formats(e)))}else"function"==typeof n.formats&&(t=_(t,n.blotName,n.formats(e)));return t}function P(e,t){return I(t,"\n")||(j(e)||t.length()>0&&e.nextSibling&&j(e.nextSibling))&&t.insert("\n"),t}function L(e,t){if(j(e)&&null!=e.nextElementSibling&&!I(t,"\n\n")){var n=e.offsetHeight+parseFloat(x(e).marginTop)+parseFloat(x(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function R(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!x(e.parentNode).whiteSpace.startsWith("pre")){var a=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,a.bind(a,!0)),(null==e.previousSibling&&j(e.parentNode)||null!=e.previousSibling&&j(e.previousSibling))&&(n=n.replace(/^\s+/,a.bind(a,!1))),(null==e.nextSibling&&j(e.parentNode)||null!=e.nextSibling&&j(e.nextSibling))&&(n=n.replace(/\s+$/,a.bind(a,!1)))}return t.insert(n)}A.DEFAULTS={matchers:[],matchVisual:!0},t.default=A,t.matchAttributor=M,t.matchBlot=N,t.matchNewline=P,t.matchSpacing=L,t.matchText=R},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((a=o)&&a.__esModule?a:{default:a}).default);c.blotName="bold",c.tagName=["STRONG","B"],t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=u(n(2)),o=u(n(0)),s=u(n(5)),l=u(n(10)),c=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,l.default)("quill:toolbar"),m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(i.options.container)){var o=document.createElement("div");g(o,i.options.container),e.container.parentNode.insertBefore(o,e.container),i.container=o}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach((function(e){i.addHandler(e,i.options.handlers[e])})),[].forEach.call(i.container.querySelectorAll("button, select"),(function(e){i.attach(e)})),i.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.SELECTION_CHANGE&&i.update(t)})),i.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var e=i.quill.selection.getRange(),t=a(e,1)[0];i.update(t)})),i):(r=p.error("Container required for toolbar",i.options),d(i,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void p.warn("ignoring attaching to disabled format",n,e);if(null==o.default.query(n))return void p.warn("ignoring attaching to nonexistent format",n,e)}var r="SELECT"===e.tagName?"change":"click";e.addEventListener(r,(function(r){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),r.preventDefault();t.quill.focus();var u=t.quill.selection.getRange(),d=a(u,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,l);else if(o.default.query(n).prototype instanceof o.default.Embed){if(!(l=prompt("Enter "+n)))return;t.quill.updateContents((new i.default).retain(d.index).delete(d.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,l)),s.default.sources.USER)}else t.quill.format(n,l,s.default.sources.USER);t.update(d)})),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(n){var r=a(n,2),i=r[0],o=r[1];if("SELECT"===o.tagName){var s=void 0;if(null==e)s=null;else if(null==t[i])s=o.querySelector("option[selected]");else if(!Array.isArray(t[i])){var l=t[i];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),s=o.querySelector('option[value="'+l+'"]')}null==s?(o.value="",o.selectedIndex=-1):s.selected=!0}else if(null==e)o.classList.remove("ql-active");else if(o.hasAttribute("value")){var c=t[i]===o.getAttribute("value")||null!=t[i]&&t[i].toString()===o.getAttribute("value")||null==t[i]&&!o.getAttribute("value");o.classList.toggle("ql-active",c)}else o.classList.toggle("ql-active",null!=t[i])}))}}]),t}(c.default);function h(e,t,n){var a=document.createElement("button");a.setAttribute("type","button"),a.classList.add("ql-"+t),null!=n&&(a.value=n),e.appendChild(a)}function g(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)h(n,e);else{var t=Object.keys(e)[0],a=e[t];Array.isArray(a)?function(e,t,n){var a=document.createElement("select");a.classList.add("ql-"+t),n.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),a.appendChild(t)})),e.appendChild(a)}(n,t,a):h(n,t,a)}})),e.appendChild(n)}))}m.DEFAULTS={},m.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(t){null!=o.default.query(t,o.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),a=parseInt(n.indent||0);if("+1"===e||"-1"===e){var r="+1"===e?1:-1;"rtl"===n.direction&&(r*=-1),this.quill.format("indent",a+r,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=m,t.addControls=g},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=n(28),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.label.innerHTML=n,a.container.classList.add("ql-color-picker"),[].slice.call(a.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"buildItem",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var a=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";a&&("line"===a.tagName?a.style.stroke=r:a.style.fill=r)}}]),t}(((a=o)&&a.__esModule?a:{default:a}).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(28),o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.container.classList.add("ql-icon-picker"),[].forEach.call(a.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=n[e.getAttribute("data-value")||""]})),a.defaultItem=a.container.querySelector(".ql-selected"),a.selectItem(a.defaultItem),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"selectItem",value:function(e,n){(function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){a.root.style.marginTop=-1*a.quill.root.scrollTop+"px"})),this.hide()}return a(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var a=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),i=0;if(r.right>a.right&&(i=a.right-r.right,this.root.style.left=t+i+"px"),r.left<a.left&&(i=a.left-r.left,this.root.style.left=t+i+"px"),r.bottom>a.bottom){var o=r.bottom-r.top,s=e.bottom-e.top+o;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=m(n(3)),s=m(n(8)),l=n(43),c=m(l),u=m(n(27)),d=n(15),p=m(n(41));function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,n){h(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=b);var a=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.quill.container.classList.add("ql-snow"),a}return f(t,e),i(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),p.default),this.tooltip=new v(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,n){e.handlers.link.call(e,!n.format.link)}))}}]),t}(c.default);y.DEFAULTS=(0,o.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var v=function(e){function t(e,n){h(this,t);var a=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.preview=a.root.querySelector("a.ql-preview"),a}return f(t,e),i(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(t,n,r){if(null!=t){if(0===t.length&&r===s.default.sources.USER){var i=e.quill.scroll.descendant(u.default,t.index),o=a(i,2),l=o[0],c=o[1];if(null!=l){e.linkRange=new d.Range(t.index-c,l.length());var p=u.default.formats(l.domNode);return e.preview.textContent=p,e.preview.setAttribute("href",p),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);v.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=L(n(29)),r=n(36),i=n(38),o=n(64),s=L(n(65)),l=L(n(66)),c=n(67),u=L(c),d=n(37),p=n(26),m=n(39),h=n(40),g=L(n(56)),f=L(n(68)),b=L(n(27)),y=L(n(69)),v=L(n(70)),S=L(n(71)),C=L(n(72)),w=L(n(73)),k=n(13),E=L(k),O=L(n(74)),A=L(n(75)),_=L(n(57)),x=L(n(41)),I=L(n(28)),j=L(n(59)),T=L(n(60)),M=L(n(61)),N=L(n(108)),P=L(n(62));function L(e){return e&&e.__esModule?e:{default:e}}a.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":h.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":h.SizeStyle},!0),a.default.register({"formats/align":r.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":o.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":m.FontClass,"formats/size":h.SizeClass,"formats/blockquote":s.default,"formats/code-block":E.default,"formats/header":l.default,"formats/list":u.default,"formats/bold":g.default,"formats/code":k.Code,"formats/italic":f.default,"formats/link":b.default,"formats/script":y.default,"formats/strike":v.default,"formats/underline":S.default,"formats/image":C.default,"formats/video":w.default,"formats/list/item":c.ListItem,"modules/formula":O.default,"modules/syntax":A.default,"modules/toolbar":_.default,"themes/bubble":N.default,"themes/snow":P.default,"ui/icons":x.default,"ui/picker":I.default,"ui/icon-picker":T.default,"ui/color-picker":j.default,"ui/tooltip":M.default},!0),t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=n(0),s=(a=o)&&a.__esModule?a:{default:a};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=new(function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var a=this.value(e)||0;n="+1"===n?a+1:a-1}return 0===n?(this.remove(e),!0):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(s.default.Attributor.Class))("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(4);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=r)&&a.__esModule?a:{default:a}).default);s.blotName="blockquote",s.tagName="blockquote",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(4);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},i=l(n(0)),o=l(n(4)),s=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),a(t,[{key:"format",value:function(e,n){e!==m.blotName||n?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:r(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(o.default);p.blotName="list-item",p.tagName="LI";var m=function(e){function t(e){c(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=function(t){if(t.target.parentNode===e){var a=n.statics.formats(e),r=i.default.find(t.target);"checked"===a?r.format("list","unchecked"):"unchecked"===a&&r.format("list","checked")}};return e.addEventListener("touchstart",a),e.addEventListener("mousedown",a),n}return d(t,e),a(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",a=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||a.setAttribute("data-checked","checked"===e),a}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),a(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof p)r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var a=null==n?this.length():n.offset(this),i=this.split(a);i.parent.insertBefore(e,i)}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=i.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(s.default);m.blotName="list",m.scope=i.default.Scope.BLOCK_BLOT,m.tagName=["OL","UL"],m.defaultChild="list-item",m.allowedChildren=[p],t.ListItem=p,t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(56);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=r)&&a.__esModule?a:{default:a}).default);s.blotName="italic",s.tagName=["EM","I"],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(6);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);l.blotName="script",l.tagName=["SUB","SUP"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(6);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=r)&&a.__esModule?a:{default:a}).default);s.blotName="strike",s.tagName="S",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(6);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=r)&&a.__esModule?a:{default:a}).default);s.blotName="underline",s.tagName="U",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=n(0),s=(a=o)&&a.__esModule?a:{default:a},l=n(27);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=["alt","height","width"],p=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.default.Embed);p.blotName="image",p.tagName="IMG",t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},o=n(4),s=n(27),l=(a=s)&&a.__esModule?a:{default:a};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=["height","width"],p=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(o.BlockEmbed);p.blotName="video",p.className="ql-video",p.tagName="IFRAME",t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=s(n(35)),i=s(n(5)),o=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,null,[{key:"create",value:function(e){var n=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(r.default);d.blotName="formula",d.className="ql-formula",d.tagName="SPAN";var p=function(e){function t(){l(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return u(t,e),a(t,null,[{key:"register",value:function(){i.default.register(d,!0)}}]),t}(o.default);t.FormulaBlot=d,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=s(n(0)),i=s(n(5)),o=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(s(n(13)).default);d.className="ql-syntax";var p=new r.default.Attributor.Class("token","hljs",{scope:r.default.Scope.INLINE}),m=function(e){function t(e,n){l(this,t);var a=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof a.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var r=null;return a.quill.on(i.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(r),r=setTimeout((function(){a.highlight(),r=null}),a.options.interval)})),a.highlight(),a}return u(t,e),a(t,null,[{key:"register",value:function(){i.default.register(p,!0),i.default.register(d,!0)}}]),a(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(i.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(d).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(i.default.sources.SILENT),null!=t&&this.quill.setSelection(t,i.default.sources.SILENT)}}}]),t}(o.default);m.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=d,t.CodeToken=p,t.default=m},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var a=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(a):void 0},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=d(n(3)),o=d(n(8)),s=n(43),l=d(s),c=n(15),u=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],f=function(e){function t(e,n){p(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=g);var a=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.quill.container.classList.add("ql-bubble"),a}return h(t,e),r(t,[{key:"extendToolbar",value:function(e){this.tooltip=new b(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),u.default)}}]),t}(l.default);f.DEFAULTS=(0,i.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var b=function(e){function t(e,n){p(this,t);var a=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.quill.on(o.default.events.EDITOR_CHANGE,(function(e,t,n,r){if(e===o.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&r===o.default.sources.USER){a.show(),a.root.style.left="0px",a.root.style.width="",a.root.style.width=a.root.offsetWidth+"px";var i=a.quill.getLines(t.index,t.length);if(1===i.length)a.position(a.quill.getBounds(t));else{var s=i[i.length-1],l=a.quill.getIndex(s),u=Math.min(s.length()-1,t.index+t.length-l),d=a.quill.getBounds(new c.Range(l,u));a.position(d)}}else document.activeElement!==a.textbox&&a.quill.hasFocus()&&a.hide()})),a}return h(t,e),r(t,[{key:"listen",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(o.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===n)return n;r.style.marginLeft=-1*n-r.offsetWidth/2+"px"}}]),t}(s.BaseTooltip);b.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=b,t.default=f},function(e,t,n){e.exports=n(63)}]).default},e.exports=n()}).call(this,n("+ZX+").Buffer)},"1d/y":function(e,t,n){"use strict";n.d(t,"a",(function(){return ae}));var a=n("D57K"),r=n("ERkP"),i=n("OA+g"),o=n("vOOZ"),s=n("9NHN"),l=n("xlCj"),c=n("rk+4"),u=n("bO3R"),d=n("D6Vf"),p=n("BugA"),m=n("pgXu"),h=n("GUi3"),g=n("xEVj"),f=n("zR/0"),b=n("4lva"),y=n("lrqh"),v=n("6fbX"),S=n("D9EC"),C=n("PrA7"),w=n("XaD9"),k=n("Pe9T"),E=n("XxZg");const O=({className:e})=>r.createElement("svg",{viewBox:"0 0 68 68",width:"68",height:"68",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e},r.createElement("path",{d:"M12.965 22.107c3.688-6.33 10.104-10.96 17.954-11.942 4.466-.621 8.752.094 12.604 1.714.68.292 1.411.648 2.027.994.616.346 1.284.755 1.9 1.102a23.872 23.872 0 016.326 6.12c.467.686.987 1.435 1.391 2.175.35.676.701 1.352.998 1.965.872 2.073 1.552 4.305 1.808 6.678.831 6.42-1.022 12.61-4.636 17.478-.806 1.107-1.718 2.088-2.683 3.006-1.484 1.461-3.18 2.67-4.92 3.698-2.662 1.48-5.578 2.526-8.793 2.96-5.77.745-11.235-.6-15.809-3.338a18.989 18.989 0 01-3.523-2.65",stroke:"#8383EF"}),r.createElement("path",{d:"M31.985 18.544c.297-.034.594-.067.827-.048M34.467 18.401c1.995.051 3.841.443 5.592 1.238M40.791 19.995c.223.136.51.22.733.356.392.21.838.482 1.23.692 1.55 1.071 3.015 2.43 4.109 3.992.308.496.68.94.87 1.426.255.433.457.803.648 1.289a16.01 16.01 0 011.202 4.275c.565 4.163-.621 8.178-2.964 11.33-.53.66-1.124 1.374-1.707 1.972A16.193 16.193 0 0141.7 47.7c-1.24.718-2.64 1.246-4.083 1.594",stroke:"#00B18F"}),r.createElement("path",{d:"M34.82 41.18a7.096 7.096 0 01-4.615-.978c-.392-.21-.721-.473-1.05-.736-.16-.19-.436-.39-.595-.579-.85-1.012-1.497-2.302-1.657-3.785-.138-1.07-.044-2.12.274-3.033.021-.234.159-.457.233-.627.138-.224.223-.51.36-.734 1.05-1.851 2.937-3.22 5.26-3.552 1.305-.125 2.589-.016 3.66.486.17.073.393.21.563.283.17.073.392.21.562.283a6.731 6.731 0 011.837 1.801",stroke:"#1CA6D0"}),r.createElement("path",{d:"M8.764 63.084h18.649c3.813 0 6.933-3.139 6.933-6.974V32.818c0-3.835-3.12-6.973-6.933-6.973H8.764c-3.812 0-6.932 3.138-6.932 6.973V56.11c.07 3.836 3.12 6.974 6.932 6.974z",fill:"#F2F3FA",stroke:"#1C1E33"}),r.createElement("path",{d:"M18.123 54.297c6.012 0 10.885-4.902 10.885-10.949 0-6.046-4.873-10.948-10.884-10.948-6.012 0-10.885 4.902-10.885 10.948 0 6.047 4.873 10.949 10.884 10.949z",fill:"#AFE4F4",stroke:"#1C1E33"}),r.createElement("path",{d:"M8.14 47.672c-2.148-4.951-.277-10.67 4.091-13.529 1.872 0 4.16-.558 9.498 6.346a482.407 482.407 0 012.426 3.627c-1.11.627-2.218 1.045-2.218 1.045.97 2.093 3.05 5.37 1.317 7.88l-.832.42c-5.477 2.3-11.924-.21-14.281-5.789z",fill:"#fff",stroke:"#1C1E33"}),r.createElement("path",{d:"M19.302 36.096c-2.08-2.72-3.605-2.86-4.853-3.138-.277.14-.554.209-.901.348h-.07l-.831.419h-.07c-.277.14-.485.349-.762.488-1.248.907-2.288 2.022-3.05 3.347 0 .07-.07.07-.07.14-.138.209-.208.348-.277.558-.07.14-.139.209-.139.348-.069.14-.138.349-.208.558-.069.21-.138.349-.208.488-.069.14-.138.35-.138.489-.07.139-.07.348-.139.488-.07.14-.07.348-.139.488-.069.21-.069.349-.069.558-.07.14-.07.279-.07.418 0 .21 0 .419-.069.628V44.186c0 .348.07.697.14 1.045a11.92 11.92 0 001.039 3.138c.139.35.347.628.555.907.97 1.534 2.287 2.72 3.812 3.626.14-1.604-.623-3.696-1.317-5.37-1.109-2.72 1.317-3.068 2.565-1.882 1.248 1.116.902-.349.763-2.86-.07-3.556 2.773-5.509 4.506-6.694z",fill:"#1C1E33"}),r.createElement("path",{d:"M47.605 40.74H28.956c-3.813 0-6.932-3.139-6.932-6.974V10.474c0-3.835 3.12-6.973 6.932-6.973h18.649c3.813 0 6.932 3.138 6.932 6.973v23.292c0 3.835-3.12 6.974-6.932 6.974z",fill:"#fff",stroke:"#1C1E33"}),r.createElement("path",{d:"M38.246 31.954c-6.011 0-10.884-4.902-10.884-10.949s4.873-10.948 10.884-10.948c6.01 0 10.884 4.901 10.884 10.948 0 6.047-4.873 10.949-10.884 10.949z",fill:"#B9CDFF",stroke:"#1C1E33"}),r.createElement("path",{d:"M48.991 22.888c.971-5.37-2.149-10.46-7.07-12.204-1.803.419-4.16.419-7.835 8.438-.554 1.534-1.525 4.045-1.525 4.045 1.248.349 2.427.488 2.427.488-.486 2.232-1.803 5.928.485 7.95.277.07.555.14.901.21 5.893 1.045 11.578-2.93 12.617-8.927z",fill:"#fff",stroke:"#1C1E33"}),r.createElement("path",{d:"M45.04 24.84c1.178-2.37-1.179-3.975-1.872-2.58-.693 1.464-2.01 1.813-1.664.628.486-2.371 1.525-5.37-2.149-6.137-3.674-.697-3.882-3.975-2.98-6.555.831-.14 1.663-.21 2.564-.14 6.032.349 10.607 5.58 10.191 11.646-.208 3.417-1.941 6.346-4.506 8.229-.901-1.186-.416-3.487.416-5.09z",fill:"#1C1E33"}));var A=n("e12y"),_=n("ps/9"),x=n("ax6a"),I=n("mLKH");const j={position:"absolute",right:0,bottom:0,zIndex:_.q,margin:`0 ${A.a.rem(.5)} ${A.a.rem(1)} 0`,padding:A.a.rem(1.5),width:A.a.rem(27),borderRadius:A.a.rem(_.s),background:x.a.CoreNeutral0},T={display:"flex",margin:"0 0 "+A.a.rem(1),alignItems:"center"},M={marginBottom:A.a.rem(.5),fontWeight:700},N={marginLeft:A.a.rem(.5),flex:"auto 0 0"},P={maxWidth:A.a.percent(100)},L={marginRight:A.a.rem(.5),marginLeft:A.a.rem(-.5),textTransform:"none",letterSpacing:"normal",fontSize:A.a.rem(.875)},R={marginRight:A.a.rem(-.5),marginLeft:A.a.rem(-.5),color:x.a.CoreNeutral50},B=A.a.stylesheet({container:[I.a,j],content:[T],title:[M],image:[N],buttonsContainer:[P],ctaButton:[L],dismissButton:[R]});var F=n("iVSA");const D={position:"absolute",right:0,bottom:0,zIndex:_.q,display:"flex",margin:`0 ${A.a.rem(.5)} ${A.a.rem(1)} 0`,padding:A.a.rem(2),width:A.a.rem(27),background:x.a.CoreNeutral0,alignItems:"flex-start"},H={width:A.a.rem(17)},V={marginTop:A.a.rem(1)},U={color:F.f.Base.Content.Secondary.Default,fontWeight:"normal"},W={$nest:{"& button:not(:last-of-type)":{marginRight:A.a.rem(F.g.Space2)}}},q={display:"flex",flexDirection:"column",margin:`${A.a.rem(2)} 0 ${A.a.rem(-1)} ${A.a.rem(1)}`,width:A.a.rem(5),height:A.a.rem(5),borderRadius:A.a.percent(50),boxShadow:"0 0 48px 0 rgba(96, 101, 123, .08)",justifyContent:"center",alignItems:"center"},z={position:"fixed",right:A.a.rem(4)},$={marginRight:A.a.rem(-.5)},G={position:"fixed",right:A.a.rem(14),bottom:"auto"},K={$nest:{"@media (max-height: 767px)":Object.assign({},$),"@media (min-height: 768px)":Object.assign({},G)}},Y=Object.assign(Object.assign({},G),{bottom:0}),Z=Object.assign(Object.assign({},Y),{marginRight:A.a.rem(2),right:A.a.rem(4)}),X={$nest:{"@media (min-height: 768px)":Object.assign(Object.assign({},G),{top:A.a.rem(24)})}},Q={$nest:{"@media (min-height: 768px)":Object.assign(Object.assign({},G),{top:A.a.rem(28)})}},J={$nest:{"@media (min-height: 768px)":Object.assign(Object.assign({},G),{top:A.a.rem(32)})}},ee=Object.assign(Object.assign({},G),{bottom:0}),te=Object.assign(Object.assign({},ee),{marginRight:A.a.rem(2),right:A.a.rem(4)}),ne=A.a.stylesheet({wrapper:[{position:"relative",width:0,height:0}],container:[I.a,D],messageContainer:[H],buttonsContainer:[V],laterButton:[U],imageContainer:[q],baseTitle:[{fontWeight:"bold"}],closedSidebar:[z],fixedNotification:[K],outcomesPlagiarismSidebarOpen:[Y],outcomesPlagiarismSidebarClosed:[Z],engagement:[X],delivery:[Q],gbVoxUphook:[J],proofitSidebarOpen:[ee],proofitSidebarClosed:[te],footerButtons:[W]}),ae=e=>r.createElement(o.a.div,{className:e.isSidebarOpen.view(e=>e?"":ne.closedSidebar)},e.navigationViewModel.popover.view(Object(i.flow)(y.g.map(t=>{switch(t){case b.b.ProofitHook:return r.createElement(se,Object.assign({},e,{key:"proofit"}));case b.b.PlagiarismHook:return r.createElement(pe,Object.assign({},e,{key:"plagiarism"}));case b.b.EngagementHook:return r.createElement(le,Object.assign({},e,{key:"engagement"}));case b.b.DeliveryHook:return r.createElement(ce,Object.assign({},e,{key:"delivery"}));case b.b.GbVoxHook:return r.createElement(de,Object.assign({},e,{key:"GbVoxHook"}));case b.b.GbEnableVoxHook:return r.createElement(ue,Object.assign({},e,{key:"GbEnableVox"}));default:return Object(v.c)(t)}}),y.g.toNullable))),re=({title:e,description:t,visible:n,children:a,footer:i,className:l,overlayType:c})=>r.createElement(o.a.div,{className:ne.wrapper},r.createElement(d.b,{positionType:"fixed",visible:n,alignment:"none",overlayType:c}),n.view(n=>n&&r.createElement(o.a.div,Object.assign({key:"container",role:"status","aria-live":"polite","data-name":"freemium-notification"},Object(s.c)(ne.container,l)),r.createElement("div",{className:ne.messageContainer},r.createElement(p.j,{className:ne.baseTitle},e),r.createElement(p.a,null,t),r.createElement(u.a.Group,{className:ne.buttonsContainer},i)),r.createElement("div",{className:ne.imageContainer},a)))),ie=e=>{const{gnarSpec:t,pageId:n}=r.useContext(w.a.Context),a={pageId:n,upgradeHookName:E.c.Tooltip,upgradeHookSlot:e.metricSlot},i=C.Monitoring.TimeSeries.rootFemetrics.getMetric(E.a.GetPremiumButton).getCounter(E.b.Show).setContext(a),o=C.Monitoring.TimeSeries.rootFemetrics.getMetric(E.a.GetPremiumButton).getCounter(E.b.Click).setContext(a),s=g.a.useVisibilityObserverOnce(()=>{i.increment(),t.getPremiumButtonShow(n,"goPremium",e.trackingPlacement)}),c=e.navigationViewModel.popover.lens(l.a.create(y.g.exists(t=>t===e.type),e=>(Object(v.f)(!Boolean(e),"Positive values shouldn't be set through Option.clear lens"),y.g.none)));return r.createElement(re,Object.assign({},e,{visible:c,className:e.className,overlayType:null!=e.overlayType?e.overlayType:"transparent",footer:r.createElement("div",{ref:s,className:ne.footerButtons},r.createElement(m.a,{size:"small",upgradeAction:()=>{o.increment(),t.getPremiumButtonClick(n,"goPremium",e.trackingPlacement),e.upgradeViewModel.openUpgradeUrl(e.place)}}),r.createElement(u.a.Ghost,{name:"later",className:ne.laterButton,onClick:()=>{t.dismissUpHookButtonClick(n,e.trackingPlacement),c.set(!1)}},"Maybe later"))}))},oe=e=>{const t=e.navigationViewModel.popover.lens(l.a.create(y.g.exists(t=>t===e.type),e=>(Object(v.f)(!Boolean(e),"Positive values shouldn't be set through Option.clear lens"),y.g.none)));return r.createElement(o.a.div,{className:ne.wrapper},r.createElement(d.b,{positionType:"fixed",visible:t,alignment:"none",overlayType:"transparent"}),t.view(n=>Boolean(n)&&r.createElement("div",Object.assign({key:"container"},Object(s.c)(B.container,ne.gbVoxUphook)),r.createElement(p.a,{className:B.title},e.title),r.createElement("div",{className:B.content},r.createElement(p.a,null,e.description),r.createElement(O,{className:B.image})),r.createElement("div",{className:B.buttonsContainer},r.createElement(u.a.Ghost,{textPosition:"surrounded",name:"gb.hook.CTA",className:B.ctaButton,onClick:()=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){yield e.onCta(),t.set(!1)}))},e.cta),r.createElement(u.a.Flat,{name:"gb.hook.later",className:B.dismissButton,onClick:()=>{e.onLater(),t.set(!1)}},e.maybeLater)))))},se=e=>{const t=r.useContext(c.a.Context);return r.createElement(ie,{isSidebarOpen:e.isSidebarOpen,type:b.b.ProofitHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:t.proofitTitle,description:t.proofitDescription,place:k.i.Place.DenaliDocument.editorDenaliProofit,className:Boolean(e.className)?e.className:e.isSidebarOpen.view(e=>e?ne.proofitSidebarOpen:ne.proofitSidebarClosed),overlayType:e.overlayType,trackingPlacement:"proofreadingTooltip",metricSlot:E.d.ProofreadingTooltip},r.createElement(me,null))},le=e=>{const t=r.useContext(c.a.Context);return r.createElement(ie,{type:b.b.EngagementHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:h.a.OutcomeId.fromOutcomeId(h.a.SpecialId.Engagement),description:t.freemiumNotifications.engagement,place:k.i.Place.DenaliDocument.editorDenaliEngagement,className:Boolean(e.className)?e.className:ne.engagement,overlayType:e.overlayType,trackingPlacement:"engagementTooltip",metricSlot:E.d.EngagementTooltip},r.createElement(ge,null))},ce=e=>{const t=r.useContext(c.a.Context);return r.createElement(ie,{type:b.b.DeliveryHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:h.a.OutcomeId.fromOutcomeId(h.a.SpecialId.Delivery),description:t.freemiumNotifications.delivery,place:k.i.Place.DenaliDocument.editorDenaliDelivery,className:Boolean(e.className)?e.className:ne.delivery,overlayType:e.overlayType,trackingPlacement:"deliveryTooltip",metricSlot:E.d.DeliveryTooltip},r.createElement(fe,null))},ue=e=>{const t=r.useContext(c.a.Context).gbEnableVoxLensHook,{gnarSpec:n,pageId:a}=r.useContext(w.a.Context);return r.useEffect(()=>{n.gbEnableVoxNotificationShow(a)}),r.createElement(oe,Object.assign({type:b.b.GbEnableVoxHook,onCta:()=>{n.gbEnableVoxButtonClick(a),e.upgradeViewModel.enableGBVoxHookLens()},onLater:()=>{n.dismissUpHookButtonClick(a,"gbVoxLensEnableHook")}},t,e))},de=e=>{const t=r.useContext(c.a.Context).gbVoxLensUpHook,{gnarSpec:n,pageId:a}=r.useContext(w.a.Context);return r.createElement(oe,Object.assign({type:b.b.GbVoxHook,onCta:()=>f.a.mergeStatic(Object(S.g)(300),n.getGBButtonClick("gbVoxLens",t.cta,a,"gbVoxLens").catch(S.e)).pipe(f.a.first(),f.a.tap(()=>e.upgradeViewModel.fromGbVoxUpHookLens())).toPromise(),onLater:()=>{n.dismissUpHookButtonClick(a,"gbVoxLens")}},t,e))},pe=e=>{const t=r.useContext(c.a.Context);return r.createElement(ie,{isSidebarOpen:e.isSidebarOpen,type:b.b.PlagiarismHook,upgradeViewModel:e.upgradeViewModel,navigationViewModel:e.navigationViewModel,title:t.plagiarism.title,description:t.freemiumNotifications.plagiarism,place:k.i.Place.DenaliDocument.editorDenaliPlagiarism,className:Boolean(e.className)?e.className:e.isSidebarOpen.view(e=>e?ne.outcomesPlagiarismSidebarOpen:ne.outcomesPlagiarismSidebarClosed),overlayType:e.overlayType,trackingPlacement:"plagiarismTooltip",metricSlot:E.d.PlagiarismTooltip},r.createElement(he,null))},me=()=>r.createElement("svg",{"aria-hidden":!0,width:"78",height:"79",viewBox:"0 0 78 79"},r.createElement("defs",null,r.createElement("path",{d:"M30.333 58.933c16.753 0 30.334-13.192 30.334-29.466S47.086 0 30.333 0C13.581 0 0 13.193 0 29.467s13.58 29.466 30.333 29.466z",id:"profproofreadersimg-path"})),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(2 2)"},r.createElement("path",{d:"M6.33 44.008c2.564 7.611 16.385 17.525 29.127 17.525C51.773 61.533 65 48.53 65 32.488 65 16.447 48.648 4.311 36.516 2.983c-8.395-.919-11.41-.345-18.512 3.497-4.216 2.28-7.884 6.083-10.256 9.605-2.569 3.814-4.281 11.482-4.281 16.403 0 3.514 1.719 8.403 2.863 11.52z",fill:"#B8D3FA"}),r.createElement("mask",{id:"profproofreadersimg-mask",fill:"#fff"},r.createElement("use",{xlinkHref:"#profproofreadersimg-path"})),r.createElement("path",{stroke:"#555C6A",strokeWidth:"2",d:"M30.333 59.933C13.035 59.933-1 46.3-1 29.467-1 12.634 13.035-1 30.333-1c17.299 0 31.334 13.634 31.334 30.467S47.632 59.933 30.333 59.933z"}),r.createElement("path",{d:"M29.843 47.74L31 51.519 26.81 67c-8.664-1.11-15.147-2.6-19.45-4.473 0 0-1.308-.306-1.36-3.263 0 0 .47-5.809 4.499-11.621 0 0 1.15-1.53 3.87-2.55l8.696-3.687a5.183 5.183 0 0 0 1.345-1.17c.041-.053.099-.131.172-.236l-.172 10.523 5.433-2.783zm24.59-.228c4.09 5.858 4.568 11.71 4.567 11.71-.053 2.98-1.38 3.29-1.38 3.29-2.61 1.126-9.133 2.622-19.573 4.488L34 51.523l1.24-3.84 4.908 2.836L40.366 40c.281.357.518.602.71.735.086.097.352.277.437.37.193.145.407.288.637.431 2.902 1.806 8.352 3.408 8.352 3.408 2.763 1.027 3.931 2.568 3.931 2.568zM40 36.076V37c0 2.5-4.5 8-7.688 8-3.188 0-7.312-5.5-7.263-8 .016-.5.016-.643 0-.924-1.271-1.628-2.286-2.805-2.845-4.803-1.451 0-1.82-5.804-1.451-6.707-.043-.098-.078-3.484.35-7.296 0 0 .204-7.073 7.397-8.27 1.005 1.073 9.547-2.5 9.547 3.5C45 9 44.453 24.284 44.358 24.566c.31.478 0 6.707-1.695 6.707-.562 1.537-1.64 3.463-2.663 4.803z",fill:"#FFF",mask:"url(#profproofreadersimg-mask)"})),r.createElement("g",{transform:"translate(43 44)"},r.createElement("ellipse",{stroke:"#555C6A",strokeWidth:"2",fill:"#FFF",strokeLinecap:"square",cx:"15.714",cy:"15.963",rx:"16.714",ry:"16.963"}),r.createElement("ellipse",{fill:"#68DEC2",style:{mixBlendMode:"multiply"},cx:"18.571",cy:"17.414",rx:"16.429",ry:"16.688"}),r.createElement("path",{stroke:"#FFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",d:"M7.857 17.274l5.501 5.724L25 10.884"})))),he=()=>r.createElement("svg",{"aria-hidden":!0,width:"32",height:"32",viewBox:"0 0 32 32"},r.createElement("defs",null,r.createElement("rect",{id:"plariarismoutcomesimg-rect",width:"22",height:"22",rx:"4"}),r.createElement("path",{id:"plariarismoutcomesimg-path",d:"M22 10v8a4 4 0 0 1-4 4h-8v-8a4 4 0 0 1 4-4h8z"}),r.createElement("filter",{id:"plariarismoutcomesimg-filter",width:"350%",height:"350%",x:"-125%",y:"-125%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"}))),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("use",{fill:"#5CDAE6",transform:"translate(10 10)",xlinkHref:"#plariarismoutcomesimg-rect"}),r.createElement("mask",{id:"plariarismoutcomesimg-mask",fill:"#fff"},r.createElement("use",{xlinkHref:"#plariarismoutcomesimg-rect"})),r.createElement("use",{fill:"#99F6FF",xlinkHref:"#plariarismoutcomesimg-rect"}),r.createElement("g",{mask:"url(#plariarismoutcomesimg-mask)"},r.createElement("use",{fill:"#000",filter:"url(#plariarismoutcomesimg-filter)",xlinkHref:"#plariarismoutcomesimg-path"}),r.createElement("use",{fill:"#79E8F2",xlinkHref:"#plariarismoutcomesimg-path"})))),ge=()=>r.createElement("svg",{"aria-hidden":!0,width:"32",height:"32",viewBox:"0 0 32 32"},r.createElement("defs",null,r.createElement("circle",{id:"engagementimg-circle",cx:"16",cy:"16",r:"16"}),r.createElement("path",{id:"engagementimg-path",d:"M8 16a10 10 0 1 1 16 0 10 10 0 1 1-16 0zm0 0a9.98 9.98 0 0 0 16 0 9.98 9.98 0 0 0-16 0z"}),r.createElement("filter",{id:"engagementimg-filter",width:"250%",height:"193.8%",x:"-75%",y:"-46.9%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}))),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("mask",{id:"engagementimg-mask",fill:"#fff"},r.createElement("use",{xlinkHref:"#engagementimg-circle"})),r.createElement("use",{fill:"#B9F9EA",xlinkHref:"#engagementimg-circle"}),r.createElement("g",{mask:"url(#engagementimg-mask)"},r.createElement("use",{fill:"#000",filter:"url(#engagementimg-filter)",xlinkHref:"#engagementimg-path"}),r.createElement("use",{fill:"#0FDCAC",xlinkHref:"#engagementimg-path"})),r.createElement("path",{fill:"#C0F9EC",d:"M8 16a9.98 9.98 0 0 1 16 0 9.98 9.98 0 0 1-16 0z",mask:"url(#engagementimg-mask)"}))),fe=()=>r.createElement("svg",{"aria-hidden":!0,width:"32",height:"32",viewBox:"0 0 42 32"},r.createElement("defs",null,r.createElement("ellipse",{id:"deliveryimg-ellipse",cx:"16",cy:"20",rx:"11.97",ry:"12"}),r.createElement("filter",{id:"deliveryimg-filter1",width:"225.3%",height:"225%",x:"-62.7%",y:"-62.5%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.934440559 0"})),r.createElement("circle",{id:"deliveryimg-circle",cx:"16",cy:"24",r:"8"}),r.createElement("filter",{id:"deliveryimg-filter2",width:"287.5%",height:"287.5%",x:"-93.8%",y:"-93.8%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"5"}),r.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"}))),r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(5 2)"},r.createElement("circle",{cx:"16",cy:"16",r:"16",fill:"#E8C7FF"}),r.createElement("use",{fill:"#000",filter:"url(#deliveryimg-filter1)",xlinkHref:"#deliveryimg-ellipse"}),r.createElement("use",{fill:"#D39DFA",xlinkHref:"#deliveryimg-ellipse"}),r.createElement("g",null,r.createElement("use",{fill:"#000",filter:"url(#deliveryimg-filter2)",xlinkHref:"#deliveryimg-circle"}),r.createElement("use",{fill:"#BC78ED",xlinkHref:"#deliveryimg-circle"}))))},"1dIs":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return y}));var a=n("6fbX"),r=n("1w6p"),i=n("dE97"),o=n("zR/0"),s=n("bZeK"),l=n("GUi3"),c=n("Y7d8");function u(e,t,n,s){const u=t.pipe(o.a.filter(e=>e!==l.a.SpecialId.Premium),o.a.map(e=>e===l.a.SpecialId.Priority?c.a.LensMode.priority:c.a.LensMode.all),o.a.distinctUntilChanged());return r.a.fromSideEffect(t=>{switch(t.kind){case c.a.Action.Kind.select:e.events.next({type:"switchToLens",id:t.selected===c.a.LensMode.priority?l.a.SpecialId.Priority:l.a.SpecialId.AllAlerts,focusFirst:!1,actionSource:i.b.sidebar});break;default:Object(a.c)(t.kind)}},u.pipe(o.a.map(e=>({ord:"priority"===n?c.a.Order.priorityFirst:c.a.Order.allFirst,layoutMode:s,lensMode:e}))))}function d(e,t,n){const i=e.lensMode.pipe(o.a.map(e=>"all"===e?c.a.LensMode.all:c.a.LensMode.priority),o.a.distinctUntilChanged());return r.a.fromSideEffect(t=>{switch(t.kind){case c.a.Action.Kind.select:e.lensModeEvents.next({type:"changeLensMode",lensMode:t.selected});break;default:Object(a.c)(t.kind)}},i.pipe(o.a.map(e=>({ord:"priority"===t?c.a.Order.priorityFirst:c.a.Order.allFirst,layoutMode:n,lensMode:e}))))}var p=n("kfbT");function m(e,t,n,a,i,l){return r.a.composeKnot({info:s.a.createLensCounterFlow(t,t.pipe(o.a.switchMap(e=>i.getLens(e).view("count"))),l),switcher:u(e,t,n,a)})}function h(e,t,n,a,i,l){return r.a.composeKnot({info:s.a.createLensCounterFlow(t,t.pipe(o.a.switchMap(e=>i.getLens(e).view("count"))),l),switcher:d(e,n,a)})}function g(e,t){return r.a.fromSideEffect(t=>{switch(t.kind){case p.a.LensFilter.Action.Kind.switchBack:e.events.next({type:"switchToAll",focusFirst:!0,actionSource:i.b.sidebar});break;default:Object(a.c)(t.kind)}},t.pipe(o.a.map(e=>({lensTitle:e}))))}function f(e,t,n,a,i){return r.a.composeKnot({counter:s.a.createLensCounterFlow(t,t.pipe(o.a.switchMap(e=>a.getLens(e).view("count"))),i),filter:g(e,n)})}function b(e,t,n,a,i,o,s){return r.a.composeKnot({info:f(e,t,s,i,o),switcher:d(e,n,a)})}function y(e,t,n,a,i,s,l,c){return r.a.composeUnion({withFilter:b(e,t,n,a,i,s,l),withoutFilter:h(e,t,n,a,i,s)},()=>c.pipe(o.a.map(e=>({kind:e?"withFilter":"withoutFilter"}))))}},"1nqz":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("ERkP"),r=n("vOOZ"),i=n("6fbX"),o=n("ax6a"),s=n("rmLU"),l=n("PrA7"),c=n("rk+4"),u=n("bO3R"),d=n("Z5Rd"),p=n("e12y"),m=n("o79T");const h={unauthorizedError:(e,t)=>a.createElement(g.UnauthorizedError,{action:t("gotoLogin")}),offline:(e,t)=>a.createElement(g.Offline,{reconnect:t("reconnect"),reconnectTime:e.args.reconnectTime}),serverError:()=>a.createElement(g.ServerError,null),connectionWSError:()=>a.createElement(g.ConnectionWSError,null),clientConnectionError:()=>a.createElement(g.ClientConnectionError,null),documentNotFoundError:(e,t)=>a.createElement(g.DocumentNotFoundError,{navigateToDocuments:t("navigateToDocuments")}),selfUpdate:()=>a.createElement(g.SelfUpdate,null),desktopHardUpdate:(e,t)=>a.createElement(g.DesktopHardUpdate,{reloadMethod:t("reloadMethod")}),desktopHardDownload:(e,t)=>a.createElement(g.DesktopHardDownload,{downloadMethod:t("downloadMethod")}),slowNetwork:()=>a.createElement(g.SlowNetworkError,null),checkingIsDown:()=>a.createElement(g.CheckingIsDownError,null),error:()=>a.createElement(g.Error,null),paymentSuccess:()=>a.createElement(g.PaymentSuccessMessage,null),paymentError:()=>a.createElement(g.PaymentErrorMessage,null),proofitPaymentDeclinedError:(e,t)=>a.createElement(g.ProofitPaymentDeclinedError,{paymentMethod:e.args.paymentMethod,navigateToSubscription:t("navigateToSubscription")}),proofitEmptyDocumentError:()=>a.createElement(g.ProofitEmptyDocumentError,null),proofitComplexInternalStructureError:(e,t)=>a.createElement(g.ProofitComplexInternalStructureError,{navigateToDocuments:t("navigateToDocuments")}),proofitDocumentProofreadError:(e,t)=>a.createElement(g.ProofitDocumentProofreadError,{navigateToDocuments:t("navigateToDocuments")}),copyToClipboardFailed:()=>a.createElement(g.CopyToClipboardError,null),proofitCancelled:()=>a.createElement(g.ProofitCancelled,null),proofitCompleted:e=>a.createElement(g.ProofitCompleted,{documentTitle:e.args.documentTitle,documentDownloadUrl:e.args.documentDownloadUrl,email:e.args.email}),denaliDocumentUploaded:(e,t)=>a.createElement(g.DenaliDocumentUploaded,{navigateToDocuments:t("navigateToDocuments")}),denaliFormattingCompatibility:()=>a.createElement(g.DenaliFormattingCompatibility,null),alertsNothingFound:()=>a.createElement(g.AlertsNothingFound,null),desktopSoftUpdate:(e,t)=>a.createElement(g.DesktopSoftUpdate,{reloadMethod:t("reloadMethod")}),desktopSoftDownload:(e,t)=>a.createElement(g.DesktopSoftDownload,{downloadMethod:t("downloadMethod")}),switchToDenali:()=>a.createElement(g.Generic,{type:v.switchToDenali}),feedbackSend:()=>a.createElement(g.Generic,{type:v.feedbackSend}),statisticsError:()=>a.createElement(g.Generic,{type:v.statisticsError}),copySuccess:e=>a.createElement(g.Generic,{type:"referenceCopied"===e.args.copyType?v.referenceCopied:v.documentCopied}),downloadDocumentNotFoundError:()=>a.createElement(g.DownloadDocumentNotFoundError,null),isTemporaryDownloadError:()=>a.createElement(g.Generic,{type:v.isTemporaryDownloadError}),clipboardNotSupported:e=>a.createElement(g.ClipboardNotSupported,{hotkey:e.args.hotkey}),documentSizeExceeded:e=>a.createElement(g.DocumentSizeExceeded,{os:e.args.os,officeAddinUrl:e.args.officeAddinUrl}),documentUploaded:(e,t)=>a.createElement(g.DocumentUploaded,{navigateToDocument:t("navigateToDocument")}),documentTypeUnsupported:()=>a.createElement(g.DocumentTypeUnsupported,null),trackedChangesIsUnsupported:e=>a.createElement(g.DocumentWithTrackedChangesIsUnsupported,{link:e.args.link}),documentUploadGeneralError:()=>a.createElement(g.Generic,{type:v.documentUploadGeneralError}),documentIsEmpty:()=>a.createElement(g.Generic,{type:v.documentIsEmpty}),noFileToUpload:()=>a.createElement(g.Generic,{type:v.noFileToUpload}),oneDocumentIsAllowed:()=>a.createElement(g.Generic,{type:v.oneDocumentIsAllowed})};var g;!function(e){e.UnauthorizedError=({action:e})=>a.createElement(d.b.TitledContent,{title:"You've Been Logged Out"},"This occurs due to inactivity or logging out on another device.",a.createElement("br",null),a.createElement(m.a,{name:"login",className:y.footerLink,onClick:e},"Log Back In")),e.Offline=({reconnect:e,reconnectTime:t})=>a.createElement(d.b.TitledContent,{title:"Lost Connection"},"Your Internet session was interrupted. We’ll try to reconnect you in"," ",a.createElement(r.a.span,null,t.view(e=>e))," seconds.",a.createElement("br",null),a.createElement(m.a,{name:"reconnect",className:y.footerLink,onClick:e},"Reconnect Now")),e.ServerError=()=>{const t=e.withReload(m.a,"UnknownConnectionError");return a.createElement(d.b.TitledContent,{title:"Sorry, Unexpected Issue"},"A small error has occurred, causing an interruption of service.",a.createElement("br",null),a.createElement(t,{name:"reload-page",className:y.footerLink},"Reload This Page"))},e.ConnectionWSError=()=>{const e=a.useContext(s.a.Context);return a.createElement(d.b.TitledContent,{title:"Can’t Connect to Grammarly"},"Your network configuration currently blocks Grammarly services on this computer. ",a.createElement("br",null),a.createElement(m.a,{name:"troubleshoot",className:y.footerLink,href:e.support.diagnosticTestPath,target:"_blank"},"Troubleshoot This Issue"))},e.ClientConnectionError=()=>{const t=e.withReload(m.a,"ClientConnectionErrorNotification");return a.createElement(d.b.TitledContent,{title:"Your Internet Connection Is Unstable"},"Please check your network stability and then reload this page.",a.createElement("br",null),a.createElement(t,{name:"reload-page",className:y.footerLink},"Reload Page Now"))},e.DocumentNotFoundError=({navigateToDocuments:e})=>a.createElement(d.b.TitledContent,{title:"Can’t find this document"},"It looks like this document was removed or URL is incorrect.",a.createElement("br",null),a.createElement(m.a,{name:"goto-docs",className:y.footerLink,onClick:e},"Go to your documents")),e.SelfUpdate=()=>{const t=a.useContext(c.a.Context),n=e.withReload(u.a,"SelfUpdateBlocker");return a.createElement(d.b.TitledContent,{title:"Grammarly needs to refresh this page"},"Don't worry - your documents have already been saved. Please"," ",a.createElement(n,{name:"reload-page",className:y.link},"reload")," ","the page ",t.hotkeyLabelR,".")},e.DesktopHardUpdate=({reloadMethod:e})=>{const t=a.useContext(c.a.Context).desktopUpdate;return a.createElement(d.b.TitledContent,{title:t.hardTitle},t.hard,a.createElement("br",null),a.createElement(m.a,{name:"reload-desktop",className:y.footerLink,onClick:e},t.reload))},e.DesktopHardDownload=({downloadMethod:e})=>{const t=a.useContext(c.a.Context).desktopUpdate;return a.createElement(d.b.TitledContent,{title:t.hardTitle},t.hard,a.createElement("br",null),a.createElement(m.a,{name:"download-desktop",className:y.footerLink,onClick:e},t.download))},e.SlowNetworkError=()=>a.createElement(d.b.TitledContent,{title:"Your Internet Connection Is Unstable"},"Grammarly may work slower than normal."),e.CheckingIsDownError=()=>a.createElement(d.b.TitledContent,{title:"Text Checking Is Temporarily Unavailable"},"Grammarly is unable to check your text for errors at this time. We’re working to resolve the issue. Please check back soon."),e.Error=()=>{const e=a.useContext(s.a.Context);return a.createElement(d.b.TitledContent,{title:"Sorry, Something Went Wrong"},"Please try again later or"," ",a.createElement(u.a,{name:"support",className:y.link,href:e.support.login,target:"_blank"},"contact support")," ","now to report the issue.")},e.ProofitPaymentDeclinedError=({paymentMethod:e,navigateToSubscription:t})=>{const n=a.useContext(c.a.Context).proofitPayment,r=function(e,t,n){switch(e){case"creditCard":return t;case"payPal":return n;default:const a="Unknown payment method: "+e;throw l.Monitoring.Logging.getLogger("ProofitView").warn(a),new Error(a)}}(e,n.creditCard,n.payPal);return a.createElement(d.b.TitledContent,{title:"Order can not be processed"},a.createElement("div",null,r),"Please update your credit card information in the Manage Subscription section.",a.createElement("br",null),a.createElement(m.a,{name:"manage-subscription",className:y.footerLink,onClick:t},"Go to Manage Subscription"))},e.PaymentSuccessMessage=()=>{const e=a.useContext(c.a.Context).proofitOrderModal.card.paymentSuccess;return a.createElement(d.b.TitledContent,{title:e.title},a.createElement("div",null,e.message))},e.PaymentErrorMessage=()=>{const e=a.useContext(c.a.Context).proofitOrderModal.card.paymentError,t=a.useContext(s.a.Context);return a.createElement(d.b.TitledContent,{title:e.title},a.createElement("div",null,e.message(t.support.login)))},e.ProofitEmptyDocumentError=()=>a.createElement(d.b.TitledContent,{title:"Document is empty"},"The document you are trying to submit is empty. Please write something and try again."),e.ProofitDocumentProofreadError=({navigateToDocuments:e})=>a.createElement(d.b.TitledContent,{title:"This document is a recent submission"},"The text you are trying to send for human proofreading was reviewed by our team. Please edit your text or select another document before you re-submit.",a.createElement("br",null),a.createElement(m.a,{name:"goto-docs",className:y.footerLink,onClick:e},"Go to your documents")),e.ProofitComplexInternalStructureError=({navigateToDocuments:e})=>a.createElement(d.b.TitledContent,{title:"This document cannot be corrected"},"The text you are trying to send for human proofreading is either too long or has a complex internal structure. Please edit your text (e.g., reduce length, remove significantly long tables) or select another document.",a.createElement("br",null),a.createElement(m.a,{name:"goto-docs",className:y.footerLink,onClick:e},"Go to your documents")),e.withReload=(e,t)=>class extends a.Component{render(){return a.createElement(e,Object.assign({},this.props,{onClick:()=>{try{localStorage.setItem("pageReloadReason",JSON.stringify({source:t,location:window.location.href,timestamp:Date.now()}))}catch(e){}window.location.reload()}}))}},e.CopyToClipboardError=()=>{const e=a.useContext(c.a.Context);return a.createElement(d.b.TitledContent,{title:"Copying Is Not Supported by Your Browser"},"Please use ",e.hotkeyLabelC," instead.")},e.ProofitCancelled=()=>{const e=a.useContext(s.a.Context);return a.createElement(d.b.TitledContent,{title:"Your order has been cancelled"},"Your proofreading order has been cancelled and the payment refunded. Please check your email for more information, or contact"," ",a.createElement(m.a,{name:"support",className:y.footerLink,href:e.support.login,target:"_blank"},"Grammarly support"))},e.ProofitCompleted=({documentTitle:e,documentDownloadUrl:t,email:n})=>a.createElement(d.b.TitledContent,{title:(e||"Your")+" document has been proofread"},"A version of this document with proofreaders’ marks has been emailed to you at ",n," in .docx format.",a.createElement("br",null),a.createElement(m.a,{name:"download",className:y.footerLink,href:t,target:"_blank"},"Download .docx")),e.DenaliFormattingCompatibility=()=>{const e=a.useContext(c.a.Context),t=a.useContext(s.a.Context);return a.createElement(d.b.TitledContent,{title:e.rtfCompatibilityModeNotificationTitle},"To preserve your document’s formatting, Grammarly’s formatting tools are temporarily not available.",a.createElement("br",null),a.createElement(m.a,{name:"support",className:y.footerLink,href:t.support.rtfCompatibilityUrl,target:"_blank"},"Learn more"))},e.DenaliDocumentUploaded=({navigateToDocuments:e})=>{const{denaliDocumentUploadNotification:t}=a.useContext(c.a.Context);return a.createElement(d.b.TitledContent,{title:t.title},t.text," ",a.createElement(u.a,{name:"goto-docs",className:y.link,onClick:e},t.link))},e.AlertsNothingFound=()=>a.createElement(d.b.Content,null,"Grammarly found no critical writing issues in this text. Keep up the great work!"),e.DesktopSoftUpdate=({reloadMethod:e})=>{const t=a.useContext(c.a.Context).desktopUpdate;return a.createElement(d.b.TitledContent,{title:t.softTitle},t.soft,a.createElement("br",null),a.createElement(m.a,{name:"reload-desktop",className:y.footerLink,onClick:e},t.reload))},e.DesktopSoftDownload=({downloadMethod:e})=>{const t=a.useContext(c.a.Context).desktopUpdate;return a.createElement(d.b.TitledContent,{title:t.softTitle},t.soft,a.createElement("br",null),a.createElement(m.a,{name:"download-desktop",className:y.footerLink,onClick:e},t.download))},e.DownloadDocumentNotFoundError=()=>{const e=a.useContext(c.a.Context);return a.createElement(d.b.TitledContent,{"data-name":"document-not-found",title:e.downloadDocumentNotFoundError})},e.ClipboardNotSupported=({hotkey:e})=>{const t=a.useContext(c.a.Context);return a.createElement(d.b.Content,null,t.hotkeyUnsupported,a.createElement("b",null,e))},e.DocumentSizeExceeded=({os:e,officeAddinUrl:t})=>{const n=a.useContext(c.a.Context).fileSizeExceededNotification;return a.createElement(d.b.TitledContent,{title:n.title},n.body,"windows"===e&&a.createElement(m.a,{name:"officeAddin",className:y.footerLink,href:t,target:"_blank"},n.link))},e.DocumentUploaded=({navigateToDocument:e})=>{const t=a.useContext(c.a.Context).documentUploaded;return a.createElement(d.b.Content,null,t.message,a.createElement("br",null),a.createElement(m.a,{name:"goto-doc",className:y.footerLink,onClick:e},t.link))},e.DocumentTypeUnsupported=()=>{const e=a.useContext(c.a.Context);return a.createElement(d.b.Content,null,"Unsupported file type. ",e.notificationUploadFileText,": Microsoft Word (.doc, .docx), OpenOffice (.odt), TXT and RTF.")},e.DocumentWithTrackedChangesIsUnsupported=({link:e})=>a.createElement(d.b.Content,null,"Your document contains revisions. Accept all revisions and try uploading again. Click"," ",a.createElement(u.a,{name:"document-accept-tracked-changes",className:y.link,href:e,target:"_blank"},"here")," ","for details.");const t=(e,t)=>{switch(e){case v.switchToDenali:return t.switchToDenali;case v.feedbackSend:return t.feedbackSend;case v.statisticsError:return t.statisticsError;case v.referenceCopied:return t.referenceCopied;case v.documentCopied:return t.documentCopied;case v.isTemporaryDownloadError:return t.isTemporaryDownloadError;case v.documentUploadGeneralError:return t.documentUploadGeneralError;case v.documentIsEmpty:return t.documentIsEmpty;case v.noFileToUpload:return t.noFileToUpload;case v.oneDocumentIsAllowed:return t.oneDocumentIsAllowed;default:return Object(i.c)(e)}};e.Generic=({type:e})=>{const n=a.useContext(c.a.Context);return a.createElement(d.b.TitledContent,{title:t(e,n)})}}(g||(g={}));const f={display:"inline-flex",overflow:"unset",color:o.a.CoreNeutral0,verticalAlign:"baseline",textDecoration:"underline",fontWeight:"bold",cursor:"pointer"},b={marginTop:p.a.rem(.5),textDecoration:"none"},y=p.a.stylesheet({link:[f],footerLink:[f,b]});var v;!function(e){e.switchToDenali="switchToDenali",e.feedbackSend="feedbackSend",e.statisticsError="statisticsError",e.referenceCopied="referenceCopied",e.documentCopied="documentCopied",e.isTemporaryDownloadError="isTemporaryDownloadError",e.documentUploadGeneralError="documentUploadGeneralError",e.documentIsEmpty="documentIsEmpty",e.noFileToUpload="noFileToUpload",e.oneDocumentIsAllowed="oneDocumentIsAllowed"}(v||(v={}))},"2BTG":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("vOOZ"),o=n("6fbX"),s=n("D9EC"),l=n("1w6p"),c=n("rk+4"),u=n("bO3R"),d=n("ZD0N"),p=n("3rlE"),m=n("GUi3"),h=n("bZeK"),g=n("kfbT"),f=n("1dIs"),b=n("zR/0"),y=n("4lva"),v=n("Hr9Y"),S=n("2U56");!function(e){e.Component=t=>t.type===y.c.LensTitleType.priority?r.createElement(e.PriorityTitle,Object.assign({},t)):r.createElement(e.Title,Object.assign({},t)),e.Title=s=>{const{lensId:c,lensAlertsCount:d,lensPreviewVM:p,customInfoButton:g}=s;return r.createElement(i.a.div,{className:m.a.isPlagiarismId(c)?S.a.plagiarismLensTitle:S.a.lensTitle},r.createElement(i.a.div,{className:S.a.flexContainer},d&&d.view(e=>e>0&&(m.a.isOutcomeId(c)||m.a.isAllAlerts(c)||m.a.isPriority(c)||m.a.isPlagiarismId(c)?r.createElement(r.Fragment,{key:"lens-counter"},l.b.mount(h.a.Component,h.a.createLensCounterFlow(b.a.of(c),b.a.of(e),12))):null)),r.createElement("h2",null,(()=>{switch(s.lensId){case m.a.SpecialId.AllAlerts:return r.createElement(t,null);case m.a.SpecialId.Premium:case m.a.SpecialId.FreePremiumAlerts:return r.createElement(a,null);case m.a.SpecialId.Plagiarism:return r.createElement(C,null);case m.a.SpecialId.Correctness:case m.a.SpecialId.Clarity:case m.a.SpecialId.Engagement:case m.a.SpecialId.Delivery:case m.a.SpecialId.Vox:case m.a.SpecialId.CorrectnessPriority:case m.a.SpecialId.ClarityPriority:case m.a.SpecialId.EngagementPriority:case m.a.SpecialId.DeliveryPriority:case m.a.SpecialId.VoxPriority:case m.a.SpecialId.KnowledgeHub:case m.a.SpecialId.KnowledgeHubPriority:return r.createElement(n,{lensId:s.lensId,lensPreviewVM:s.lensPreviewVM});case m.a.SpecialId.Priority:case m.a.SpecialId.Premium:case m.a.SpecialId.PredictionEmogenie:case m.a.SpecialId.PredictionTakeaways:case m.a.SpecialId.RealTimeProofit:return null;default:Object(o.c)(s.lensId)}})()),s.customSideButton,m.a.isOutcomeId(c)?r.createElement(u.b,{iconClass:S.a.infoIcon,tooltipClass:S.a.infoTooltip,title:Object(v.b)(s.lensId).description}):g||null,m.a.isOutcomeId(c)||m.a.isPlagiarismId(c)||m.a.isDraftAIId(c)?r.createElement(e.BackToAllAlertsButton,{key:"back-to-all-alerts",density:s.density}):[m.a.SpecialId.Premium,m.a.SpecialId.FreePremiumAlerts].includes(c)&&p.getLens(m.a.SpecialId.AllAlerts).view("count").view(t=>t>0?r.createElement(e.BackToAllAlertsButton,{key:"back-to-all-alerts",density:s.density}):null)))},e.PriorityTitle=e=>{const t=b.a.of(e.lensId);return r.createElement("div",{className:S.a.priorityTitleWrapper},l.b.mount(g.a.Component,Object(f.a)(e.navigationVM,t,e.navigationVM.defaultLensMode,"normal",e.lensPreviewVM,12,t.pipe(b.a.map(t=>e.lensPreviewVM.getLens(t).get().title)),t.pipe(b.a.map(Object(s.m)(m.a.isMainLens))))))},e.OutcomeContext=r.createContext({navigateToAllAlerts:s.e}),e.BackToAllAlertsButton=({density:t=b.a.of("cozy")})=>{const{backToAllAlerts:n}=r.useContext(c.a.Context).sidebar;return r.createElement(e.OutcomeContext.Consumer,null,({navigateToAllAlerts:e})=>r.createElement(u.a.Flat,{name:"to-all-alerts",tag:d.b.div,className:S.a.toAllAlertsButton,onClick:e,"aria-label":t.pipe(b.a.map(e=>"compact"===e?n:void 0))},t.pipe(b.a.map(e=>"cozy"===e&&r.createElement("span",{className:S.a.toAllAlertsText},n))),r.createElement(p.d.Close,{width:13})))};const t=()=>r.createElement(r.Fragment,null,r.useContext(c.a.Context).sidebar.allAlerts),n=({lensId:e,lensPreviewVM:t})=>r.createElement(r.Fragment,null," ",t.lensPreviews[e].title),a=()=>r.createElement(r.Fragment,null," ",r.useContext(c.a.Context).sidebar.premiumAlertsTitle),C=()=>r.createElement(r.Fragment,null," ",r.useContext(c.a.Context).plagiarism.title)}(a||(a={}))},"2GrK":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var a=n("I7vG"),r=n("LNSM"),i=n("lrqh"),o=n("D9EC"),s=n("PrA7"),l=n("zR/0"),c=n("CXK/"),u=n("NW9S");class d{constructor(e){this._validateOffset=e,this._log=s.Monitoring.Logging.getLogger("CardsListScrollManager"),this.scrollTop=r.a.create(0),this.paddingTop=r.a.create(0),this.viewport=r.a.create({top:u.b.FromWindowTop.ISO.wrap(0),height:0}),this.scrollOffset=new l.a.Subject,this.moveCardsBy=(e,t)=>(this._log.debug(`Cards list moved by ${e}, from: ${t}`),this.scrollOffset.next(e),i.b.right(void 0)),this.moveCardsByAnimated=(e,t)=>(this._log.debug(`Cards list moved by ${e}, from: ${t}`),l.a.Observable.create(t=>Object(a.pipe)(this._validateOffset(e,this),i.b.fold(e=>(t.thrownError(e),o.e),()=>{const n=2*this.viewport.get().height,a=Math.abs(e)>n?(e>0?1:-1)*n:e,r=e-a,i=c.a.createAnimationObservable(0,a,200).pipe(l.a.pairwise(),l.a.map(([e,t])=>t-e),l.a.startWith(r),l.a.tap(e=>this.scrollOffset.next(e))).subscribe({error:e=>t.error(e),complete:()=>t.complete()});return()=>i.unsubscribe()}))))}}class p{constructor(){this.scrollOffset=l.a.of(42)}getContentOffset(e){throw new Error("Method not implemented.")}moveCardsBy(e,t){throw new Error("Method not implemented.")}moveCardsByAnimated(e,t){throw new Error("Method not implemented.")}}},"2HQ1":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("ERkP"),r=n("7nmT"),i=n("hoSD"),o=n("GGUR"),s=n("zR/0");class l extends a.Component{constructor(){super(...arguments),this._subs=new o.a.Keeper}componentDidMount(){const e=r.findDOMNode(this);this._subs.push(s.a.fromEvent(document,"mousedown").subscribe(t=>{e&&e!==t.target&&!i.c.isParent(e,t.target)&&this.props.hide(t.target)}))}componentWillUnmount(){this._subs.dispose()}render(){return a.Children.only(this.props.children)}}},"2U56":function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a=n("e12y"),r=n("ax6a"),i=n("dx6p");const o=a.d.activeCardShadowSize-.5,s="0 3px 7px 0 rgba(129, 137, 169, .2)",l="0 -3px 7px 0 rgba(129, 137, 169, .2)",c={marginTop:0,height:a.a.percent(100)},u={position:"absolute",overflow:"hidden",marginTop:0,marginLeft:a.a.rem(-1*o),paddingTop:a.a.rem(4),paddingRight:a.a.rem(2),paddingLeft:a.a.rem(o),width:`calc(100% + ${a.a.rem(o)})`,height:a.a.percent(100)},d={position:"absolute",top:a.a.rem(a.d.toolbarHeight),visibility:"hidden",height:`calc(100vh - ${a.a.rem(a.d.toolbarHeight)})`},p={paddingRight:a.a.rem(2),width:a.a.percent(100),height:a.a.percent(100)},m={zIndex:a.d.level3,width:a.a.rem(a.d.sidebarWidth),$nest:{[`@media (${a.d.tinyMedia})`]:{width:a.a.rem(a.d.sidebarWidthTiny)},[`@media (${a.d.xsMedia})`]:{width:a.a.rem(a.d.sidebarWidthXs)},[`@media (${a.d.xssMedia})`]:{width:a.a.rem(a.d.sidebarWidthXss)}}},h={margin:`0 ${a.a.rem(.25)} 0 auto`,lineHeight:a.a.rem(1.8)},g={marginRight:a.a.rem(1)},f={position:"relative",paddingTop:a.a.rem(1),height:a.a.rem(4.15),background:`linear-gradient(-180deg, ${r.a.CoreNeutral0} 78%, rgba(255, 255, 255, 0) 100%)`,$nest:{"&:before":{position:"absolute",top:0,left:a.a.rem(-2),width:a.a.rem(2),height:a.a.percent(100),background:"inherit",content:"''"}}},b={paddingBottom:a.a.rem(.2)},y={maxWidth:a.a.rem(11),textAlign:"center",whiteSpace:"normal",lineHeight:a.a.rem(1)},v={position:"absolute",right:0,left:0,display:"flex",height:a.a.rem(2),background:r.a.CoreNeutral0,alignItems:"center",justifyContent:"center"},S={top:a.a.rem(-1.15),boxShadow:s,$nest:{"&:before":Object(i.a)(a.a.rem(.25),-10,a.a.rem(-.4),s,a.a.rem(a.d.radius3)),"&:after":Object(i.a)(a.a.rem(.5),-20,a.a.rem(-.8),s,a.a.rem(a.d.radius3))}},C={bottom:0,boxShadow:l,$nest:{"&:before":Object(i.a)(a.a.rem(.25),-10,a.a.rem(.4),l,a.a.rem(a.d.radius3)),"&:after":Object(i.a)(a.a.rem(.5),-20,a.a.rem(.8),l,a.a.rem(a.d.radius3))}},w={position:"absolute",zIndex:a.d.level1,display:"flex",pointerEvents:"all"},k={top:a.a.rem(.15)},E={bottom:a.a.rem(1.3)},O={position:"absolute",top:a.a.rem(4.15),display:"flex",width:`calc(100% - ${a.a.rem(2)})`,height:`calc(100vh - ${a.a.rem(4.15)})`,pointerEvents:"none",justifyContent:"center"},A=a.a.rem(2),_={paddingRight:A},x={display:"flex",marginTop:a.a.rem(.8125),marginLeft:a.a.rem(2.1875),paddingRight:A,color:r.a.CoreNeutral90,textTransform:"none",letterSpacing:0,fontWeight:"bold",fontSize:a.a.rem(.875),lineHeight:a.a.rem(1.125),justifyContent:"space-between",$nest:{'& div[role="button"]':{marginTop:a.a.rem(-.3875),$nest:{"&[data-name='bulk-accept-mini-button']":{marginTop:a.a.rem(-.75)}}},'& div[data-role="counter"]':{position:a.a.important("absolute")},"& h2":{fontSize:a.a.rem(.875),margin:0}}},I={position:"absolute",zIndex:a.d.level3,overflow:"visible",width:a.a.percent(100)},j={position:"absolute",right:a.a.rem(3),paddingLeft:a.a.rem(1),borderRadius:a.a.rem(a.d.radius2),color:r.a.CoreNeutral90,letterSpacing:a.a.px(.25),fontSize:a.a.rem(.75),lineHeight:a.a.rem(1),$nest:{"@media (max-width: 840px)":{paddingLeft:0,$nest:{"& > span":{display:"none"}}}}},T={position:"relative",marginTop:a.a.rem(.05),fontWeight:300},M={marginLeft:a.a.rem(2.5)},N={margin:a.a.rem(.5)+" 0",backgroundColor:r.a.CoreNeutral0,userSelect:"none",$nest:{"&:before":{position:"absolute",left:a.a.rem(-.5),width:a.a.rem(.5),height:a.a.percent(100),backgroundColor:r.a.CoreNeutral0,content:"''"}}},P=a.a.stylesheet({viewport:[c],lensviewContentWrapper:[u],fakeTop:[d],rechecking:[p],fixedLensContent:[m],lensCounter:[h],headerBtn:[g],headerWrapper:[f],infoIcon:[b],infoTooltip:[y],stack:[v],topStack:[v,S],bottomStack:[v,C],seeAlerts:[w],topSeeAlerts:[w,k],bottomSeeAlerts:[w,E],seeAlertsContainer:[O],lensTitle:[x],header:[I],toAllAlertsButton:[j],toAllAlertsText:[T],plagiarismLensTitle:[x,M],cardWrapper:[N],flexContainer:[{display:"flex"}],priorityTitleWrapper:[_]})},"2yqA":function(e,t,n){"use strict";n.d(t,"t",(function(){return U})),n.d(t,"g",(function(){return W})),n.d(t,"o",(function(){return q})),n.d(t,"h",(function(){return z})),n.d(t,"q",(function(){return $})),n.d(t,"r",(function(){return G})),n.d(t,"s",(function(){return K})),n.d(t,"p",(function(){return Z})),n.d(t,"y",(function(){return X})),n.d(t,"z",(function(){return J})),n.d(t,"A",(function(){return ee})),n.d(t,"l",(function(){return te})),n.d(t,"j",(function(){return ne})),n.d(t,"k",(function(){return ae})),n.d(t,"x",(function(){return re})),n.d(t,"u",(function(){return ie})),n.d(t,"v",(function(){return se})),n.d(t,"c",(function(){return oe})),n.d(t,"b",(function(){return de})),n.d(t,"m",(function(){return pe})),n.d(t,"d",(function(){return be})),n.d(t,"f",(function(){return M})),n.d(t,"e",(function(){return N})),n.d(t,"n",(function(){return P})),n.d(t,"w",(function(){return D})),n.d(t,"i",(function(){return H})),n.d(t,"a",(function(){return ce}));var a=n("D57K"),r=n("1aGC"),i=n("4ae2"),o=n("24uI"),s=n("FiSa"),l=n("+JVj"),c=n("mbuk"),u=n("bYZB"),d=(n("3s0z"),n("zR/0")),p=n("lrqh"),m=n("hoSD"),h=n("6fbX"),g=n("D9EC"),f=n("OA+g"),b=n("e12y"),y=n("PrA7"),v=n("I7vG"),S=r.import("parchment"),C=r.import("blots/inline"),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.getOrders=function(e,t){return[C.order.indexOf(e),Boolean(t)&&"object"==typeof t&&"number"==typeof t.order?t.order:-1]},t.prototype._compareWith=function(e,n){if(!Boolean(n))return 0;var a=this.formats()[this.statics.blotName];if(!Boolean(a))return 0;var r,i,o=t.getOrders(this.statics.blotName,a),s=t.getOrders(e,n);return o[0]===s[0]?o[1]===s[1]?(r=this.statics.blotName)>(i=e)?1:r<i?-1:0:o[1]-s[1]:o[0]-s[0]},t.prototype.formatAt=function(t,n,a,r){if(this._compareWith(a,r)<0&&S.query(a,S.Scope.BLOT)){var i=this.isolate(t,n);Boolean(r)&&i.wrap(a,r)}else e.prototype.formatAt.call(this,t,n,a,r)},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),this.parent instanceof S.Inline&&this._compareWith(this.parent.statics.blotName,this.parent.formats()[this.parent.statics.blotName])>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}},t}(S.Inline),k=w;w.allowedChildren=[w,S.Inline,S.Embed,S.Text];var E,O,A=function(e){return Array.from(e.attributes).map((function(e){return e.value}))},_=function(e){return Boolean(e.parent)?_(e.parent):e},x=function(e){function t(n){var a=e.call(this,n)||this;return a._unwrapMe=a.allowUnwrap(),a._unwrapMe&&t._logger.warn("Created self-unwrapped blot",A(a.domNode)),a}return Object(a.__extends)(t,e),Object.defineProperty(t,"_logger",{get:function(){return void 0===t.__logger&&(t.__logger=y.Monitoring.Logging.getLogger("DEd.custom_inline_blot")),t.__logger},enumerable:!1,configurable:!0}),t.prototype.allowUnwrap=function(){return this.domNode.childNodes.length>0&&Object.getPrototypeOf(this)===t.prototype&&"SPAN"===this.domNode.tagName},t.prototype.optimize=function(t){e.prototype.optimize.call(this,t),this._tryUnwrap("optimize")},t.prototype._unwrap=function(e,n){var a=this;return p.b.tryCatchError((function(){t._logger.info("unwrap happened",{source:e,name:n,position:{index:a.length(),length:a.offset(_(a))}});var r=window.getSelection();if(r.isCollapsed&&r.anchorNode&&(r.anchorNode===a.domNode||r.anchorNode.parentNode===a.domNode&&1===a.domNode.childNodes.length)){var i=a.offset(a.parent)+a.length();a.unwrap(),requestAnimationFrame((function(){return Object(v.pipe)(t._restoreSelectionWithinBlot(a.parent,i),p.b.mapLeft((function(e){t._logger.error("Self-unwrapped blot: cannot preserve selection",e,A(a.domNode))})))}))}else r.anchorNode===a.domNode||r.focusNode===a.domNode?(t._logger.error("Self-unwrapped blot: unknown case",A(a.domNode)),a.unwrap()):a.unwrap()}))},t.prototype.formatAt=function(t,n,a,r){e.prototype.formatAt.call(this,t,n,a,r),this._tryUnwrap("formatAt")},t.prototype.update=function(t,n){e.prototype.update.call(this,t,n),this._tryUnwrap("update")},t.prototype._tryUnwrap=function(e){if(this._unwrapMe){if(0===this.children.length)return;Object(v.pipe)(this._unwrap("tryUnwrap: ".concat(e),this.statics.blotName),p.b.mapLeft((function(n){t._logger.warn('Cannot unwrap on "'.concat(e,'"'),n)}))),this._unwrapMe=!1}},t.__logger=void 0,t._restoreSelectionWithinBlot=function(e,t){return p.b.tryCatchError((function(){Object(v.pipe)(p.g.fromNullable(window.getSelection()),p.g.map((function(n){for(var a=0,r=e.children.head;r&&a+r.length()<t;)a+=r.length(),r=r.next;var i=t-a;n.collapse(r.domNode,i)})))}))},t}(k);E=r.import("blots/inline"),O=r.import("blots/block"),E.allowedChildren.push(x),O.allowedChildren.push(x),r.register("blots/inline",x,!0);var I,j=r.import("parchment"),T=b.a.style({animation:"none",transition:"none"}),M="mark_underline";!function(e){e.hasValue=function(e){return!1!==e}}(I||(I={}));var N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=y.Monitoring.Logging.getLogger("underline"),t}return Object(a.__extends)(t,e),Object.defineProperty(t.prototype,"markId",{get:function(){return this.statics.markId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataOrder",{get:function(){return this.domNode.__dataOrder||0},enumerable:!1,configurable:!0}),t.create=function(t){var n=this,r=e.create.call(this,t);return r.__lastValue=t,Object(f.pipe)(t,p.g.fromPredicate(I.hasValue),p.g.tap((function(e){r.setAttribute("data-mark-id",e.id),r.__dataId=e.id,r.__dataOrder=e.order||0,void 0!==e.order&&r.setAttribute("data-order","".concat(e.order)),r.className=m.c.classes.apply(m.c,Object(a.__spreadArray)([n.className],Boolean(e.classes)?e.classes:[],!1))}))),r},t.prototype.wrap=function(t,n){return V(this),e.prototype.wrap.call(this,t,n)},t.prototype.clone=function(){V(this);var t=e.prototype.clone.call(this),n=t.domNode;return n.__dataOrder=this.domNode.__dataOrder,n.__dataId=this.domNode.__dataId,n.__lastValue=this.domNode.__lastValue,t},t.prototype.formatAt=function(t,n,r,i){if(r===this.statics.blotName)if(null==i);else if(!1===i)e.prototype.formatAt.call(this,t,n,r,i);else switch(i.action){case c.a.Change.ActionType.create:this._log.warn("Create actions user for already created mark",i);break;case c.a.Change.ActionType.update:this.domNode.className=m.c.classes.apply(m.c,Object(a.__spreadArray)([this.statics.className,T],i.classes||[],!1)),0!==t||this.length(),e.prototype.formatAt.call(this,t,n,r,i);break;default:this._log.warn("Got an unknown action")}else e.prototype.formatAt.call(this,t,n,r,i)},t.formats=function(e){return e.__lastValue},t.prototype._tryMergeWithNextIfEq=function(){var e=this.next;return!!(e instanceof t&&e.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(-1!==n.indexOf(M)){var a=e[n],r=t[n];if("object"==typeof a&&"object"==typeof r||a===r)continue;return!1}if(e[n]!==t[n])return!1}return!0}(this.formats(),e.formats()))&&(e.moveChildren(this),e.remove(),!0)},t.prototype.optimize=function(t){e.prototype.optimize.call(this,t),B.has(this.domNode.__dataId)?this._tryMergeWithNextIfEq():this.domNode.hasAttribute("data-unwrapped")?this._log.debug("Oops. change in already removed mark",{id:this.markId}):(this._log.warn("Oops. change in already removed mark",{id:this.markId}),(this.domNode.hasAttribute("class")||this.domNode.hasAttribute("style"))&&(this.domNode.setAttribute("data-unwrapped","true"),this.domNode.removeAttribute("class"),this.domNode.removeAttribute("style")))},t}(x);N.tagName="SPAN";var P=function(e){return"".concat(M,"_").concat(e)},L=function(e){return"formats/".concat(P(e))},R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.allowUnwrap=function(){return Object.getPrototypeOf(this)===t.prototype&&"SPAN"===this.domNode.tagName},Object.defineProperty(t.prototype,"logName",{get:function(){return"fake_underline_blot"},enumerable:!1,configurable:!0}),t}(x);var B=new Set;function F(e){r.register("formats/".concat(e.blotName),e,!0)}function D(e){var t=r.imports[L(e)];if(n=t,Boolean(n)&&Object.getPrototypeOf(n)===N)return t;B.add(e);var n,i=function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t}(N);return t.className="mark_underline_".concat(e),t.blotName=P(e),t.markId=e,t}(e);return F(i),i}function H(e){Boolean(r.imports[L(e)])&&F(function(e){return R.blotName=P(e),R.className="mark_underline_".concat(e),R}(e)),B.delete(e)}function V(e){(function(e){return e instanceof N})(e)&&!e.domNode.classList.contains(T)&&e.domNode.classList.add(T),function(e){return e instanceof j.Container}(e)&&e.children.forEach(V)}function U(e,t){for(var n=new i.a,a=0,r=e;a<r.length;a++){var o=r[a],s=o.meta.range();if(s.start!==s.end&&"number"==typeof s.start&&"number"==typeof s.end&&(-1!==s.start||-1!==s.end)){var l=o.meta.range(),c=l.start<0?0:l.start;n=n.compose((new i.a).retain(c).retain(l.end-c,t(o)))}}return n}var W;function q(e,t,n){void 0===n&&(n=100);for(var a=e.length,r=function(e){return/^[\w\-]$/.test(e)},i=t-1,o=t,s=[];i>=0&&r(e[i])&&n>=t-i;)s.unshift(e[i]),i--;for(i++;o<a&&r(e[o])&&n>o-t;)s.push(e[o]),o++;return s.length>0?p.g.some(l.b.create(i,o,{value:s.join("")})):p.g.none}!function(e){function t(e){for(var t=e,n=[];Boolean(t);)t instanceof N&&n.push(t),t=t.parent;return n}var n;e.findUnderlineUp=function(e){return pe(e,(function(e){return e instanceof N&&Boolean(e.domNode.getAttribute("data-mark-id"))}))},e.lookupUnderlinesUp=t,function(e){e[e.left=0]="left",e[e.right=1]="right"}(n=e.LOOKUP_DIRECTION||(e.LOOKUP_DIRECTION={})),e.isUnderlineWithId=function(e){return function(t){return t instanceof N&&t.markId===e}};var r=function(e){return"children"in e},i=function(e){return r(e)&&e.children.head?Object(a.__spreadArray)([e],i(e.children.head),!0):[e]},o=function(e){return r(e)&&e.children.tail?Object(a.__spreadArray)([e],o(e.children.tail),!0):[e]};e.getSiblingBlots=function(t,a){var r=a===n.left?Boolean(t.prev)?o(t.prev):void 0:Boolean(t.next)?i(t.next):void 0;return null!=r?r:Boolean(t.parent)?e.getSiblingBlots(t.parent,a):[]},e.hasSameIdSibling=function(t,n){return e.getSiblingBlots(t,n).some(e.isUnderlineWithId(t.markId))},e.getMarksIdsByBlot=function(e){return t(e).map((function(e){return e.markId}))}}(W||(W={}));var z=o.a.getOperationOffset,$=function(e){return o.a.isInsert(e)&&Y(e)},G=function(e){return-1!==e.indexOf(M)},K=function(e){return-1!==e.indexOf(c.a.SynonymMark.id)},Y=function(e){return!o.a.isDelete(e)&&Boolean(e.attributes)&&Object.keys(e.attributes).some((function(e){return G(e)||K(e)}))};function Z(e,t){return void 0===t&&(t="suffix"),!(!o.a.isInsert(e)||"string"!=typeof e.insert)&&("suffix"===t?m.f.isBreakWordChar(e.insert.charCodeAt(0)):m.f.isBreakWordChar(e.insert.charCodeAt(e.insert.length-1)))}var X=function(e){return new i.a(e.ops)},Q=r.import("delta"),J=function(e){return new Q(e.ops)};function ee(e){return d.a.fromEvent(e,"editor-change",(function(e,t,n,a){return"text-change"===e?{name:"text-change",delta:X(t),oldDelta:X(n),source:a}:{name:"selection-change",range:t,oldRange:n,source:a}}))}function te(e){return"selection-change"===e.name}var ne=function(e){return function(t){return"text-change"===t.name&&t.delta.ops.some((function(t){return!o.a.isRetain(t)||!!t.attributes&&Object.keys(t.attributes).some((function(t,n,a){return!G(t)&&!K(t)&&e(t,a)}))}))}};function ae(e){return"text-change"===e.name&&e.delta.ops.some((function(e){return!o.a.isRetain(e)}))}function re(){(Boolean(window.MutationObserver)||n("yNQd"),Boolean(document.getSelection))||(document.getSelection=function(){return null})}function ie(e){for(var t=p.b.unsafeGet(e.text),n=new i.a,a=0,r=0;r<t.length-1;r++)if("\r"===t[r]){var o=r-a;a=r,"\n"!==t[r+1]?(n.retain(o).delete(1).insert("\n"),a++):(n.retain(o).delete(1),a++)}var l=t.length-1,c=l-a;return"\r"===t[l]?n.retain(c).delete(1).insert("\n"):"\n"!==t[l]&&n.retain(c+1).insert("\n"),s.a.delta(n,t.length)}var oe,se=function(e){var t=e[0],n=e[1];if(m.c.Guardians.isBR(t.domNode)){var a=Array.from(t.parent.domNode.childNodes).findIndex((function(e){return e===t.domNode}));return[t.parent.domNode,a+n]}return[t.domNode,n]};!function(e){var t;function n(e){switch(e){case t.bold:case t.italic:case t.underline:case t.strike:case t.header:case t.list:case t.indent:return!1;case t.link:return!0;default:return Object(h.c)(e)}}function a(e){switch(e){case u.e.Type.italic:return{key:t.italic,value:!0};case u.e.Type.bold:return{key:t.bold,value:!0};case u.e.Type.orderedList:return{key:t.list,value:"ordered"};case u.e.Type.bulletList:return{key:t.list,value:"bullet"};case u.e.Type.dashedList:return{key:t.list,value:"dashed"};case u.e.Type.underline:return{key:t.underline,value:!0};case u.e.Type.link:return{key:t.link,value:void 0};case u.e.Type.header1:return{key:t.header,value:1};case u.e.Type.header2:return{key:t.header,value:2};case u.e.Type.strike:return{key:t.strike,value:!0};default:return Object(h.c)(e)}}!function(e){e.italic="italic",e.bold="bold",e.list="list",e.underline="underline",e.link="link",e.header="header",e.strike="strike",e.indent="indent"}(t=e.QuillFormatNames||(e.QuillFormatNames={})),function(e){e.is=function(e){switch(e){case"bold":case"italic":case"underline":case"strike":case"header":case"list":case"link":case"indent":return!0;default:return!1}}}(t=e.QuillFormatNames||(e.QuillFormatNames={})),e.mapEditorFormatToQuill=a,e.getQuillFormattingAsList=function(){return[t.bold,t.italic,t.underline,t.strike,t.header,t.list,t.link]},e.mapQuillFormatToEditor=Object(g.l)((function(e,t){return Object.keys(u.e.Type).find((function(r){var i=a(r);return i.key===e&&(n(e)||i.value===t)}))}),(function(e,t){return n(e)?e:e+"_"+t})),e.mapQuillFormatsToDenali=function(n,a){var i=n.getFormat(a.start,l.b.size(a));return Object.keys(i).reduce((function(o,s){if(t.is(s)){var l=i[s],c=e.mapQuillFormatToEditor(s,l);if(null!=c)if(c===u.e.Type.link){var d=r(n,a,l);d.length>0&&(o[u.e.Type.link]=d)}else o[c]=!0}return o}),{})};var r=function(e,t,n){var a=l.b.size(t);return e.scroll.descendants((function(e){return"A"===e.domNode.nodeName}),a>0?t.start:Math.max(0,t.start-1),a>0?a:1).map((function(t){var a=t.offset(e.scroll);return{url:n,rect:new de(t.domNode,(function(){return e.container.getBoundingClientRect()})),range:l.b.create(a,a+t.length())}}))};e.isBlockFormat=function(e){switch(e){case u.e.Type.bold:case u.e.Type.italic:case u.e.Type.strike:case u.e.Type.underline:case u.e.Type.link:return!1;case u.e.Type.header1:case u.e.Type.header2:case u.e.Type.orderedList:case u.e.Type.bulletList:case u.e.Type.dashedList:return!0;default:return Object(h.c)(e)}}}(oe||(oe={}));var le,ce,ue,de=function(){function e(e,t){this._el=e,this._rootClientRect=t}return e.prototype.getRect=function(){var e=this;return p.b.tryCatch((function(){var t=e._rootClientRect();Object(h.f)(!m.c.Rect.eq.equals(t,m.c.Rect.empty),"Got an empty parent rect");var n=Array.from(e._el.getClientRects());if(!n.length&&e._el instanceof Range&&Boolean(e._el.startContainer)&&e._el.collapsed&&""===e._el.startContainer.textContent){var a=document.createRange();a.selectNodeContents(e._el.startContainer),n=Array.from(a.getClientRects())}return Object(h.f)(!n.every((function(e){return m.c.Rect.eq.equals(e,m.c.Rect.empty)})),"Got an empty Rect"),{rootClientRect:t,clientRects:p.g.unsafeGet(p.f.fromArray(n))}}),p.b.toError)},e}(),pe=function(e,t){for(var n=e;n;){if(Boolean(n)&&t(n))return n;n=n.parent}return null},me=n("iVSA"),he=r.import("blots/block"),ge=r.import("blots/break"),fe=function(e,t){var n="".concat(-t,"px * var(--rem)"),a="(".concat(e,"px + ").concat(n,")");return b.a.keyframes({to:{marginTop:"calc(".concat(n," - ").concat(a,")")}})},be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.create=function(n){var a=e.create.call(this,n);return a.setAttribute("data-template-id",n.id),t.setMeta(a,n,0),a.className=t.className,a},t.prototype.clone=function(){var n=e.prototype.clone.call(this),r=n.domNode;return r.className=t.className,t.setMeta(r,Object(a.__assign)(Object(a.__assign)({},this.domNode.__meta),{used:!0}),this.domNode.__meta.uuid+1),n},t.prototype.removePlaceholder=function(){var e,n=this;1===this.children.length&&1===(null===(e=this.children.head)||void 0===e?void 0:e.length())?t.fadeOut(this.domNode,200,2,(function(){t.resetClassName(n.domNode)})):t.resetClassName(this.domNode),this.meta.used=!0},Object.defineProperty(t.prototype,"meta",{get:function(){return this.domNode.__meta},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholderStyle",{get:function(){var e,t;return this._placeholderStyle||(this._placeholderStyle=(e=this.meta.placeholder,t=2,b.a.style({$nest:{"&:after":{background:me.b.CoreNeutral1,color:me.b.CoreNeutral50,overflow:"hidden",content:'"'.concat(e,'"'),userSelect:"none",marginTop:"".concat(b.a.rem(-t)),display:"flex",width:"100%"}}}))),this._placeholderStyle},enumerable:!1,configurable:!0}),t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),this.meta.used)this.meta.trackable||this.replaceWith("block");else if(0===this.children.length||1===this.children.length&&this.children.head instanceof ge){if(this.domNode.classList.contains(this.placeholderStyle))return;this.domNode.classList.add(this.placeholderStyle)}else this.removePlaceholder()},t.prototype.formats=function(){var e;return(e={})[t.blotName]={id:this.meta.id,used:this.meta.used,placeholder:this.meta.placeholder,trackable:this.meta.trackable},e},t}(he);be.blotName="template_section",be.className="template_section",(le=be||(be={})).setMeta=function(e,t,n){var a,r;return e.__meta={id:t.id,placeholder:t.placeholder,trackable:null===(a=t.trackable)||void 0===a||a,used:null!==(r=t.used)&&void 0!==r&&r,uuid:n},e.setAttribute("data-uuid","".concat(n)),e},le.fadeOut=function(e,t,n,a){var r=function(){e.removeEventListener("animationend",r),clearTimeout(i),a(e)};e.classList.add(function(e,t){return b.a.style({$nest:{"&:after":{visibility:"hidden",animation:"".concat(fe(e,t)," ").concat(b.a.seconds(.2)," linear forwards")}}})}(e.offsetHeight,n)),e.addEventListener("animationend",r);var i=setTimeout(r,t)},le.resetClassName=function(e){e.className!==le.className&&(e.className=le.className)},(ue=ce||(ce={})).getPossibleCaretPosition=function(e,t){return p.b.tryCatchError((function(){var n;if("caretPositionFromPoint"in document)return{node:(n=document.caretPositionFromPoint(e,t)).offsetNode,offset:n.offset};if("caretRangeFromPoint"in document)return null!=(n=document.caretRangeFromPoint(e,t))?{node:n.startContainer,offset:n.startOffset}:{node:document.elementFromPoint(e,t),offset:0};throw new Error("Browser doesn't support range API")}))},ue.fitPositionInViewport=function(e,t,n){return{x:Math.floor(e>=n.right?n.right-1:e<=n.left?n.left+1:e),y:Math.floor(t<=n.top?n.top+1:t>=n.bottom?n.bottom-1:t)}},ue.getPositionByNativeCursor=function(e){return function(t){return r.find(t.node).offset(e)+t.offset}},ue.getNativeCursorByPosition=function(e,t,n,a,r){void 0===r&&(r=!1);var i=ue.fitPositionInViewport(e,t,n),o=i.x,s=i.y;return r&&m.c.renderDot(o,s,"top"),Object(v.pipe)(ue.getPossibleCaretPosition(o,s),p.b.map((function(e){var t,r=e.node,i=e.offset;if(m.c.isParent(a,r))return{node:r,offset:i};if(s<=n.top+1)return{node:m.c.getFirstChild(a),offset:0};var o=m.c.getLastChild(a);return{node:o,offset:(null!==(t=o.textContent)&&void 0!==t?t:"").length}})))}},"2yqQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("1aGC"),r=n("hoSD");const i=a.import("core/theme");class o extends i{constructor(e,t){if(super(e,t),e.root.setAttribute("spellcheck","false"),t.classes){const n=e.container.className,a=e.root.className;t.classes.subscribe(t=>{e.root.className=r.c.classes(t.editor,a),e.container.className=r.c.classes(t.containerClass,n)})}}}},"39mS":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n("e12y"),r=n("ax6a"),i=n("PDIG");const o=a.a.seconds(.2),s=e=>({$nest:{[i.a.compactSidebar]:e}}),l={padding:a.a.rem(.5)+" 0",width:a.a.rem(9),whiteSpace:"normal",lineHeight:a.a.rem(1)},c={position:"relative",display:"block",borderRadius:a.a.rem(a.d.radius2),fontWeight:500,lineHeight:a.a.rem(1.5),transition:"background-color "+o,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:r.a.CoreNeutral10},"&[data-active='true']":{backgroundColor:r.a.CoreNeutral10}}},u=Object.assign({margin:a.a.rem(.5),padding:`${a.a.rem(r.g.ButtonOutcomeY)} ${a.a.rem(r.g.ButtonOutcomeX)}`},s({display:"flex",alignItems:"center",$nest:{"& div":{top:"auto"}}})),d={boxSizing:"border-box",margin:`${a.a.rem(.25)} ${a.a.rem(1)}`,padding:a.a.rem(.75),borderRadius:a.a.rem(a.d.radius2),$nest:{"&[data-active='true']":{backgroundColor:r.a.CoreBlue1,border:"1px solid "+r.a.CoreBlue50,color:r.a.CoreBlue60,fontWeight:600},[i.a.xs]:{paddingTop:a.a.rem(.5),paddingBottom:a.a.rem(.5)}}},p=Object.assign({display:"block",color:r.h.SmallLightColor,whiteSpace:"normal",letterSpacing:a.a.rem(r.h.SmallLightLetterSpacing),fontWeight:r.h.SmallLightWeight},s(i.e)),m={overflow:"hidden",marginBottom:a.a.rem(-.25),width:a.a.percent(400),borderRadius:a.a.rem(.375),transition:"background-color "+o,transform:"scale(.25)",transformOrigin:"left"},h={marginLeft:a.a.percent(-100),width:a.a.percent(100),height:a.a.rem(.75),transition:"transform .5s, background-color "+o},g={stroke:"none",fill:r.a.CoreNeutral40},f={position:"absolute",top:a.a.rem(.25),width:a.a.rem(1),height:a.a.rem(1),stroke:"none",$nest:{"&:not([data-disabled='true'])[data-active='true']":g,"&:not([data-disabled='true'])[data-hovered='true']":g,"&[data-disabled='true']":g}},b={position:"absolute",top:a.a.rem(.25),right:a.a.rem(.5),padding:a.a.rem(.5),width:a.a.rem(2),height:a.a.rem(2),objectFit:"contain"},y={right:a.a.rem(.5)},v={position:"absolute",top:a.a.rem(.25),right:a.a.rem(.5),padding:a.a.rem(.5),width:a.a.rem(2),height:a.a.rem(2),objectFit:"contain"},S={right:a.a.rem(.25),opacity:0,transition:"opacity "+o,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{opacity:1}}},C={[i.a.xs]:{paddingTop:a.a.rem(.25),paddingBottom:a.a.rem(.25)}},w=a.a.prefixedStylesheet("navigation",{tooltip:[l],outcomeBtn:[c,u],outcomeBtnBorders:[d],outcomeStatus:[p],progressBarBg:[m],progressBar:[h],icon:[f],voxLogo:[b],checkmarkIcon:[f,y],voxIconLeft:[v],infoIcon:[f,S],counterContent:[],inactive:[]}),k=(e,t)=>({$nest:{["& ."+w.checkmarkIcon]:{fill:e,$nest:{"&:not([data-disabled='true'])[data-active='true']":{fill:e},"&:not([data-disabled='true'])[data-hovered='true']":{fill:e}}},["& ."+w.progressBarBg]:{backgroundColor:t},["& ."+w.progressBar]:{backgroundColor:e},"&:not([data-disabled='true'])[data-active='true']":{$nest:{["& ."+w.progressBarBg]:{backgroundColor:r.a.CoreNeutral0}}},"&:not([data-disabled='true'])[data-hovered='true']":{$nest:{["& ."+w.progressBarBg]:{backgroundColor:r.a.CoreNeutral0}}},["&."+w.inactive]:{$nest:{["& ."+w.checkmarkIcon]:{fill:t},["& ."+w.progressBarBg]:{backgroundColor:r.a.CoreNeutral0},["& ."+w.progressBar]:{backgroundColor:t},"&:not([data-disabled='true'])[data-active='true']":{$nest:{["& ."+w.progressBar]:{backgroundColor:e}}},"&:not([data-disabled='true'])[data-hovered='true']":{$nest:{["& ."+w.progressBar]:{backgroundColor:e}}}}}}}),E={position:"absolute",top:a.a.rem(.5),right:a.a.rem(.5),left:"auto",fill:r.a.CoreYellow20,$nest:{["& ."+w.counterContent]:{fill:r.a.CoreYellow80}}},O=Object.assign(Object.assign({},a.a.prefixedStylesheet("navigation",{correctness:[c,k(r.a.CoreRed50,r.a.CoreRed10)],clarity:[c,k(r.a.CoreBlue50,r.a.CoreBlue10)],engagement:[c,k(r.a.CoreGreen50,r.a.CoreGreen10)],delivery:[c,k(r.a.CorePurple50,r.a.CorePurple10)],vox:[c,k(r.a.CoreNeutral50,r.a.CoreNeutral10)],knowledgeHub:[c,k(r.a.CoreNeutral50,r.a.CoreNeutral10)],plagiarism:[c,k(r.a.CoreCyan50,r.a.CoreCyan10)],counterWrapper:[E],premium:[C]})),w)},"3BTE":function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n("e12y"),r=n("0Hf4"),i=n("ax6a"),o=n("Ov/9");const s={section:"report-sections-section",sectionHeader:"report-sections-sectionHeader",genericTable:"report-sections-genericTable",text:"report-sections-text"},l={borderTop:"1px solid "+i.a.CoreNeutral30,pageBreakInside:"avoid"},c={marginTop:a.a.px(24*o.a),color:i.a.CoreNeutral90,letterSpacing:0,fontWeight:"bold",fontSize:a.a.px(18*o.a),lineHeight:a.a.px(32*o.a)},u={width:a.a.percent(100),tableLayout:"fixed",textAlign:"left"},d={color:i.a.CoreNeutral50,letterSpacing:a.a.px(.11*o.a),fontSize:a.a.px(13*o.a),lineHeight:a.a.px(20*o.a)},p={section:a.a.joinClasses([s.section,r.a.style(l)]),sectionHeader:a.a.joinClasses([s.sectionHeader,r.a.style(c)]),genericTable:a.a.joinClasses([s.genericTable,r.a.style(u)]),text:a.a.joinClasses([s.text,r.a.style(d)])}},"3F3p":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n("ERkP"),r=n("OA+g"),i=n("vOOZ"),o=n("lrqh"),s=n("D9EC"),l=n("1w6p"),c=n("zR/0"),u=n("hoSD"),d=n("MsKq"),p=n("e12y");const m=({top:e,height:t})=>{const n="cl-placeholder-pattern-"+Math.random();return a.createElement(i.a.div,{className:f.placeholder,style:{transform:u.c.CSS.translateY(e),height:t}},a.useContext(d.a.Context).pipe(c.a.map(e=>a.createElement("svg",{"aria-hidden":!0,height:"100%",className:f.placeholderSVG},a.createElement("defs",null,a.createElement("pattern",{id:n,x:"0",y:"0",width:"100%",height:b*e,patternUnits:"userSpaceOnUse"},a.createElement("rect",{x:"0",y:"0",width:"100%",height:e*y,fill:"white"}))),a.createElement("rect",{fill:`url(#${n})`,rx:e*v,ry:e*v,width:"100%",height:"100%"})))))},h={position:"absolute",top:0,boxSizing:"border-box",marginTop:p.a.rem(.425),paddingRight:p.a.rem(2),width:p.a.percent(100)},g={width:p.a.percent(100),height:p.a.percent(100),filter:"drop-shadow(0 1px 3px rgba(129, 137, 169, .2))"},f=p.a.stylesheet({placeholder:[h],placeholderSVG:[g]}),b=4,y=3,v=.25,S=l.b.Node.make(({state:e})=>a.createElement(i.a.div,{key:"placeholder",className:e.pipe(c.a.map(o.g.isSome),c.a.distinctUntilChanged(),c.a.map(Object(s.c)(w.placeholder,w.hiddenPlaceholder)),c.a.startWith(w.hiddenPlaceholder))},e.pipe(c.a.map(Object(r.flow)(o.g.map(e=>a.createElement(a.Fragment,null,a.createElement(m,{key:"first",top:e[0].top,height:e[0].height}),a.createElement(m,{key:"last",top:e[1].top,height:e[1].height}))),o.g.toNullable))))),C={position:"absolute"},w=p.a.stylesheet({placeholder:[C],hiddenPlaceholder:[C,{opacity:0}]})},"3HQf":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("LNSM"),r=n("lrqh"),i=n("6fbX"),o=n("f9Xq"),s=n("h6df"),l=n("AHUR");function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._state=a.a.create({dsl:r.g.none,revision:-1}),this.activePopoverStack=this._state.view("dsl"),this.activePopoverView=this.activePopoverStack.view(r.g.chain((function(e){return r.g.fromNullable(e.views[e.selected])})))}var t,n,u;return t=e,(n=[{key:"getInteractionActions",value:function(e,t,n){return Object(s.m)(this._state.get(),(function(e){return e.dsl}),r.g.filter((function(n){return n.id===e&&n.selected===t})),r.g.map((function(e){return e.views[e.selected]})),r.g.fold((function(){return[]}),(function(e){switch(n){case o.a.ActionInteractPopoverInteraction.Fulfill:return e.onFulfill||[];case o.a.ActionInteractPopoverInteraction.Dismiss:return e.onDismiss||[];default:Object(i.d)(n)}})))}},{key:"addPopover",value:function(e,t){this._state.modify((function(n){var a=void 0!==t&&n.revision>=t,i=Object(s.m)(n.dsl,r.g.exists((function(t){return t.id===e.id})));return a||i?n:{dsl:r.g.some(e),revision:null!=t?t:n.revision}}))}},{key:"removePopover",value:function(e,t){this._state.modify((function(n){var a=void 0!==t&&n.revision>=t,i=Object(s.m)(n.dsl,r.g.exists((function(t){return t.id===e})));return a||!i?n:{dsl:r.g.none,revision:null!=t?t:n.revision}}))}},{key:"switchView",value:function(e){this._state.modify((function(t){return Object(s.m)(t.dsl,r.g.filter((function(t){return t.id===e.sduiRootId})),r.g.map((function(t){return l.a.bulkSwitchView(t,[{where:e.where,selected:e.selected,type:"switchView"}])})),r.g.filter((function(e){return"popoverStack"===e.type})),r.g.fold((function(){return t}),(function(e){return{dsl:r.g.some(e),revision:t.revision}})))}))}}])&&c(t.prototype,n),u&&c(t,u),e}()},"3Wty":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("xU3y"),i=n("h6df"),o=n("7b34"),s=n("uIDj"),l=n("tSYx");!function(e){var t;(t=e.Diff||(e.Diff={})).show=o.a.getShow(r.a,s.a.Item.show),t.empty=o.a.empty;e.empty=l.a.iso.wrap(l.a.empty);e.get=function(e){return Object(i.h)(l.a.iso.unwrap,l.a.get(e))},e.reduce=function(e,t){return Object(i.h)(l.a.iso.unwrap,l.a.reduce(e,t))},e.diff=function(e,t){return l.a.diff(l.a.iso.unwrap(e),l.a.iso.unwrap(t))},e.isEmpty=function(e){return 0===l.a.iso.unwrap(e).entries.size},e.find=function(e){return Object(i.h)(l.a.iso.unwrap,l.a.find(e))},e.size=function(){return Object(i.h)(l.a.iso.unwrap,l.a.size)},e.sduiRoots=function(){return Object(i.h)(l.a.iso.unwrap,(function(e){return Array.from(e.entries.keys())}))}}(a||(a={}))},"3bJT":function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return y}));var a=n("ax6a"),r=n("e12y"),i=n("WIwS"),o=n("ps/9");const s={position:"relative",borderRadius:r.a.rem(o.s),background:a.a.CoreNeutral0,boxShadow:`0 ${r.a.rem(.625)} ${r.a.rem(o.a)} 0 rgba(198, 203, 222, .45)`},l={$nest:{"&:before":{position:"absolute",width:r.a.px(10),height:r.a.px(10),borderRadius:r.a.percent(50),content:"''",transform:"scale(.5)"}}},c={$nest:{"&:before":{backgroundColor:i.c}}},u={$nest:{"&:before":{backgroundColor:i.l}}},d={$nest:{"&:before":{backgroundColor:a.a.CoreRed50}}},p={$nest:{"&:before":{backgroundColor:a.a.CoreBlue50}}},m={$nest:{"&:before":{backgroundColor:a.a.CoreGreen50}}},h={$nest:{"&:before":{backgroundColor:a.a.CorePurple50}}},g={$nest:{"&:before":{backgroundColor:a.a.CoreNeutral50}}},f={$nest:{"&:before":{backgroundColor:a.a.CoreNeutral50}}},b={fullCardSelector:"fullCard",bundleInnerContainerSelector:"bundleInnerContainer",bundleFakeCard1Selector:"bundleFakeCard1",bundleFakeCard2Selector:"bundleFakeCard2",alignButtonHiddenSelector:"alignButtonHidden",cozyCardContainerSelector:"cozyCardContainer",successWrapperSelector:"successWrapper"},y=Object.assign(Object.assign({},r.a.stylesheet({dot:[l],dotAdvanced:[u],dotCritical:[c],dotCorrectness:[d],dotClarity:[p],dotEngagement:[m],dotDelivery:[h],dotVox:[g],knowledgeHub:[f]})),{fullCard:r.a.joinClasses([b.fullCardSelector,r.a.style(s)])})},"3gHY":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a,r,i,o,s=n("OA+g"),l=n("I7vG"),c=n("5E2i"),u=n("Ni70"),d=n("6fbX"),p=n("lrqh"),m=n("D9EC"),h=n("hoSD"),g=n("PrA7"),f=n("dE97"),b=n("GUi3"),y=n("zR/0"),v=n("gy42"),S=n("4GD7"),C=n("+w1e"),w=n("NW9S"),k=n("+5S2"),E=n("EjiM"),O=n("XxrX"),A=n("BeBM");class _ extends d.a{}!function(e){e.cardSuggestedPositionGetter=(e,t)=>(n,a,r,i)=>{const o="cardTop"===i?0:t(a);return Object(l.pipe)(e(n,Object(l.pipe)(r,p.g.map(w.b.FromWindowTop.ISO.modify(w.a.concatC(-o))))),p.b.map(e=>({top:e,contentOffset:o})))},e.getSuperScrollMapper=(t,n,a)=>{const r=k.a.Mover.moveCardToPositionAnimatedGetter(t,n),i=k.a.Mover.moveCardToPositionSyncGetter(t,n),o=k.a.ContentOffset.contentOffsetGetter();return{setCardPosition:(e,t,n,s)=>{const l={top:s,contentOffset:o(t,a.get())};return(n?r({id:e,position:s}):y.a.of(i({id:e,position:s})).pipe(y.a.map(p.b.unsafeGet))).pipe(y.a.mapTo(l),y.a.startWith(l),y.a.distinctUntilChanged())},getCardSuggestedPosition:e.cardSuggestedPositionGetter(k.a.InfinityScrollGetter.cardPositionGetter(t,n),e=>o(e,a.get())),getCardSuggestedPositionInViewport:e.cardSuggestedPositionGetter(k.a.InfinityScrollGetter.cardPositionInViewportGetter(t,n),e=>o(e,a.get())),willFitViewport:(e,a)=>Object(l.pipe)(t.get(),t=>!!A.e.hasItems(t)&&k.a.willFitViewport(t,n)(e,a)),isAboveViewportTop:k.a.isAboveViewportTop(n)}}}(a||(a={})),function(e){e.getMapper=(e,t,n)=>({moveAlertHighlightInViewport:(t,n,a)=>e.ensureAlertHighlightInViewport(t,w.b.FromWindowTop.ISO.unwrap(n),a),getMarkAlertPosition:a=>Object(l.pipe)(e.getMarkByAlert(a),p.b.fromOption(()=>new _("getMarkByAlert returned O.none")),p.b.chain(r=>Object(l.pipe)(r.getRect(),p.b.map(u.b.relativeToViewport),p.b.map(e=>e.top),p.b.orElse(()=>(n.debug("Cached alert is missing, falling back to flush"),(n=>(t.flushChanges(),Object(l.pipe)(e.getMarkByAlert(n),p.b.fromOption(()=>new Error("getMarkByAlert returned O.none")),p.b.chain(e=>Object(l.pipe)(e.getRect(),p.b.map(u.b.relativeToViewport),p.b.map(e=>e.top))))))(a))),p.b.map(w.b.FromWindowTop.ISO.wrap))),p.b.mapLeft(e=>(e instanceof _||n.warn("Cannot getMarkAlertPosition",e),e)),p.g.fromEither,e=>y.a.of(e))})}(r||(r={}));class x{constructor(e,t,n){this._cardPositions=e,this._alignMarkToItem=t,this._alignItemToMark=n,this._log=g.Monitoring.Logging.root.getLogger("AlignmentViewModel"),this.alignMarkToCard=(e,t,n)=>Object(l.pipe)(e,this._alignMarkToItem({animation:t,suggestedPosition:n})),this.alignCardToMark=(e,t,n)=>Object(l.pipe)(e,this._alignItemToMark({animation:t,fitCardIntoViewport:n}))}alignCardTo(e,t,n){const a=n!==S.a.Animation.NO_ANIMATION;return y.a.defer(()=>y.a.of(p.b.unsafeGet(this._cardPositions.getCardSuggestedPosition(e.id,e.renderOptions.features.has(O.a.Features.showLabel),p.g.some(t),"cardTop")))).pipe(y.a.switchMap(t=>this._cardPositions.setCardPosition(e.id,e.renderOptions.features.has(O.a.Features.showLabel),a,t.top)),y.a.mapTo(v.b.voidValue),y.a.catchError(e=>(this._log.error("Cannot align card to required top",e),y.a.EMPTY)),y.a.share())}}!function(e){e.Mock=class{constructor(){this.alignCardToMark=()=>y.a.EMPTY,this.alignCardTo=()=>y.a.EMPTY,this.alignMarkTo=()=>y.a.EMPTY,this.alignMarkToCard=()=>y.a.EMPTY}}}(i||(i={})),function(e){let t,n;!function(e){let t;!function(e){e.below="below",e.above="above",e.intersects="intersects"}(t=e.RelativePosition||(e.RelativePosition={})),e.getRelativePosition=(e,n,a)=>n.top+a>e.bottom?t.below:e.top>n.bottom?t.above:t.intersects}(t||(t={})),e.createAlignmentOnTypingEffect=(e,t,n,a,r)=>{const i=e.view(A.e.mapper(({currentLens:e})=>Object(l.pipe)(p.g.some(e),p.g.filter(Object(E.d)(r))))).pipe(y.a.map(p.g.chain(a),p.g.filter(r.isValidToAlign)),y.b.compactMap(e=>n.pipe(y.a.switchMap(v.b.Scheduler.rafScheduler),y.a.switchMap(()=>t.alignCardToMark(e,S.a.Animation.NO_ANIMATION,!1)))));return{id:"alignmentOnTyping",when:b.a.isWithAlertsId,what:A.e.Effect.Applicator.create(i.pipe(y.a.switchMapTo(y.a.NEVER)))}},e.createAlignOnDisjointedAreasEffect=(e,n,a,r)=>{const i=e.view(Object(s.flow)(A.e.getLens,p.g.filter(e=>p.g.isNone(A.k.getActiveItem(e))&&e.isCardsHeightValid&&e.items.size>0))),o=i.pipe(y.a.map(p.g.isSome),y.a.distinctUntilChanged(),y.a.switchMap(v.b.orEmpty(a.changes.pipe(y.a.startWith(v.b.voidValue),y.a.switchMap(v.b.Scheduler.rafScheduler),y.a.map(()=>p.g.some((e=>{const t=e.viewport.getValue();return{top:Math.min(t.text.top,t.wrapper.top),bottom:t.text.bottom}})(a))),y.a.map(p.g.filter(e=>e.top-e.bottom!=0))))),y.a.withLatestFrom(i.pipe(y.a.map(p.g.map(({items:e})=>e))),p.g.map2((a,i)=>Object(l.pipe)(k.c.getCardsRect(e,r),p.g.map(e=>({top:w.b.FromWindowTop.ISO.unwrap(e.top),bottom:w.b.FromWindowTop.ISO.unwrap(e.bottom)})),p.g.chain(e=>Object(l.pipe)(((e,n,a)=>{const r=Object(l.pipe)(e.getAt(0),p.g.map(e=>e.positionState.height),p.g.getOrElse(()=>0)),i=t.getRelativePosition(n,a,r);switch(i){case t.RelativePosition.above:return Object(l.pipe)(e.getAt(0),p.g.map(e=>({card:e,top:n.top})));case t.RelativePosition.below:return Object(l.pipe)(e.getAt(0),p.g.map(e=>({card:e,top:n.bottom-e.positionState.height})));case t.RelativePosition.intersects:return p.g.none;default:return Object(d.c)(i)}})(i,a,e),p.g.map(({card:e,top:t})=>n.alignCardTo(e,w.b.FromWindowTop.ISO.wrap(t),S.a.Animation.NO_ANIMATION)))),p.g.getOrElse(()=>y.a.EMPTY)))),y.a.switchMap(p.g.fold(()=>y.a.EMPTY,c.a)));return{id:"alignOnDisjointedAreas",when:b.a.isWithAlertsId,what:A.e.Effect.Applicator.create(o.pipe(y.a.switchMapTo(y.a.NEVER)))}},e.createAlignOnResizeSideEffect=(e,t,n,a,r,i=v.b.Scheduler.rafScheduler)=>{const o=e.view(A.e.mapper(({currentLens:e,alertSource:t})=>p.g.some({currentLens:e,alertSource:t}))).view(p.g.filter(({currentLens:e})=>Object(E.d)(r)(e))).view(p.g.chain(({currentLens:e,alertSource:t})=>Object(l.pipe)(a(e),p.g.filter(r.isValidToAlign),p.g.map(n=>({item:n,source:t,lensId:e.id}))))),s=v.a.windowResize.pipe(y.a.throttleTime(100),y.a.merge(n),y.a.withLatestFrom(o,(e,t)=>t),y.a.switchMap(i),y.a.switchMap(p.g.fold(()=>y.a.EMPTY,({item:e})=>t.alignCardToMark(e,S.a.Animation.NO_ANIMATION,!1))));return{id:"alignOnResizeSideEffect",when:b.a.isWithAlertsId,what:A.e.Effect.Applicator.create(s.pipe(y.a.switchMapTo(y.a.NEVER)))}},function(e){e.skip="skip"}(n=e.SkipAlertActionSource||(e.SkipAlertActionSource={})),e.createAlignmentSideEffect=(t,n,a=((e,t)=>t),r,i,o,s,l=v.b.Scheduler.rafScheduler)=>{const c=e._createAlignmentSource(t,n,a,r,i,o,s,l);return{id:"alignmentSideEffect",when:b.a.isWithAlertsId,what:A.e.Effect.Applicator.create(c.pipe(y.a.switchMapTo(y.a.EMPTY)))}},e._createAlignmentSource=(e,t,a=((e,t)=>t),r,i,o,u,d=v.b.Scheduler.rafScheduler)=>{const g=Object(m.p)(C.b.isAlertMinicardButtonClick,C.b.isSwitchToClosestByViewport,C.b.isAlertCardShow,C.a.isCardExpand,C.b.isBulkAcceptItemShow,C.b.isBulkHighlight,C.b.isListItemClick),b=y.a.mergeStatic(e.pipe(y.a.map(A.e.mapper(({currentLens:e,alertSource:t})=>p.g.some({currentLens:e,alertSource:t}))),y.a.startWith(p.g.none),y.a.map(p.g.map(e=>e.currentLens.id)),y.a.pairwise(),y.a.filter(([e,t])=>Object(l.pipe)(p.g.map2((e,t)=>e!==t)(e,t),p.g.exists(c.a))),y.a.mapTo(p.g.none)),e.pipe(y.a.map(A.e.mapper(({currentLens:e,alertSource:t})=>p.g.some({currentLens:e,alertSource:t}))),y.a.filter(p.g.exists(({currentLens:e})=>Object(E.d)(i)(e))),y.a.map(p.g.chain(({currentLens:e,alertSource:t})=>Object(l.pipe)(r(e),p.g.filter(i.isValidToAlign),p.g.map(n=>({item:n,source:t,lensId:e.id}))))))).pipe(y.a.distinctUntilChanged(Object(s.flow)(p.g.map2((e,t)=>e.lensId===t.lensId&&e.source===t.source&&e.item.activeAlert.id===t.item.activeAlert.id&&e.item.visualState.transition.type===t.item.visualState.transition.type&&e.item.activeHighlightIndex===t.item.activeHighlightIndex),p.g.exists(c.a)))),k=t.pipe(y.a.filter(g),y.a.map(p.g.some),y.a.startWith(p.g.none),y.a.pairwise(),y.a.filter(Object(s.flow)(Object(s.tupled)(p.g.map2((e,t)=>!C.b.isAlertCardShow(t)||!C.b.isAlertMinicardButtonClick(e))),p.g.getOrElse(s.constFalse))),y.a.map(([,e])=>Object(l.pipe)(e,p.g.filter(C.b.hasClickPoint))),y.a.startWith(p.g.none)).pipe(y.a.switchMap(e=>b.pipe(y.a.filter(p.g.exists(e=>e.source===f.b.sidebar)),y.a.map(p.g.chain(t=>p.g.some(Object.assign(Object.assign({},t),{clickPoint:Object(l.pipe)(e,p.g.map(h.e.pick("clickPoint")))}))))))),O=b.pipe(y.a.filter(p.g.exists(e=>e.source!==f.b.sidebar)),y.a.map(e=>Object(l.pipe)(e,p.g.chain(e=>p.g.some(Object.assign(Object.assign({},e),{clickPoint:p.g.none}))))));return y.a.mergeStatic(k,O).pipe(y.a.startWith(p.g.none),y.a.pairwise(),y.a.map(([e,t])=>Object(l.pipe)(t,p.g.map(n=>({lensId:n.lensId,card:n.item,source:n.source,animate:Object(l.pipe)(e,p.g.forAll(({lensId:e})=>e===n.lensId)),clickPoint:Object(l.pipe)(t,p.g.chain(h.e.pick("clickPoint")),p.g.map(Object(s.flow)(h.e.pick("y"),w.b.FromWindowTop.ISO.wrap)))})))),y.a.switchMap(p.g.fold(()=>y.a.EMPTY,d)),y.a.withLatestFrom(e),y.a.switchMap(([{card:e,source:t,animate:r,clickPoint:i,lensId:s},c])=>Object(l.pipe)(a(e,t),t=>A.e.hasItems(c)&&c.currentLens.items.has(e.id)&&s===c.currentLens.id&&t!==n.skip?((e,t,n,a)=>{if(n===f.b.text)return Object(l.pipe)(e,u({animation:t?S.a.Animation.ANIMATE_ALL:S.a.Animation.NO_ANIMATION,fitCardIntoViewport:!0}));if(n===A.c.forceText)return Object(l.pipe)(e,u({animation:S.a.Animation.NO_ANIMATION,fitCardIntoViewport:!1}));{const r=n===f.b.sidebar?t?S.a.Animation.ANIMATE_ALL:S.a.Animation.ANIMATE_MARK:S.a.Animation.NO_ANIMATION;return Object(l.pipe)(e,o({animation:r,suggestedPosition:a}))}})(e,r,t,i):y.a.NEVER)))}}(o||(o={}))},"3gtx":function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return C}));var a=n("e12y"),r=n("SD38"),i=n("PDIG"),o=n("0/nD");const s=a.a.seconds(.3),l=a.a.keyframes({from:{opacity:0},to:{opacity:1}})+" .2s linear forwards",c={position:"relative",zIndex:a.d.level2,display:"grid",gridTemplateRows:"auto auto 5fr auto",width:a.a.rem(a.d.navigationWidth),height:a.a.vh(100),$nest:{[i.a.xs]:{width:a.a.rem(a.d.navigationWidthXs)},[i.a.maxWidth(o.a.navigationHideWidthThreshold)]:{"& > *":{paddingRight:a.a.rem(1)}}}},u={marginTop:a.a.rem(.25),borderTop:`${a.a.rem(.02)} solid ${r.transparent}`},d={transformOrigin:"top",animation:`${a.a.keyframes({"0%":{opacity:0,transform:"scaleY(0)"},"100%":{opacity:1,transform:"scaleY(1)"}})} ${s} linear`},p={position:"absolute",width:a.a.percent(100),willChange:"transform",$nest:{"&:last-child:after":{position:"absolute",top:a.a.rem(3),width:a.a.percent(100),height:"@top",content:"''",pointerEvents:"none"}}},m={transition:"transform "+s},h={margin:a.a.rem(5)+" auto 0"},g={height:a.a.rem(3),whiteSpace:"pre-line",animation:l},f={marginTop:a.a.rem(.5),marginBottom:a.a.rem(1.3),animation:l},b={display:"block",height:a.a.percent(100)},y={right:a.a.rem(3),marginTop:a.a.rem(.5)},v=e=>`calc(${e}px - ${a.a.rem(1)})`,S="calc(-100% - 1rem)",C=a.a.prefixedStylesheet("navigation",{wrapper:[c],allAlertsBtn:[u],allAlertsOnboardingWrapper:[{display:"block"}],itemListBox:[{position:"absolute"}],lensBtnAnimate:[d],counterWrapper:[{marginLeft:"auto"}],flowPosition:[p],flowPositionAnimate:[m],lensesZero:[Object(i.d)("zero","svg"),h],advancedBtn:[g],advancedDelimiter:[f],onboardingContainer:[b],onboardingNotification:[y]})},"3hQ2":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("GUi3"),i=n("zR/0"),o=n("BeBM");!function(e){let t,n;!function(e){let t,n;!function(e){e.toggleNonPriorityCards="toggleNonPriorityCards"}(t=e.Kind||(e.Kind={})),function(e){let t;!function(e){e.collapsed="collapsed",e.expanded="expanded"}(t=e.NextState||(e.NextState={}))}(n=e.ToggleNonPriorityCards||(e.ToggleNonPriorityCards={}))}(t=e.Event||(e.Event={})),function(e){e.toggleNonPriorityCards=(e,t,n)=>({id:"toggleNonPriorityCards",when:r.a.isWithAlertsId,what:o.e.Effect.Applicator.create(e.pipe(i.a.map(e=>a=>o.e.hasItems(a)&&Object(o.l)(a.currentLens)?(n(e.nextState),a.patch({currentLens:t.toggleNonPriorityList(e.nextState)(a.currentLens)})):a)))})}(n=e.SideEffects||(e.SideEffects={}))}(a||(a={}))},"3yNE":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("93Qa"),i=n("OA+g"),o=n("zR/0"),s=n("lrqh"),l=n("oN2O"),c=n("6fbX"),u=n("PrA7"),d=n("hoSD");function p(e,t){return n=>Object(i.pipe)(e,l.a.moveByFindFirst(e=>t.equals(n,e)))}function m(e){return s.a.isNonEmpty(e.rights)?l.a.down(e):s.g.some(l.a.start(e))}function h(e){return s.a.isNonEmpty(e.lefts)?l.a.up(e):s.g.some(l.a.end(e))}!function(e){let t;!function(e){e.focused="focused",e.proceedForwards="proceedForwards",e.proceedBackwards="proceedBackwards",e.navigationForwards="navigationForwards",e.navigationBackwards="navigationBackwards"}(t=e.FocusEvent||(e.FocusEvent={})),function(e){e.isSwitchSectionEvent=t=>[e.proceedForwards,e.proceedBackwards].includes(t),e.isInternalNavigationEvent=t=>[e.navigationForwards,e.navigationBackwards].includes(t)}(t=e.FocusEvent||(e.FocusEvent={})),e.create=({contentFocusChanges:n,ord:a,eq:g,show:f,contentSection:b})=>{const y=u.Monitoring.Logging.getLogger("focus",u.Logging.LogLevel.DEBUG,u.Logging.LogColor.Manager.getColor("focus")),v=Object(i.pipe)(b,s.g.chain(e=>l.a.fromArray([e]))),S=new o.a.ReplaySubject,C=new o.a.Subject,w=o.a.fromEvent(document,"keydown").pipe(o.a.filter(e=>"F6"===e.key),o.a.tap(e=>e.preventDefault()),o.a.tap(e=>S.next({kind:e.shiftKey?"previous":"next"})),o.a.ignoreElements(),o.a.share()),k=n.inFocus.pipe(o.a.filter(i.identity),o.a.tap(()=>S.next({kind:"reset"})),o.a.ignoreElements(),o.a.share()),E=S.pipe(o.a.tap(e=>y.debug("Focus action",e)),o.a.scan((e,t)=>{switch(t.kind){case"register":return Object(i.pipe)(e,function(e,t){return Object(i.flow)(s.g.map(l.a.toNonEmptyArray),s.g.map(t=>s.a.snoc(t,e)),s.g.map(s.a.sort(t)),s.g.getOrElse(Object(i.constant)([e])),l.a.fromArray)}(t.section,a),s.g.chain(function(e,t){return n=>Object(i.pipe)(e,s.g.map(d.e.pick("focus")),s.g.chain(p(n,t)),s.g.alt(Object(i.constant)(s.g.some(n))))}(e,g)));case"deregister":return Object(i.pipe)(e,s.g.chain((n=t.section,Object(i.flow)(l.a.toNonEmptyArray,s.a.filter(e=>e!==n),l.a.fromArray))),s.g.chain(function(e,t){return n=>Object(i.pipe)(e,s.g.chain(e=>Object(i.pipe)(p(n,t),t=>Object(i.pipe)(t(e.focus),s.g.alt(Object(i.constant)(Object(i.pipe)(e.lefts,s.a.last,s.g.chain(t)))),s.g.alt(Object(i.constant)(Object(i.pipe)(e.rights,s.a.head,s.g.chain(t))))))),s.g.alt(Object(i.constant)(s.g.some(n))))}(e,g)));case"next":return Object(i.pipe)(e,s.g.chain(m));case"previous":return Object(i.pipe)(e,s.g.chain(h));case"reset":return Object(i.pipe)(e,s.g.map(l.a.start));default:return Object(c.c)(t)}var n},v),o.a.startWith(v),o.a.map(s.g.map(l.a.extract)),o.a.skipBy(s.g.getEq(g)),o.a.tap(e=>Object(i.pipe)(Object(i.tuple)(e,b),Object(i.tupled)(Object(r.sequenceT)(s.g.option)),s.g.map(([e,t])=>g.equals(e,t)),s.g.tap(n.updateFocus))),o.a.tap(e=>y.debug("Item focused",s.g.getShow(f).show(e))),o.a.switchMap(e=>o.a.mergeStatic(w,k,o.a.of(e))),o.a.shareReplay({bufferSize:1,refCount:!1}));return{state:E,focusEvents:C,register:(n,a)=>(S.next({kind:"register",section:n}),o.a.mergeStatic(a.pipe(o.a.tap(e=>C.next({section:n,kind:e})),o.a.filter(e.FocusEvent.isSwitchSectionEvent),o.a.tap(e=>S.next({kind:e===t.proceedForwards?"next":"previous"})),o.a.ignoreElements()),E.pipe(o.a.map(e=>s.g.exists(e=>e===n)(e)?t.focused:t.proceedForwards),o.a.distinctUntilChanged(),o.a.finalize(()=>S.next({kind:"deregister",section:n})))))}}}(a||(a={}))},"3yYM":function(e,t,n){var a=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),s=new O(r||[]);return a(o,"_invoke",{value:C(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function p(){}function m(){}function h(){}var g={};l(g,i,(function(){return this}));var f=Object.getPrototypeOf,b=f&&f(f(A([])));b&&b!==t&&n.call(b,i)&&(g=b);var y=h.prototype=p.prototype=Object.create(g);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){var r;a(this,"_invoke",{value:function(a,i){function o(){return new t((function(r,o){!function a(r,i,o,s){var l=u(e[r],e,i);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,o,s)}),(function(e){a("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return a("throw",e,o,s)}))}s(l.arg)}(a,i,r,o)}))}return r=r?r.then(o,o):o()}})}function C(e,t,n){var a="suspendedStart";return function(r,i){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw i;return _()}for(n.method=r,n.arg=i;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var l=u(e,t,n);if("normal"===l.type){if(a=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a="completed",n.method="throw",n.arg=l.arg)}}}function w(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:_}}function _(){return{value:void 0,done:!0}}return m.prototype=h,a(y,"constructor",{value:h,configurable:!0}),a(h,"constructor",{value:m,configurable:!0}),m.displayName=l(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(S.prototype),l(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,a,r,i){void 0===i&&(i=Promise);var o=new S(c(t,n,a,r),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},v(y),l(y,s,"Generator"),l(y,i,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=A,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return o.type="throw",o.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}(e.exports);try{regeneratorRuntime=a}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},"3zdQ":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b}));var a=n("ERkP"),r=n("LNSM"),i=n("9NHN"),o=n("vOOZ"),s=n("lrqh"),l=n("ax6a"),c=n("MsKq"),u=n("e12y"),d=n("WIwS"),p=n("ps/9"),m=n("zR/0"),h=n("gy42");class g extends a.Component{constructor(){super(...arguments),this._linesCount=Boolean(this.props.defaultLinesCount)?this.props.defaultLinesCount:40,this._wrapper=r.a.create(s.g.none),this._title=r.a.create(s.g.none),this._linesHeight=r.a.create(this._linesCount),this._subs=[]}componentDidMount(){this._subs.push(m.a.combineLatestStatic(this.context,h.a.windowResize.pipe(m.a.startWith(h.b.voidValue)),e=>e).pipe(m.a.switchMap(e=>r.a.combine(this._wrapper,this._title,(t,n)=>({wrapper:t,title:n,remSize:e}))),m.a.filter(({wrapper:e,title:t})=>s.g.isSome(e)&&s.g.isSome(t)),m.a.switchMap(h.b.Scheduler.rafScheduler),m.a.switchMap(h.b.Scheduler.rafScheduler)).subscribe(({wrapper:e,title:t,remSize:n})=>{const a=Math.floor((s.g.unsafeGet(e).offsetHeight-s.g.unsafeGet(t).offsetHeight)/n);this._linesHeight.set(a)}))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}render(){const{wrapperClass:e}=this.props;return a.createElement("div",Object.assign({ref:e=>this._wrapper.set(s.g.fromNullable(e))},Object(i.c)(L.wrapper,e)),a.createElement("div",{className:L.loaderInitial}),a.createElement("div",{className:L.loader1}),a.createElement("div",{className:L.loader2}),a.createElement("div",{className:L.titleWrap,ref:e=>this._title.set(s.g.fromNullable(e))},this.props.children),a.createElement(o.a.div,Object.assign({style:this._linesHeight.view(e=>({height:e+"rem"}))},Object(i.c)(L.lines,this.props.linesClass))),a.createElement("div",{className:L.empty}))}}g.contextType=c.a.Context;const f=()=>a.createElement(g,{linesClass:L.documentLines},a.createElement("div",{className:L.documentTitleWrap},a.createElement("div",{className:L.documentTitle}))),b=()=>a.createElement(g,{linesClass:L.lensviewLines,wrapperClass:L.lensviewWrapper},a.createElement(a.Fragment,null,a.createElement("div",{className:L.lensviewTitle}),a.createElement("div",{className:L.lensviewOpenCard}))),y=`calc(${u.a.rem(2)} + 5px)`,v=u.a.keyframes({from:{transform:"translateY(-50%)"},to:{transform:"translateY(100%)"}}),S=u.a.keyframes({from:{transform:"translateY(-100%)"},to:{transform:"translateY(100%)"}}),C={position:"relative",overflow:"hidden",width:u.a.percent(100),height:u.a.percent(100),background:l.a.CoreNeutral0},w={position:"absolute",top:0,width:u.a.percent(100),height:u.a.percent(100),backgroundImage:`linear-gradient(-179deg, ${l.a.CoreNeutral0} 0%, ${d.h} 30%, ${l.a.CoreNeutral0} 60%)`,backgroundSize:u.a.percent(100),backgroundRepeat:"no-repeat",opacity:.45,animation:`${S} ${u.a.seconds(3)} linear forwards infinite`,willChange:"transform"},k={animation:`${v} ${u.a.seconds(2.25)} linear forwards`},E={transform:"translateY(-100%)",animationDelay:u.a.seconds(.75)},O={transform:"translateY(-100%)",animationDelay:u.a.seconds(2.25)},A={position:"relative",zIndex:1,width:u.a.percent(100),backgroundColor:"transparent",backgroundImage:`repeating-linear-gradient(180deg, ${d.e}, ${d.e} ${u.a.rem(1)}, ${l.a.CoreNeutral0} ${u.a.rem(1)}, ${l.a.CoreNeutral0} ${u.a.rem(2)})`,backgroundPosition:"0 0"},_={position:"relative",height:u.a.percent(100),backgroundColor:l.a.CoreNeutral0},x={position:"relative",$nest:{"&:before":{display:"block",width:u.a.percent(100),height:u.a.rem(1.2),background:l.a.CoreNeutral0,content:"''"}}},I={position:"relative",zIndex:1,marginTop:y,width:u.a.percent(100),height:u.a.rem(1.5),borderRadius:u.a.rem(p.u),backgroundColor:l.a.CoreNeutral0},j={backgroundImage:`repeating-linear-gradient(180deg, ${d.e}, ${d.e} ${u.a.rem(1)}, ${l.a.CoreNeutral0} ${u.a.rem(1)}, ${l.a.CoreNeutral0} ${u.a.rem(2)})`},T={top:u.a.rem(1.6)},M={marginTop:u.a.rem(1.5),height:u.a.rem(1.8),backgroundColor:l.a.CoreNeutral0},N={marginTop:u.a.rem(10.5),height:u.a.rem(2.7),backgroundColor:l.a.CoreNeutral0},P={backgroundImage:`repeating-linear-gradient(180deg, ${d.e}, ${d.e} ${u.a.rem(1)}, ${l.a.CoreNeutral0} ${u.a.rem(1)}, ${l.a.CoreNeutral0} ${u.a.rem(3)})`},L=u.a.stylesheet({wrapper:[C],loader:[w],loaderInitial:[w,k],loader1:[w,E],loader2:[w,O],lines:[A],empty:[_],titleWrap:[{position:"relative"}],documentTitleWrap:[x],documentTitle:[I],documentLines:[j],lensviewWrapper:[T],lensviewTitle:[M],lensviewOpenCard:[N],lensviewLines:[P]})},"4GD7":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("OA+g"),i=n("bYZB"),o=n("lrqh"),s=n("6fbX"),l=n("PrA7"),c=n("zR/0"),u=n("gy42"),d=n("NW9S"),p=n("XxrX");!function(e){let t;!function(e){e[e.ANIMATE_ALL=0]="ANIMATE_ALL",e[e.ANIMATE_MARK=1]="ANIMATE_MARK",e[e.NO_ANIMATION=2]="NO_ANIMATION"}(t=e.Animation||(e.Animation={}));const n=l.Monitoring.Logging.root.getLogger("AlignmentViewModel");function a(e,t){return Object(r.pipe)(e,o.b.fold(({kind:e,reason:t})=>{switch(e){case"error":n.error("Cannot align card to mark",{reason:t});break;case"notFound":n.info("Item does not exist, alignment is canceled",{reason:t});break;default:Object(s.c)(e)}return c.a.EMPTY},e=>c.a.of({mark:t,card:e})))}e.alignMarkToItem=function(e,s){return({animation:l,suggestedPosition:m})=>({id:h,renderOptions:{features:g},activeHighlightIndex:f,activeAlert:b})=>Object(r.pipe)(e.getMarkAlertPosition({alert:b,highlightIndex:f}),c.b.compact,c.a.map(e=>({mark:e,cardPosition:s.getCardSuggestedPositionInViewport(h,g.has(p.a.Features.showLabel),o.g.none,"cardContentTop")})),c.a.switchMap(({cardPosition:e,mark:t})=>a(e,t)),c.a.switchMap(({card:e,mark:t})=>s.setCardPosition(h,g.has(p.a.Features.showLabel),!1,d.b.FromWindowTop.ISO.modify(d.a.concatC(-e.contentOffset))(t)).pipe(c.a.distinctUntilChanged(),c.a.mapTo(Object(r.pipe)(m,o.g.filter(t=>s.willFitViewport(h,d.b.FromWindowTop.ISO.modify(d.a.concatC(-e.contentOffset))(t))),o.g.getOrElse(()=>d.b.FromWindowTop.ISO.modify(d.a.concatC(e.contentOffset))(e.top)))))),c.a.switchMap(n=>e.moveAlertHighlightInViewport({alert:b,highlightIndex:f},n,l===t.ANIMATE_ALL?i.a.fake:i.a.none)),c.a.mapTo(u.b.voidValue),c.a.catchError(e=>(n.error("Cannot align mark to card",e),c.a.EMPTY)),c.a.share())},e.alignItemToMark=function(t,s){return({animation:l,fitCardIntoViewport:m})=>({id:h,renderOptions:{features:g},activeAlert:f,activeHighlightIndex:b})=>Object(r.pipe)(t.getMarkAlertPosition({alert:f,highlightIndex:b}),c.a.switchMap(o.g.fold(()=>c.a.EMPTY,e=>c.a.of(e))),c.a.map(e=>({mark:e,cardPosition:s.getCardSuggestedPositionInViewport(h,g.has(p.a.Features.showLabel),o.g.some(e),"cardContentTop")})),c.a.switchMap(({cardPosition:e,mark:t})=>a(e,t)),c.a.switchMap(({card:n,mark:a})=>c.a.mergeStatic(s.setCardPosition(h,g.has(p.a.Features.showLabel),l===e.Animation.ANIMATE_ALL,d.b.FromWindowTop.ISO.modify(d.a.concatC(-n.contentOffset))(a)),u.b.orEmpty(t.moveAlertHighlightInViewport({alert:f,highlightIndex:b},d.b.FromWindowTop.ISO.modify(d.a.concatC(n.contentOffset))(n.top),l===e.Animation.ANIMATE_ALL?i.a.initial:i.a.none))(m))),c.a.mapTo(u.b.voidValue),c.a.catchError(e=>(n.error("Cannot align card to mark",e),c.a.EMPTY)),c.a.share())}}(a||(a={}))},"4Gmt":function(e,t,n){"use strict";n.d(t,"a",(function(){return be}));var a=n("ERkP"),r=n("vOOZ"),i=n("6fbX"),o=n("1w6p"),s=n("rk+4"),l=n("bO3R"),c=n("D6Vf");const u=()=>a.createElement("svg",{"aria-hidden":!0,width:"128",height:"177"},a.createElement("defs",null,a.createElement("rect",{id:"a",y:"14",width:"128",height:"128",rx:"64"})),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("ellipse",{fill:"#F1F2FA",cx:"64",cy:"173",rx:"48",ry:"4"}),a.createElement("path",{d:"M27 0h62a5 5 0 0 1 5 5v91a5 5 0 0 1-5 5H24a5 5 0 0 1-5-5V8a8 8 0 0 1 8-8z",fill:"#F1F2FA"}),a.createElement("mask",{id:"b",fill:"#fff"},a.createElement("use",{xlinkHref:"#a"})),a.createElement("use",{fill:"#A2BCFF",xlinkHref:"#a"}),a.createElement("path",{d:"M116.708 48.783a4.144 4.144 0 0 1 5.672-1.465 4.138 4.138 0 0 1 1.466 5.667l-17.955 30.462a4.141 4.141 0 0 1-3.57 2.039 4.145 4.145 0 0 1-2.879-1.164l-12.527-12.1a4.138 4.138 0 0 1-.099-5.855 4.144 4.144 0 0 1 5.858-.099l8.747 8.45 15.287-25.935zm-63.446 45.53h58.877a4.141 4.141 0 0 1 4.142 4.139 4.141 4.141 0 0 1-4.142 4.14H53.262a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zM8.793 17.33h31.735a4.141 4.141 0 0 1 4.143 4.14 4.141 4.141 0 0 1-4.143 4.14H8.793a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zm0 17.526h31.735a4.141 4.141 0 0 1 4.143 4.14 4.141 4.141 0 0 1-4.143 4.14H8.793a4.141 4.141 0 0 1-4.143-4.14 4.141 4.141 0 0 1 4.143-4.14zm4.99 68.985a4.74 4.74 0 0 1-4.686 4.794 4.74 4.74 0 0 1-.111-9.477 4.74 4.74 0 0 1 4.798 4.683zm16.757 16.106a4.141 4.141 0 0 1 4.142-4.14 4.141 4.141 0 0 1 4.143 4.14c0 9.416-7.665 17.076-17.087 17.076S4.65 129.363 4.65 119.947a4.141 4.141 0 0 1 4.143-4.14 4.141 4.141 0 0 1 4.143 4.14c0 4.85 3.948 8.796 8.802 8.796 4.853 0 8.802-3.946 8.802-8.796zM8.793 76.46c-1.06 0-2.12-.405-2.93-1.213a4.138 4.138 0 0 1 0-5.855l4.274-4.27-4.273-4.27a4.138 4.138 0 0 1 0-5.855 4.145 4.145 0 0 1 5.859 0l4.273 4.27 4.273-4.27a4.144 4.144 0 0 1 5.858 0 4.138 4.138 0 0 1 0 5.855l-4.273 4.27 4.274 4.27a4.138 4.138 0 0 1-2.93 7.068c-1.06 0-2.12-.405-2.929-1.213l-4.273-4.27-4.273 4.27a4.133 4.133 0 0 1-2.93 1.213zm87.342 44.285l13.678 9.075a4.138 4.138 0 0 1 1.16 5.739 4.144 4.144 0 0 1-5.743 1.159l-11.387-7.555-11.386 7.555a4.143 4.143 0 0 1-4.378.128l-12.844-7.478-11.078 7.35c-.705.468-1.5.691-2.288.691a4.14 4.14 0 0 1-2.295-7.589l13.227-8.776a4.144 4.144 0 0 1 4.377-.128l12.844 7.478 11.53-7.65a4.145 4.145 0 0 1 4.583 0zM31.23 86.814a4.141 4.141 0 0 1 4.142-4.14 4.141 4.141 0 0 1 4.143 4.14v19.402a4.141 4.141 0 0 1-4.143 4.14 4.141 4.141 0 0 1-4.142-4.14V86.814z",fill:"#BDCFFF",mask:"url(#b)"}),a.createElement("path",{d:"M36 12h65a5 5 0 0 1 5 5v88a8 8 0 0 1-8 8H36a5 5 0 0 1-5-5V17a5 5 0 0 1 5-5z",fill:"#7CA1FF",mask:"url(#b)"}),a.createElement("rect",{fill:"#FFF",x:"25",y:"6",width:"75",height:"101",rx:"5"}),a.createElement("path",{d:"M38 21h49a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H38a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1zm0 13h32a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H38a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1z",fill:"#F1F2FA"})));var d=n("jAl6"),p=n("Q8bi"),m=n("xEVj"),h=n("zR/0"),g=n("BoSw"),f=n("9NHN"),b=n("94k3"),y=n("hoSD"),v=n("lrqh"),S=n("ax6a"),C=n("3rlE"),w=n("I7vG"),k=n("LNSM");const E=e=>{const{score:t,documentIsEmpty:n,sidebarOpen:i=k.a.create(!0),successIcon:o,progressIcon:s,zeroIcon:l=null}=e,c=t.pipe(h.a.map(v.g.map(e=>e.rank))),u=h.a.combineLatestStatic(t,n,(e,t)=>Object(w.pipe)(e,v.g.fold(()=>!1,({rank:e})=>100===e&&!t))),d=i.pipe(h.a.switchMap(e=>e?c.pipe(h.a.startWith(v.g.none),h.a.pairwise(),h.a.switchMap(([e,t])=>Object(w.pipe)(t,v.g.fold(()=>h.a.of(l),t=>u.pipe(h.a.startWith(!1),h.a.pairwise(),h.a.switchMap(([n,a])=>a?h.a.of(o):Object(w.pipe)(e,v.g.filter(()=>!n),v.g.fold(()=>h.a.of(s(t)).pipe(h.a.delay(1),h.a.startWith(s(0))),()=>h.a.of(s(t)))))))))):h.a.of(null)),h.a.startWith(null));return a.createElement(r.a.Fragment,null,d)};var O=n("kHl6"),A=n("H9Bv"),_=n("e12y"),x=n("WIwS"),I=n("ps/9");const j={display:"flex",flexDirection:"column",maxHeight:"90vh",width:_.a.rem(32),height:_.a.rem(41),background:S.a.CoreNeutral0},T={padding:`${_.a.rem(2.75)} ${_.a.rem(1)} 0 ${_.a.rem(2)}`,minHeight:_.a.rem(5.1),height:_.a.rem(5.1),backgroundColor:S.a.CoreNeutral0},M={marginRight:_.a.rem(1),paddingBottom:_.a.rem(.3),borderBottom:"1px solid "+x.h},N={padding:`0 ${_.a.rem(1)} ${_.a.rem(1)} ${_.a.rem(2)}`},P={padding:"0 "+_.a.rem(1.9),minHeight:_.a.rem(4),height:_.a.rem(4)},L={position:"absolute",top:_.a.rem(-5.15),right:0,bottom:0,left:0,margin:"auto"},R={display:"flex",flexDirection:"column",marginTop:_.a.rem(7.15),marginBottom:_.a.rem(2),paddingRight:_.a.rem(1),alignItems:"center"},B={wordSpacing:_.a.rem(.05),fontSize:_.a.rem(.875),lineHeight:_.a.rem(1.5)},F={padding:`${_.a.rem(1.3)} ${_.a.rem(2.6)}`,textAlign:"center"},D=_.a.prefixedStylesheet("statistics",{wrapper:[j],modalHeader:[T],modalHeaderUnderline:[M],modalReady:[{transition:"opacity .2s"}],modalEmpty:[{opacity:0}],modalBody:[N],modalFooter:[P],loader:[L],zeroStateContainer:[R],performanceText:[B],zeroStateText:[B,F]});var H;!function(e){e.number="number",e.time="time",e.percentage="percentage"}(H||(H={}));const V=e=>{switch(e){case H.number:case H.percentage:return ge.numberRowData;case H.time:return ge.timeRowData;default:return Object(i.c)(e)}},U=({type:e,value:t,info:n,children:r,dataName:o})=>a.createElement("div",{className:ge.row,"data-name":o},a.createElement("div",{className:V(e)},a.createElement("div",{className:ge.metricTitle},r),a.createElement("div",{className:ge.metric},((e,t)=>{switch(e){case H.number:return(Math.round(10*t)/10).toLocaleString();case H.time:return y.d.convertTimeToShortString(t);case H.percentage:return Math.round(t)+"%";default:return Object(i.c)(e)}})(e,t))),Boolean(n)?a.createElement(l.b,{title:n}):null),W=({state:e})=>{const t=a.useContext(s.a.Context).performance,{stats:n,score:r,documentIsEmpty:i}=e;return a.createElement(a.Fragment,null,a.createElement("section",{className:ge.titleSection},a.createElement("div",{className:ge.titleColumns},a.createElement(c.a.SpokenDescription,Object.assign({},Object(f.c)(D.performanceText,ge.headerDescription)),100===r.rank?t.score100:t.scoreUnder100(r.rank)),a.createElement(E,{score:h.a.of(v.g.some(r)),documentIsEmpty:h.a.of(i),successIcon:a.createElement(C.d.CheckmarkAnimated,{key:"modal-checkmark",width:50,className:ge.checkmark}),progressIcon:e=>a.createElement(A.a,{key:"modal-performance-progress",colorType:A.a.ColorType.royalBlue,fontSize:A.a.FontSize.small,percentage:e,theme:fe})}))),a.createElement("section",{className:ge.wordCountSection},a.createElement(p.Typography.H3,{className:ge.sectionHeaderUnderline},t.wordCount),a.createElement("div",{className:ge.wordCountColumns},a.createElement("div",{className:ge.firstColumn},a.createElement(U,{type:H.number,value:Math.max(n.chars-1,0)},t.characters),a.createElement(U,{type:H.number,value:n.words},t.words),a.createElement(U,{type:H.number,value:n.sentences},y.f.pluralize(n.sentences,t.sentence,t.sentences))),a.createElement("div",{className:ge.secondColumn},a.createElement(U,{type:H.time,value:b.a.DocumentStatistics.calculateReadingTime(n.words)},t.readingTime),a.createElement(U,{type:H.time,value:b.a.DocumentStatistics.calculateSpeakingTime(n.words)},t.speakingTime)))),a.createElement("section",{className:ge.readabilitySection},a.createElement("div",{className:ge.sectionHeaderWrapper},a.createElement(p.Typography.H3,null,t.readability),a.createElement(p.Typography.SmallLight,null,t.sectionTitleDescription)),a.createElement("div",{className:ge.readabilityColumns},a.createElement("div",{className:ge.firstColumn},a.createElement(U,{type:H.number,value:n.wordLength},t.wordLengthTitle)),a.createElement("div",{className:ge.secondColumn},a.createElement("div",{className:ge.row},a.createElement(O.a,{value:n.wordLengthIndex,className:ge.progressBar,leftCustomClass:ge.leftProgress,rightCustomClass:ge.rightProgress}),a.createElement(O.a.Label,{value:n.wordLengthIndex,className:ge.progressLabel})),a.createElement("div",{className:ge.verticalPillar}))),a.createElement("div",{className:ge.readabilityColumns},a.createElement("div",{className:ge.firstColumn},a.createElement(U,{type:H.number,value:n.sentenceLength},t.sentenceLengthTitle)),a.createElement("div",{className:ge.secondColumn},a.createElement("div",{className:ge.row},a.createElement(O.a,{value:n.sentenceLengthIndex,className:ge.progressBar,leftCustomClass:ge.leftProgress,rightCustomClass:ge.rightProgress}),a.createElement(O.a.Label,{value:n.sentenceLengthIndex,className:ge.progressLabel})),a.createElement("div",{className:ge.verticalPillarShort}))),a.createElement("div",{className:ge.readabilityColumns},a.createElement("div",{className:ge.firstColumn},a.createElement(U,{type:H.number,value:n.readabilityScore,info:t.readabilityDescription,dataName:"readability"},t.readabilityScore))),a.createElement(p.Typography.SmallLight,{className:ge.readabilityDescr},n.readabilityDescription)),a.createElement("section",null,a.createElement("div",{className:ge.sectionHeaderWrapper},a.createElement(p.Typography.H3,null,t.vocabulary),a.createElement(p.Typography.SmallLight,null,t.sectionTitleDescription)),a.createElement("div",{className:ge.vocabularyColumns},a.createElement("div",{className:ge.firstColumn},a.createElement(U,{type:H.percentage,value:n.uniqueWords,info:t.uniqueWords},t.uniqueWordsTitle)),a.createElement("div",{className:ge.secondColumn},a.createElement("div",{className:ge.row},a.createElement(O.a,{value:n.uniqueWords,className:ge.progressBar,leftCustomClass:ge.leftProgress,rightCustomClass:ge.rightProgress}),a.createElement(O.a.Label,{value:n.uniqueWords,className:ge.progressLabel})),a.createElement("div",{className:ge.verticalPillar}))),a.createElement("div",{className:ge.vocabularyColumns},a.createElement("div",{className:ge.firstColumn},a.createElement(U,{type:H.percentage,value:n.rareWords,info:t.rareWords},t.rareWordsTitle)),a.createElement("div",{className:ge.secondColumn},a.createElement("div",{className:ge.row},a.createElement(O.a,{value:n.rareWords,className:ge.progressBar,leftCustomClass:ge.leftProgress,rightCustomClass:ge.rightProgress}),a.createElement(O.a.Label,{value:n.rareWords,className:ge.progressLabel})),a.createElement("div",{className:ge.verticalPillarShort})))))},q={marginBottom:_.a.rem(2.4)},z={display:"flex",marginTop:_.a.rem(.9),marginRight:_.a.rem(1),justifyContent:"space-between"},$={marginBottom:_.a.rem(1.5)},G={display:"flex",marginTop:_.a.rem(.8)},K={marginBottom:_.a.rem(2.4)},Y={display:"flex",$nest:{"&:first":{marginTop:_.a.rem(.8)}}},Z={display:"flex",$nest:{"&:first":{marginTop:_.a.rem(.8)}}},X={flexBasis:_.a.percent(50)},Q={position:"relative",paddingLeft:_.a.rem(.5),flexBasis:_.a.percent(50)},J={display:"flex",height:_.a.rem(2),alignItems:"center"},ee={display:"flex",justifyContent:"space-between"},te={width:_.a.rem(10),fontFeatureSettings:`${I.g}, ${I.e}`},ne={width:_.a.rem(13)},ae={marginRight:_.a.rem(1),paddingBottom:_.a.rem(.5),borderBottom:"1px solid "+x.h},re={width:_.a.percent(80),whiteSpace:"pre-line"},ie={display:"inline-block",color:S.a.CoreBlue50,textAlign:"right",fontWeight:"bold",fontSize:_.a.rem(.875),lineHeight:_.a.rem(2)},oe={display:"inline-block",color:S.a.CoreNeutral90,fontSize:_.a.rem(.875),lineHeight:_.a.rem(2)},se={width:_.a.rem(3.2),height:_.a.rem(3.2),fontWeight:"bold"},le={width:_.a.rem(6),backgroundColor:x.h},ce={marginLeft:_.a.rem(1.125)},ue={backgroundImage:x.b},de={backgroundImage:x.d},pe={display:"block",paddingTop:_.a.rem(.5)},me={position:"absolute",top:_.a.rem(.5),left:_.a.rem(3.5),width:_.a.rem(.0625),height:_.a.rem(3),backgroundColor:x.g},he={height:_.a.rem(1)},ge=_.a.stylesheet({titleSection:[q],titleColumns:[z],wordCountSection:[$],wordCountColumns:[G],readabilitySection:[K],readabilityColumns:[Y],vocabularyColumns:[Z],firstColumn:[X],secondColumn:[Q],row:[J],rowData:[ee],numberRowData:[ee,te],timeRowData:[ee,ne],sectionHeaderUnderline:[ae],sectionHeaderWrapper:[ae,{display:"flex",alignItems:"baseline",justifyContent:"space-between"}],headerDescription:[re],metric:[ie],metricTitle:[oe],checkmark:[{alignItems:"center"}],circleProgressBar:[se],progressBar:[le],progressLabel:[ce],leftProgress:[ue],rightProgress:[de],readabilityDescr:[pe],verticalPillar:[me],verticalPillarShort:[me,he]}),fe={radialProgressBar:ge.circleProgressBar};var be;!function(e){let t;e.ModalView=o.b.Grid.make(({slots:n,state:r,notify:i})=>{const o=i({kind:t.close});return a.createElement(c.c,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:o},a.createElement(e.ModalContent,{state:r,downloadButton:n.downloadButton,onClose:o}))}),function(e){e.close="close"}(t=e.ActionsKind||(e.ActionsKind={})),e.ModalContent=({state:t,downloadButton:n,onClose:r})=>a.createElement(c.a,{className:D.wrapper,focusTrapMode:"dynamic",initialFocus:m.a.FocusTrap.InitialFocus.none},a.createElement(c.a.Header,{className:D.modalHeader},a.createElement(e.Header,{state:t})),a.createElement(c.a.Body,{name:"performanceBody",className:D.modalBody,wrapperClassName:t.pipe(h.a.map(e=>e.type===g.a.State.Type.EMPTY?D.modalEmpty:D.modalReady))},a.createElement(e.Body,{state:t})),a.createElement(c.a.Footer,{className:D.modalFooter},a.createElement(b,{downloadButton:n,onClose:r})));const n=()=>{const e=a.useContext(s.a.Context);return a.createElement("div",{className:D.zeroStateContainer},a.createElement(u,null),a.createElement(c.a.SpokenDescription,{className:D.zeroStateText},e.performance.notEnoughTextToCalculateStats))};e.Header=({state:e})=>{const t=a.useContext(s.a.Context),n=a.useContext(c.a.TitleIdContext);return a.createElement(r.a.Fragment,null,e.pipe(h.a.map(e=>a.createElement(p.Typography.H2,{key:"statisticsHeader",id:n,className:e.type===g.a.State.Type.READY?D.modalHeaderUnderline:""},t.performance.title))))};const f=()=>a.createElement(d.a,{size:64,className:D.loader,variation:"blue"});e.Body=({state:e})=>a.createElement(r.a.Fragment,null,e.pipe(h.a.map(e=>{switch(e.type){case g.a.State.Type.EMPTY:return null;case g.a.State.Type.LOADING:case g.a.State.Type.ERROR:return a.createElement(f,{key:"statisticsLoading"});case g.a.State.Type.SHORT_CONTENT:return a.createElement(n,{key:"statisticsEmpty"});case g.a.State.Type.READY:return a.createElement(W,{key:"statisticsContent",state:e});default:return Object(i.c)(e)}})));const b=({downloadButton:e,onClose:t})=>a.createElement(a.Fragment,null,e,a.createElement(l.a.Primary,{name:"close-stats",onClick:t},"Close"))}(be||(be={}))},"4L0w":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("ERkP"),r=n("9NHN"),i=n("e12y");const o=({double:e,triple:t,small:n})=>a.createElement("div",Object.assign({},Object(r.c)(s,!0===e&&l,!0===t&&c,!0===n&&u))),s=i.a.joinClasses(["spacer",i.a.style({margin:0,minHeight:i.a.rem(.875),maxHeight:i.a.rem(1),width:i.a.percent(100),height:i.a.rem(1)})]),l=i.a.joinClasses(["spacerDouble",i.a.style({minHeight:i.a.rem(1.75),maxHeight:i.a.rem(2),height:i.a.rem(2)})]),c=i.a.joinClasses(["spacerTriple",i.a.style({minHeight:i.a.rem(2.625),maxHeight:i.a.rem(3),height:i.a.rem(3)})]),u=i.a.style({$nest:{"&.spacer":{minHeight:i.a.rem(.4375),maxHeight:i.a.rem(.5),height:i.a.rem(.5)},"&.spacerDouble":{minHeight:i.a.rem(.875),maxHeight:i.a.rem(1),height:i.a.rem(1)},"&.spacerTriple":{minHeight:i.a.rem(1.3125),maxHeight:i.a.rem(1.5),height:i.a.rem(1.5)}}})},"4e/B":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a,r,i=n("OA+g"),o=n("I7vG"),s=n("LNSM"),l=n("94k3"),c=n("viRF"),u=n("zR/0"),d=n("gy42"),p=n("6fbX"),m=n("lrqh"),h=n("hoSD");!function(e){let t;!function(e){e.Like="Like",e.Dislike="Dislike"}(t=e.FeedbackType||(e.FeedbackType={}))}(a||(a={})),function(e){function t(e){switch(e){case a.FeedbackType.Like:return l.a.EmotionFeedbackType.EMOTION_LIKE;case a.FeedbackType.Dislike:return l.a.EmotionFeedbackType.EMOTION_DISLIKE;default:return Object(p.c)(e)}}function n(e){return Object(o.pipe)(c.b.fromNumber(e.confidence),m.b.map(t=>({emoji:e.emoji,name:e.name,confidence:t,feedback:m.g.none})))}function r(e){return e.reduce((e,t)=>(e[t.name]=t,e),{})}e.toCapiFeedback=t,e.create=function(e,a,p){const g=s.a.create({}),f=[e.pipe(u.a.filter(l.a.CAPIEvent.is("emotions")),u.a.map(e=>Object(o.pipe)(function(e){const[t,a]=h.a.partition(e.map(n),m.b.isRight);return t.length===e.length?m.b.right(t.map(m.b.unsafeGet)):m.b.left(Object(o.pipe)(a.map(m.b.swap).map(m.b.unsafeGet).join(";")))}(e.emotions),m.b.map(r),m.b.fold(e=>(p.error("Failed to parse emotions from capi",{rejectionReason:e}),{}),i.identity)))).subscribe(d.b.toAtom(g))];return{emotions:g.view(e=>Object.values(e).sort((e,t)=>c.b.ord.compare(t.confidence,e.confidence))),sendEmotionFeedback:(e,n)=>Object(o.pipe)(function(e,t){return void 0===e[t]?m.b.left(new Error("Tried to send feedback for non-existing emotion")):Object(o.pipe)(e[t].feedback,m.g.fold(()=>m.b.right(void 0),()=>m.b.left(new Error("Tried to send feedback for an emotion which already has one"))))}(g.get(),e),m.b.map(()=>{a.sendFeedback({emotionName:e,kind:t(n)})(),g.modify(t=>Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},t[e]),{feedback:m.g.some(n)})}))})),dispose:()=>f.forEach(e=>e.unsubscribe())}}}(r||(r={}))},"5C44":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var a=n("h6df");function r(e){return function(t){return function(n){return e.map(n,(function(e){return e(t)}))}}}function i(e){return function(t){return function(n){return e.map(n,(function(e){var n;return(n={})[t]=e,n}))}}}function o(e,t){var n=function(e,t){return function(n){return function(a){return e.map(a,(function(e){return t.map(e,n)}))}}}(e,t);return{map:function(e,t){return Object(a.m)(e,n(t))}}}},"5RoT":function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a,r,i,o=n("a5W6"),s=n("nJQv"),l=n("OA+g"),c=n("I7vG"),u=n("LNSM"),d=n("j7q7"),p=n("mbuk"),m=n("lrqh"),h=n("6fbX"),g=n("GUi3"),f=n("dE97"),b=n("kMag"),y=n("XpkH");(a||(a={})).fromAlert=function(e,t,n){let a=g.a.outcomeFullTypeMatch(Boolean(e.lensId===g.a.SpecialId.Premium||e.lensId===g.a.SpecialId.FreePremiumAlerts&&!f.a.isFreePremium(e))?g.a.Type.Advanced:e.lensType)(n);return f.a.isEthicalAI(e)&&void 0!==e.highlightBackgroundColor&&void 0!==e.highlightUnderlineColor&&(a=n.custom(e.highlightBackgroundColor,e.highlightUnderlineColor)),{markLensBase:a,markBase:n.markBase,markAppliedBase:n.markAppliedBase,markHeight:t?n.markHeightTall:n.markHeightStandard,markAnimated:n.markAnimated,markVisible:n.markVisible,markSelectedFocused:n.markSelectedFocused,markHidden:n.markHidden,markSuccess:n.markSuccess,markBulkApplied:n.markBulkApplied,markBulkAppliedAnimation:n.markBulkAppliedAnimation,markApplied:n.markApplied,noAnimation:n.noAnimation,markSelected:n.markSelected,markStart:n.markStart}},(i=r||(r={})).byAhr=function(e){return t=>Object(c.pipe)(e.get(),m.g.forAll(e=>t.meta.id===e.meta.id))?"full":"background"},i.byRangeType=function(e){return t=>b.b.isFocusView(t)?"focus":b.b.isEnclosingView(t)?"enclosing":f.a.isCapiDone(e)?"background":e.hasNestedHighlights?b.b.isMainStartView(t)?"underline_start":"underline":"full"};var v,S,C=n("yA7V"),w=n("GGUR"),k=n("zR/0"),E=n("gy42"),O=n("vVVP"),A=n("UEGg"),_=n("5o4I"),x=n("BeBM"),I=n("6oPm"),j=n("XCjp"),T=n("D9EC"),M=n("7b34"),N=n("hoSD"),P=n("PrA7"),L=n("bZiY");(S=v||(v={})).create=(e,t,n,a)=>(r,i)=>d.a.Change.getCreateAction({classes:t({state:i.to.visualState,isBulkApplied:f.a.State.isBulkApplied(n("MarkActionFactory.create").state),range:r,isAnimated:!i.to.updateRanges&&Object(y.d)(i),isEnclosed:a}),range:r,order:e({range:r})}),S.update=(e,t,n,a)=>(r,i)=>d.a.Change.getUpdateAction({classes:t({state:i.to.visualState,isBulkApplied:f.a.State.isBulkApplied(n("MarkActionFactory.update").state),range:r,isAnimated:!i.to.updateRanges&&Object(y.d)(i),isEnclosed:a}),range:r,order:e({range:r})}),S.remove=e=>d.a.Change.getRemoveAction({range:e},d.a.Change.RemoveType.partial);class R{constructor(e,t,n,a,r,i,o=!1,s,d,h,g,v){this._ded=e,this._state=t,this._alertList=n,this._alertsReader=a,this._alertsService=r,this._alertRangeService=i,this._useHighHighlights=o,this._marksRenderer=s,this._alertsFilterService=d,this._filterChanges=h,this._getActiveAlert=g,this._suggestionsVisualMode=v,this._marksMap=new Map,this._log=P.Monitoring.Logging.getLogger("MarksViewModelImpl",P.Logging.LogLevel.DEBUG),this._subs=new w.a.Keeper,this._filterKit=u.a.create(m.g.none),this._filteredAlerts=u.a.create(m.g.none),this._alertStateDiff=this._alertList.state.pipe(k.a.pairwise(),k.a.map(([e,t])=>C.a.diff(e,t)),k.a.filter(Object(T.m)(M.a.isEmpty))),this.events=new k.a.Subject,this.changeMarks=e=>this._ded.changeMarks(e),this._getMarkAlert=({id:e})=>Object(c.pipe)(m.g.fromNullable(this._marksMap.get(e)),m.g.filter(y.a.notAnyOf(y.c.disposed)),m.g.chain(e=>Object(c.pipe)(this._alertsReader.getById(e.alert.id),m.g.map(t=>({alert:t,markAlert:e}))))),this._isAlertVisible=e=>Object(c.pipe)(this._filterKit.get(),m.g.filter(t=>t.filter(e)),m.g.isSome),this._getVisibleMarkAlert=({id:e})=>Object(c.pipe)(this._getMarkAlert({id:e}),m.g.filter(e=>this._isAlertVisible(e.alert))),this.getMarkByAlert=e=>Object(c.pipe)(this._getVisibleMarkAlert(e.alert),m.g.chain(t=>t.markAlert.markByIndex(e.highlightIndex))),this._isHighlightInteractable=e=>{const t=Object(c.pipe)(m.g.fromNullable(this._marksMap.get(e.alert.id)),m.g.fold(()=>!1,e=>y.a.isOrWillBe(y.c.highlighted)(e)));return!Object(c.pipe)(_.a.getHighlightRange(e),m.g.fold(()=>!1,b.b.isEnclosingView))||t},this.getAlertByMark=e=>Object(c.pipe)(this._alertsReader.getInteractable(b.a.fromRangeIdToAlertId(e.id)),m.g.filter(this._isAlertVisible),m.g.chain(t=>Object(c.pipe)(j.c.getHighlightIndex(t,e.range()),m.b.map(e=>({alert:A.a.fromModel(t),highlightIndex:e})),m.g.fromEither)),m.g.filter(this._isHighlightInteractable)),this._highlightedAlertId=m.g.none,this.highlightAlertHighlight=e=>Object(c.pipe)(this._getMarkAlert(e),m.g.map(e=>e.markAlert),m.g.filter(y.a.canBeChanged()),m.g.fold(()=>m.b.left(new Error("Cannot highlight alert")),t=>(Object(c.pipe)(this._highlightedAlertId,m.g.tap(t=>{this._log.warn("Trying to highlight alert while previously highlighted alert is not unhighlighted",{highlighted:e.id,previous:t}),this._unhighlightAlertHighlight({id:t})})),this._highlightedAlertId=m.g.some(e.id),t.scheduleApply(y.c.highlighted),this._marksRenderer.enqueue([t],I.b.Priority.asap),m.b.right({dispose:()=>this._unhighlightAlertHighlight(e)})))),this._unhighlightAlertHighlight=e=>Object(c.pipe)(e,e=>(m.g.exists(t=>t===e.id)(this._highlightedAlertId)||this._log.warn("Trying to unhighlight alert but nothing is highlighted",{alertId:e.id}),this._highlightedAlertId=m.g.none,e),this._getMarkAlert,m.g.map(e=>e.markAlert),m.g.filter(e=>y.a.canBeChanged()(e)&&!y.a.isOrWillBe(y.c.hidden)(e)&&!Object(c.pipe)(this._state.view(x.e.getActiveAlert(this._getActiveAlert)).get(),m.g.exists(t=>t.id===e.alert.id))),m.g.map(e=>this._marksRenderer.enqueue([e.scheduleApply(y.c.visible)],I.b.Priority.asap))),this._onTransitionEnd=e=>(t,n)=>{y.c.isApplied(t.to.visualState)&&requestAnimationFrame(()=>{Object(c.pipe)(n.mark,m.g.fold(()=>k.a.of(m.b.left(new Error("Cannot animate mark, as it not exists"))),e=>Object(c.pipe)(k.a.mergeStatic(k.a.mergeStatic(k.a.timer(300).pipe(k.a.mapTo(m.b.right(Object(l.constVoid)()))),e.fromMarkEvent("animationend"),e.fromMarkEvent("animationcancel")).pipe(k.a.first())))),Object(l.flow)(k.a.first(),k.a.map(m.b.fold(e=>(e instanceof p.a.CollapsedMarkError?this._log.debug("Cannot animate applied alert as it is collapsed",e):this._log.error("Cannot animate applied alert",e,{alertId:n.alert.id,currentState:n.state,alertInfo:{title:n.alert.title,patternName:n.alert.patternName}}),k.a.timer(150).pipe(k.a.map(l.constVoid))),k.a.of))),t=>{t.subscribe(()=>{y.a.isOrWillBe(y.c.disposed)(n)?this._log.info("Alert disposed before apply animation finished"):(this.events.next({type:j.b.Type.AppliedAlertAnimationFinished,alert:e}),f.a.isBulkApplied(e)||this._handleRemovedAlerts([e]))})})})},this._subs.push(this._listenMarksState(),this._listenFilterChange(),this._listenFilteredAlerts(),this._rerenderAllMarksOnUnderlineModeChange()),Object(T.r)("marksManager",this)}dispose(){this._subs.dispose()}flush(){const e=(new Date).getTime();return this._alertList.flushAlerts(),this._marksRenderer.flush().finally(()=>{const t=(new Date).getTime()-e;this._log.info("Flush performed",{duration:t})})}focusAlertHighlight(e){return Object(c.pipe)(this._getMarkAlert(e.alert),m.g.fold(()=>m.b.left(new Error("Cannot focus given alert")),t=>(y.a.canBeChanged()(t.markAlert)&&(f.a.isSuperAlert(t.alert)&&t.markAlert.scheduleForceUpdate(),t.markAlert.scheduleApply(y.c.highlighted),this._marksRenderer.enqueue([t.markAlert],I.b.Priority.asap)),m.b.right({dispose:()=>this._unfocusAlertHighlight(e)}))))}_unfocusAlertHighlight(e){Object(c.pipe)(e.alert,m.g.some,m.g.filter(e=>!Object(c.pipe)(this._highlightedAlertId,m.g.exists(t=>t===e.id))),m.g.chain(this._getMarkAlert),m.g.filter(e=>!y.a.isOrWillBe(y.c.hidden)(e.markAlert)&&y.a.canBeChanged()(e.markAlert)),m.g.map(e=>{y.a.isOrWillBe(y.c.success)(e.markAlert)?(this._handleRemovedAlerts([e.alert]),this._marksRenderer.enqueue([e.markAlert],I.b.Priority.asap)):this._marksRenderer.enqueue([e.markAlert.scheduleApply(y.c.visible)],I.b.Priority.asap)}))}moveCursorToHighlight(e,t){return Object(c.pipe)(this._getMarkAlert(e.alert),m.g.chain(t=>t.markAlert.markByIndex(e.highlightIndex)),m.g.chain(e=>m.g.fromEither(e.range())),m.g.fold(()=>m.b.left(new Error("Cannot find mark for given range")),e=>{const{index:n,length:a}=this._ded.getCursor();if(0===a&&(n<e.start||n>e.end)){const n=Math.min(e[t],this._ded.getLastPossibleCursorPosition());return Object(c.pipe)(this._ded.setCursor(n,0),m.b.orElse(e=>(this._log.error("Failed to set cursor to highlight",e,n),m.b.left(e))))}return m.b.right(void 0)}))}ensureAlertHighlightInViewport(e,t,n){return Object(c.pipe)(this._getVisibleMarkAlert(e.alert),m.g.map(e=>e.markAlert),m.g.chain(t=>t.markByIndex(e.highlightIndex)),m.g.fold(()=>(this._log.warn("Cannot ensureAlertHighlightInViewport, because mark is None"),k.a.EMPTY),e=>this._ded.scrollToMark(e.id,{animate:n,paddingTop:t})))}_listenFilterChange(){return Object(c.pipe)(this._filterChanges,k.a.map(m.g.some)).subscribe(E.b.toAtom(this._filterKit))}getFirstMark(){return this._alertList.state.pipe(k.a.map(C.a.find(e=>f.a.isCritical(e.alert))),k.b.compactMap(e=>k.a.of(Object(c.pipe)(this._getMarkAlert(e.alert),m.g.chain(e=>e.markAlert.mark)))))}_listenFilteredAlerts(){return this._filterKit.pipe(k.a.withLatestFrom(this._alertList.state),k.a.map(([e,t])=>{const n=Object(c.pipe)(e,m.g.map(e=>e.filter));return Object(c.pipe)(t,C.a.reduce({},(e,t)=>(Object(c.pipe)(n,m.g.map(e=>e(t.alert)),m.g.getOrElse(l.constTrue))&&f.a.isRegistered(t.alert)&&(e[t.alert.id]=t.alert),e)),e=>m.g.some({filter:n,alerts:e}))})).subscribe(E.b.toAtom(this._filteredAlerts))}_schedule(e,t){o.isNonEmpty(e)&&(this._log.trace(`Schedule alerts ${e.map(e=>e.alert.id)} to ${t}`),this._marksRenderer.enqueue(e.map(e=>e.scheduleApply(t)),I.b.Priority.low))}_handleRemovedAlerts(e){Object(c.pipe)(e,o.filterMap(({id:e})=>Object(c.pipe)(this._marksMap.get(e),m.g.fromNullable,m.g.tap(()=>this._marksMap.delete(e)))),s.fromArray,m.g.tap(e=>this._schedule(e,y.c.disposed)))}_handleUpdatedAlerts(e){if(!e.length)return;const t=Object(c.pipe)(this._filteredAlerts.get(),m.g.chain(e=>e.filter)),{activeToHandle:n,removedToHandle:a}=e.reduce((e,n)=>(this._alertsFilterService.alertCanBeDisplayed(n)||f.a.isBulkApplied(n)?Object(c.pipe)(m.g.fromNullable(this._marksMap.get(n.id)),m.g.fold(()=>{Object(c.pipe)(t,m.g.map(e=>e(n)),m.g.getOrElse(()=>!0))&&e.activeToHandle.push(n)},e=>{e.scheduleUpdate(),y.a.isOrWillBe(y.c.success)(e)?e.scheduleApply(y.c.highlighted):this._marksRenderer.enqueue([e],I.b.Priority.asap)})):Object(c.pipe)(m.g.fromNullable(this._marksMap.get(n.id)),m.g.map(t=>{n.allowUpdate&&f.a.isCapiDone(n)&&f.a.isRated(n)&&y.a.isOrWillBe(y.c.highlighted)(t)?(t.scheduleUpdate(),t.scheduleApply(y.c.success),this._marksRenderer.enqueue([t],I.b.Priority.asap)):e.removedToHandle.push(n)})),e),{activeToHandle:[],removedToHandle:[]});this._handleVisibleAlerts(n),this._handleRemovedAlerts(a)}_handleVisibleAlerts(e){if(o.isEmpty(e))return;const t=e.map(e=>{if(this._marksMap.has(e.id))return this._marksMap.get(e.id);{const t=f.a.isSuperAlert(e)?r.byAhr(this._state.view(x.e.getActiveItem(this._getActiveAlert)).view(Object(l.flow)(m.g.filter(t=>t.activeAlert.id===e.id),m.g.chain(t=>Object(c.pipe)(m.g.fromNullable(e.getHighlightRanges()[t.activeHighlightIndex]),m.g.tapLeft(()=>{this._log.error(`Alert highlight ranges of length ${e.getHighlightRanges().length} do not contain a range at the given AHI: ${t.activeHighlightIndex}`)})))))):r.byRangeType(e),n=n=>function({getMarkType:e,theme:t}){return({state:n,range:a,isAnimated:r,isBulkApplied:i,isEnclosed:o})=>{const s=n===y.c.applied||n===y.c.success?[t.markAppliedBase,t.markHeight]:[t.markLensBase,t.markHeight];switch(n){case y.c.faded:r&&s.push(t.markAnimated);break;case y.c.visible:{const n=e(a()),o="underline_start"===n;switch(n){case"focus":case"enclosing":s.push(t.markHidden);break;case"full":case"background":case"underline":case"underline_start":s.push(t.markVisible),r&&s.push(t.markAnimated),i?s.push(t.markBulkApplied):o&&s.push(t.markStart);break;default:Object(h.c)(n)}break}case y.c.highlighted:{const n=e(a()),l="underline_start"===n;switch(n){case"full":case"focus":s.push(t.markSelected,t.markSelectedFocused,t.markVisible),i&&s.push(t.markBulkApplied);break;case"enclosing":case"background":s.push(t.markSelected,t.markVisible);break;case"underline":case"underline_start":s.push(t.markSelectedFocused,t.markVisible),o&&s.push(t.markSelected),l&&s.push(t.markStart);break;default:Object(h.c)(n)}r||s.push(t.noAnimation);break}case y.c.hidden:s.push(t.markHidden);break;case y.c.success:s.push("background"===e(a())?t.markSuccess:t.markHidden);break;case y.c.applied:s.push(i?t.markBulkAppliedAnimation:t.markApplied);break;case y.c.initial:case y.c.disposed:break;default:Object(h.c)(n)}return s}}({getMarkType:t,theme:a.fromAlert(e,this._useHighHighlights,Object(L.a)(this._suggestionsVisualMode.get()))})(n),i=t=>Object(c.pipe)(this._alertsReader.getById(e.id),m.g.alt(()=>(Boolean(t)&&this._log.warn("Could not find alert for provided MarkAlert",{alert:e,source:t}),m.g.some(e))),m.g.map(A.a.fromModel),m.g.unsafeGet),o=({range:t})=>{const n=g.a.getSortOrder(e.lensType);return b.b.isEnclosingView(t())?n+1:n},s=f.a.hasEnclosingHighlight(e),u=new O.a(i,this._alertsService,this._alertRangeService,this.changeMarks,v.create(o,n,i,s),v.update(o,n,i,s),v.remove,this._onTransitionEnd(e));return this._marksMap.set(e.id,u),u}}).filter(e=>y.a.isOneOf(y.c.initial)(e)||y.a.isOrWillBe(y.c.hidden)(e)||y.a.isOrWillBe(y.c.visible)(e)||y.a.isOrWillBe(y.c.faded)(e));this._schedule(t,y.c.visible)}_handleAcceptedAlerts(e){return Object(c.pipe)(e,o.map(this._getMarkAlert),o.compact,e=>{e.length&&(f.a.isBulkApplied(e[0].alert)||this.moveCursorToHighlight({alert:A.a.fromModel(e[0].alert),highlightIndex:0},"end"),this._marksRenderer.enqueue(e.map(e=>e.markAlert.scheduleApply(y.c.applied)),I.b.Priority.immediately))})}_rerenderAllMarksOnUnderlineModeChange(){return this._suggestionsVisualMode.pipe(k.a.skip(1)).subscribe(()=>{const e=Array.from(this._marksMap.values());e.forEach(e=>e.scheduleForceUpdate()),this._marksRenderer.enqueue(e.map(e=>(e.scheduleForceUpdate(),e)),I.b.Priority.low)})}_listenMarksState(){const e=e=>Object.assign({activeAlerts:[],updatedAlerts:[],removedAlerts:[],acceptedAlerts:[],hiddenMarkAlerts:[]},e);return k.a.mergeStatic(this._filteredAlerts.pipe(k.b.compactMap(({alerts:t})=>k.a.of(e({hiddenMarkAlerts:Array.from(this._marksMap.values()).filter(e=>void 0===t[e.alert.id]&&y.a.notAnyOf(y.c.applied,y.c.success)(e)&&!f.a.State.isBulkApplied(e.alert.state)),activeAlerts:N.e.toArray(t)})))),this._alertStateDiff.pipe(k.a.withLatestFrom(this._filteredAlerts),k.a.map(([t,n])=>Object(c.pipe)(t,M.a.reduce(e({}),(e,t)=>(this._marksMap.has(t.alert.id)&&e.removedAlerts.push(t.alert),e),(e,t)=>(f.a.isAccepted(t.alert)?e.acceptedAlerts.push(t.alert):e.updatedAlerts.push(t.alert),e),(e,t)=>(Object(c.pipe)(n,m.g.chain(e=>e.filter),m.g.fold(()=>e.activeAlerts.push(t.alert),n=>n(t.alert)&&e.activeAlerts.push(t.alert))),e)))))).pipe(k.a.tap(({activeAlerts:e,removedAlerts:t,updatedAlerts:n,acceptedAlerts:a,hiddenMarkAlerts:r})=>(this._handleRemovedAlerts(t),this._handleUpdatedAlerts(n),this._handleVisibleAlerts(e),this._handleAcceptedAlerts(a),this._schedule(r,y.c.hidden),()=>this._marksRenderer.dispose())),k.a.catchError(this._log.handler("_listenMarksState exception").error),k.a.retry()).subscribe()}}(R||(R={})).Mock=class{constructor(){this.events=new k.a.Subject,this.dispose=l.constVoid,this.focusAlertHighlight=()=>m.b.left(new Error("Method not implemented.")),this.highlightAlertHighlight=()=>m.b.left(new Error("Method not implemented.")),this.moveCursorToHighlight=l.constVoid}getFirstMark(){throw new Error("Method not implemented.")}flush(){return Promise.resolve()}ensureAlertHighlightInViewport(){throw new Error("Method not implemented.")}getMarkByAlert(e){throw new Error("Method not implemented.")}getAlertByMark(e){throw new Error("Method not implemented.")}}},"5l2B":function(e,t,n){e.exports=n.p+"files/eabe5d072b56b38a23c37e1b991c215d/inter-lightitalic.woff2"},"5mwv":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return h}));var a,r=n("ERkP"),i=n("I7vG"),o=n("vOOZ"),s=n("1w6p"),l=n("bO3R"),c=n("m2o7"),u=n("yV3Z");!function(e){let t;!function(e){e.onMiniShow="onMiniShow"}(t=e.ActionsKind||(e.ActionsKind={}))}(a||(a={}));const d=s.b.Node.make(({view:e,notify:t})=>r.createElement(o.a.div,{mount:t({type:"upgradeHookAction",kind:a.ActionsKind.onMiniShow})},r.createElement(u.d,{alertsCount:e("alertsCount")}))),p=s.b.Grid.make(({slots:e,notify:t})=>r.createElement(r.Fragment,null,r.createElement(l.a,{className:c.a.shadowWrapper,onClick:t("onClick"),name:"upgrade.hook.mini.card"},e.body))),m=s.b.Knot.make(p,{body:s.b.Composite.make(Object(u.b)(c.a.minimizedWrapper),d)}),h=Object(i.pipe)(s.b.squash(m),s.b.contramapState(e=>({body:e})))},"5o4I":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("m6JR"),i=n("lrqh");!function(e){e.eq=Object(r.getStructEq)({alert:Object(r.contramap)(e=>e.id)(r.eqStrict),highlightIndex:r.eqStrict}),e.getEq=()=>e.eq,e.getHighlightRange=e=>i.a.lookup(e.highlightIndex)(e.alert.getHighlightRanges())}(a||(a={}))},"5z3N":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"a",(function(){return T}));var a,r=n("ERkP"),i=n("I7vG"),o=n("9NHN"),s=n("lrqh"),l=n("rk+4"),c=n("bO3R"),u=n("H37f"),d=n("3rlE"),p=n("26kZ"),m=n("BugA"),h=n("GUi3"),g=n("dE97"),f=n("UEGg"),b=n("XxrX"),y=n("3bJT"),v=n("es5d");!function(e){e.none="none",e.persistent="persistent",e.new="new"}(a||(a={}));const S=({className:e,vox:t,isMinimalCard:n})=>{const{vox:{styleGuide:a}}=r.useContext(l.a.Context);return r.createElement("div",Object.assign({},Object(o.c)(e,v.a.voxTitle,n?v.a.minimalTitle:void 0)),r.createElement("span",null,t.companyName," ",a))},C=({logoUrl:e,className:t})=>r.createElement("img",Object.assign({alt:"company logo","aria-hidden":!0,src:e},Object(o.c)(t,v.a.voxLogo))),w=({title:e,layoutDensity:t})=>r.createElement(m.a,{className:Object(i.pipe)(t,b.a.Density.matchOrDefault(b.a.Density.minimal)(()=>v.a.minimalTitle,()=>v.a.toneTitle))},r.createElement(u.b,{emojiClassName:v.a.toneLogo},e));function k(e){return h.a.outcomeTypeMatch({correctness:y.a.dotCorrectness,clarity:y.a.dotClarity,premium:y.a.dotAdvanced,engagement:y.a.dotEngagement,delivery:y.a.dotDelivery,vox:y.a.dotVox,knowledgeHub:y.a.knowledgeHub})(e.lensType)}function E(e){return h.a.outcomeTypeMatch({correctness:r.createElement(d.d.Correctness,{className:v.a.cardLogo}),clarity:r.createElement(d.d.ClarityOutcome,{className:v.a.cardLogo}),premium:r.createElement(d.d.Star,{className:v.a.cardLogo}),engagement:r.createElement(d.d.EngagementOutcome,{className:v.a.cardLogo}),delivery:r.createElement(d.d.DeliveryOutcome,{className:v.a.cardLogo}),vox:null,knowledgeHub:null})(e.lensType)}function O(e,t,n,a,l,c){const{extraProperties:p}=e;return f.a.isTakeaway(e)?function(e,t,n){return{style:"",description:r.createElement("div",{className:Object(i.pipe)(t,b.a.Density.matchOrDefault(b.a.Density.minimal)(()=>v.a.minimalTitle,()=>{}))},s.g.contains(g.n.correctlyDetected)(e.takeawayFeedback)&&e.takeawayIsLikelyToBeRead?r.createElement(d.d.ValidationOk,Object.assign({width:16},Object(o.c)(v.a.cardLogo,v.a.takeawayIcon))):r.createElement(d.d.Megaphone,Object.assign({width:16},Object(o.c)(v.a.cardLogo,v.a.takeawayIcon))),t===b.a.Density.minimal?n:e.lensName)}}(e,n,c):f.a.isShortenIt(e)?A(e,n,l,c):f.a.isToneAI(e)?function(e){return{style:k(e),description:r.createElement(m.a,{className:v.a.minimalTitle},e.title)}}(e):f.a.isEthicalAI(e)?function(e){return{style:"",description:r.createElement("div",null,void 0!==e.emojiID?r.createElement(u.c,{id:e.emojiID,className:v.a.toneLogo}):r.createElement(d.d.EthicalAI.Heart,Object.assign({},Object(o.c)(v.a.cardLogo))),r.createElement(m.l,{className:v.a.ethicalAILabel},e.miniCardTitle))}}(e):f.a.isSuggestedSnippet(e)?function(e){return{style:k(e),description:r.createElement(m.a,{className:v.a.minimalTitle},e.title)}}(e):f.a.isKnowledgeHubSuggestedTerm(e)?function(e){return{style:k(e),description:r.createElement(m.a,{className:v.a.minimalTitle},e.miniCardTitle)}}(e):s.g.isSome(p.tone)?function(e,t){return{style:k(e),description:r.createElement(w,{title:e.title,layoutDensity:t})}}(e,n):t?s.g.isSome(p.vox)?function(e,t){return{style:y.a.dotVox,description:r.createElement(r.Fragment,null,Object(i.pipe)(e.logoUrl,s.g.fold(()=>null,e=>r.createElement(C,{logoUrl:e,className:v.a.cardLogo}))),r.createElement(S,{vox:e,isMinimalCard:t===b.a.Density.minimal}))}}(p.vox.value,n):f.a.isFree(e)?A(e,n,l,c):function(e,t,n,a){return{style:Object(i.pipe)(a,b.a.CardVisualMode.match({onRegular:()=>k(e),onContrast:()=>""})),description:r.createElement(r.Fragment,null,Object(i.pipe)(a,b.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>E(e)})),r.createElement("div",Object.assign({},Object(o.c)(v.a.dualItemLabel,Object(i.pipe)(n,b.a.Density.matchOrDefault(b.a.Density.minimal)(()=>v.a.minimalTitle,()=>{})))),r.createElement("span",{className:v.a.dualItemLabel},e.lensName,r.createElement(I,{highlightStyle:t}))))}}(e,a,n,l):null}function A(e,t,n,a){return Object(i.pipe)(t,b.a.Density.matchOrDefault(b.a.Density.minimal)(()=>function(e,t,n){return{style:Object(i.pipe)(t,b.a.CardVisualMode.match({onRegular:()=>k(e),onContrast:()=>""})),description:Boolean(n)?n:r.createElement(r.Fragment,null,Object(i.pipe)(t,b.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>E(e)})),r.createElement(m.a,{className:v.a.minimalTitle},e.miniCardTitle))}}(e,n,a),()=>function(e,t){return{style:Object(i.pipe)(t,b.a.CardVisualMode.match({onRegular:()=>k(e),onContrast:()=>""})),description:r.createElement(r.Fragment,null,Object(i.pipe)(t,b.a.CardVisualMode.match({onRegular:()=>null,onContrast:()=>E(e)})),e.lensName)}}(e,n)))}const _=({label:e})=>r.createElement("span",{className:v.a.fluencyLabel},e,r.createElement(c.b,{iconWidth:10,buttonClass:v.a.fluencyInfo,iconClass:v.a.fluencyInfo,title:r.useContext(l.a.Context).card.fluency.tooltip})),x=({style:e,description:t})=>r.createElement("span",Object.assign({},Object(o.c)(v.a.lens,v.a.dot,e)),t),I=({highlightStyle:e})=>{const t=r.useContext(l.a.Context);if(e===a.none)return null;const n=e===a.new?r.createElement("div",{className:v.a.newPremiumLabel},t.premiumAlertLabel.new,r.createElement(d.d.Paid,{className:v.a.newPremiumLabelIcon,width:12})):r.createElement(d.d.Paid,{className:v.a.premiumPersistentTooltipIcon,width:10});return r.createElement(p.a,{align:"topCenter",title:t.premiumAlertLabel.tooltip.includedWithPaid},n)},j=({style:e,description:t,extraStyle:n})=>r.createElement("span",Object.assign({},Object(o.c)(n,v.a.lensMinimal,v.a.lens,v.a.dot,e)),t),T=e=>Object(i.pipe)(O(e.activeAlert,e.showCardLabel,e.layoutDensity,e.premiumAlertLabelHighlight,e.cardVisualMode,e.children),s.g.fromNullable,s.g.map(t=>r.createElement("div",{className:e.className},Object(i.pipe)(e.activeAlert.extraProperties.fluencyMessage,s.g.fold(()=>Object(i.pipe)(e.layoutDensity,b.a.Density.matchOrDefault(b.a.Density.minimal)(()=>r.createElement(j,Object.assign({},t)),()=>r.createElement(x,Object.assign({},t)))),n=>Object(i.pipe)(e.layoutDensity,b.a.Density.match(r.createElement(r.Fragment,null,r.createElement(x,Object.assign({},t)),r.createElement(_,{label:n})),r.createElement(x,Object.assign({},t)),r.createElement(j,{style:t.style,extraStyle:v.a.minimalTitle,description:e.activeAlert.miniCardTitle}))))))),s.g.fold(()=>r.createElement("div",{"data-purpose":"label-placeholder"}),t=>r.createElement(M,null,t,e.badge))),M=({children:e})=>r.createElement("div",{role:"definition",className:v.a.labelContainer},e)},"6Gma":function(e,t,n){"use strict";n.d(t,"a",(function(){return ce})),n.d(t,"b",(function(){return ue}));var a=n("ERkP"),r=n("OA+g"),i=n("I7vG"),o=n("LNSM"),s=n("vOOZ"),l=n("9NHN"),c=n("94k3"),u=n("rk+4"),d=n("3rlE"),p=n("NaPV"),m=n("4L0w"),h=n("jAl6"),g=n("BugA"),f=n("QshB"),b=n("e12y"),y=n("lRnN"),v=n("9/oM"),S=n("lrqh"),C=n("D9EC"),w=n("XaD9"),k=n("p+Vg"),E=n("bO3R"),O=n("ZD0N"),A=n("zR/0"),_=n("1w6p"),x=n("0/nD"),I=n("iVSA"),j=n("ax6a"),T=n("PDIG");const M={position:"relative",display:"block",zIndex:0,margin:`${b.a.rem(0)} ${b.a.rem(I.g.Space4)}`,fontSize:b.a.rem(.875),fontWeight:500,border:b.a.px(1)+" solid transparent",borderRadius:b.a.rem(.25),backgroundImage:"linear-gradient(to right, #526DD9 0%, #526DD9 25%, #3E7FFC 75%, #0FCEAF 100%)",backgroundSize:b.a.percent(400),backgroundPositionX:b.a.percent(99),transition:"background-position-x "+b.a.seconds(.2),$nest:{svg:Object.assign(Object.assign({},{"--path-fill-1":"#018374","--path-fill-2":"#018374","--path-fill-3":"#00FFCE","--path-fill-4":"#018374"}),{flex:"0 0 auto",$nest:{path:{transition:"fill "+b.a.seconds(.2)}}}),"&[data-active=true]":{fontWeight:600,color:j.a.CoreBlue60,backgroundPositionX:b.a.percent(1),$nest:{path:Object.assign({},{"--path-fill-1":"#2551DA","--path-fill-2":"#018374","--path-fill-3":"#34BCFF","--path-fill-4":"#2551DA"})}}}},N={position:"relative",zIndex:1,lineHeight:b.a.rem(1.5),backgroundColor:I.a.White,color:I.a.NeutralGray90,padding:b.a.rem(I.g.Space3),display:"flex",alignItems:"center",transition:`\n    color ${b.a.seconds(.2)},\n    background-color ${b.a.seconds(.2)}\n  `,$nest:{"[data-active='true'] > &":{backgroundColor:j.a.CoreNeutral10,color:j.a.CoreBlue60},":not([data-disabled='true'])[data-hovered='true'] > &":{backgroundColor:j.a.CoreNeutral10}}},P={fontSize:b.a.rem(.75),fontWeight:400,lineHeight:b.a.rem(1.125),color:j.a.CoreNeutral90,$nest:{[T.a.compactSidebar]:T.e}},L={minWidth:b.a.rem(1.5),minHeight:b.a.rem(1.5)},R={position:"relative",zIndex:b.d.level5},B=b.a.prefixedStylesheet("cheetah_button",{button:[M],buttonContent:[N],label:[{flex:"1 1 auto",display:"flex",flexDirection:"column",alignItems:"flex-start"}],subtitle:[P],icon:[L],onboardingContainer:[R]});var F=n("A7Qg");const D={title:"GrammarlyGO",subtitle:"AI text generation"},H={message:"By the way, you can also access our generative AI assistance here."},V=e=>{const t=x.a.useCollapsibleNavbarThreshold(),n=A.a.combineLatestStatic([t,e.viewModel.onboardingViewModel]).pipe(A.a.map(([e,t])=>e?S.g.none:t));return a.createElement(v.b,{message:H.message,eventType:"onclick",stepId:y.a.StepId.GrammarlyGOIdeationAssistant,alignment:"left",dotPosition:{kind:"dotAtPosition",position:v.a.center}},a.createElement(s.a.Fragment,null,a.createElement(E.a,{tag:O.b.div,onClick:e.viewModel.navigation.handleCheetahButtonClick,active:e.viewModel.navigation.isActive,name:"cheetah",className:B.button},a.createElement("div",{ref:e.viewModel.navigation.cheetahButtonRef,className:B.buttonContent},a.createElement("div",{className:B.label},a.createElement("span",null,D.title),a.createElement("small",{className:B.subtitle},D.subtitle)),a.createElement(F.a.GrammarlyGO,{width:22,className:B.icon}))),n.pipe(A.a.map(Object(r.flow)(S.g.map(e=>a.createElement("div",{className:B.onboardingContainer},_.b.mount(k.b,Object(k.d)(e)))),S.g.toNullable)))))};var U=n("/by5");const W={width:b.a.percent(100)},q={display:"block"},z={marginRight:b.a.rem(2)},$={position:"relative",paddingTop:b.a.rem(3.5)},G={paddingLeft:b.a.rem(.1)},K={position:"absolute",bottom:b.a.rem(.75)},Y={marginTop:0,marginBottom:0,border:"1px solid rgba(198, 203, 222, .7)",$nest:{'& [aria-busy="false"]':{display:"none"},[T.a.compactSidebar]:{display:"flex",alignItems:"center",height:b.a.important("auto")}}},Z={margin:`${b.a.rem(.5)} ${b.a.rem(1.75)}`,height:b.a.px(1),backgroundColor:I.b.CoreNeutral30,opacity:.7},X={display:"block",lineHeight:b.a.rem(1.125),$nest:{"&:after":{content:'" "'},[T.a.compactSidebar]:{fontSize:b.a.rem(.875),lineHeight:b.a.rem(1.5),paddingRight:b.a.rem(.25)}}},Q={opacity:1,transition:"opacity .3s"},J={opacity:0,transition:"opacity .3s"},ee={top:b.a.rem(.55),position:"absolute",$nest:{[T.a.compactSidebar]:{position:b.a.important("static")}}},te={top:b.a.rem(.5)},ne={position:"absolute",top:b.a.rem(.55),opacity:1,transition:"opacity .3s"},ae={minHeight:b.a.rem(1.125),height:b.a.rem(1.125),opacity:1,transition:"opacity .3s",transform:"translate(-.125rem, -.25rem)"},re={height:b.a.rem(3.5)},ie={height:b.a.rem(5.25),$nest:{[T.a.compactSidebar]:{height:"auto"}}},oe={position:"absolute",right:0,bottom:b.a.rem(.25),$nest:{[T.a.compactSidebar]:{bottom:"auto"}}},se={$nest:{[T.a.compactSidebar]:T.e}},le=b.a.prefixedStylesheet("header",{performanceOnboardingContainer:[W],goalsOnboardingContainer:[W,q],goalsNotification:[z],headerWrapper:[$,G],headerWrapperHigh:[$],headerWrapperCheetah:[$,{display:"flex",flexDirection:"column"}],description:[q,se],descriptionLoading:[K],headerBtn:[Y],delimiter:[Z],performanceScore:[X],performanceScoreFadeIn:[Q],performanceScoreFadeOut:[J],spinner:[q,ee],spinnerScore:[te],checkmark:[q,ne],checkmarkA11yContrast:[q,ae],checkmarkFadeOut:[q,ne,J],spinnerFadeIn:[q,ee,Q],spinnerFadeOut:[q,ee,J],performanceBtn:[Y,re],performanceBtnHigh:[Y,ie],performanceDescription:[q,{$nest:{"&:global(.checking-complete)":{marginTop:0}}}],arrowIcon:[oe]}),ce=({documentModel:e,modalManager:t,navigationViewModel:n,cheetahViewModel:i,features:c})=>{const{goals:h}=a.useContext(u.a.Context),{gnarSpec:b,pageId:k}=a.useContext(w.a.Context),E=t.state.view(S.g.exists(e=>e.instance.type===p.d.SetGoals)),O=t.state.view(S.g.exists(e=>e.instance.type===p.d.Performance)),A=a.useContext(u.a.Context),_=o.a.combine(e.context,e.contextCompleteness,({domain:e,outcomeContext:t},n)=>({domain:e,outcomeContext:t,completeness:n})).view(({domain:e,completeness:t,outcomeContext:n})=>c.denali.isStudentsOFE&&S.g.contains("academic")(e)&&S.g.isSome(n)?h.button.subtitleAcademic(h.sections.format.formatTitle(S.g.unsafeGet(n).citation)):h.button.subtitle(t,f.a.TOTAL_GOALS,f.a.MIN_GOALS)),x={documentStats:c.denali.demoDocOnboardingCopyV1?{title:void 0,message:"Check your text score and other document statistics."}:A.performance.onboarding,goals:c.denali.demoDocOnboardingCopyV1?{title:void 0,message:"Set goals to get tailored feedback based on your type of writing."}:A.goals.onboarding};return a.createElement(s.a.header,{className:i.view(S.g.isSome).view(Object(C.c)(le.headerWrapperCheetah,le.headerWrapperHigh))},a.createElement(m.a,{small:!0}),a.createElement(v.b,{alignment:"bottom",eventType:"onclick",stepId:y.a.StepId.Step8,title:x.documentStats.title,message:x.documentStats.message,dotPosition:{kind:"findFirstButton",buttonOrder:0,position:v.a.center},themes:{containerWrapperClassName:le.performanceOnboardingContainer}},a.createElement(ue,{checkingState:e.checkingState,score:e.score,scoreStatus:e.scoreStatus,isActive:O,onClick:()=>{n.events.next({type:"performance"}),b.documentStatisticsButtonClick(k)}})),a.createElement(m.a,{small:!0}),a.createElement(v.b,{alignment:"bottom",eventType:"onclick",stepId:y.a.StepId.Step1,title:x.goals.title,message:x.goals.message,dotPosition:{kind:"findFirstButton",buttonOrder:0,position:v.a.center},themes:{containerWrapperClassName:le.goalsOnboardingContainer,notificationClassName:le.goalsNotification}},a.createElement(U.a,Object.assign({name:"set-goals",isActive:E,isDisabled:E,title:h.button.title,"aria-label":_.view(e=>`${h.button.title}: ${e}`)},Object(l.c)(le.headerBtn),{onClick:()=>{n.events.next({type:"setGoals"}),b.setGoalsButtonClick(k)}}),a.createElement(d.d.Arrow,{direction:d.a.right,className:le.arrowIcon}),a.createElement(g.l,{className:le.description},_))),i.view(Object(r.flow)(S.g.map(e=>a.createElement(a.Fragment,null,a.createElement(m.a,{small:!0}),a.createElement(V,{viewModel:e}))),S.g.toNullable)),a.createElement(m.a,{small:!0}),a.createElement("div",{className:le.delimiter}))},ue=({checkingState:e,score:t,scoreStatus:n,isActive:p,onClick:m})=>{const h=a.useContext(u.a.Context),f=n.view(e=>Object(i.pipe)(e,S.g.map(e=>e===c.a.Message.ScoresStatus.SENSITIVE),S.g.getOrElse(r.constFalse))),b=o.a.combine(p,f,(e,t)=>e||t);return a.createElement(s.a.Fragment,null,o.a.combine(e,t,f,(e,t,n)=>{const r="idle"===e,o=r?Object(i.pipe)(t,S.g.filter(({rank:e})=>100===e),S.g.fold(()=>h.performance.button.score,()=>h.performance.button.score100)):null,s=e=>r?n?h.performance.button.statuses.paused:Object(i.pipe)(t,S.g.fold(()=>h.performance.button.statuses.unavailable,e)):h.performance.button.statuses.calculating;return a.createElement(U.a,{name:"performance",isActive:p,isDisabled:b,className:le.performanceBtnHigh,"aria-label":s(e=>`${h.performance.button.score}: ${e.rank}%`),onClick:m},a.createElement(de,{checkingState:e,score:t}),a.createElement("div",null,o),a.createElement(g.l,Object.assign({},Object(l.c)(r&&"checking-complete",le.description,!r&&le.descriptionLoading)),s(()=>h.performance.button.statuses.available)),a.createElement(d.d.Arrow,{direction:d.a.right,className:le.arrowIcon}))}))},de=({checkingState:e,score:t})=>{const n="idle"===e;return a.createElement(a.Fragment,null,a.createElement(h.a,{variation:"green",size:20,className:b.a.joinClasses([n?le.spinnerFadeOut:le.spinnerFadeIn,le.spinnerScore]),isIdle:n,strokeWidth:5}),Object(i.pipe)(t,S.g.map(({rank:e})=>100===e?a.createElement(d.d.NotificationInfo,{width:18,className:n?le.checkmarkA11yContrast:le.checkmarkFadeOut}):a.createElement(g.k,{className:b.a.joinClasses([le.performanceScore,n?le.performanceScoreFadeIn:le.performanceScoreFadeOut])},e)),S.g.toNullable))}},"6oPm":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return b}));var a,r=n("I7vG"),i=n("LNSM"),o=n("+JVj"),s=n("Y8lK"),l=n("n61d"),c=n("6fbX"),u=n("lrqh"),d=n("GGUR"),p=n("zR/0"),m=n("gy42"),h=n("XpkH"),g=n("vVVP"),f=n("BeBM");!function(e){let t;!function(e){e.immediately="immediately",e.asap="asap",e.low="low"}(t=e.Priority||(e.Priority={}))}(a||(a={}));class b{constructor(e,t){this._state=e,this._getActiveItemWithAlert=t,this._lockMarkUpdate=i.a.create(!1),this._subs=new d.a.Keeper,this._alertsChangeWorker=new s.a(this._renderMarks,new l.a.LazyPredicateUniq(h.a.isPending),this._asyncRunner(this._lockMarkUpdate,p.a.timer(50))),this._asapAlertsChangeWorker=new s.a(this._renderMarks,new l.a.LazyPredicateUniq(h.a.isPending),this._asyncRunner(this._lockMarkUpdate,m.b.Scheduler.inRaf(p.a.of(!0)))),this._subs.push(this._listenFocusedMark())}enqueue(e,t){switch(t){case a.Priority.immediately:e.forEach(e=>e.apply());break;case a.Priority.asap:this._asapAlertsChangeWorker.put(e);break;case a.Priority.low:this._alertsChangeWorker.put(e);break;default:Object(c.c)(t)}}flush(){return this._asapAlertsChangeWorker.flush(),this._alertsChangeWorker.flush(),Promise.resolve()}dispose(){this._subs.dispose(),this._alertsChangeWorker.shutdown(),this._asapAlertsChangeWorker.shutdown()}_renderMarks(e){const[t,...n]=e.filter(h.a.isPending);Boolean(t)&&t.applyWith(n)}_asyncRunner(e,t){return n=>e.pipe(p.a.switchMap(m.b.orEmptyRight(t)),p.a.first()).subscribe(n)}_listenFocusedMark(){return this._state.view(f.e.getActiveAlert(this._getActiveItemWithAlert)).subscribe(e=>{const t=Object(r.pipe)(e,u.g.map(e=>e.getHighlightRanges()[0]),u.g.getOrElse(()=>o.b.empty));this._alertsChangeWorker.order(g.a.compareTo(t))})}}},"7O4Y":function(e,t,n){"use strict";function a(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}t.a=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(r&&(r+=" "),r+=t);return r}},"7pZ3":function(e,t,n){e.exports=n.p+"files/de9b0866cf73188ae7ca0292a439d6a4/inter-mediumitalic.woff"},"7wg/":function(e,t,n){e.exports=n.p+"files/88b63c27cdce33467477f6b31373c11b/inter-italic.woff"},"86p/":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("7nmT"),r=n("7qGb"),i=n("I7vG"),o=n("lrqh"),s=n("D9EC"),l=n("6fbX"),c=n("PrA7"),u=n("GUi3"),d=n("zR/0"),p=n("gy42"),m=n("UEGg"),h=n("TC4P"),g=n("BeBM"),f=n("s+3N");class b{constructor(e,t,n,l,h,b,y){this._state=e,this._stateProvider=t,this._alertsReader=n,this._alertsService=l,this._stateSideEffects=h,this._getActiveAlert=b,this._stateTransformer=y,this.focusLens=(e,t,n={toFocus:g.d.defaultOptions.focusBehavior})=>{this._log.debug("focusLens "+e),this._switchLensActions.next({lensId:e,alertSource:t,options:n})},this.focusAlert=(e,t,n)=>{this._switchAlertActions.next({alertHighlight:e,alertSource:t,options:{order:n}})},this._log=c.Monitoring.Logging.getLogger("FocusedLensManagerImpl"),this._ts=c.Monitoring.TimeSeries.rootFemetrics.getMetric("lens_state.manager"),this._switchLensActions=new d.a.Subject,this._switchAlertActions=new d.a.Subject,this._addMetadata=e=>t=>t.pipe(d.a.map(t=>({source:t,metadata:e}))),this._focusLensEffect=({lensId:e,alertSource:t,options:{toFocus:n=g.d.defaultOptions.focusBehavior,order:a}})=>{if(this._log.debug("_focusLensEffect ",{alertSource:t,lensId:e}),u.a.isClosedId(e))return Object(i.pipe)(d.a.of(g.e.Effect.Applicator.Source.override(Object(f.c)())),this._addMetadata({sourceId:"LSM.focusLensEffect"}));if(u.a.isDraftAIId(e)||u.a.isCheetah(e)){const t=u.a.isCheetah(e)?Object(f.b)():Object(f.d)();return Object(i.pipe)(d.a.of(g.e.Effect.Applicator.Source.override(t)),this._addMetadata({sourceId:"LSM.focusLensEffect"}))}const r=this._state.get(),o=r.patch({switchOrder:Boolean(a)?a:r.switchOrder,alertSource:t});return Object(i.pipe)(this._stateProvider.getLensEventsByLensId(o,e,{focusBehavior:n}),this._addMetadata({sourceId:"LSM.focusLensEffect"}))},this._focusAlertEffect=({alertHighlight:e,alertSource:t,options:n})=>{this._log.isEnabled(c.Logging.LogLevel.TRACE)&&this._log.trace(`focusAlert(${e.alert})`);const a=this._state.get(),r=a.patch({switchOrder:Boolean(n.order)?n.order:a.switchOrder,alertSource:t});return Object(i.pipe)(this._stateProvider.getLensEventsByAlert(r,function(e,t,n){if(e===u.a.SpecialId.Priority||e===u.a.SpecialId.PredictionTakeaways||e===u.a.SpecialId.PredictionEmogenie||e===u.a.SpecialId.RealTimeProofit||e===u.a.SpecialId.FreePremiumAlerts)return e;if(void 0!==n)return n;if(e===u.a.SpecialId.Closed||e===u.a.SpecialId.AllAlerts)return u.a.SpecialId.AllAlerts;return t}(a.currentLens.id,e.alert.lensId,n.lensId),e),this._addMetadata({sourceId:"LSM.focusAlertEffect"}))};const v=this._state.get(),S=this._stateTransformer,C=new d.a.BehaviorSubject(v);this._effects=d.a.mergeStatic(...this._stateSideEffects.map(({when:e,what:t,id:n})=>this._state.view("currentLens","id").view(e).pipe(d.a.switchMap(p.b.orEmpty(Object(i.pipe)(this._effectToApplicator(t),this._addMetadata({sourceId:n})))))),d.a.mergeStatic(this._switchAlertActions.pipe(d.a.map(this._focusAlertEffect)),this._switchLensActions.pipe(d.a.map(this._focusLensEffect))).pipe(d.a.switchAll()));const w=this._ts.getTimer("batched.long_state_change");this._subs=[this._effects.pipe(d.a.catchError((e,t)=>(this._log.error("Got error from effects: ",e),t)),d.a.withLatestFrom(C,({source:e,metadata:t},n)=>({state:e(n),metadata:t})),d.a.catchError((e,t)=>(this._log.error("Got error while applying new state: ",e),t)),d.a.tap(e=>{this._log.isEnabled(c.Logging.LogLevel.TRACE)&&this._log.trace("lens state before state transformer: ",e)}),d.a.map(S),d.a.catchError((e,t)=>(this._log.error("Got error while transforming state: ",e),t))).subscribe(e=>Object(i.pipe)(e,o.b.fold(({state:e,metadata:t})=>{this._log.isEnabled(c.Logging.LogLevel.TRACE)&&this._log.trace("lens state from: "+t.sourceId,e),Object(i.pipe)(this._checkState(e),o.b.fold(t=>this._log.error("incorrect state transition detected",{error:t,state:e}),()=>C.next(e)))},o.b.fold(e=>this._switchAlertActions.next(e),e=>this._switchLensActions.next(e))))),Object(i.pipe)(C,d.a.map(g.e.getActiveAlert(this._getActiveAlert)),d.a.tap(e=>this._log.trace("active alert: ",e)),d.a.distinctUntilChanged(o.g.getEq(m.a.eq).equals),d.a.switchMap(p.b.observeIfExists(e=>Object(i.pipe)(this._alertsService.takeReference(e,"activeCard"),o.b.mapLeft(e=>this._log.error("can not take alertRef",e)),o.b.fold(r.of(s.e),e=>e.dispose))))).subscribe(),C.subscribe(e=>{const t=performance.now();a.unstable_batchedUpdates(()=>{this._state.set(e)});const n=performance.now()-t;n>16&&w.recordTime(n)})],g.e.hasCards(v)&&Object(i.pipe)(g.e.getActiveAlertHighlight(this._getActiveAlert)(v),o.g.filter(e=>this._alertsReader.isRegistered(e.alert.id)),o.g.fold(()=>this._switchLensActions.next({lensId:v.currentLens.id,alertSource:v.alertSource,options:{order:v.switchOrder,toFocus:g.e.Effect.FocusBehavior.noFocus}}),e=>this._switchAlertActions.next({alertHighlight:e,alertSource:v.alertSource,options:{lensId:v.currentLens.id,order:v.switchOrder}})))}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_effectToApplicator(e){switch(e.type){case g.e.Effect.Type.Applicator:case g.e.Effect.Type.ItemsApplicator:return e.source;case g.e.Effect.Type.SwitchLens:return e.source.pipe(d.a.tap(e=>this._switchLensActions.next(e)),d.a.switchMapTo(d.a.NEVER));case g.e.Effect.Type.SwitchAlert:return e.source.pipe(d.a.tap(e=>this._switchAlertActions.next(e)),d.a.switchMapTo(d.a.NEVER));default:return Object(l.c)(e)}}_checkState(e){try{if(g.e.hasCards(e)){const t=e.currentLens.items.filter(Object(s.b)(h.a.isAnimatable,h.a.isFocused));Object(l.f)(t.size<=1,"cannot have more than one focused card",()=>JSON.stringify(t))}}catch(e){return o.b.left(e)}return o.b.right(void 0)}}b.toLensAlert=({alert:e,highlightIndex:t})=>({alert:e,highlightIndex:t,lensId:e.lensId})},"8F7C":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("ERkP"),r=n("wfm3");function i(e){let[t,n]=(0,r.b)(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const i=(0,a.useCallback)(()=>{n(!0)},[n]),o=(0,a.useCallback)(()=>{n(!1)},[n]),s=(0,a.useCallback)(()=>{n(!t)},[n,t]);return{isOpen:t,setOpen:n,open:i,close:o,toggle:s}}function o(e){let t=i(e),[n,r]=(0,a.useState)(null);return{focusStrategy:n,...t,open(e=null){r(e),t.open()},toggle(e=null){r(e),t.toggle()}}}},"8ZZk":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("m6JR"),i=n("OA+g"),o=n("I7vG"),s=n("LNSM"),l=n("bYZB"),c=n("+JVj"),u=n("zR/0"),d=n("GGUR"),p=n("gy42"),m=n("Sk6A"),h=n("jROJ"),g=n("lrqh"),f=n("6fbX"),b=n("D9EC"),y=n("PrA7");!function(e){let t,n,a,v,S,C;!function(e){e.EditingMode="EditingMode",e.ReadMode="ReadMode"}(t=e.VisualState||(e.VisualState={})),function(e){e.is=e=>e.visualState===t.EditingMode}(n||(n={})),function(e){e.is=e=>e.type!==v.Type.Close&&e.type!==v.Type.ApplyRemove&&e.type!==v.Type.ApplyChange}(a||(a={})),function(e){let n,a,r;!function(e){e.SwitchToReadMode="SwitchToReadMode",e.SwitchToEditMode="SwitchToEditMode",e.ApplyChange="ApplyChange",e.ApplyRemove="ApplyRemove",e.Close="Close"}(n=e.Type||(e.Type={})),function(t){t.is=t=>t.type===e.Type.SwitchToReadMode}(a=e.SwitchToReadMode||(e.SwitchToReadMode={})),function(t){t.create=function(t,n,a){return Object(o.pipe)(t,h.a,g.b.bimap(()=>{},t=>({type:e.Type.ApplyChange,url:t,textRange:n,rect:a})))}}(r=e.ApplyChange||(e.ApplyChange={})),e.initMapFromState=function(t){return n=>{const a=t.getFormatting(n.range);if(l.e.LinkPayload.is(a)){const t=a[l.e.Type.link],{rect:r,url:i,range:o}=t[0];return"selection"===n.source?{type:e.Type.SwitchToReadMode,textRange:o,rect:r,url:i}:{type:e.Type.SwitchToEditMode,textRange:o,rect:r,url:i}}{Object(f.f)("toolbar"===n.source,"non-toolbar source can not emit ranges without link formatting");const a=Object(o.pipe)(t.getSelectionRect(),g.b.fold(()=>{throw new f.b("Failed to get selection rect while trying to add link")},i.identity));return{type:e.Type.SwitchToEditMode,textRange:n.range,rect:a,url:""}}}},e.initHandlers=function(t,n,a){const r=()=>g.b.tryCatchError(()=>a.next());return a=>{switch(a.type){case e.Type.SwitchToEditMode:return t.setCursor(a.textRange.start,c.b.size(a.textRange));case e.Type.SwitchToReadMode:return g.b.right(void 0);case e.Type.ApplyChange:return Object(o.pipe)(n.removeLink(a.textRange),g.b.chain(()=>c.b.isEmpty(a.textRange)?Object(o.pipe)(n.insertLinkWithCaption(a.textRange.start,a.url,a.url),g.b.chain(()=>t.setCursor(a.textRange.start+a.url.length,c.b.size(a.textRange)))):n.insertLink(a.textRange,a.url)));case e.Type.ApplyRemove:return Object(o.pipe)(r(),g.b.chain(()=>n.removeLink(a.textRange)),g.b.chain(()=>t.setCursor(a.textRange.start,0)));case e.Type.Close:return r();default:return Object(f.c)(a)}}},e.initMapToView=function(n){return a=>{const r=()=>n.next({type:e.Type.Close});switch(a.type){case e.Type.SwitchToEditMode:const i=s.a.create(a.url);return{visualState:t.EditingMode,rect:a.rect,inputContent:i,isValid:i.view(b.n),textRange:a.textRange,close:r,apply:()=>{Object(o.pipe)(e.ApplyChange.create(i.get(),a.textRange,a.rect),g.b.fold(r,e=>n.next(e)))}};case e.Type.SwitchToReadMode:return{visualState:t.ReadMode,url:a.url,rect:a.rect,textRange:a.textRange,close:r,remove:()=>n.next({type:e.Type.ApplyRemove,textRange:a.textRange}),change:()=>n.next({type:e.Type.SwitchToEditMode,url:a.url,rect:a.rect,textRange:a.textRange})};default:return Object(f.c)(a)}}}}(v||(v={})),function(e){e.eq=r.fromEquals((e,t)=>e.source===t.source&&c.b.ord.equals(e.range,t.range))}(S=e.LinkState||(e.LinkState={})),function(e){e.listenCloseHotkey=function(){return m.a.listen("escape").pipe(u.a.mapTo({type:v.Type.Close}))},e.listenApplyHotkey=function(e){return m.a.listen("enter").pipe(u.a.map(()=>{const t=Object(o.pipe)(e.get(),g.g.filter(n.is));Object(f.f)(g.g.isSome(t),"Called Apply when view wasn't in edit mode");const a=g.g.unsafeGet(t);return Object(o.pipe)(v.ApplyChange.create(a.inputContent.get(),a.textRange,a.rect),g.b.fold(()=>({type:v.Type.Close}),e=>e))}))}}(C||(C={})),e.createManager=function(e,n,r){const l=s.a.create(g.g.none),c=new u.a.Subject,m=v.initMapFromState(e),h=v.initMapToView(c),f=v.initHandlers(e,n,r.closeLinks),b=y.Monitoring.Logging.getLogger("formattingLinksManager"),S=new d.a.Keeper;return S.push(e.dontFreezeWhen(l.view(g.g.exists(({visualState:e})=>e===t.EditingMode)),"links"),r.formattingLinkState.pipe(u.a.debounce(Object(i.flow)(g.g.filter(e=>"selection"===e.source),g.g.fold(()=>0,()=>200),u.a.timer)),u.a.switchMap(g.g.fold(()=>u.a.of(g.g.none),e=>c.pipe(u.a.startWith(m(e)),u.a.switchMap(e=>u.a.mergeStatic(u.a.of(e),C.listenCloseHotkey(),e.type===v.Type.SwitchToEditMode?C.listenApplyHotkey(l):u.a.EMPTY)),u.a.switchMap(e=>Object(o.pipe)(f(e),g.b.fold(e=>(b.error("Error in formatting links",e),r.closeLinks.next(),u.a.EMPTY),()=>a.is(e)?u.a.of(e):u.a.EMPTY))),u.a.map(h),u.a.map(g.g.some)))),u.a.catchError(e=>(b.error("Error in formatting links",e),u.a.EMPTY))).subscribe(p.b.toAtom(l))),{visualState:l,dispose:()=>S.dispose()}}}(a||(a={}))},"8Zga":function(e,t,n){e.exports=n.p+"files/39a510c28179c25e0e4f65524d8d5394/inter-light.woff"},"8cdc":function(e,t,n){e.exports=n.p+"files/d5e790be1041e248afed3159b60a25a8/inter-bolditalic.woff2"},"8uad":function(e,t,n){"use strict";n.d(t,"a",(function(){return Oe}));var a=n("ERkP"),r=n("OA+g"),i=n("I7vG"),o=n("vOOZ"),s=n("zR/0"),l=n("uqkn"),c=n("E0zP"),u=n("XxrX"),d=n("0A/6"),p=n("LNSM"),m=n("BlMh"),h=n("Q8bi"),g=n("lrqh"),f=n("D9EC"),b=n("6fbX"),y=n("PrA7"),v=n("rk+4"),S=n("bO3R"),C=n("3rlE"),w=n("wsrD"),k=n("BugA"),E=n("dE97"),O=n("aIes"),A=n("UEGg"),_=n("+w1e"),x=n("yZqL"),I=n("ax6a"),j=n("e12y");const T=j.a.style({margin:j.a.rem(1)+" 0"}),M=(j.a.style({marginLeft:j.a.rem(.5),lineHeight:j.a.rem(1.3125),fontSize:j.a.rem(.875),color:I.a.CoreNeutral90}),j.a.style({marginLeft:j.a.rem(1)})),N={color:I.a.CoreRed60,fontSize:j.a.rem(.75),lineHeight:j.a.rem(1.125)},P=j.a.style(N),L=j.a.style(N,{visibility:"hidden"}),R=j.a.style({padding:0}),B=j.a.style({paddingTop:j.a.rem(1),paddingLeft:j.a.rem(1),paddingRight:j.a.rem(1),display:"flex"}),F=j.a.style({minWidth:j.a.rem(1)}),D=j.a.style({paddingTop:j.a.rem(.25),paddingLeft:j.a.rem(.5)}),H=j.a.style({paddingLeft:j.a.rem(.5),paddingRight:j.a.rem(1),marginTop:j.a.rem(.5)}),V=j.a.style({display:"flex",alignItems:"center",gap:j.a.rem(.75),marginTop:j.a.rem(1)}),U=j.a.style({flexGrow:1}),W=j.a.style({marginTop:j.a.rem(1.5)}),q=j.a.style({fontWeight:"bold",paddingBottom:j.a.rem(.25)}),z=j.a.style({height:j.a.rem(2.5),paddingLeft:j.a.rem(.5)}),$=j.a.style({height:j.a.rem(6),paddingLeft:j.a.rem(.5)}),G=j.a.style({paddingTop:j.a.rem(1.5),color:I.a.CoreNeutral50}),K=j.a.style({display:"flex",flexDirection:"row",columnGap:j.a.rem(.5),alignItems:"center",paddingLeft:j.a.rem(.5),paddingRight:j.a.rem(1),paddingBottom:j.a.rem(.5)}),Y=j.a.style({flex:3,textAlign:"center"}),Z=j.a.style({color:I.a.CoreNeutral50,border:"1px solid "+I.a.CoreNeutral20,borderRadius:j.a.rem(.25)});var X=n("HUX/");const Q=({card:e,actions:t})=>Object(i.pipe)(e.visualState.transition,g.g.fromPredicate(e=>"feedback_form"===e.type),g.g.fold(()=>(y.Monitoring.Logging.getLogger("FeedbackForm").error("Trying to render feedback form from non-feedback state",e),null),n=>"survey"===n.formType?a.createElement(J,{card:e,data:n,actions:t}):a.createElement(ee,{card:e,data:n,actions:t}))),J=({card:e,data:t,actions:n})=>{const r=a.useContext(v.a.Context).card.feedbackForm,i=p.a.create(void 0),s=p.a.create(!1),l=a=>n.next(Object.assign({alertId:e.activeAlert.id,reason:a},t.submitActionType===_.b.Type.alertApplyFormSubmit?{type:_.b.Type.alertApplyFormSubmit,alertApplyActionProps:t.alertApplyActionProps}:{type:_.b.Type.alertIgnoreFormSubmit})),c="survey-title-"+e.id;return a.createElement(x.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>n.next({type:_.b.Type.alertIgnoreFeedbackFormShow,alertId:e.activeAlert.id}),theme:Object(X.b)(e.renderOptions),visualState:e.visualState,body:a.createElement(a.Fragment,null,a.createElement(k.g,{id:c,className:T},t.survey.question||r.dismissReason),a.createElement(m.b.Group,{id:"survey-"+e.id,selectedItemIndex:i,"aria-labelledby":c,items:t.survey.options.map(e=>e.text),onChange:()=>s.set(!1)})),mainActions:a.createElement(a.Fragment,null),footer:a.createElement(a.Fragment,null,a.createElement(o.a.div,{"aria-hidden":s,className:s.view(Object(f.c)(P,L))},r.error),a.createElement("div",null,a.createElement(S.a.Primary,{name:"submitCardFeedbackForm",onClick:()=>{const e=i.get();return void 0===e?s.set(!0):O.d.callOnce(()=>l(t.survey.options[e].key))()}},r.submit),a.createElement(S.a.Ghost,{className:M,name:"skipCardFeedbackForm",onClick:O.d.callOnce(()=>l("skipped"))},r.skip))),subActions:a.createElement(a.Fragment,null)})},ee=({card:e,data:t,actions:n})=>{const r=ae(e,t),i="background"===t.gbPrompt.promptType&&E.g.isVox(t.gbPrompt),[o,s]=a.useState("initial"),[l,c]=a.useState(r.source),[u,d]=a.useState(r.target),[p,m]=a.useState(""),g=!("createRule"!==o||l&&u),f=a=>{const r={alertId:e.activeAlert.id,alertApplyActionProps:t.alertApplyActionProps,gbPrompt:t.gbPrompt,patternName:e.activeAlert.patternName,source:l,target:u,description:p};switch(a){case _.b.Type.gbPromptDismiss:n.next(Object.assign(Object.assign({},r),{type:a,step:o}));break;case _.b.Type.gbPromptApply:case _.b.Type.gbPromptCreateRule:n.next(Object.assign(Object.assign({},r),{type:a}));break;default:Object(b.c)(a)}},y="initial"===o?t.gbPrompt.description:a.createElement(a.Fragment,null,a.createElement("div",{className:V},a.createElement("div",{className:U},a.createElement(h.Typography.Base,{className:q},"Original"),a.createElement(w.b,{name:"gbprompt-source",className:z,value:l,onChange:e=>c(e.target.value)})),a.createElement(h.Typography.Paper,{className:G},"→"),a.createElement("div",{className:U},a.createElement(h.Typography.Base,{className:q},"Change to"),a.createElement(w.b,{name:"gbprompt-target",className:z,value:u,onChange:e=>d(e.target.value)}))),a.createElement("div",{className:W},a.createElement(h.Typography.Base,{className:q},"Explanation"),a.createElement(w.c,{className:$,value:p,onChange:e=>m(e.target.value),placeholder:"Add it here...",blockExtension:!0})));return a.createElement(x.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>n.next({type:_.b.Type.gbPromptShow,patternName:e.activeAlert.patternName}),theme:Object.assign(Object.assign({},Object(X.b)(e.renderOptions)),{wrapper:R}),visualState:e.visualState,header:a.createElement("div",{className:B},a.createElement(C.d.StyleGuide,null),a.createElement(k.g,{className:D},t.gbPrompt.title)),body:a.createElement("div",{className:H},y),mainActions:a.createElement(a.Fragment,null),footer:a.createElement("div",{className:K},a.createElement(te,{step:o,disabled:g,onClick:()=>{"initial"===o&&i?(s("createRule"),f(_.b.Type.gbPromptCreateRule)):f(_.b.Type.gbPromptApply)}}),a.createElement(ne,{step:o,onClick:()=>f(_.b.Type.gbPromptDismiss)})),subActions:a.createElement(a.Fragment,null)})},te=({step:e,disabled:t,onClick:n})=>{const r=a.useContext(v.a.Context).card.gbPrompt;return"initial"===e?a.createElement(S.a.Primary,{name:"submitGbPromptFeedbackForm",className:Y,disabled:t,onClick:O.d.callOnce(n)},a.createElement(C.d.StyleGuideWhite,{width:18,className:F}),r.addRule):a.createElement(S.a.Primary,{name:"submitGbPromptFeedbackForm",className:Y,disabled:t,onClick:O.d.callOnce(n)},r.saveRule)},ne=({step:e,onClick:t})=>{const n=a.useContext(v.a.Context).card.gbPrompt;return"initial"===e?a.createElement(S.a.Flat,{name:"dismissGbPromptFeedbackForm",className:Z,onClick:O.d.callOnce(t)},n.dismiss):a.createElement(S.a.Flat,{name:"dismissGbPromptFeedbackForm",className:Z,onClick:O.d.callOnce(t)},n.cancelSavingRule)},ae=(e,t)=>{const n=e.activeAlert,a=t.alertApplyActionProps.alternativeIndex;return A.a.isSuper(n)?E.g.isVox(t.gbPrompt)?re(n,a):ie(n,a):{source:"",target:""}},re=(e,t)=>{const n=e.labels;return{source:n.filter((e,n)=>n!==t).map(oe)[0],target:oe(n[t])}},ie=(e,t)=>({source:"",target:e.labels[t].label}),oe=({replacementTexts:e})=>[...e].sort()[0];var se=n("jSKJ"),le=n("oWeJ"),ce=n("xEVj"),ue=n("H9T+");const de=j.a.style({marginRight:j.a.rem(-.5),marginTop:j.a.rem(.5)}),pe=j.a.style({padding:`0 ${j.a.rem(1.625)} !important`,marginRight:j.a.rem(.125)}),me=j.a.style({marginRight:0}),he=({card:e,actions:t,showLabel:n=!0})=>{const r=a.useRef(p.a.create(!1));ce.a.useEffectOnWillUnmount(()=>{r.current.get()||Object(i.pipe)(e.muteCategory,g.g.map(n=>t.next({type:_.b.Type.mutedAlertSuccessDismissed,id:e.id,categoryId:n.id})))});const o=a.useContext(v.a.Context).card.mutedAlertCard;return a.createElement(x.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>t.next({type:_.b.Type.mutedAlertSuccessShow}),theme:Object(X.b)(e.renderOptions),visualState:e.visualState,body:a.createElement(a.Fragment,null,n?a.createElement(ue.i,{alert:e.activeAlert,options:e.renderOptions}):null,a.createElement(k.a,null,o.description(Object(i.pipe)(e.muteCategory,g.g.fold(()=>"",e=>e.description))))),mainActions:a.createElement(a.Fragment,null),footer:a.createElement("div",{className:de},a.createElement(S.a.Primary,{name:"gotIt",className:pe,onClick:()=>O.d.callOnce(()=>t.next({type:_.b.Type.switchToNext}))()},o.successButtonLabel),a.createElement(S.a.Ghost,{name:"turnBackOn",onClick:O.d.callOnce(()=>{r.current.set(!0),Object(i.pipe)(e.muteCategory,g.g.map(n=>t.next({type:_.b.Type.undoMuteAlertCategory,categoryId:n.id,viewType:e.activeAlert.type,id:e.id})))})},o.undoButtonLabel,a.createElement(C.d.Undo,{color:I.a.CoreBlue50,className:me}))),subActions:a.createElement(S.a.Tertiary,{name:"manageOptionalSuggestions",onClick:()=>t.next({type:_.b.Type.mutedAlertSuggestionManagementClick})},o.settingsLabel,a.createElement(C.d.OuterLink,null))})};var ge=n("S3HV"),fe=n("r/bb"),be=n("IdhR"),ye=n("0PmZ");function ve(e,t,n){const{activeAlert:a,activeHighlightIndex:r}=t,i=a.getHighlightRanges(),o=(r+("left"===e?i.length-1:1))%i.length;n.next({type:_.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"sameAlert",card:t,highlightIndex:o},direction:e})}const Se=({card:e,actions:t,selectedLabelIndex:n,isChecking:r})=>{const i=a.useContext(v.a.Context),o=p.a.create(!1);return ce.a.useSubscriptionTo(r.pipe(s.a.tap(e=>o.set(e)))),a.createElement(ue.q,{applyMessage:e.activeAlert.todoAction,checkingMessage:i.card.checking,title:i.card.todoAction(e.activeAlert.todoAction),checkingInProgress:o,onClick:()=>{t.next({type:_.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n.get(),id:e.id,eligibleForSurvey:l.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:l.a.isEligibleForGbPrompt(e),cardType:_.b.getCardType(e)})}})},Ce=({card:e,actions:t})=>a.createElement(ye.a,{onLeftClick:()=>ve("left",e,t),onRightClick:()=>ve("right",e,t),currentMatch:e.activeHighlightIndex,totalMatch:e.activeAlert.getHighlightRanges().length,disableOnEnd:!1,style:{}});var we=n("eLeT");const ke=({activeAlert:e,selectedLabelIndex:t,actions:n})=>{const r=a.useContext(v.a.Context);return a.createElement("div",{className:we.a.optionsContainer},e.labels.map((i,o)=>a.createElement(a.Fragment,{key:"option-"+o},a.createElement(m.b.Item,{id:`${e.id}-${o}`,className:we.a.optionLabel,onChange:()=>{t.set(o),n.next({type:_.b.Type.alternativeReplacementRadioButtonClick,index:o})},checked:t.view(e=>e===o)},i.label),a.createElement(k.l,{className:we.a.optionExample},i.replacementTexts.join("; ")),a.createElement(k.l,{className:we.a.optionSecondaryAttribute},r.card.matchesNavigation.numberOfMatches(i.matches)))))},Ee=({card:e,actions:t,isChecking:n,isCheckingGlobal:r})=>{const i=p.a.create(0);return a.createElement(x.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:_.b.Type.alertCardShow,cardType:_.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object.assign({wrapper:(o=e.renderOptions,o.hasOwnProperty("features")&&o.features.has(u.a.Features.sduiContainerStyle)?we.a.sduiSuperWrapper:we.a.superWrapper),content:r.pipe(s.a.map(Object(f.c)(we.a.loadingWrapperInvisible,we.a.loadingWrapper)))},Object(X.a)(e.renderOptions.layoutDensity)),extra:a.createElement(ue.c,{isChecking:r}),body:a.createElement(a.Fragment,null,a.createElement(ue.i,{alert:e.activeAlert,options:e.renderOptions}),a.createElement(ue.p,{alert:e.activeAlert}),a.createElement(ue.k,{card:e,isChecking:n}),a.createElement(ue.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}),a.createElement(ke,{activeAlert:e.activeAlert,selectedLabelIndex:i,actions:t})),mainActions:a.createElement(ue.e,{card:e,feedbackActions:t}),footer:a.createElement(a.Fragment,null,a.createElement(ue.g,{card:e}),a.createElement(Se,{selectedLabelIndex:i,card:e,actions:t,isChecking:n})),navigation:a.createElement(Ce,{card:e,actions:t}),subActions:a.createElement(be.a,{actions:t,card:e,mode:"mini"})});var o};var Oe,Ae;(Ae=Oe||(Oe={})).Full=({card:e,actions:t})=>{const{isChecking:n,isCheckingGlobal:i,transform:c}=l.a.useCardStates(e),u=e=>a.createElement(se.a,{card:e,actions:t,isChecking:n,transform:c,isCheckingGlobal:i});return a.createElement(o.a.Fragment,null,e.pipe(s.a.distinctUntilChanged((e,t)=>e.hashCode()===t.hashCode()),s.a.map(Object(r.flow)(l.a.match({super:e=>a.createElement(Ee,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}),takeaway:u,synfony:u,shortenIt:u,toneAI:u,ethicalAI:u,suggestedSnippet:u,knowledgeHubSuggestedTerm:u,default:u}),l.a.foldCard))))},Ae.Mini=({card:e,actions:t})=>a.createElement(o.a.Fragment,null,e.pipe(s.a.map(e=>u.a.Density.matchL(()=>a.createElement(Ae.MiniSingleLined,{card:e,actions:t}),()=>a.createElement(Ae.MiniTwoLined,{card:e,actions:t}),()=>a.createElement(Ae.MiniTwoLined,{card:e,actions:t}))(e.renderOptions.layoutDensity)))),Ae.MiniSingleLined=({card:e,actions:t})=>{function n(e){return a.createElement(le.a.Standard,{card:e,actions:t})}return Object(i.pipe)(e,l.a.match({super:n,takeaway:n,synfony:n,shortenIt:n,toneAI:n,ethicalAI:function(e){return a.createElement(ge.a.Mini,{card:e,actions:t})},suggestedSnippet:n,knowledgeHubSuggestedTerm:n,default:n}),l.a.foldCard)},Ae.MiniTwoLined=({card:e,actions:t})=>{function n(e){return a.createElement(le.a.TwoLined,{card:e,actions:t})}return Object(i.pipe)(e,l.a.match({super:n,takeaway:n,synfony:n,shortenIt:n,toneAI:n,ethicalAI:function(e){return a.createElement(ge.a.Mini,{card:e,actions:t,twoLined:!0})},suggestedSnippet:n,knowledgeHubSuggestedTerm:n,default:n}),l.a.foldCard)},Ae.Success=({cardData:e,actions:t,isLastCard:n})=>{function r(){return a.createElement(d.a.Success,{actions:t,isLastCard:n})}return Object(i.pipe)(e,c.a.match({takeaway:r,default:r,synfony:r,super:r,shortenIt:r,toneAI:r,ethicalAI:r,suggestedSnippet:function(e){return a.createElement(fe.a.Success,{card:e,actions:t})},knowledgeHubSuggestedTerm:r}),l.a.foldCard)},Ae.FeedbackForm=({cardData:e,actions:t})=>{function n(e){return a.createElement(Q,{card:e,actions:t})}return Object(i.pipe)(e,c.a.match({takeaway:n,default:n,synfony:n,super:n,shortenIt:n,toneAI:n,ethicalAI:n,suggestedSnippet:n,knowledgeHubSuggestedTerm:n}),l.a.foldCard)},Ae.MutedAlert=({cardData:e,actions:t})=>{function n(e){return a.createElement(he,{card:e,actions:t})}return Object(i.pipe)(e,c.a.match({takeaway:n,default:n,synfony:n,super:n,shortenIt:n,toneAI:n,ethicalAI:n,suggestedSnippet:n,knowledgeHubSuggestedTerm:n}),l.a.foldCard)}},"8z+V":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var a,r=n("PrA7");!function(e){let t;!function(e){e.isVideo=function(e){return"video"in e}}(t=e.Content||(e.Content={}))}(a||(a={}));class i{constructor(e){this._settings=e}markSeen(e){return r.Monitoring.Logging.getLogger("whatsnew").info("News shown",e),this._settings.markNewsItemsAsSeen(e)}}},"8zjg":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("LNSM"),i=n("zR/0"),o=n("gy42"),s=n("b/mo"),l=n("yA7V"),c=n("jAb7");!function(e){e.defaultState={alerts:l.a.empty,lenses:c.a.monoid.empty},e.get=(a,r,o)=>r.pipe(i.a.startWith(new Map),i.a.combineLatest(a.pipe(i.a.startWith(l.a.empty),i.a.scan((e,n)=>t(n,o.lensFilters)(e),e.defaultState)),n)),e.getMock=(t,n)=>{const a=r.a.create(e.defaultState);return e.get(t,n,s.a.create(s.a.defaultLensFilters,s.a.defaultTextFilters)).subscribe(o.b.toAtom(a)),a};const t=(e,t)=>n=>{const a=l.a.Diff.toRegistered(l.a.diff(n.alerts,e));return{alerts:e,lenses:c.a.applyDiff(t)(a)(n.lenses)}},n=(e,t)=>Object.assign(Object.assign({},t),{lenses:c.a.updatePercentiles(e)(t.lenses)})}(a||(a={}))},"9+0S":function(e,t,n){e.exports=n.p+"files/28aa0d261b04149285b4ec9850b7ae97/inter-medium.woff2"},"9/oM":function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return j}));var a=n("D57K"),r=n("ERkP"),i=n("OA+g"),o=n("I7vG"),s=n("5E2i"),l=n("vOOZ"),c=n("9NHN"),u=n("LNSM"),d=n("lrqh"),p=n("6fbX"),m=n("hoSD"),h=n("MsKq"),g=n("p7l/"),f=n("zR/0"),b=n("gy42"),y=n("LXcl"),v=n("SGQG"),S=n("bO3R"),C=n("3rlE"),w=n("17O8"),k=n("BugA");const E=({alignment:e,rect:t,onClose:n,className:a,children:i,icon:s,pinTargetRect:u,hideCloseButton:p,onMount:m})=>r.createElement(w.a.ByRelativeRect,Object.assign({rect:t,className:v.a.notificationContainer},w.a.Alignment.toSelector(e),{pinTargetRect:u,withPin:!0}),r.createElement(l.a.div,Object.assign({},Object(c.c)(v.a.stepWrapper,a),{mount:m}),Object(o.pipe)(s,d.g.fold(()=>r.createElement(C.d.Grammarly,{className:v.a.alertIcon}),e=>r.createElement(e,{className:v.a.alertIcon}))),i,!(null!=p&&p)&&r.createElement(S.a,{name:"onboard-close",className:v.a.closeIconWrapper,onClick:()=>n&&n()},r.createElement(C.d.Close,{className:v.a.closeIcon,width:12})))),O=e=>{var{title:t,description:n}=e,i=Object(a.__rest)(e,["title","description"]);return r.createElement(E,Object.assign({},i),r.createElement("span",{className:v.a.content},Boolean(t)?r.createElement(k.i,{className:v.a.header},t):null,r.createElement(k.a,{className:v.a.description},n)))},A=({className:e,onClick:t,customStyle:n})=>r.createElement(l.a.div,Object.assign({},Object(c.c)(v.a.pulseWrapper,e),{style:n,onClick:()=>t&&t()}),r.createElement("div",{className:v.a.pulseOptimized}));var _;function x(e){const t=r.useContext(x.Context),{stepId:n,onboardingViewModel:i}=e,s=Object(a.__rest)(e,["stepId","onboardingViewModel"]),l=I(n,i||t),c=r.useContext(g.a.Context).pipe(f.a.map(e=>e.rect));return Object(o.pipe)(l,d.g.fold(()=>r.Children.only(e.children),e=>r.createElement(j,Object.assign({},s,{onboardingStep:e,viewportRect:c}))))}!function(e){e.leftTop="leftTop",e.leftCenter="leftCenter",e.leftBottom="leftBottom",e.center="center",e.rightTop="rightTop",e.rightCenter="rightCenter",e.rightBottom="rightBottom"}(_||(_={}));const I=(e,t)=>(Object(p.f)(Boolean(t),"onboardingViewModel should be set either in context or in props"),t.isStepEnabled(e)?d.g.some(t.subscribeForStep(e)):d.g.none);class j extends r.Component{constructor(){super(...arguments),this._subs=[],this._wrapperElement=u.a.create(d.g.none),this._containerElement=u.a.create(d.g.none),this._exactTargetRect=u.a.create(d.g.none),this._visibilityState=u.a.create(!1),this._spotStyle=u.a.create({}),this._onEventActionTaken=(e,t=!0)=>n=>{var a;const r=e.state.get();if("popup"===r||t&&"dot"===r){const r=n.target;if(m.c.isDisabled(r))return;const i=t||m.c.hasParentWithClassName(r,v.a.containerDiv);if("findFirstButton"===(null===(a=this.props.dotPosition)||void 0===a?void 0:a.kind)&&!m.c.hasParentWithAttribute(r,"role","button"))return;i&&e.actionTaken()}else"dot"===r&&(n.preventDefault(),n.stopPropagation())}}componentWillUnmount(){const e=this.props.onboardingStep;"popup"===e.state.get()&&e.popupIgnored(),this._subs.forEach(e=>e.unsubscribe())}componentDidMount(){var e;const t=this.props.dotPosition;t?this._subs.push(f.a.mergeStatic(this.context,this.props.onboardingStep.state.pipe(f.a.filter(e=>"dot"===e||"popup"===e))).pipe(f.a.delay(500),f.a.withLatestFrom(this._wrapperElement,this._containerElement),f.a.switchMap(([e,n,a])=>Object(o.pipe)(Object(i.tuple)(n,a),Object(i.tupled)(d.g.map2((e,n)=>{switch(t.kind){case"findFirstButton":return b.b.toObservable(t.buttonOrder).pipe(f.a.switchMap(a=>f.a.of(void 0).pipe(f.a.delay(500),f.a.map(()=>{const[r,i]=N(e,n,t.position,a,t.selector);return this._exactTargetRect.set(i),r}),f.b.compact)));case"dotAtPosition":return f.a.of(T(t.position));default:return Object(p.c)(t)}})),d.g.fold(()=>f.a.EMPTY,s.a)))).subscribe(e=>{this._spotStyle.set(e),this._visibilityState.set(!0)}),f.a.combineLatestStatic([null!==(e=this.props.dismissalTrigger)&&void 0!==e?e:f.a.EMPTY,this.props.onboardingStep.state]).pipe(f.a.filter(([e,t])=>e&&("dot"===t||"popup"===t)),f.a.take(1)).subscribe(()=>{this.props.onboardingStep.actionTaken()})):this._visibilityState.set(!0)}render(){const e=this.props.onboardingStep;return r.createElement(l.a.div,Object.assign({key:"onboarding-wrapper"},Object(c.c)(v.a.containerWrapper,this.props.themes&&this.props.themes.containerWrapperClassName),{mount:e=>this._wrapperElement.set(d.g.fromNullable(e))}),r.createElement("div",Object.assign({key:"container",ref:e=>this._containerElement.set(d.g.fromNullable(e))},Object(c.c)(v.a.containerDiv,this.props.themes&&this.props.themes.containerClassName),{onClickCapture:this._onEventActionTaken(e,"onclick"===this.props.eventType),onMouseEnter:t=>"onhover"===this.props.eventType&&this._onEventActionTaken(e,!1)(t)}),this.props.children),u.a.combine(e.state,this._visibilityState,(t,n)=>{if(!n)return null;switch(t){case"dot":const t=this.props.themes&&this.props.themes.spotClassName;return this.props.onboardingStep.dotShown(),r.createElement(A,Object.assign({customStyle:this._spotStyle,key:"spot"},Object(c.c)(v.a.onboardingSpot,t),{onClick:()=>e.dotClicked()}));case"popup":return r.createElement(O,{key:"step",title:this.props.title,alignment:this.props.alignment,rect:this._containerElement.view(d.g.fold(()=>m.c.Rect.empty,m.c.Rect.fromEl)),className:this.props.themes&&this.props.themes.notificationClassName,description:this.props.message,icon:d.g.fromNullable(this.props.icon),onClose:()=>e.popupClosed(),pinTargetRect:this._exactTargetRect.view(d.g.orUndefined)});default:return null}}))}}j.contextType=h.a.Context,j.defaultProps={alignment:"left"};const T=e=>{switch(e){case _.leftTop:return{top:0,left:0};case _.leftCenter:return{top:"50%",left:0};case _.leftBottom:return{top:"100%",left:0};case _.rightTop:return{top:0,left:"100%"};case _.rightCenter:return{top:"50%",left:"100%"};case _.rightBottom:return{top:"100%",left:"100%"};case _.center:return{top:"50%",left:"50%"};default:return Object(p.c)(e)}},M=(e,t,n)=>{switch(n){case _.rightTop:return{top:e.top-t.top,left:e.left-t.left+e.width};case _.center:return{top:e.top-t.top+e.height/2,left:e.left-t.left+e.width/2};default:return Object(p.c)(n)}},N=(e,t,n,a,r)=>{const o=t.querySelectorAll(null!=r?r:'[role="button"], [role="insertion"], [role="deletion"]'),s=o.length>0&&(void 0===a?o[o.length-1]:o[a]);if(Boolean(s)){const t=m.c.Rect.fromEl(Object(i.unsafeCoerce)(s)),a=m.c.Rect.fromEl(e);return[d.g.some(M(t,a,n)),d.g.some(t)]}return Boolean(r)?[d.g.none,d.g.none]:[d.g.some({top:"50%",left:"50%"}),d.g.none]};var P;(P=x||(x={})).Context=r.createContext(null),P.ContextMock=({children:e})=>r.createElement(P.Context.Provider,{value:new y.a,children:e})},"91hE":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return P}));var a,r,i,o,s,l,c,u,d,p,m,h,g,f,b,y,v,S,C,w,k,E,O,A,_,x,I,j,T,M,N,P,L,R,B,F=n("hoSD"),D=n("f9Xq"),H=n("AS+/"),V=n("0UWf");(r=a||(a={})).isStrongAlertRefComponent=function(e){return"child"in e},r.isStrongAlertRefBehavior=function(e){return!("child"in e)},(o=i||(i={})).isStrongAlertRef=function(e){return"strongAlertRef"===e.type},o.create=function(e,t,n){return{type:"strongAlertRef",alertIds:t,child:e,onEmpty:n,id:P.from("strongAlertRef")}},(l=s||(s={})).isLongFormCard=function(e){return"longFormCard"===e.type},l.create=function(e,t,n){return{type:"longFormCard",fullContent:e,collapsedContent:t,id:P.from("longFormCard"),behaviors:[c.StrongAlertRef.create(n,[])],feedProperties:{}}},(p=c||(c={})).isStrongAlertRef=function(e){return"behavior:strongAlertRef"===e.type},(d=p.StrongAlertRef||(p.StrongAlertRef={})).create=function(e,t){return{id:P.from("behavior:strongAlertRef"),type:"behavior:strongAlertRef",alertIds:e,onEmpty:t}},d.eq=H.a(V.a)(D.b.BehaviorStrongAlertRef),p.isPopoverAnchor=function(e){return"behavior:popoverAnchor"===e.type},(u=p.PopoverAnchor||(p.PopoverAnchor={})).create=function(e,t){return{type:"behavior:popoverAnchor",id:e,positionHint:t}},u.nonEmpty=function(e){return!!e.view},(h=m||(m={})).create=function(e,t,n,a,r){return{type:"row",left:e,right:t,spacing:n,verticalAlign:a,id:P.from("row"),behaviors:r?[c.PopoverAnchor.create(r,D.a.Position.Top)]:void 0}},h.isRow=function(e){return"row"===e.type},(g||(g={})).create=function(e){return{type:"column",children:e,id:P.from("column")}},b=f||(f={}),y=b.Type="block",b.create=function(e,t,n){for(var a=arguments.length,r=new Array(a>3?a-3:0),i=3;i<a;i++)r[i-3]=arguments[i];return{type:y,name:L.unknown(e),parts:r,spacing:t,innerSpacing:n,id:P.from(e)}},b.isBlock=function(e){return e.type===y},b.hasOnlyTextParts=function(e){return e.parts.every(v.isText)},function(e){var t=e.Type="text";e.create=function(e,n,a,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return{type:t,text:e,size:n,format:a,textColor:r,backgroundColor:i,outlineColor:o,id:P.from(t),meta:s}},e.isText=function(e){return e.type===t}}(v||(v={})),(S||(S={})).create=function(e,t){return{label:e,preview:t}},(C||(C={})).create=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return{type:"alternativeChoice",alternatives:n,id:P.from("alternativeChoice"),meta:e}},(w||(w={})).create=function(e,t){return{type:"viewStack",id:P.from("ViewStack"),views:t,selected:e}},function(e){var t,n=e.Type="button";(t=e.Action||(e.Action={})).isTransitionAction=function(e){return"transition"===e.type},t.isApplyAlertsAction=function(e){return"applyAlerts"===e.type},t.createSelectAlternativeAction=function(e){return{type:"selectAlternative",alternativeIndex:e}},e.isButton=function(e){return"button"===e.type},e.create=function(e,t,a,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:D.a.ButtonShape.Square,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=P.from(e);return{type:n,id:c,name:L.unknown(e),tooltip:i,kind:r,state:D.a.ButtonState.Enabled,label:{type:f.Type,name:L.unknown(""),parts:[v.create(t,D.a.TextSize.Regular,[],D.a.Color.CoreNeutral0,void 0,void 0)],spacing:o,id:P.from("label-button-"+c)},actions:a,shape:s,meta:l}},e.createIcon=function(e,t,a,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:D.a.ButtonShape.Square,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=P.from(e),c="icon-button-"+e;return{type:n,id:l,name:L.unknown(e),tooltip:i,kind:r,state:D.a.ButtonState.Enabled,label:{type:f.Type,name:L.unknown(c),spacing:O.create("0","0.25","0","0.25"),parts:[E.create(t,void 0)],id:P.from(c)},actions:a,shape:o,meta:s}}}(k||(k={})),function(e){var t,n=e.Type="icon";(t=e.Source||(e.Source={})).createKnown=function(e){return{kind:"known",name:e}},t.createUrl=function(e,t,n){return{kind:"url",name:t,url:e,size:n}},e.create=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:n,source:e,backgroundColor:t,id:P.from(n),meta:a}}}(E||(E={})),(O||(O={})).create=function(e,t,n,a){return{top:e,bottom:n,left:a,right:t}},(A||(A={})).create=function(e,t){return{vertical:t,horizontal:e}},function(e){var t=e.Type="count";e.create=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:"count",backgroundColor:n,value:e,id:P.from(t),meta:a}}}(_||(_={})),((I=x||(x={})).Choice||(I.Choice={})).create=function(e,t,n){return{type:"sliderChoice",id:P.from("slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:n}},I.create=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"slider",segmentSize:e,fillColor:t,choices:n,id:P.from("slider"),meta:a}},((T=j||(j={})).Choice||(T.Choice={})).create=function(e,t,n,a){return{id:P.from("alternative-slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:n,preview:a}},T.create=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"alternativeSlider",segmentSize:e,fillColor:t,choices:n,id:P.from("alternativeSlider"),meta:a}},(N=M||(M={})).create=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"list",items:e,id:P.from("list"),meta:t}},(N.Item||(N.Item={})).create=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{id:P.from("listItem"),label:e,behaviors:n,actions:t,secondaryButtons:a,meta:r}},(P||(P={})).from=function(e){return e+"#"+F.f.alphanumeric(6)},(L||(L={})).unknown=function(e){return{kind:"unknown",value:e}},(B=R||(R={})).create=function(e,t,n){return{type:"popoverStack",id:e,views:n,selected:t}},B.createView=function(e,t,n,a){return{id:e,rootPopoverId:t,child:n,anchor:{kind:"component",id:a||F.f.alphanumeric(3)}}}},"95Qz":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("ERkP"),r=n("vOOZ"),i=n("9NHN"),o=n("1w6p"),s=n("3rlE"),l=n("RCgc");const c=(e,t)=>o.b.Grid.make(({slots:n})=>a.createElement(r.a.div,Object.assign({},Object(i.c)(l.a.wrapper,e)),a.createElement(s.d.UpgradeHookPanel.TitleDiamond,{className:t}),n.body))},"9ACk":function(e,t,n){"use strict";n.d(t,"c",(function(){return F})),n.d(t,"a",(function(){return Y})),n.d(t,"d",(function(){return J})),n.d(t,"b",(function(){return te}));var a=n("ERkP"),r=n.n(a),i=n("wfm3"),o=n("KCID"),s=n("rGmV"),l=n("Z1nV"),c=n("UMB3"),u=n("7nmT"),d=n.n(u),p=n("EanR"),m=n("hzDq");function h(e){return e&&e.__esModule?e.default:e}const g={top:"top",bottom:"top",left:"left",right:"left"},f={top:"bottom",bottom:"top",left:"right",right:"left"},b={top:"left",left:"top"},y={top:"height",left:"width"},v={width:"totalWidth",height:"totalHeight"},S={};let C="undefined"!=typeof window&&window.visualViewport;function w(e,t,n,a,r){let i=a.scroll[e],o=a[y[e]],s=t-r-i,l=t+r-i+n;return s<0?-s:l>o?Math.max(o-l,-s):0}function k(e){if(S[e])return S[e];let[t,n]=e.split(" "),a=g[t]||"right",r=b[a];g[n]||(n="center");let i=y[a],o=y[r];return S[e]={placement:t,crossPlacement:n,axis:a,crossAxis:r,size:i,crossSize:o},S[e]}function E(e,t,n,a,r,o,s,l,c,u){let{placement:d,crossPlacement:p,axis:m,crossAxis:h,size:g,crossSize:b}=a,y={};y[h]=e[h],"center"===p?y[h]+=(e[b]-n[b])/2:p!==h&&(y[h]+=e[b]-n[b]),y[h]+=o;const S=e[h]-n[b]+c+u,C=e[h]+e[b]-c-u;if(y[h]=(0,i.a)(y[h],S,C),d===m){const n=l?s[g]:t[v[g]];y[f[m]]=Math.floor(n-e[m]+r)}else y[m]=Math.floor(e[m]+e[g]+r);return y}function O(e,t,n,a,r,i){let{placement:o,axis:s,size:l}=i;return o===s?Math.max(0,n[s]-e[s]-e.scroll[s]+t[s]-a[s]-a[f[s]]-r):Math.max(0,e[l]+e[s]+e.scroll[s]-t[s]-n[s]-n[l]-a[s]-a[f[s]]-r)}function A(e,t,n,a,r,o,s,l,c,u,d,p,m,h,g){let b=k(e),{size:y,crossAxis:v,crossSize:S,placement:C,crossPlacement:A}=b,_=E(t,l,n,b,u,d,c,p,h,g),x=u,I=O(l,c,t,r,o+u,b);if(s&&a[y]>I){let e=k(`${f[C]} ${A}`),a=E(t,l,n,e,u,d,c,p,h,g);O(l,c,t,r,o+u,e)>I&&(b=e,_=a,x=u)}let j=w(v,_[v],n[S],l,o);_[v]+=j;let T=function(e,t,n,a,r,i){return null!=e.top?Math.max(0,t.height+t.top+t.scroll.top-(n.top+e.top)-(r.top+r.bottom+i)):Math.max(0,a.top+n.top-(t.top+t.scroll.top)-(r.top+r.bottom+i))}(_,l,c,t,r,o);m&&m<T&&(T=m),n.height=Math.min(n.height,T),_=E(t,l,n,b,x,d,c,p,h,g),j=w(v,_[v],n[S],l,o),_[v]+=j;let M={},N=t[v]+.5*t[S]-n[v];const P=h/2+g,L=n[S]-h/2-g,R=t[v]-n[v]+h/2,B=t[v]+t[S]-n[v]-h/2,F=(0,i.a)(N,R,B);return M[v]=(0,i.a)(F,P,L),{position:_,maxHeight:T,arrowOffsetLeft:M.left,arrowOffsetTop:M.top,placement:b.placement}}function _(e){let{placement:t,targetNode:n,overlayNode:a,scrollNode:r,padding:i,shouldFlip:o,boundaryElement:s,offset:l,crossOffset:c,maxHeight:u,arrowSize:d,arrowBoundaryOffset:p=0}=e,m=a instanceof HTMLElement?function(e){let t=e.offsetParent;t&&t===document.body&&"static"===window.getComputedStyle(t).position&&!j(t)&&(t=document.documentElement);if(null==t)for(t=e.parentElement;t&&!j(t);)t=t.parentElement;return t||document.documentElement}(a):document.documentElement,h=m===document.documentElement;const g=window.getComputedStyle(m).position;let f=!!g&&"static"!==g,b=h?x(n):I(n,m);if(!h){let{marginTop:e,marginLeft:t}=window.getComputedStyle(n);b.top+=parseInt(e,10)||0,b.left+=parseInt(t,10)||0}let y=x(a),v=function(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}(a);var S;return y.width+=v.left+v.right,y.height+=v.top+v.bottom,A(t,b,y,{top:(S=r).scrollTop,left:S.scrollLeft,width:S.scrollWidth,height:S.scrollHeight},v,i,o,function(e){let t=0,n=0,a=0,r=0,i=0,o=0,s={};if("BODY"===e.tagName){let i=document.documentElement;var l,c;a=i.clientWidth,r=i.clientHeight,t=null!==(l=null==C?void 0:C.width)&&void 0!==l?l:a,n=null!==(c=null==C?void 0:C.height)&&void 0!==c?c:r,s.top=i.scrollTop||e.scrollTop,s.left=i.scrollLeft||e.scrollLeft}else({width:t,height:n,top:i,left:o}=x(e)),s.top=e.scrollTop,s.left=e.scrollLeft,a=t,r=n;return{width:t,height:n,totalWidth:a,totalHeight:r,scroll:s,top:i,left:o}}(s),"BODY"===s.tagName?x(m):I(m,s),l,c,f,u,d,p)}function x(e){let{top:t,left:n,width:a,height:r}=e.getBoundingClientRect(),{scrollTop:i,scrollLeft:o,clientTop:s,clientLeft:l}=document.documentElement;return{top:t+i-s,left:n+o-l,width:a,height:r}}function I(e,t){let n,a=window.getComputedStyle(e);if("fixed"===a.position){let{top:t,left:a,width:r,height:i}=e.getBoundingClientRect();n={top:t,left:a,width:r,height:i}}else{n=x(e);let a=x(t),r=window.getComputedStyle(t);a.top+=(parseInt(r.borderTopWidth,10)||0)-t.scrollTop,a.left+=(parseInt(r.borderLeftWidth,10)||0)-t.scrollLeft,n.top-=a.top,n.left-=a.left}return n.top-=parseInt(a.marginTop,10)||0,n.left-=parseInt(a.marginLeft,10)||0,n}function j(e){let t=window.getComputedStyle(e);return"none"!==t.transform||/transform|perspective/.test(t.willChange)||"none"!==t.filter||"paint"===t.contain||"backdropFilter"in t&&"none"!==t.backdropFilter||"WebkitBackdropFilter"in t&&"none"!==t.WebkitBackdropFilter}const T=new WeakMap;function M(e){let{triggerRef:t,isOpen:n,onClose:r}=e;(0,a.useEffect)(()=>{if(!n||null===r)return;let e=e=>{let n=e.target;if(!t.current||n instanceof Node&&!n.contains(t.current))return;let a=r||T.get(t.current);a&&a()};return window.addEventListener("scroll",e,!0),()=>{window.removeEventListener("scroll",e,!0)}},[n,r,t])}let N="undefined"!=typeof window&&window.visualViewport;function P(e){let{direction:t}=(0,s.b)(),{arrowSize:n=0,targetRef:r,overlayRef:i,scrollRef:l=i,placement:c="bottom",containerPadding:u=12,shouldFlip:d=!0,boundaryElement:p=("undefined"!=typeof document?document.body:null),offset:m=0,crossOffset:h=0,shouldUpdatePosition:g=!0,isOpen:f=!0,onClose:b,maxHeight:y,arrowBoundaryOffset:v=0}=e,[S,C]=(0,a.useState)({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),w=[g,c,i.current,r.current,l.current,u,d,p,m,h,f,t,y,v,n],k=(0,a.useCallback)(()=>{if(!(!1!==g&&f&&i.current&&r.current&&l.current&&p))return;let e=_({placement:L(c,t),overlayNode:i.current,targetNode:r.current,scrollNode:l.current,padding:u,shouldFlip:d,boundaryElement:p,offset:m,crossOffset:h,maxHeight:y,arrowSize:n,arrowBoundaryOffset:v});Object.keys(e.position).forEach(t=>i.current.style[t]=e.position[t]+"px"),i.current.style.maxHeight=null!=e.maxHeight?e.maxHeight+"px":void 0,C(e)},w);var E;(0,o.w)(k,w),E=k,(0,o.w)(()=>(window.addEventListener("resize",E,!1),()=>{window.removeEventListener("resize",E,!1)}),[E]),(0,o.x)({ref:i,onResize:k});let O=(0,a.useRef)(!1);(0,o.w)(()=>{let e,t=()=>{O.current=!0,clearTimeout(e),e=setTimeout(()=>{O.current=!1},500),k()};return null==N||N.addEventListener("resize",t),null==N||N.addEventListener("scroll",t),()=>{null==N||N.removeEventListener("resize",t),null==N||N.removeEventListener("scroll",t)}},[k]);let A=(0,a.useCallback)(()=>{O.current||b()},[b,O]);return M({triggerRef:r,isOpen:f,onClose:b&&A}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...S.position,maxHeight:S.maxHeight}},placement:S.placement,arrowProps:{style:{left:S.arrowOffsetLeft,top:S.arrowOffsetTop}},updatePosition:k}}function L(e,t){return"rtl"===t?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const R=[];function B(e,t){let{onClose:n,shouldCloseOnBlur:r,isOpen:i,isDismissable:o=!1,isKeyboardDismissDisabled:s=!1,shouldCloseOnInteractOutside:u}=e;(0,a.useEffect)(()=>(i&&R.push(t),()=>{let e=R.indexOf(t);e>=0&&R.splice(e,1)}),[i,t]);let d=()=>{R[R.length-1]===t&&n&&n()};(0,c.h)({ref:t,onInteractOutside:o?e=>{u&&!u(e.target)||(R[R.length-1]===t&&(e.stopPropagation(),e.preventDefault()),d())}:null,onInteractOutsideStart:e=>{u&&!u(e.target)||R[R.length-1]===t&&(e.stopPropagation(),e.preventDefault())}});let{focusWithinProps:p}=(0,c.f)({isDisabled:!r,onBlurWithin:e=>{e.relatedTarget&&(0,l.d)(e.relatedTarget)||u&&!u(e.relatedTarget)||n()}});return{overlayProps:{onKeyDown:e=>{"Escape"!==e.key||s||(e.stopPropagation(),e.preventDefault(),d())},...p},underlayProps:{onPointerDown:e=>{e.target===e.currentTarget&&e.preventDefault()}}}}function F(e,t,n){let{type:r}=e,{isOpen:i}=t;(0,a.useEffect)(()=>{n&&n.current&&T.set(n.current,t.close)});let s=void 0;"menu"===r?s=!0:"listbox"===r&&(s="listbox");let l=(0,o.u)();return{triggerProps:{"aria-haspopup":s,"aria-expanded":i,"aria-controls":i?l:null,onPress:t.toggle},overlayProps:{id:l}}}const D="undefined"!=typeof window&&window.visualViewport,H=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let V,U=0;function W(e={}){let{isDisabled:t}=e;(0,o.w)(()=>{if(!t)return U++,1===U&&(V=(0,o.f)()?function(){let e,t=0,n=window.pageXOffset,a=window.pageYOffset,r=(0,o.a)(q(document.documentElement,"paddingRight",window.innerWidth-document.documentElement.clientWidth+"px"),q(document.documentElement,"overflow","hidden"),q(document.body,"marginTop",`-${a}px`));window.scrollTo(0,0);let i=(0,o.a)(z(document,"touchstart",n=>{e=(0,o.d)(n.target),e===document.documentElement&&e===document.body||(t=n.changedTouches[0].pageY)},{passive:!1,capture:!0}),z(document,"touchmove",n=>{if(!e||e===document.documentElement||e===document.body)return void n.preventDefault();let a=n.changedTouches[0].pageY,r=e.scrollTop,i=e.scrollHeight-e.clientHeight;0!==i&&((r<=0&&a>t||r>=i&&a<t)&&n.preventDefault(),t=a)},{passive:!1,capture:!0}),z(document,"touchend",e=>{let t=e.target;G(t)&&t!==document.activeElement&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame(()=>{t.style.transform=""}))},{passive:!1,capture:!0}),z(document,"focus",e=>{let t=e.target;G(t)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{t.style.transform="",D&&(D.height<window.innerHeight?requestAnimationFrame(()=>{$(t)}):D.addEventListener("resize",()=>$(t),{once:!0}))}))},!0),z(window,"scroll",()=>{window.scrollTo(0,0)}));return()=>{r(),i(),window.scrollTo(n,a)}}():(0,o.a)(q(document.documentElement,"paddingRight",window.innerWidth-document.documentElement.clientWidth+"px"),q(document.documentElement,"overflow","hidden"))),()=>{U--,0===U&&V()}},[t])}function q(e,t,n){let a=e.style[t];return e.style[t]=n,()=>{e.style[t]=a}}function z(e,t,n,a){return e.addEventListener(t,n,a),()=>{e.removeEventListener(t,n,a)}}function $(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let t=(0,o.d)(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let n=t.getBoundingClientRect().top,a=e.getBoundingClientRect().top;a>n+e.clientHeight&&(t.scrollTop+=a-n)}e=t.parentElement}}function G(e){return e instanceof HTMLInputElement&&!H.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var K;function Y(e){let{onDismiss:t,...n}=e,a=(0,s.c)(h(K)),i=(0,o.v)(n,a.format("dismiss"));return r.a.createElement(m.a,null,r.a.createElement("button",{...i,tabIndex:-1,onClick:()=>{t&&t()}}))}K={"ar-AE":{dismiss:"تجاهل"},"bg-BG":{dismiss:"Отхвърляне"},"cs-CZ":{dismiss:"Odstranit"},"da-DK":{dismiss:"Luk"},"de-DE":{dismiss:"Schließen"},"el-GR":{dismiss:"Απόρριψη"},"en-US":{dismiss:"Dismiss"},"es-ES":{dismiss:"Descartar"},"et-EE":{dismiss:"Lõpeta"},"fi-FI":{dismiss:"Hylkää"},"fr-FR":{dismiss:"Rejeter"},"he-IL":{dismiss:"התעלם"},"hr-HR":{dismiss:"Odbaci"},"hu-HU":{dismiss:"Elutasítás"},"it-IT":{dismiss:"Ignora"},"ja-JP":{dismiss:"閉じる"},"ko-KR":{dismiss:"무시"},"lt-LT":{dismiss:"Atmesti"},"lv-LV":{dismiss:"Nerādīt"},"nb-NO":{dismiss:"Lukk"},"nl-NL":{dismiss:"Negeren"},"pl-PL":{dismiss:"Zignoruj"},"pt-BR":{dismiss:"Descartar"},"pt-PT":{dismiss:"Dispensar"},"ro-RO":{dismiss:"Revocare"},"ru-RU":{dismiss:"Пропустить"},"sk-SK":{dismiss:"Zrušiť"},"sl-SI":{dismiss:"Opusti"},"sr-SP":{dismiss:"Odbaci"},"sv-SE":{dismiss:"Avvisa"},"tr-TR":{dismiss:"Kapat"},"uk-UA":{dismiss:"Скасувати"},"zh-CN":{dismiss:"取消"},"zh-TW":{dismiss:"關閉"}};let Z=new WeakMap,X=[];function Q(e,t=document.body){let n=new Set(e),a=new Set,r=e=>{for(let t of e.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))n.add(t);let t=e=>{if(n.has(e)||a.has(e.parentElement)&&"row"!==e.parentElement.getAttribute("role"))return NodeFilter.FILTER_REJECT;for(let t of n)if(e.contains(t))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t}),o=t(e);if(o===NodeFilter.FILTER_ACCEPT&&i(e),o!==NodeFilter.FILTER_REJECT){let e=r.nextNode();for(;null!=e;)i(e),e=r.nextNode()}},i=e=>{var t;let n=null!==(t=Z.get(e))&&void 0!==t?t:0;"true"===e.getAttribute("aria-hidden")&&0===n||(0===n&&e.setAttribute("aria-hidden","true"),a.add(e),Z.set(e,n+1))};X.length&&X[X.length-1].disconnect(),r(t);let o=new MutationObserver(e=>{for(let t of e)if("childList"===t.type&&0!==t.addedNodes.length&&![...n,...a].some(e=>e.contains(t.target))){for(let e of t.removedNodes)e instanceof Element&&(n.delete(e),a.delete(e));for(let e of t.addedNodes)!(e instanceof HTMLElement||e instanceof SVGElement)||"true"!==e.dataset.liveAnnouncer&&"true"!==e.dataset.reactAriaTopLayer?e instanceof Element&&r(e):n.add(e)}});o.observe(t,{childList:!0,subtree:!0});let s={observe(){o.observe(t,{childList:!0,subtree:!0})},disconnect(){o.disconnect()}};return X.push(s),()=>{o.disconnect();for(let e of a){let t=Z.get(e);1===t?(e.removeAttribute("aria-hidden"),Z.delete(e)):Z.set(e,t-1)}s===X[X.length-1]?(X.pop(),X.length&&X[X.length-1].observe()):X.splice(X.indexOf(s),1)}}function J(e,t){let{triggerRef:n,popoverRef:a,isNonModal:r,isKeyboardDismissDisabled:i,...s}=e,{overlayProps:l,underlayProps:c}=B({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!r,isKeyboardDismissDisabled:i},a),{overlayProps:u,arrowProps:d,placement:p}=P({...s,targetRef:n,overlayRef:a,isOpen:t.isOpen,onClose:null});return W({isDisabled:r}),(0,o.w)(()=>{if(t.isOpen&&!r&&a.current)return Q([a.current])},[r,t.isOpen,a]),{popoverProps:(0,o.l)(l,u),arrowProps:d,underlayProps:c,placement:p}}const ee=r.a.createContext(null);function te(e){let t,n=(0,p.a)(),{portalContainer:i=(n?null:document.body)}=e,[o,s]=(0,a.useState)(!1),c=(0,a.useMemo)(()=>({contain:o,setContain:s}),[o,s]);return i?(t=e.disableFocusManagement?r.a.createElement(ee.Provider,{value:c},e.children):r.a.createElement(ee.Provider,{value:c},r.a.createElement(l.a,{restoreFocus:!0,contain:o},e.children)),d.a.createPortal(t,i)):null}},"9ZtS":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("I7vG"),i=n("lrqh"),o=n("dE97"),s=n("yA7V");!function(e){e.create=e=>({getAlertMuteCategory:t=>Object(r.pipe)(e.getById(t),i.g.chain(e=>e.muteCategory))}),e.getAlerts=function(e,t){const n={byCategory:new Map(t.map(e=>[e,[]])),all:[]};return Object(r.pipe)(e.get(),s.a.reduce(n,(e,{alert:n})=>Object(r.pipe)(n.muteCategory,i.g.filter(e=>t.includes(e.id)),i.g.map(e=>e.id),i.g.alt(()=>i.g.fromNullable(t.find(o.a.belongsToSpecialCategory(n)))),i.g.fold(()=>e,t=>(e.byCategory.get(t).push(n),e.all.push(n),e)))))}}(a||(a={}))},"9xM8":function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a=n("e12y"),r=n("0Hf4"),i=n("D9EC"),o=n("ax6a");const s=o.a.CoreGreen10;var l;!function(e){e.markHeightStandard="alerts-markHeightStandard",e.markHeightTall="alerts-markHeightTall",e.markSelected="alerts-markSelected",e.markSelectedFocused="alerts-markSelectedFocused",e.markBase="alerts-markBase",e.markAppliedBase="alerts-markAppliedBase",e.markVisible="alerts-markVisible",e.markStart="alerts-markStart",e.correctness="alerts-correctness",e.premium="alerts-premium",e.clarity="alerts-clarity",e.engagement="alerts-engagement",e.delivery="alerts-delivery",e.critical="alerts-critical",e.advanced="alerts-advanced",e.plagiarism="alerts-plagiarism",e.originality="alerts-originality",e.vox="alerts-vox",e.knowledgeHub="alerts-knowledgeHub",e.synonym="alerts-synonym",e.markAnimated="alerts-markAnimated",e.markHidden="alerts-markHidden",e.markApplied="alerts-markApplied",e.markBulkApplied="alerts-markBulkApplied",e.markBulkAppliedAnimation="alerts-markBulkAppliedAnimation",e.markSuccess="alerts-markSuccess",e.noAnimation="alerts-noAnimation"}(l||(l={}));const c="alerts-custom",u={backgroundPosition:"center calc(100% + 2px)",backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},d={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},p=a.a.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),m={standard:`calc(${a.a.rem(.45)} - 3px)`,tall:`calc(${a.a.rem(.425)} + 1px)`},h=e=>({to:{backgroundColor:e}}),g=(e,t,n,a)=>Object.assign(Object.assign({$unique:!0},u),{paddingBottom:"1px",borderBottom:"2px solid "+t,transition:"border-bottom-color .5s linear",$nest:Object.assign(Object.assign({},u.$nest),{"&[data-vertical-underline-start]:before":{borderColor:n,color:n},"& > [data-vertical-underline-body]:after":{borderColor:n},"& > [data-vertical-underline-index]":{color:n},"&[data-superscript]":{padding:0,border:"none",color:n,transition:"none"},"&:not([data-superscript])":{$nest:{[`&.${l.markSelected}.${l.markHeightStandard}`]:{paddingTop:m.standard},[`&.${l.markSelected}.${l.markHeightTall}`]:{paddingTop:m.tall},["&."+l.markSelected]:{$unique:!0,borderBottomColor:a,animation:e+" 1s ease forwards"},["&."+l.markSelectedFocused]:{$unique:!0,borderBottomColor:n},[`&.${l.markSelected} .${l.markBase}:not(.${l.markSelected})`]:{paddingBottom:"calc(2px + 1px)",borderBottomStyle:"hidden"},[`&.${l.markSelectedFocused} .${l.markBase}:not(.${l.markSelected})`]:{paddingBottom:"calc(2px + 1px)",borderBottomStyle:"hidden"}}}})}),f=a.a.keyframes(h(o.a.CoreRed10)),b=a.a.keyframes(h(o.a.CoreYellow10)),y=a.a.keyframes(h(o.a.CoreCyan10)),v=a.a.keyframes(h(o.a.CorePurple10)),S=a.a.keyframes(h(o.a.CoreNeutral10)),C=a.a.keyframes(h(o.a.CoreBlue10)),w=a.a.keyframes(h(o.a.CoreRed10)),k=a.a.keyframes(h(o.a.CoreYellow10)),E=a.a.keyframes(h(o.a.CoreBlue10)),O=a.a.keyframes(h(o.a.CoreGreen10)),A=a.a.keyframes(h(o.a.CorePurple10)),_=a.a.keyframes(h(o.a.CoreGreen10)),x=e=>{const t=a.a.color(s).fade(e).toRGBA().toString();return{borderBottomColor:t,backgroundColor:t,$nest:{["&."+l.markHeightStandard]:{paddingTop:m.standard},["&."+l.markHeightTall]:{paddingTop:m.tall}}}},I=e=>({borderBottomColor:"transparent",backgroundColor:a.a.color(s).fade(e).toRGBA().toString()}),j=a.a.keyframes({from:x("100%"),to:x("50%")}),T={borderBottomWidth:"2px",borderBottomColor:""+o.a.CoreNeutral40,borderBottomStyle:"dotted",backgroundColor:"transparent"},M=a.a.keyframes({to:Object.assign(Object.assign({},x("0%")),T)}),N=a.a.keyframes({from:I("100%"),to:I("50%")}),P={$nest:{["&."+l.markHeightStandard]:{paddingTop:m.standard},["&."+l.markHeightTall]:{paddingTop:m.tall},[`&:not(.${l.markSelected}):not(.${l.markSelectedFocused})`]:{$nest:{[`&.${l.clarity} &.${l.clarity}`]:{borderBottomStyle:"solid",borderBottomColor:o.a.CoreBlue50}}},[`&.${l.correctness}, &.${l.markSelected}, &.${l.markSelectedFocused}`]:{$nest:{[`.${l.markVisible}:not(.${l.markSelected}):not(.${l.markSelectedFocused}).${l.clarity} .${l.markVisible}:not(.${l.markSelected}):not(.${l.markSelectedFocused}).${l.clarity}`]:{}}},["&."+l.clarity]:{$nest:{[`& & &:not(.${l.markSelected}):not(.${l.markSelectedFocused})`]:{borderBottomStyle:"hidden !important"}}}}},L={borderBottom:"0 solid transparent !important",background:"none",animation:"none"},R=Object(i.l)(()=>({custom(e,t){const n=a.a.color(e).fade(.25).toRGBA().toString(),i=a.a.keyframes(h(n));return[c,l.markBase,a.a.style(g(i,t,t,n)),r.a.style(g(i,t,t,n),d)].join(" ")},markBase:[l.markBase,a.a.style(u),r.a.style(u,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[l.markAppliedBase,l.markBase,a.a.style({paddingBottom:"1px",borderBottom:"2px solid "+s})].join(" "),correctness:[l.correctness,l.markBase,a.a.style(g(w,o.a.CoreRed50,o.a.CoreRed50,o.a.CoreRed10)),r.a.style(g(w,o.a.CoreRed50,o.a.CoreRed50,o.a.CoreRed10),d)].join(" "),premium:[l.premium,l.markBase,a.a.style(g(k,o.a.CoreYellow40,o.a.CoreYellow40,o.a.CoreYellow10)),r.a.style(g(k,o.a.CoreYellow40,o.a.CoreYellow40,o.a.CoreYellow10),d)].join(" "),clarity:[l.clarity,l.markBase,a.a.style(g(E,o.a.CoreBlue50,o.a.CoreBlue50,o.a.CoreBlue10)),r.a.style(g(E,o.a.CoreBlue50,o.a.CoreBlue50,o.a.CoreBlue10),d)].join(" "),markVisible:[l.markVisible,a.a.style(P),r.a.style(P)].join(" "),engagement:[l.engagement,l.markBase,a.a.style(g(O,o.a.CoreGreen50,o.a.CoreGreen50,o.a.CoreGreen10)),r.a.style(g(O,o.a.CoreGreen50,o.a.CoreGreen50,o.a.CoreGreen10),d)].join(" "),delivery:[l.delivery,l.markBase,a.a.style(g(A,o.a.CorePurple50,o.a.CorePurple50,o.a.CorePurple10)),r.a.style(g(A,o.a.CorePurple50,o.a.CorePurple50,o.a.CorePurple10),d)].join(" "),critical:[l.critical,l.markBase,a.a.style(g(f,o.a.CoreRed50,o.a.CoreRed50,o.a.CoreRed10)),r.a.style(g(f,o.a.CoreRed50,o.a.CoreRed50,o.a.CoreRed10),d)].join(" "),advanced:[l.advanced,l.markBase,a.a.style(g(b,o.a.CoreYellow40,o.a.CoreYellow40,o.a.CoreYellow10)),r.a.style(g(b,o.a.CoreYellow40,o.a.CoreYellow40,o.a.CoreYellow10),d)].join(" "),plagiarism:[l.plagiarism,l.markBase,a.a.style(g(y,o.a.CoreCyan50,o.a.CoreCyan50,o.a.CoreCyan10)),r.a.style(g(b,o.a.CoreCyan50,o.a.CoreCyan50,o.a.CoreCyan10),d)].join(" "),originality:[l.originality,l.markBase,a.a.style(g(v,o.a.CorePurple50,o.a.CorePurple50,o.a.CorePurple10)),r.a.style(g(A,o.a.CorePurple50,o.a.CorePurple50,o.a.CorePurple10),d)].join(" "),vox:[l.vox,l.markBase,a.a.style(g(S,o.a.CoreNeutral50,o.a.CoreNeutral50,o.a.CoreNeutral10)),r.a.style(g(S,o.a.CoreNeutral50,o.a.CoreNeutral50,o.a.CoreNeutral10),d)].join(" "),knowledgeHub:[l.knowledgeHub,l.markBase,a.a.style(g(S,o.a.CoreNeutral50,o.a.CoreNeutral50,o.a.CoreNeutral10)),r.a.style(g(S,o.a.CoreNeutral50,o.a.CoreNeutral50,o.a.CoreNeutral10),d)].join(" "),synonym:[l.synonym,l.markBase,a.a.style(g(C,o.a.CoreBlue50,"transparent",o.a.CoreBlue50)),r.a.style(g(C,o.a.CoreBlue50,"transparent",o.a.CoreBlue50),d)].join(" "),markAnimated:[l.markAnimated,a.a.style({animation:p+" .075s ease"})].join(" "),markHidden:[l.markHidden,a.a.style(L),r.a.style(L)].join(" "),markBulkAppliedAnimation:[l.markBulkAppliedAnimation,l.markBase,a.a.style(x("100%"),T,{animation:`${j} 2s linear forwards,\n          ${M} .25s linear 2s forwards`})].join(" "),markBulkApplied:[l.markBulkApplied,l.markBase,a.a.style(g(_,o.a.CoreNeutral40,o.a.CoreGreen10,o.a.CoreGreen10),T)].join(" "),markApplied:[l.markApplied,a.a.style(x("100%"),{animation:j+" .25s linear forwards"})].join(" "),markSuccess:[l.markSuccess,a.a.style(I("100%"),{animation:N+" .25s linear forwards"})].join(" "),noAnimation:[l.noAnimation,a.a.style({animationDuration:"0s !important"})].join(" "),markSelected:l.markSelected,markSelectedFocused:l.markSelectedFocused,markHeightStandard:l.markHeightStandard,markHeightTall:l.markHeightTall,markStart:l.markStart}))},A7Qg:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("3rlE");!function(e){e.GrammarlyGO=({className:e,width:t=23})=>r.createElement(i.e,{className:e,width:t,viewBox:"0 0 23 23"},r.createElement("path",{fill:"var(--path-fill-1, #2551DA)",fillRule:"evenodd",stroke:"none",d:"M14.9 17c.1-.8.6-1.5 1.2-2 1.3-1.3 2.1-3 2.1-5 0-3.9-3.2-7-7.2-7s-7.3 3.1-7.3 7c0 2 .9 3.7 2.2 5 .6.5 1 1.2 1.2 2H15Zm-7.6 1.5h7.4v.7c-.1 1-1 1.8-2 1.8H9.3c-1 0-1.9-.8-2-1.8v-.7Z",clipRule:"evenodd"}),r.createElement("mask",{id:"a",width:"16",height:"18",x:"3",y:"3",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},r.createElement("path",{fill:"var(--path-fill-2, #018374)",fillRule:"evenodd",stroke:"none",d:"M14.9 17c.1-.8.6-1.5 1.2-2 1.3-1.3 2.1-3 2.1-5 0-3.9-3.2-7-7.2-7s-7.3 3.1-7.3 7c0 2 .9 3.7 2.2 5 .6.5 1 1.2 1.2 2H15Zm-7.6 1.5h7.4v.7c-.1 1-1 1.8-2 1.8H9.3c-1 0-1.9-.8-2-1.8v-.7Z",clipRule:"evenodd"})),r.createElement("g",{filter:"url(#b)",mask:"url(#a)",opacity:".9"},r.createElement("mask",{id:"c",fill:"#fff"},r.createElement("path",{stroke:"none",fillRule:"evenodd",d:"M14.9 17c.1-.8.6-1.5 1.2-2 1.3-1.3 2.1-3 2.1-5 0-3.9-3.2-7-7.2-7s-7.3 3.1-7.3 7c0 2 .9 3.7 2.2 5 .6.5 1 1.2 1.2 2H15Zm-7.6 1.5h7.4v.7c-.1 1-1 1.8-2 1.8H9.3c-1 0-1.9-.8-2-1.8v-.7Z",clipRule:"evenodd"})),r.createElement("path",{fill:"var(--path-fill-3, #34BCFF)",fillRule:"evenodd",stroke:"none",d:"M14.9 17c.1-.8.6-1.5 1.2-2 1.3-1.3 2.1-3 2.1-5 0-3.9-3.2-7-7.2-7s-7.3 3.1-7.3 7c0 2 .9 3.7 2.2 5 .6.5 1 1.2 1.2 2H15Zm-7.6 1.5h7.4v.7c-.1 1-1 1.8-2 1.8H9.3c-1 0-1.9-.8-2-1.8v-.7Z",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--path-fill-4, #2551DA)",stroke:"none",d:"m16.1 15-.7-.8.7.8ZM15 17v1h.8l.1-.8-1-.2Zm-9-2-.7.7.7-.7ZM7 17l-1 .2.2.8h.8v-1Zm7.6 1.5h1l.1-1h-1v1Zm-7.4 0v-1H6.2l.1 1h1Zm7.4.7-1-.1h1Zm-7.4 0h-1 1Zm8.1-5c-.6.7-1.3 1.5-1.5 2.6l2 .4c0-.5.4-1 1-1.5l-1.5-1.5Zm1.8-4.2c0 1.7-.6 3.2-1.8 4.2l1.4 1.5a7.9 7.9 0 0 0 2.4-5.7h-2ZM11 4c3.5 0 6.3 2.7 6.3 6h2c0-4.5-3.8-8-8.3-8v2Zm-6.3 6c0-3.3 2.8-6 6.3-6V2a8.1 8.1 0 0 0-8.3 8h2Zm1.9 4.2A5.9 5.9 0 0 1 4.8 10h-2c0 2.2.9 4.2 2.4 5.7l1.4-1.5ZM8 16.8c-.2-1-.9-2-1.5-2.6l-1.4 1.5c.5.5.8 1 1 1.5l2-.4ZM15 16H7v2H15v-2Zm-.2 1.5H7.3v2h7.4v-2Zm1 1.7v-.6l-2-.2v.7l2 .1Zm-3 2.8a3 3 0 0 0 3-2.8l-2-.1c0 .5-.5.9-1 .9v2Zm-3.4 0h3.4v-2H9.3v2Zm-3-2.8a3 3 0 0 0 3 2.8v-2a1 1 0 0 1-1-1l-2 .2Zm0-.6v.6l2-.1v-.7l-2 .2Z",mask:"url(#c)"})),r.createElement("g",{filter:"url(#d)"},r.createElement("path",{fill:"#fff",stroke:"none",d:"M14.5 10.6a3.8 3.8 0 0 0-2.8 2.8v.1c-.2.7-1.2.7-1.3 0a3.8 3.8 0 0 0-2.9-2.9c-.7-.1-.7-1 0-1.2a3.8 3.8 0 0 0 2.9-2.9c.1-.7 1-.7 1.2 0a3.8 3.8 0 0 0 2.9 2.9c.7.1.7 1 0 1.2Z"})),r.createElement("defs",null,r.createElement("filter",{id:"b",width:"26.5",height:"30",x:"-2.3",y:"-3",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feGaussianBlur",{result:"effect1_foregroundBlur_5277_13171",stdDeviation:"3"})),r.createElement("filter",{id:"d",width:"20",height:"20",x:"1",y:"0",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:"3"}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0.00392157 0 0 0 0 0.513726 0 0 0 0 0.454902 0 0 0 1 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_5277_13171"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_5277_13171",result:"shape"})))),e.Rewrite=({className:e,width:t=24})=>r.createElement(i.e,{className:e,width:t,viewBox:"0 0 24 24"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.866 4.5C12.3877 4.22386 11.7761 4.38773 11.5 4.86603L10.2469 7.03649L14.577 9.53649L15.8301 7.36603C16.1063 6.88773 15.9424 6.27614 15.4641 6L12.866 4.5ZM13.8256 10.8379L9.49549 8.33793L6.2476 13.9634C6.07792 14.2573 5.98582 14.5896 5.97995 14.9289L5.91538 18.6643C5.90859 19.0569 6.33617 19.3038 6.67275 19.1016L9.87546 17.178C10.1664 17.0032 10.408 16.7573 10.5777 16.4634L13.8256 10.8379Z",fill:"#018374"}),r.createElement("mask",{id:"mask0_5345_15767",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"5",y:"4",width:"11",height:"16"},r.createElement("path",{d:"M12.8667 4.50011C12.3885 4.22397 11.7769 4.38784 11.5007 4.86613L10.2476 7.0366L14.5777 9.5366L15.8308 7.36613C16.107 6.88784 15.9431 6.27625 15.4648 6.00011L12.8667 4.50011Z",fill:"#018374"}),r.createElement("path",{d:"M13.8263 10.838L9.49621 8.33804L6.24832 13.9636C6.07864 14.2574 5.98653 14.5897 5.98067 14.929L5.9161 18.6644C5.90931 19.057 6.33689 19.3039 6.67347 19.1017L9.87618 17.1781C10.1671 17.0033 10.4088 16.7574 10.5784 16.4636L13.8263 10.838Z",fill:"#018374"})),r.createElement("g",{mask:"url(#mask0_5345_15767)"},r.createElement("g",{opacity:"0.9",filter:"url(#filter0_f_5345_15767)"},r.createElement("path",{d:"M12.9435 2.36572L17.2737 4.86572L10.676 16.2933L4.49997 22L6.34584 13.7933L12.9435 2.36572Z",fill:"#00FFCE"}),r.createElement("path",{d:"M13.1266 3.04874L16.5907 5.04874L10.2809 15.9775L5.34021 20.5429L6.81694 13.9773L13.1266 3.04874Z",stroke:"#018374"}))),r.createElement("path",{d:"M8.69157 4.88121C7.81024 5.08868 7.12071 5.77187 6.90771 6.64867L6.89649 6.69484C6.79751 7.10228 6.2155 7.1015 6.11762 6.69381L6.10975 6.66104C5.8991 5.78369 5.21143 5.09867 4.3307 4.88884L4.30738 4.88329C3.89754 4.78565 3.89754 4.20481 4.30738 4.10717L4.3307 4.10161C5.21144 3.89178 5.89911 3.20676 6.10975 2.32942L6.11532 2.30619C6.21334 1.89794 6.79643 1.89794 6.89445 2.30619L6.90002 2.32942C7.11067 3.20677 7.79833 3.89179 8.67907 4.10161L8.69262 4.10484C9.10303 4.20262 9.10224 4.78454 8.69157 4.88121Z",fill:"#018374"}),r.createElement("path",{d:"M17.6916 17.8812C16.8102 18.0887 16.1207 18.7719 15.9077 19.6487L15.8965 19.6948C15.7975 20.1023 15.2155 20.1015 15.1176 19.6938L15.1097 19.661C14.8991 18.7837 14.2114 18.0987 13.3307 17.8888L13.3074 17.8833C12.8975 17.7856 12.8975 17.2048 13.3074 17.1072L13.3307 17.1016C14.2114 16.8918 14.8991 16.2068 15.1097 15.3294L15.1153 15.3062C15.2133 14.8979 15.7964 14.8979 15.8944 15.3062L15.9 15.3294C16.1107 16.2068 16.7983 16.8918 17.6791 17.1016L17.6926 17.1048C18.103 17.2026 18.1022 17.7845 17.6916 17.8812Z",fill:"#018374"}),r.createElement("defs",null,r.createElement("filter",{id:"filter0_f_5345_15767",x:"-1.5",y:"-3.63428",width:"24.7737",height:"31.6343",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feGaussianBlur",{stdDeviation:"3",result:"effect1_foregroundBlur_5345_15767"}))))}(a||(a={}))},AHUR:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return j}));var a,r=n("3yYM"),o=n.n(r),s=n("h6df"),l=n("IL1e"),c=n("sq+9"),u=n("0UWf"),d=n("AS+/"),p=n("6fbX"),m=n("lrqh"),h=n("D9EC"),g=n("hoSD"),f=n("hO7h"),b=n("f9Xq"),y=n("91hE");function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function S(e){if(Array.isArray(e))return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){C(e,t,n[t])}))}return e}function O(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A(e,t){return S(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||x(e,t)||k()}function _(e){return function(e){if(Array.isArray(e))return v(e)}(e)||w(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function I(e){return b.c.unsupportedComponents.includes(e.type)}function j(e){switch(e){case"row":return"block";case"button":case"box":return"inline";default:throw new Error("Unsupported component")}}!function(e){var t,n=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=_(r).concat([e.id]);switch(a){case t.PreOrder:return n(e,i),Y(e,n,a,i);case t.PostOrder:return Y(e,n,a,i),n(e,i);default:Object(p.c)(a)}},r=o.a.mark((function e(n){var a,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:t.PreOrder,e.delegateYield(P(n,a,[]),"t0",2);case 2:case"end":return e.stop()}}),e)})),v=function(e,t,n,r){var i=r;return a.forEach(e,(function(e,n){return i=t(i,e,n)}),n),i},j=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(a){case t.PreOrder:return Object(s.m)(n(e),(function(e){return W(e,n,a)}));case t.PostOrder:return Object(s.m)(W(e,n,a),m.g.map(n));default:Object(p.c)(a)}},T=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(a){case t.PreOrder:return Object(s.m)(e,m.g.fromPredicate(n),m.g.chain((function(e){return Object(s.m)(q(e,n,a),m.g.map((function(t){return E({},e,t)})))})));case t.PostOrder:return Object(s.m)(q(e,n,a),m.g.chain((function(t){return m.g.fromPredicate(n)(E({},e,t))})));default:Object(p.c)(a)}},M=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(a){case t.PreOrder:return Object(s.m)(n(e),m.g.chain((function(e){return Object(s.m)(z(e,n,a),m.g.map((function(t){return E({},e,t)})))})));case t.PostOrder:return Object(s.m)(z(e,n,a),m.g.chain((function(t){return n(E({},e,t))})));default:Object(p.c)(a)}},N=function(e){return T(e,Object(h.m)(U),t.PostOrder)},P=o.a.mark((function e(n){var a,r,i,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=s.length>1&&void 0!==s[1]?s[1]:t.PreOrder,r=s.length>2&&void 0!==s[2]?s[2]:[],i=_(r).concat([n.id]),e.t0=a,e.next=e.t0===t.PreOrder?5:e.t0===t.PostOrder?9:13;break;case 5:return e.next=7,n;case 7:return e.delegateYield(R(n,a,i),"t1",8);case 8:return e.abrupt("break",14);case 9:return e.delegateYield(R(n,a,i),"t2",10);case 10:return e.next=12,n;case 12:return e.abrupt("break",14);case 13:Object(p.c)(a);case 14:case"end":return e.stop()}}),e)})),L=o.a.mark((function e(n){var a,r,i,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=s.length>1&&void 0!==s[1]?s[1]:t.PreOrder,r=s.length>2?s[2]:void 0,i=0;case 2:if(!(i<n.length)){e.next=7;break}return e.delegateYield(P(n[i],a,r),"t0",4);case 4:i++,e.next=2;break;case 7:case"end":return e.stop()}}),e)})),R=o.a.mark((function e(n){var a,r,i,s,l,c,u,d,m=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=m.length>1&&void 0!==m[1]?m[1]:t.PreOrder,r=m.length>2?m[2]:void 0,e.t0=n.type,e.next="column"===e.t0?4:"assistantCard"===e.t0?6:"popoverStack"===e.t0?13:"strongAlertRef"===e.t0?15:"row"===e.t0?17:"block"===e.t0?20:"box"===e.t0||"scroll"===e.t0||"inlineCard"===e.t0?22:"list"===e.t0?24:"button"===e.t0?26:"alternativeChoice"===e.t0?28:"alternativeSlider"===e.t0?36:"assistantFeed"===e.t0?44:"viewStack"===e.t0?51:"collapsedCard"===e.t0?53:"longFormCard"===e.t0?60:"tooltip"===e.t0?63:"icon"===e.t0||"image"===e.t0||"text"===e.t0||"clickableText"===e.t0||"count"===e.t0||"alertsCount"===e.t0||"slider"===e.t0||"gButton"===e.t0||"lensesSwitchPanel"===e.t0||"proofitButton"===e.t0||"nativeSkillsModal"===e.t0||"nativeSkillsList"===e.t0||"nativeSkillsView"===e.t0||"nativeToneInsightsModal"===e.t0||"nativeLearnMoreModal"===e.t0||"nativeSettingsModal"===e.t0||"nativeFeedbackModal"===e.t0||"nativeGetStartedChecklistModal"===e.t0||"nativeKeyTakeawaysAssistantCard"===e.t0||"nativeProofitModal"===e.t0||"nativeExperimentalGBToneInsightsUpsellFooter"===e.t0||"nativeExperimentalGBConsistencyUpsellFooter"===e.t0||"nativeInlineCardContent"===e.t0||"progressBar"===e.t0||"horizontalRule"===e.t0||"dropDownMenuButton"===e.t0||"radioButtonsGroup"===e.t0?65:66;break;case 4:return e.delegateYield(L(n.children,a,r),"t1",5);case 5:return e.abrupt("break",71);case 6:if(null==n.footer){e.next=10;break}return e.delegateYield(P(n.footer,a,r),"t2",8);case 8:e.next=11;break;case 10:case 11:return e.delegateYield(P(n.child,a,r),"t3",12);case 12:return e.abrupt("break",71);case 13:return e.delegateYield(L(Object.values(n.views).map((function(e){return e.child})),a,r),"t4",14);case 14:return e.abrupt("break",71);case 15:return e.delegateYield(P(n.child,a,r),"t5",16);case 16:return e.abrupt("break",71);case 17:return e.delegateYield(L(n.left,a,r),"t6",18);case 18:return e.delegateYield(L(n.right,a,r),"t7",19);case 19:return e.abrupt("break",71);case 20:return e.delegateYield(L(n.parts,a,r),"t8",21);case 21:return e.abrupt("break",71);case 22:return e.delegateYield(P(n.child,a,r),"t9",23);case 23:return e.abrupt("break",71);case 24:return e.delegateYield(L(n.items.map((function(e){return e.label})),a,r),"t10",25);case 25:return e.abrupt("break",71);case 26:return e.delegateYield(P(n.label,a,r),"t11",27);case 27:return e.abrupt("break",71);case 28:i=0;case 29:if(!(i<n.alternatives.length)){e.next=35;break}return s=n.alternatives[i],l=s.label,c=s.preview,e.delegateYield(L([l,c],a,r),"t12",32);case 32:i++,e.next=29;break;case 35:return e.abrupt("break",71);case 36:u=0;case 37:if(!(u<n.choices.length)){e.next=43;break}return d=n.choices[u].preview,e.delegateYield(P(d,a,r),"t13",40);case 40:u++,e.next=37;break;case 43:return e.abrupt("break",71);case 44:if(null==n.footer){e.next=48;break}return e.delegateYield(P(n.footer,a,r),"t14",46);case 46:e.next=49;break;case 48:case 49:return e.delegateYield(P(n.header,a,r),"t15",50);case 50:return e.abrupt("break",71);case 51:return e.delegateYield(L(Object.values(n.views),a,r),"t16",52);case 52:return e.abrupt("break",71);case 53:if(null==n.quickActions){e.next=57;break}return e.delegateYield(P(n.quickActions,a,r),"t17",55);case 55:e.next=58;break;case 57:case 58:return e.delegateYield(P(n.child,a,r),"t18",59);case 59:return e.abrupt("break",71);case 60:return e.delegateYield(P(n.collapsedContent,a,r),"t19",61);case 61:return e.delegateYield(P(n.fullContent,a,r),"t20",62);case 62:return e.abrupt("break",71);case 63:return e.delegateYield(P(n.child,a,r),"t21",64);case 64:return e.abrupt("break",71);case 65:return e.abrupt("return");case 66:if(!I(n)){e.next=70;break}return e.abrupt("return");case 70:Object(p.c)(n);case 71:case"end":return e.stop()}}),e)}));!function(e){e.PreOrder="PreOrder",e.PostOrder="PstOrder"}(t=e.TreeTraversal||(e.TreeTraversal={})),e.forEach=n,e.traverse=r,e.reduce=v,e.findFirst=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.TreeTraversal.PreOrder,i=!0,o=!1,s=void 0;try{for(var l,c=r(e,n)[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;if(u.type===t)return m.g.some(u)}}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return m.g.none},e.findFirstWithPredicate=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.TreeTraversal.PreOrder,i=!0,o=!1,s=void 0;try{for(var l,c=r(e,n)[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;if(t(u))return m.g.some(u)}}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return m.g.none};var B=e.over=function(e,n,a){var r,o=S(r=n)||w(r)||x(r,i)||k(),l=o[0],c=o.slice(1);return m.a.isEmpty(c)&&l===e.id?a(e):G(e,s.f,t.PreOrder,(function(t){return e.id===l&&t.id===c[0]?B(t,c,a):m.g.some(t)}))};e.map=j,e.filter=T,e.filterMap=M,e.compact=N;var F=e.getAlertRefs=function(e){switch(e.type){case"alternativeChoice":case"alternativeSlider":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"box":case"slider":case"text":case"clickableText":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"tooltip":return m.g.none;case"longFormCard":return Object(s.m)(e.behaviors,l.i(y.b.isStrongAlertRef),f.l);case"strongAlertRef":return m.g.some([e]);case"inlineCard":return Object(s.m)(Object(s.m)(e.behaviors,m.g.fromNullable,m.g.chain(Object(s.h)(l.i(y.b.isStrongAlertRef),f.l))));case"list":return Object(s.m)(e.items,l.C((function(e){return Object(s.m)(e.behaviors,m.g.fromNullable,m.g.chain(Object(s.h)(m.a.filter(y.b.isStrongAlertRef),f.l)))})),m.g.sequenceArray,m.g.map(f.i));default:if(I(e))return m.g.none;Object(p.c)(e)}},D=(e.getAlertIds=Object(s.h)(F,m.g.chain(Object(s.h)(l.c(g.e.pick("alertIds")),f.m))),e.getAllAlertIds=function(e){return v(e,(function(e,t){return Object(s.m)(a.getAlertIds(t),m.g.map((function(t){return e.concat(t)})),m.g.getOrElse((function(){return e})))}),t.PreOrder,[])},e.getSDUIId=function(e){return m.g.fromNullable(e.id)},e.setPopoverView=function(e,t){return j(e,(function(e){switch(e.type){case"box":case"row":case"button":return Object(s.m)(m.g.fromNullable(e.behaviors),m.g.chain(l.k(y.b.isPopoverAnchor)),m.g.fold(Object(s.g)(e),(function(n){var a=n.view,r=O(n,["view"]);return Object(s.m)(m.g.fromNullable(a),m.g.fold((function(){return Object(s.m)(t,m.g.filter((function(e){return"component"===e.anchor.kind&&e.anchor.id===r.id})),m.g.fold(Object(s.g)(e),(function(t){return E({},e,{behaviors:[E({},r,{view:t})]})})))}),(function(n){return Object(s.m)(t,m.g.filter((function(e){return g.e.isEqual(e.anchor,n.anchor)})),m.g.fold((function(){return E({},e,{behaviors:[r]})}),(function(t){return t.rootPopoverId===n.rootPopoverId&&t.id===n.id?e:E({},e,{behaviors:[E({},r,{view:t})]})})))})))})));default:return e}}))},e.removeStrongAlertRef=function(e){return function(t){var n=Object(s.m)(t,l.C((function(e){return e.alertIds})),l.q,(function(e){return new Set(e)})),a=Object(s.m)(t,f.h(y.a.isStrongAlertRefComponent)),r=Object(s.m)(t,f.h(y.a.isStrongAlertRefBehavior));return Object(s.m)(M(e,H(n,a,r)),m.g.chain(N))}},function(e,t){var n;return E({},e,{behaviors:null===(n=e.behaviors)||void 0===n?void 0:n.map((function(e){return"behavior:strongAlertRef"===e.type?E({},e,{alertIds:e.alertIds.filter((function(e){return!t.has(e)}))}):e}))})}),H=function(e,t,n){return function(a){switch(a.type){case"alternativeChoice":case"alternativeSlider":case"box":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"slider":case"text":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"clickableText":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeGetStartedChecklistModal":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"radioButtonsGroup":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"tooltip":return m.g.some(a);case"longFormCard":return m.g.some(E({},a,{behaviors:a.behaviors.map((function(t){return y.b.isStrongAlertRef(t)?E({},t,{alertIds:t.alertIds.filter((function(t){return!e.has(t)}))}):t}))}));case"strongAlertRef":return Object(s.m)(t,m.g.exists((function(e){return e.some((function(e){return V.equals(a,e)}))})))?m.g.none:m.g.some(E({},a,{alertIds:a.alertIds.filter((function(t){return!e.has(t)}))}));case"inlineCard":return a.behaviors&&a.behaviors.some((function(e){return y.b.isStrongAlertRef(e)&&Object(s.m)(n,m.g.exists((function(t){return t.some((function(t){return y.b.StrongAlertRef.eq.equals(e,t)}))})))}))?m.g.none:m.g.some(D(a,e));case"list":var r=a.items.filter((function(e){return!e.behaviors||!e.behaviors.some((function(e){return y.b.isStrongAlertRef(e)&&Object(s.m)(n,m.g.exists((function(t){return t.some((function(t){return y.b.StrongAlertRef.eq.equals(e,t)}))})))}))}));return 0===r.length?m.g.none:m.g.some(E({},a,{items:r.map((function(t){return D(t,e)}))}));default:if(I(a))return m.g.some(a);Object(p.c)(a)}}},V=(e.switchViewStack=function(e,t,n){return Object(s.m)(B(e,t,(function(e){return"viewStack"!==e.type&&"popoverStack"!==e.type||null==e.views[n]?m.g.some(e):m.g.some(E({},e,{selected:n}))})),m.g.fold((function(){return e}),s.k))},e.toContentMap=function(e){return a.reduce(e,(function(e,t,n){return e[t.id]={content:t,path:n},e}),t.PreOrder,{})},e.eq=d.a(u.a)(b.b.Content)),U=e.isEmpty=function(e){if(null==e)return!0;switch(e.type){case"column":return l.y(e.children);case"assistantCard":return null==e.child&&null==e.footer;case"box":case"scroll":case"strongAlertRef":case"collapsedCard":case"inlineCard":return null==e.child;case"row":return l.y(e.left)&&l.y(e.right);case"block":return l.y(e.parts);case"list":return l.y(e.items);case"button":return null==e.label;case"alternativeChoice":return l.y(e.alternatives);case"alternativeSlider":return l.y(e.choices);case"assistantFeed":return null==e.header&&null==e.footer;case"viewStack":return g.e.isEmptyObject(e.views);case"longFormCard":return null==e.fullContent;case"tooltip":return null==e.child;case"count":case"alertsCount":case"icon":case"image":case"slider":case"text":case"clickableText":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"dropDownMenuButton":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"popoverStack":return!1;default:if(I(e))return!1;Object(p.c)(e)}};e.isSwitchViewAction=function(e){return"switchView"===e.type};e.bulkSwitchView=function(e,t,n){var r=null!=n?n:a.toContentMap(e);return t.reduce((function(e,t){var n=t.selected,i=t.where;return Object(s.m)(r[i],m.g.fromNullable,m.g.map(g.e.pick("path")),m.g.fold((function(){return e}),(function(t){return a.switchViewStack(e,t,n)})))}),e)},e.getCardPropsForFeed=function(e){return e.filtering.filter((function(e){return e.condition===b.a.ContentAssistantFeedFilteringCondition.EqualTo})).reduce((function(e,t){return E({},e,C({},t.property,t.value))}),{})};var W=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return G(e,n,a,j)},q=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return G(e,n,a,T)},z=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return G(e,n,a,M)},$=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,r=arguments.length>3?arguments[3]:void 0;return Object(s.m)(e,l.E(new Array,(function(e,t){return Object(s.m)(r(t,n,a),m.g.fold(s.f,(function(t){return e.push(t)}))),e})))},G=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,r=arguments.length>3?arguments[3]:void 0;switch(e.type){case"column":return Object(s.m)($(e.children,n,a,r),(function(t){return E({},e,{children:t})}),m.g.some);case"assistantCard":var i=Object(s.m)(m.g.fromNullable(e.footer),m.g.chain((function(e){return r(e,n,a)})),m.g.getOrElse((function(){})));return Object(s.m)(r(e.child,n,a),m.g.map((function(t){return E({},e,{child:t,footer:i})})));case"strongAlertRef":case"scroll":case"inlineCard":case"box":return Object(s.m)(r(e.child,n,a),m.g.map((function(t){return E({},e,{child:t})})));case"row":var o=$(e.right,n,a,r),c=$(e.left,n,a,r);return m.g.some(E({},e,{left:c,right:o}));case"block":return Object(s.m)($(e.parts,n,a,r),(function(t){return E({},e,{parts:t})}),m.g.some);case"list":return Object(s.m)(e.items,l.C((function(e){return Object(s.m)(r(e.label,n,a),m.g.map((function(t){return E({},e,{label:t})})))})),l.i(m.g.isSome),l.C(m.g.unsafeGet),(function(t){return E({},e,{items:t})}),m.g.some);case"button":return Object(s.m)(r(e.label,n,a),m.g.map((function(t){return E({},e,{label:t})})));case"alternativeChoice":return Object(s.m)(e.alternatives,l.C((function(e){return Object(s.m)([r(e.label,n,a),r(e.preview,n,a)],m.g.sequenceArray,m.g.map((function(e){return e})),m.g.map((function(t){var n=A(t,2),a=n[0],r=n[1];return E({},e,{label:a,preview:r})})))})),l.i(m.g.isSome),l.C(m.g.unsafeGet),(function(t){return E({},e,{alternatives:t})}),m.g.some);case"alternativeSlider":return Object(s.m)(e.choices,l.C((function(e){return Object(s.m)(r(e.preview,n,a),m.g.map((function(t){return E({},e,{preview:t})})))})),l.i(m.g.isSome),l.C(m.g.unsafeGet),(function(t){return E({},e,{choices:t})}),m.g.some);case"assistantFeed":return Object(s.m)(m.g.fromNullable(e.footer),m.g.chain((function(e){return r(e,n,a)})),m.g.map((function(t){return E({},e,{footer:t})})),m.g.alt((function(){return m.g.some(e)})),m.g.chain((function(e){return Object(s.m)(r(e.header,n,a),m.g.map((function(t){return E({},e,{header:t})})))})));case"popoverStack":return Object(s.m)(Object.keys(e.views),l.E({},(function(t,i){return Object(s.m)(r(e.views[i].child,n,a),m.g.fold((function(){return delete t[i],t}),(function(n){return t[i]=E({},e.views[i],{child:n}),t})))})),(function(t){return E({},e,{views:t})}),m.g.some);case"viewStack":return Object(s.m)(Object.keys(e.views),l.E({},(function(t,i){return Object(s.m)(r(e.views[i],n,a),m.g.fold((function(){return delete t[i],t}),(function(e){return t[i]=e,t})))})),(function(t){return E({},e,{views:t})}),m.g.some);case"collapsedCard":var u=Object(s.m)(m.g.fromNullable(e.quickActions),m.g.chain((function(e){return r(e,n,a)})),m.g.getOrElse((function(){})));return Object(s.m)(r(e.child,n,a),m.g.map((function(t){return E({},e,{child:t,quickActions:u})})));case"longFormCard":return Object(s.m)(r(e.fullContent,n,a),m.g.chain((function(t){return Object(s.m)(r(e.collapsedContent,n,a),m.g.map((function(n){return E({},e,{fullContent:t,collapsedContent:n})})))})));case"tooltip":return Object(s.m)(r(e.child,n,a),m.g.map((function(t){return E({},e,{child:t})})));case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"radioButtonsGroup":return m.g.some(e);default:if(I(e))return m.g.some(e);Object(p.c)(e)}},K=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,i=arguments.length>3?arguments[3]:void 0;return e.forEach((function(e){return n(e,a,r,i)}))},Y=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,i=arguments.length>3?arguments[3]:void 0;switch(e.type){case"column":return K(e.children,a,r,i);case"assistantCard":return null!=e.footer&&n(e.footer,a,r,i),n(e.child,a,r,i);case"popoverStack":return K(Object.values(e.views).map((function(e){return e.child})),a,r,i);case"strongAlertRef":return n(e.child,a,r,i);case"row":return K(e.left,a,r,i),K(e.right,a,r,i);case"block":return K(e.parts,a,r,i);case"box":case"scroll":case"inlineCard":return n(e.child,a,r,i);case"list":return K(e.items.map((function(e){return e.label})),a,r,i);case"button":return n(e.label,a,r,i);case"alternativeChoice":return e.alternatives.forEach((function(e){var t=e.label,n=e.preview;return K([t,n],a,r,i)}));case"alternativeSlider":return e.choices.forEach((function(e){var t=e.preview;return n(t,a,r,i)}));case"assistantFeed":return null!=e.footer&&n(e.footer,a,r,i),n(e.header,a,r,i);case"viewStack":return K(Object.values(e.views),a,r,i);case"collapsedCard":return null!=e.quickActions&&n(e.quickActions,a,r,i),n(e.child,a,r,i);case"longFormCard":return n(e.collapsedContent,a,r,i),n(e.fullContent,a,r,i);case"tooltip":return n(e.child,a,r,i);case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"radioButtonsGroup":return;default:if(I(e))return;Object(p.c)(e)}},Z=(e.Functor={map:function(e,n){return j(e,n,t.PreOrder)}},d.a(c.Schemable)(b.b.Content));e.dslRootParser=Object(s.h)(Z.decode,m.b.mapLeft((function(e){return new Error(c.draw(e))})))}(a||(a={}))},AK7F:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n("lrqh"),r=n("D9EC"),i=n("kFFO"),o=n("973I"),s=n("XxrX");const l=a.c.fromEquals((e,t)=>e.id===t.id&&e.visibilityState===t.visibilityState&&o.a.eq.equals(e.positionState,t.positionState)),c=e=>Object(i.a)({itemId:e.id,visibilityState:e.visibilityState,positionState:Object(i.a)(e.positionState)});var u,d;!function(e){e.id="PriorityToggleHintId",e.Kind="PriorityToggleHint",e.create=(e,n)=>new t(e,n,s.a.defaultOptions),e.hidden="hidden",e.visible="visible",e.isVisible=t=>t.visibilityState===e.visible,e.changePosition=(t,n)=>e.create(t.visibilityState,n),e.isPriorityToggleHint=t=>t.id===e.id,e.transitionTo=(t,n)=>t.visibilityState!==n?e.create(n,t.positionState):t,e.clone=t=>e.create(t.visibilityState,t.positionState);class t{constructor(t,n,a){this.visibilityState=t,this.positionState=n,this.renderOptions=a,this.kind=e.Kind,this.scheduledToDispose=!1,this.id=e.id}equals(e){return l.equals(this,e)}hashCode(){return c(this)}}}(u||(u={})),function(e){e.id="PriorityToggleId",e.Kind="PriorityToggle",e.isCollapsed=e=>"collapsed"===e.visibilityState,e.isExpanded=e=>"expanded"===e.visibilityState,e.isHidden=e=>"hidden"===e.visibilityState,e.create=(e,n)=>new t(e,n,s.a.defaultOptions),e.changePosition=(t,n)=>e.create(t.visibilityState,n),e.transitionTo=(t,n)=>t.visibilityState!==n?e.create(n,t.positionState):t,e.clone=t=>e.create(t.visibilityState,t.positionState),e.isPriorityToggle=t=>t.id===e.id,e.isPriorityItem=Object(r.p)(e.isPriorityToggle,u.isPriorityToggleHint);class t{constructor(t,n,a){this.visibilityState=t,this.positionState=n,this.renderOptions=a,this.kind=e.Kind,this.scheduledToDispose=!1,this.id=e.id}equals(e){return l.equals(this,e)}hashCode(){return c(this)}}}(d||(d={}))},AKgc:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n("HQ1c"),r=n("h6df");n("mvgW");function i(e){return function(t){return Object(r.h)(t,e.fromEither)}}function o(e,t){var n=i(e);return function(e){return function(a){return t.chain(a,n(e))}}}function s(e,t){return Object(r.h)(i(e),Object(a.b)(t))}},AW4s:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return a}));var a,r=n("D57K"),i=n("SYKK"),o=n("OA+g"),s=n("I7vG"),l=n("LNSM"),c=n("JAs9"),u=n("prnJ"),d=n("24uI"),p=n("Xj7G"),m=n("94k3"),h=n("bYZB"),g=n("GUi3"),f=n("QshB"),b=n("zR/0"),y=n("GGUR"),v=n("gy42"),S=n("lrqh"),C=n("pYfS"),w=n("QwZm"),k=n("CrFT");class E{constructor(e){this._changes=l.a.create(e),this.changes=this._changes.pipe(b.a.skip(1))}_updateValue(e,t){this._changes.modify(n=>Object.assign({},n,{[e]:t}))}get template(){return this._changes.get().template}set template(e){this._updateValue("template",e)}get outcomes(){return this._changes.get().outcomes}set outcomes(e){this._updateValue("outcomes",e)}get checkedPlagiarism(){return this._changes.view("checkedPlagiarism").get()}set checkedPlagiarism(e){this._updateValue("checkedPlagiarism",e)}}class O{constructor(e,t,n,a,r,i,p,m){this.id=e,this._doxInit=t,this._ded=n,this._getStats=a,this._doxApi=r,this._enableTrackingOnDownload=i,this.rtfMode=p,this.saved=new b.a.Subject,this.checkingState=l.a.create("full"),this.asyncChecksState=l.a.create({plagiarism:"full"}),this.counters=l.a.create(f.b.group.empty),this.defaultContext=l.a.create(S.g.none),this.score=l.a.create(S.g.none),this.scoreStatus=l.a.create(S.g.none),this.textInfo=l.a.create(S.g.none),this.recentDocumentStats=l.a.create(S.g.none),this.extraSettings=new E(Object(s.pipe)(this._doxInit.meta.settings.extraSettings,S.g.getOrElse(()=>c.a.Extra.empty))),this._subs=new y.a.Keeper,this.flush=()=>(this._ded.flushChanges(),this._doxInit.remoteDocument.flush()),this.updateContext=e=>{const t=!u.a.eq.equals(this.context.get(),e);return this.context.set(e),t},this.updateDefaultContext=e=>{const t=!Object(s.pipe)(Object(o.tuple)(this.defaultContext.get(),e),Object(o.tupled)(S.g.map2(u.a.Default.eq.equals)),S.g.getOrElse(o.constFalse));return this.defaultContext.set(e),t},this.title=l.a.create(t.meta.title),this.proofit=m(this.title),this.context=l.a.create(Object(s.pipe)(t.meta.settings.context,S.g.getOrElse(()=>u.a.unset)));const g=t.initialDelta.length-1;this.documentLength=l.a.create({full:g,trimmed:d.a.isInsertString(t.initialDelta.delta)?d.a.getTrimmedInsertLength(t.initialDelta.delta):g}),this.contextCompleteness=this.context.view(f.a.calculateCompleteness),this._subs.push(n.contentUpdated.pipe(b.a.filter(h.b.isTextMaybeWithFormatting),b.a.debounceTime(200),b.a.map(()=>n.getText()),b.a.map(e=>({full:e.length-1,trimmed:e.trim().length}))).subscribe(v.b.toAtom(this.documentLength)))}get template(){return C.a.decodeTemplate(this.extraSettings.template)}updateTemplate(e){this.extraSettings.template=C.a.serializeTemplate(e)}get isInitialRevision(){return this._doxInit.remoteDocument.isInitialRevision}get isDemoDocument(){return this._doxInit.meta.isDemoDocument}get documentText(){return this._ded.getText()}downloadOriginal(e){return Object(s.pipe)(this.flush,i.map(()=>e),i.chain(S.g.fold(()=>()=>this._doxApi.downloadOriginal(this.id,this._enableTrackingOnDownload),e=>()=>this._doxApi.downloadInFormat(this.id,e,this._enableTrackingOnDownload))),i.map(p.a.saveToFS))()}downloadProofread(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this._doxApi.downloadProofread(this.id).then(p.a.saveToFS)}))}generateReport(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this._doxApi.generateReport(this.id,e,t).then(p.a.saveToFS)}))}calculateStats(){return S.l.toPromise(this._getStats).then(e=>(this.recentDocumentStats.set(S.g.some(e)),e))}getCheckingForState(e){return e.currentLens.id!==g.a.SpecialId.Plagiarism?this.checkingState.view(e=>({kind:f.c.CheckingKind.Document,type:e})):l.a.combine(this.checkingState,this.asyncChecksState.view("plagiarism"),(e,t)=>"full"===e?{kind:f.c.CheckingKind.Document,type:e}:"idle"!==t?{kind:f.c.CheckingKind.Plagiarism,type:t}:{kind:f.c.CheckingKind.Document,type:e})}dispose(){this._subs.dispose()}}!function(e){e.Mock=class{constructor(){this.template=S.g.none,this.rtfMode=w.DocumentFeatures.FormattingMode.on,this.score=l.a.create(S.g.none),this.scoreStatus=l.a.create(S.g.none),this.textInfo=l.a.create(S.g.none),this.title=l.a.create(""),this.downloadOriginal=e=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return Promise.resolve()})),this.downloadProofread=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){return Promise.resolve()})),this.documentText="",this.documentLength=l.a.create({full:0,trimmed:0}),this.counters=l.a.create(f.b.group.empty),this.saved=l.a.create(!0),this.checkingState=l.a.create("idle"),this.asyncChecksState=l.a.create({plagiarism:"idle"}),this.isDemoDocument=!1,this.calculateStats=()=>Promise.resolve(m.a.DocumentStatistics.generateStats(210,1601)),this.flush=()=>Promise.resolve(),this.context=l.a.create(u.a.fromDomain("general")),this.defaultContext=l.a.create(S.g.some(u.a.defaultContextFallback)),this.contextCompleteness=l.a.create(0),this.updateContext=()=>!0,this.updateDefaultContext=()=>!0,this.proofit=new k.a.Mock,this.extraSettings=new E(c.a.Extra.empty),this.recentDocumentStats=l.a.create(S.g.none),this.generateReport=()=>Promise.resolve()}updateTemplate(e){}getCheckingForState(){return l.a.create({type:"idle",kind:f.c.CheckingKind.Document})}}}(a||(a={}))},Ars8:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return C}));var a=n("e12y"),r=n("0Hf4"),i=n("ax6a"),o=n("Ov/9");const s=44*o.a,l=144*o.a,c=700*o.a,u=12*o.a,d=16*o.a,p=14*o.a,m=p+(d-p)/2-4,h=8.25*o.a,g=.6*o.a;r.a.cssRule("html",{fontSize:a.a.px(p)});const f={invisible:"report-invisible",markBase:"report-markBase",markSuccess:"report-markSuccess",akkuratWrapper:"report-akkuratWrapper",content:"report-content",textContent:"report-textContent",text:"report-text",superscriptContainer:"report-superscriptContainer",superscript:"report-superscript",alertTableContainer:"report-alertTableContainer",alertTable:"report-alertTable",alertTableTd:"report-alertTableTd",alertTableTdIndex:"report-alertTableTdIndex",alertTableTdExample:"report-alertTableTdExample",alertTableTdPlagiarismSource:"report-alertTableTdPlagiarismSource",alertTableHighlightText:"report-alertTableHighlightText",separatorRemover:"report-separatorRemover",plagiarismLink:"report-plagiarismLink"},b=f.superscriptContainer,y={borderBottomColor:a.a.important("transparent"),textDecoration:a.a.important("none"),fontWeight:a.a.important("normal"),fontStyle:a.a.important("normal")},v={boxSizing:"border-box",margin:"0 -8px",paddingRight:a.a.px(s),paddingLeft:a.a.px(l),width:a.a.px(c),$nest:{thead:{display:"table-row-group"}}},S={padding:`${a.a.px(11*o.a)} ${a.a.px(16*o.a)} ${a.a.px(11*o.a)} 0`,borderTop:"1px solid "+i.a.CoreNeutral20,verticalAlign:"top",fontSize:a.a.px(u),lineHeight:a.a.px(d),breakInside:"avoid",$nest:{"&:last-of-type":{paddingRight:0}}},C={akkuratWrapper:a.a.joinClasses([f.akkuratWrapper,r.a.style({fontWeight:"normal",fontFamily:"'Akkurat Std', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, Arial","-webkit-font-smooting":"antialiased","-moz-osx-font-smoothing":"grayscale"})]),content:a.a.joinClasses([f.content,r.a.style(v)]),textContent:a.a.joinClasses([f.textContent,r.a.style(v,{fontSize:a.a.px(p),pageBreakBefore:"always"})]),text:a.a.joinClasses([f.text,r.a.style({lineHeight:a.a.px(48),$nest:{"& *":{animation:a.a.important("none")},"& .ql-container [class*=-placeholder]":{display:"none"},"& .ql-clipboard":{display:"none"}}})]),superscriptContainer:a.a.joinClasses([f.superscriptContainer,r.a.style({position:"relative",bottom:a.a.px(m),display:"inline-block",width:0,height:0,whiteSpace:"nowrap",fontSize:a.a.px(h)})]),superscript:a.a.joinClasses([f.superscript,r.a.style(y,{padding:"0 "+a.a.px(g),whiteSpace:"nowrap",$nest:{"&:not(:last-child):after":{content:"','"}}})]),alertTableContainer:a.a.joinClasses([f.alertTableContainer,r.a.style(v,{paddingLeft:0,pageBreakBefore:"always"})]),alertTable:a.a.joinClasses([f.alertTable,r.a.style({width:a.a.percent(100),borderCollapse:"collapse",$nest:{["& tr:first-of-type ."+f.alertTableTd]:{borderTopWidth:0},"& [class*=-or]":{marginRight:a.a.px(4*o.a),marginLeft:0,fontSize:a.a.px(u)},"& [class*=-removeOrContainer]":{flexBasis:"auto",$nest:{"& [class*=-itemRemove]":{marginRight:a.a.px(4*o.a),marginBottom:0,padding:0,$nest:{"& [class*=-deleteAll]":{verticalAlign:"middle"}}},"& [class*=-itemContext]":{marginRight:a.a.px(4*o.a),color:i.a.CoreNeutral60,fontStyle:"italic",fontSize:a.a.px(u)}}},"& [class*=-itemOriginal], & [class*=-itemRemove]":{backgroundColor:"transparent",color:i.a.CoreRed50,fontSize:a.a.px(u),lineHeight:a.a.px(d),paddingLeft:0,marginBottom:0},"& [class*=-itemOriginal]":{marginRight:0},"& [class*=-itemOriginal]:after":{margin:"-5px 4px 0",color:i.a.CoreNeutral60,fontSize:a.a.px(u),lineHeight:a.a.px(d)},"& [class*=-itemInsert]":{margin:0,padding:0,backgroundColor:"transparent",color:i.a.CoreGreen60,fontSize:a.a.px(u),lineHeight:a.a.px(d)},"& [class*=-itemInsert]:not(:last-child):after":{display:"inline-block",marginRight:"4px",color:i.a.CoreNeutral60,content:"','",fontSize:a.a.px(u),lineHeight:a.a.px(d)},"& [class*=-replacements_labels-diff]":{fontWeight:"normal"},"& [class*=-replacements_labels-list]":{marginBottom:0}}})]),alertTableTd:a.a.joinClasses([f.alertTableTd,r.a.style(S)]),alertTableTdIndex:a.a.joinClasses([f.alertTableTdIndex,r.a.style(S,{width:a.a.px(l),borderTopWidth:0,color:i.a.CoreNeutral50,textAlign:"right"})]),alertTableTdExample:a.a.joinClasses([f.alertTableTdExample,r.a.style(S,{maxWidth:a.a.px(350*o.a)})]),alertTableTdPlagiarismSource:a.a.joinClasses([f.alertTableTdPlagiarismSource,r.a.style(S,{maxWidth:a.a.px(190*o.a),wordWrap:"break-word"})]),alertTableHighlightText:a.a.joinClasses([f.alertTableHighlightText,r.a.style({color:i.a.CoreNeutral60,fontStyle:"italic",lineHeight:a.a.px(d)})]),markBase:a.a.joinClasses([f.markBase,r.a.style({$nest:{"@media print":{borderBottomWidth:a.a.important(a.a.px(3))}}})]),markSuccess:a.a.joinClasses([f.markSuccess,r.a.style({$nest:{"@media print":{backgroundColor:i.a.CoreNeutral0}}})]),separatorRemover:a.a.joinClasses([f.separatorRemover,r.a.style({position:"fixed",top:0,width:a.a.percent(100),height:a.a.px(3),backgroundColor:i.a.CoreNeutral0})]),plagiarismLink:a.a.joinClasses([f.plagiarismLink,r.a.style({display:"block",color:i.a.CoreBlue50})]),invisible:a.a.joinClasses([f.invisible,a.a.style({position:"absolute",visibility:"hidden"})])},w=e=>({position:"fixed",left:a.a.px(160),zIndex:-1,width:e});r.a.cssRule("[data-vertical-underline-start]:before",w(a.a.px(60)),{height:a.a.percent(100),borderRight:a.a.px(4)+" solid",content:"' '"},{"-webkit-print-color-adjust":"exact !important"}),r.a.cssRule("[data-vertical-underline-body]",w(a.a.px(60))),r.a.cssRule("[data-vertical-underline-body]:after",w(a.a.px(60)),{height:a.a.percent(100),borderRight:a.a.px(4)+" solid",background:i.a.CoreNeutral0,content:"' '"},{"-webkit-print-color-adjust":"exact !important"}),r.a.cssRule("[data-vertical-underline-index]",y,w(a.a.px(55)),{height:"inherit",backgroundColor:i.a.CoreNeutral0,textAlign:"right",fontSize:a.a.px(h),lineHeight:a.a.px(h)},{"-webkit-print-color-adjust":"exact !important"}),r.a.cssRule("[data-vertical-underline-index]:before",{display:"block",boxSizing:"border-box",width:a.a.px(65),height:a.a.px(6),borderTop:`${a.a.px(6)} solid ${i.a.CoreNeutral0}`,content:"' '"},{"-webkit-print-color-adjust":"exact !important"}),r.a.cssRule("[data-vertical-underline-end]:after",{position:"fixed",left:0,zIndex:-1,display:"block",width:a.a.px(229),height:a.a.percent(100),background:i.a.CoreNeutral0,content:"' '"},{"-webkit-print-color-adjust":"exact !important"})},"B/RW":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return C}));var a=n("ERkP"),r=n("I7vG"),i=n("vOOZ"),o=n("lrqh"),s=n("6fbX"),l=n("1w6p"),c=n("rk+4"),u=n("bO3R"),d=n("yB2L"),p=n("3rlE"),m=n("BugA"),h=n("zR/0"),g=n("RCgc"),f=n("95Qz");const b=l.b.Node.make(({notify:e})=>a.createElement(i.a.div,{className:g.a.maximizedCloseButtonContainer},a.createElement(m.b,{name:"close",onClick:e("onClick")},a.createElement(p.d.Arrow,{width:11,direction:p.a.up}))));var y;!function(e){let t,n;!function(e){e.onUpgrade="onUpgrade",e.onUpgradeButtonMount="onUpgradeButtonMount"}(t=e.ActionsKind||(e.ActionsKind={})),function(e){e.isOnUpgrade=function(e){return"onUpgrade"===e.kind},e.isOnUpgradeButtonMount=function(e){return"onUpgradeButtonMount"===e.kind}}(n=e.Actions||(e.Actions={}))}(y||(y={}));const v=l.b.Node.make(({state:e,notify:t})=>{const n=a.useContext(c.a.Context);return a.createElement(a.Fragment,null,a.createElement("div",{className:g.a.maximizedHeader},a.createElement(i.a.Fragment,null,e.pipe(h.a.map(({count:e})=>e>0?e>1?a.createElement(a.Fragment,{key:"plural"},n.sidebar.content.premiumIssues.foundTitlePlural.description1," ",e," ",n.sidebar.content.premiumIssues.foundTitlePlural.description2):a.createElement(a.Fragment,{key:"singular"},n.sidebar.content.premiumIssues.foundTitleSingular.description1," ",e," ",n.sidebar.content.premiumIssues.foundTitleSingular.description2):null)))),a.createElement(i.a.div,{className:g.a.alertCategoryContainer},e.pipe(h.a.map(({alerts:e})=>e.map(e=>a.createElement("div",{key:e.category,className:g.a.alertCategory},a.createElement("div",{className:g.a.categoryHumanContainer},e.categoryHuman),a.createElement("div",{className:g.a.alertCounterContainer},a.createElement(d.a.Counter,{count:e.count,type:"yellowPremium"}))))))),a.createElement("div",{className:g.a.premiumButtonContainer},a.createElement("div",{ref:e=>{t({type:"upgradeHookAction",kind:y.ActionsKind.onUpgradeButtonMount,element:o.g.fromNullable(e)})()}},a.createElement(u.a,{name:"upgrade",className:g.a.premiumButton,onClick:t({type:"upgradeHookAction",kind:y.ActionsKind.onUpgrade})},a.createElement(p.d.UpgradeHookPanel.ButtonDiamond,null),n.goPremium))))}),S=l.b.Composite.make(Object(f.a)(g.a.maximizedWrapper,g.a.maximizedWrapperIcon),l.b.Group.make({closeButton:l.b.Union.make("kind",{hidden:l.b.Node.empty,visible:b}),content:v})),C=Object(r.pipe)(l.b.squash(S),l.b.mapAction(e=>{switch(e.key){case"content":switch(e.action.kind){case y.ActionsKind.onUpgrade:return{kind:"upgrade"};case y.ActionsKind.onUpgradeButtonMount:return{kind:"onUpgradeButtonMount",element:e.action.element};default:return Object(s.c)(e.action)}case"closeButton":switch(e.action.action){case"onClick":return{kind:"collapse"};default:return Object(s.c)(e.action.action)}default:return Object(s.c)(e)}}),l.b.contramapState(e=>({closeButton:{kind:e.showCloseButton?"visible":"hidden"},content:e.alertsState})))},BBZl:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("ERkP"),r=n("vOOZ"),i=n("D9EC"),o=n("D6Vf"),s=n("e12y"),l=n("ps/9"),c=n("zR/0"),u=n("D8Xd"),d=n("P+uJ"),p=n("Z5Rd");const m=({manager:e,views:t,onNotificationClose:n=i.e,theme:s={}})=>{const l=function(e,t,n={}){return r=>{const i=e[r.type],o=e=>()=>{r.actions.next(e)};return r.metadata.viewType===d.a.ViewType.standard?a.createElement(p.b.Wrapper,{key:r.id,notification:r,onClose:()=>{r.actions.next("closedByUser"),t(r)},theme:n},i(r,o)):a.createElement(a.Fragment,{key:r.id},i(r,o))}}(t,n,s.view),m=void 0!==s.grid?Object.assign({},C,s.grid):C,g=e.state.view(e=>e.filter(h(d.a.Position.bottomLeft))),f=e.state.view(e=>e.filter(h(d.a.Position.bottomRight))),b=e.state.view(e=>e.filter(h(d.a.Position.top)));return a.createElement(r.a.div,{className:m.container},c.a.combineLatestStatic(b,f,b,e=>e.some(u.a.isHighPriority)).pipe(c.a.distinctUntilChanged(),c.a.map(e=>e&&a.createElement("div",{className:m.overlay},a.createElement(o.b,{positionType:"absolute",key:"notificationOverlay",preventClose:!0,overlayType:"light",alignment:"top-center",animate:!0,theme:{content:S.overlayContent,contentFaded:S.overlayContentFaded}})))),a.createElement(r.a.div,{className:m.bottomLeft},g.view(e=>e.map(l))),a.createElement(r.a.div,{className:m.bottomRight},f.view(e=>e.map(l))),a.createElement(r.a.div,{className:m.top},b.view(e=>e.map(l))))};function h(e){return t=>t.metadata.position===e}const g={position:"fixed",top:0,left:0,zIndex:l.n,width:s.a.percent(100),height:s.a.percent(100),pointerEvents:"none"},f={position:"absolute",zIndex:l.n,display:"flex",flexDirection:"column",width:s.a.rem(27),pointerEvents:"auto",alignItems:"flex-end"},b={right:s.a.rem(l.c),bottom:s.a.rem(1.5)},y={bottom:s.a.rem(1.5),left:s.a.rem(2)},v={transition:"transform .1s",transformOrigin:"center"},S=s.a.stylesheet({notificationContainer:[g],notificationWrapper:[f],bottomRightNotificationWrapper:[f,b],bottomLeftNotificationWrapper:[f,y],topNotificationWrapper:[f,{top:0,right:0,left:0,margin:"0 auto"}],overlayContentBase:[v],overlayContent:[v,{transform:"none"}],overlayContentFaded:[v,{transform:"scale(.95)"}]}),C={container:S.notificationContainer,bottomLeft:S.bottomLeftNotificationWrapper,bottomRight:S.bottomRightNotificationWrapper,top:S.topNotificationWrapper}},BM24:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("ERkP"),r=n("vOOZ"),i=n("9NHN"),o=n("bO3R"),s=n("ZD0N"),l=n("Q8bi"),c=n("GUi3"),u=n("e12y"),d=n("39mS");const p=({onClick:e,isActive:t,className:n})=>a.createElement(r.a.div,Object.assign({},Object(i.c)(m.allAlertsBtnContainer,n)),a.createElement(o.a,{id:c.a.SpecialId.AllAlerts,name:"lens-all-alerts",styleType:l.Typography.Type.Base,tag:s.b.div,className:u.a.joinClasses([m.allAlertsBtn,d.a.outcomeBtn,m.paddings,d.a.outcomeBtnBorders]),active:t,onClick:e},c.a.Info.allAlerts.title)),m=u.a.prefixedStylesheet("allAsuggestionsBtn",{allAlertsBtnContainer:[{position:"relative"}],allAlertsBtn:[{marginBottom:u.a.important(0)}],paddings:[{padding:u.a.important(`${u.a.rem(.5)} ${u.a.rem(.75)}`)}]})},BQwU:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("ERkP");const r=({title:e,titleId:t,desc:n,descId:r,...i})=>a.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?a.createElement("desc",{id:r},n):null,e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Z",fill:"#15C39A"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.046 11.727c.047.262.293.442.56.442h.838l.486-.068c-.778 1.14-2.128 1.665-3.604 1.433a3.428 3.428 0 0 1-2.669-2.136C5.67 8.82 7.551 6.36 10.004 6.36c1.278 0 2.4.768 3.042 1.671.17.246.509.317.755.146a.536.536 0 0 0 .161-.712A4.694 4.694 0 0 0 9.68 5.31c-2.34.157-4.232 2.07-4.367 4.411-.156 2.724 2.005 4.947 4.692 4.947a4.65 4.65 0 0 0 3.536-1.609l-.102.57v.516c0 .266.179.513.44.56.345.062.644-.2.644-.533v-3.088h-2.944c-.332 0-.595.3-.532.643Z",fill:"#fff"}))},BT8e:function(e,t,n){"use strict";n.d(t,"b",(function(){return Z})),n.d(t,"a",(function(){return X}));var a=n("iVSA"),r=n("3kT7"),i=n("ax6a"),o=n("e12y"),s=n("0Hf4"),l=n("ps/9");const c=e=>({$nest:{[`&[data-indent="${e}"]`]:{marginLeft:o.a.rem(.5*e)}}}),u=(e,t,n,a)=>({$nest:{[`&[data-indent="${t}"]`]:{counterIncrement:"card-list"+t,counterReset:a,$nest:{"&:before":{content:`'${e}' '\\A\\00a0' counter(card-list${t}, ${n}) '. '`}}}}}),d=e=>[u(e,0,"decimal","card-list1 card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),u(e,1,"lower-alpha","card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),u(e,2,"lower-roman","card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),u(e,3,"decimal","card-list4 card-list5 card-list6 card-list7 card-list8"),u(e,4,"lower-alpha","card-list5 card-list6 card-list7 card-list8"),u(e,5,"lower-roman","card-list6 card-list7 card-list8"),u(e,6,"decimal","card-list7 card-list8"),u(e,7,"lower-alpha","card-list8"),u(e,8,"lower-roman","none")],p="cards-replacements_labels-",m={list:p+"list",item:p+"item",diff:p+"diff",columnList:p+"columnList",itemInsert:p+"itemInsert",deleteAll:p+"deleteAll",crossed:p+"crossed",deleteQuote:p+"deleteQuote",deletePunctuation:p+"deletePunctuation",deleteDoubleComma:p+"deleteDoubleComma",deleteApostrophe:p+"deleteApostrophe",deleteLetter:p+"deleteLetter",deletePunctuationBeforeLetter:p+"deletePunctuationBeforeLetter",itemOriginal:p+"itemOriginal",itemOriginalStrikeThrough:p+"itemOriginalStrikeThrough",itemOriginalContent:p+"itemOriginalContent",spacesOnlyContent:p+"spacesOnlyContent",removeOrContainer:p+"removeOrContainer",itemContext:p+"itemContext",itemContextShifted:p+"itemContextShifted",or:p+"or",arrowInsertsList:p+"arrowInsertsList",cozyArrowInsertsList:p+"cozyArrowInsertsList",inlineHeader:p+"inlineHeader",fullSentenceBackground:p+"fullSentenceBackground",minimalFullSentenceBackground:p+"minimalFullSentenceBackground",fullSentenceDelete:p+"fullSentenceDelete",fullSentenceDeleteCollapsed:p+"fullSentenceDeleteCollapsed",fullSentenceHidden:p+"fullSentenceHidden",fullSentenceListItem:p+"fullSentenceListItem",fullSentenceBulletListItem:p+"fullSentenceBulletListItem",fullSentenceDashedListItem:p+"fullSentenceDashedListItem",fullSentenceOrderedListItem:p+"fullSentenceOrderedListItem",fullSentenceOrderedListItemWithFormatting:p+"fullSentenceOrderedListItemWithFormatting",fullSentenceDashedListItemWithFormatting:p+"fullSentenceDashedListItemWithFormatting",fullSentenceBulletListItemWithFormatting:p+"fullSentenceBulletListItemWithFormatting",fullSentenceInsert:p+"fullSentenceInsert",fullSentenceInsertPunctuation:p+"fullSentenceInsertPunctuation",toneAIInsert:p+"toneAIInsert",itemRemove:p+"itemRemove",oneGapInsert:p+"oneGapInsert",oneGapInput:p+"oneGapInput",drilldownInsertGroup:p+"drilldownInsertGroup",drilldownArrowButton:p+"drilldownArrowButton",drilldownIcon:p+"drilldownIcon",drilldownOriginalRow:p+"drilldownOriginalRow",drilldownBackButton:p+"drilldownBackButton",collapsibleDelete:p+"collapsibleDelete",collapsibleInsert:p+"collapsibleInsert",collapsiblePartContent:p+"collapsiblePartContent"},h={position:"relative",overflow:"hidden",margin:`0 ${o.a.rem(.5)} ${o.a.rem(.5)} 0`,padding:`${o.a.rem(.25)} ${o.a.rem(.5)}`,borderRadius:o.a.rem(l.t),color:i.a.CoreNeutral0,textAlign:"left",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:o.a.rem(1.5),cursor:"pointer",transitionDuration:".2s",overflowWrap:"break-word"},g={position:"relative",fontWeight:"bolder",overflow:"clip",$nest:{"&:after":{position:"absolute",top:"-8%",left:o.a.rem(.3125),width:"1px",height:"120%",background:i.a.CoreNeutral0,content:"''",opacity:.8}}},f={position:"relative",marginRight:o.a.rem(.5),whiteSpace:"nowrap"},b=e=>({overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:o.a.rem(1)+" 0",padding:e?0:o.a.rem(.5),maxHeight:o.a.rem(12),borderRadius:o.a.rem(l.t),background:e?i.a.CoreNeutral0:i.a.CoreNeutral10,color:i.a.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${l.e}, ${l.f}`}),y={position:"relative",marginRight:o.a.rem(.5),maxWidth:`calc(100% - ${o.a.rem(.5)})`,overflowWrap:"break-word",$nest:{"&:after":{display:"inline-block",marginLeft:o.a.rem(.5),color:i.a.CoreNeutral50,content:"'→'",verticalAlign:"middle"}}},v={textDecoration:"line-through",color:i.a.CoreRed40,textDecorationLine:"line-through"},S=[c(0),c(1),c(2),c(3),c(4),c(5),c(6),c(7),c(8)],C={display:"flex",alignItems:"flex-start",flexWrap:"wrap",fontFeatureSettings:`${l.e}, ${l.f}`},w=e=>({display:"inline-block",background:e?a.f.Interface.InteractiveBranded.Primary.Default:i.a.BackgroundCardApply,maxWidth:"100%",$nest:{"&[data-hovered='true']":{background:e?a.f.Interface.InteractiveBranded.Primary.Hover:i.a.CoreGreen50},"&[data-disabled='true']":{background:e?a.f.Interface.InteractiveBranded.Primary.Default:i.a.CoreGreen40,opacity:.4}}}),k={$nest:{"&:after":{transform:"rotate(-25deg)"}}},E={paddingRight:o.a.rem(.35),$nest:{"&:after":{transform:"rotate(25deg)"}}},O=e=>({color:e?a.f.Interface.InteractiveBranded.Primary.Default:i.a.CoreGreen60,fontWeight:600}),A={paddingRight:o.a.rem(.3125),$nest:{"&:before":{content:"' '"},"&:after":{transform:"rotate(25deg)"}}},_={textDecoration:"line-through",whiteSpace:"pre-wrap",$nest:{"&:before":{content:"' '"},"&:after":{background:"transparent !important",content:"' '"}}},x={display:"flex",flexBasis:"100%"},I={margin:`0 ${o.a.rem(.5)} ${o.a.rem(.5)} 2px`,color:i.a.CoreNeutral60},j={display:"flex",minWidth:"50%",flexWrap:"wrap",flexBasis:"content"},T={marginBottom:o.a.rem(.25),color:i.a.CoreNeutral60,fontWeight:400,fontSize:o.a.rem(.8),lineHeight:o.a.rem(1.2),$nest:{"&:first-letter":{textTransform:"capitalize"}}},M={color:a.f.Interface.DangerAndDeletion.Primary.Default,textDecoration:"line-through",fontWeight:600},N=Object.assign(Object.assign({},M),{textDecoration:"none"}),P={fontWeight:"bold",color:i.a.CorePurple50},L={background:a.f.Interface.DangerAndDeletion.Primary.Default,$nest:{"&[data-hovered='true'], &[data-disabled='true']":{background:a.f.Interface.DangerAndDeletion.Primary.Hover}}},R={$nest:{"&:before":{content:"'¶\\A\\00a0-\\00a0'"}}},B={$nest:{"&:before":{content:"'¶\\A\\00a0\\2022\\00a0'"}}},F={width:"100%",marginTop:o.a.rem(.5),marginBottom:o.a.rem(.25),boxSizing:"border-box",$nest:{"&[data-disabled='true']":{background:i.a.CoreNeutral40}}},D={marginTop:o.a.rem(.5),lineHeight:`calc(${o.a.rem(2)} - ${o.a.px(2)})`,padding:"0 "+o.a.rem(.5),border:o.a.important(`${o.a.px(1)} solid ${i.a.CoreNeutral50}`),color:i.a.CoreNeutral90,boxSizing:"border-box",$nest:{"&:placeholder-shown":{borderColor:o.a.important(i.a.CoreNeutral20)}}},H=s.a.style(h,w(!1)),V={margin:`0 ${o.a.rem(.5)} ${o.a.rem(.5)} 0`,$nest:{["& ."+m.itemInsert]:{transitionProperty:"background",margin:0},[`& > .${m.itemInsert}:first-child:not(:last-child)`]:{borderTopRightRadius:0,borderBottomRightRadius:0},["& ."+m.drilldownArrowButton]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},U={boxShadow:"inset 1px 0px 0px rgba(255, 255, 255, 0.3)",paddingLeft:o.a.rem(.1875),paddingRight:o.a.rem(.3125)},W={width:o.a.rem(1),height:o.a.rem(1),minWidth:o.a.rem(1),minHeight:o.a.rem(1),verticalAlign:"top",marginTop:o.a.rem(.25),$nest:{"& > svg":{transform:"scale(0.75)"},"& > svg *":{fill:o.a.important("white")}}},q={width:o.a.percent(100),marginBottom:o.a.rem(.5),display:"flex",$nest:{"& > *":{marginRight:o.a.rem(.5)}}},z={background:i.a.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:i.a.CoreNeutral10}}},$={display:"inline-block",width:o.a.rem(1),lineHeight:o.a.rem(.625),height:o.a.rem(.625),margin:"0 "+o.a.rem(.25),verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:o.a.rem(l.u)},G={lineHeight:o.a.rem(.2),verticalAlign:"super",marginLeft:"1px"},K=Object.assign(Object.assign({},$),{backgroundColor:i.a.CoreRed10}),Y=Object.assign(Object.assign({},$),{backgroundColor:i.a.CoreGreen10}),Z={list:o.a.joinClasses([m.list,o.a.style(C),s.a.style(C)]),item:o.a.joinClasses([m.item,o.a.style(h),s.a.style(h)]),itemInsert:o.a.joinClasses([m.itemInsert,o.a.style(h,w(!1)),H]),deleteAll:o.a.joinClasses([m.deleteAll,o.a.style({textDecoration:"line-through"}),s.a.style({textDecoration:"line-through"})]),crossed:o.a.joinClasses([m.crossed,o.a.style(g)]),deleteQuote:o.a.joinClasses([m.deleteQuote,o.a.style(g,k),s.a.style(g,k)]),deletePunctuation:o.a.joinClasses([m.deletePunctuation,o.a.style(g,E),s.a.style(g,E)]),deleteDoubleComma:o.a.joinClasses([m.deleteDoubleComma,o.a.style({textDecoration:"line-through"}),s.a.style({textDecoration:"line-through"})]),deleteApostrophe:o.a.joinClasses([m.deleteApostrophe,o.a.style(g,A),s.a.style(g,A)]),deleteLetter:o.a.joinClasses([m.deleteLetter,o.a.style(_),s.a.style(_)]),deletePunctuationBeforeLetter:o.a.joinClasses([m.deletePunctuationBeforeLetter,o.a.style({textDecoration:"line-through"}),s.a.style({textDecoration:"line-through"})]),itemOriginal:o.a.joinClasses([m.itemOriginal,o.a.style(y),s.a.style(y)]),itemOriginalStrikeThrough:o.a.joinClasses([m.itemOriginalStrikeThrough,o.a.style(v),s.a.style(v)]),itemOriginalContent:o.a.joinClasses([m.itemOriginalContent,o.a.style({color:i.a.CoreNeutral90}),s.a.style({color:i.a.CoreNeutral90})]),spacesOnlyContent:o.a.joinClasses([m.spacesOnlyContent,o.a.style({whiteSpace:"pre"})]),removeOrContainer:o.a.joinClasses([m.removeOrContainer,o.a.style(x),s.a.style(x)]),itemContext:o.a.joinClasses([m.itemContext,o.a.style(f)]),itemContextShifted:o.a.joinClasses([m.itemContextShifted,o.a.style(f,{marginRight:"2px"}),s.a.style(f,{marginRight:"2px"})]),or:o.a.joinClasses([m.or,o.a.style(I),s.a.style(I)]),arrowInsertsList:o.a.joinClasses([m.arrowInsertsList,o.a.style(j),s.a.style(j)]),columnList:o.a.joinClasses([m.columnList,o.a.style(j,{flexDirection:"column",alignItems:"flex-start",maxWidth:"100%"}),s.a.style(j)]),cozyArrowInsertsList:o.a.joinClasses([m.arrowInsertsList,o.a.style(j,{flex:2,flexBasis:"0%"}),s.a.style(j)]),inlineHeader:o.a.joinClasses([m.inlineHeader,o.a.style(T),s.a.style(T)]),toneAIInsert:o.a.joinClasses([m.toneAIInsert,o.a.style(P),s.a.style(P)]),fullSentenceBackground:o.a.joinClasses([m.fullSentenceBackground,o.a.style(b(!1)),s.a.style(b(!1))]),minimalFullSentenceBackground:o.a.joinClasses([m.minimalFullSentenceBackground,o.a.style(b(!1),{lineHeight:o.a.rem(1.3125)}),s.a.style(b(!1),{lineHeight:o.a.rem(1.3125)})]),fullSentenceDelete:o.a.joinClasses([m.fullSentenceDelete,o.a.style(M),s.a.style(M)]),fullSentenceDeleteCollapsed:o.a.joinClasses([m.fullSentenceDeleteCollapsed,o.a.style(N),s.a.style(N)]),fullSentenceHidden:o.a.joinClasses([m.fullSentenceHidden,o.a.style({display:"none"})]),fullSentenceListItem:o.a.joinClasses([m.fullSentenceListItem,o.a.style(...S),s.a.style(...S)]),fullSentenceBulletListItem:o.a.joinClasses([m.fullSentenceBulletListItem,o.a.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}}),s.a.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}})]),fullSentenceDashedListItem:o.a.joinClasses([m.fullSentenceDashedListItem,o.a.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}}),s.a.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}})]),fullSentenceOrderedListItem:o.a.joinClasses([m.fullSentenceOrderedListItem,o.a.style(...d(""),...S),s.a.style(...d(""),...S)]),fullSentenceOrderedListItemWithFormatting:o.a.joinClasses([m.fullSentenceOrderedListItemWithFormatting,o.a.style(...d("¶"),...S,O(!1)),s.a.style(...d("¶"),...S,O(!1))]),fullSentenceBulletListItemWithFormatting:o.a.joinClasses([m.fullSentenceBulletListItemWithFormatting,o.a.style(...S,B,O(!1)),s.a.style(...S,B)]),fullSentenceDashedListItemWithFormatting:o.a.joinClasses([m.fullSentenceDashedListItemWithFormatting,o.a.style(...S,R,O(!1)),s.a.style(...S,R)]),fullSentenceInsert:o.a.joinClasses([m.fullSentenceInsert,o.a.style(O(!1))]),fullSentenceInsertPunctuation:o.a.joinClasses([m.fullSentenceInsertPunctuation,o.a.style(O(!1))]),diff:o.a.joinClasses([m.diff,o.a.style({fontWeight:"bolder"}),s.a.style({fontWeight:"bolder"})]),itemRemove:o.a.joinClasses([m.itemRemove,o.a.style(h,L)]),oneGapInsert:o.a.joinClasses([m.oneGapInsert,o.a.style(h,w(!1),F),H]),oneGapInput:o.a.joinClasses([m.oneGapInput,o.a.style(D)]),drilldownInsertGroup:o.a.joinClasses([m.drilldownInsertGroup,o.a.style(V)]),drilldownArrowButton:o.a.joinClasses([m.drilldownArrowButton,o.a.style(U)]),drilldownIcon:o.a.joinClasses([m.drilldownIcon,o.a.style(W)]),drilldownOriginalRow:o.a.joinClasses([m.drilldownOriginalRow,o.a.style(q)]),drilldownBackButton:o.a.joinClasses([m.drilldownBackButton,o.a.style(z)]),collapsibleDelete:o.a.joinClasses([m.collapsibleDelete,o.a.style(K)]),collapsibleInsert:o.a.joinClasses([m.collapsibleInsert,o.a.style(Y)]),collapsiblePartContent:o.a.joinClasses([m.collapsiblePartContent,o.a.style(G)])};o.a.cssRule(`.${m.fullSentenceDelete} + .${m.fullSentenceInsert}`,{marginLeft:o.a.rem(.25)});const X=Object.assign(Object.assign({},Z),{itemInsert:o.a.joinClasses([m.itemInsert,o.a.style(h,w(!0)),H,r.l]),oneGapInsert:o.a.joinClasses([m.oneGapInsert,H,o.a.style(h,w(!0),F),r.l]),fullSentenceOrderedListItemWithFormatting:o.a.joinClasses([m.fullSentenceOrderedListItemWithFormatting,s.a.style(...d("¶"),...S,O(!1)),o.a.style(...d("¶"),...S,O(!0))]),fullSentenceBulletListItemWithFormatting:o.a.joinClasses([m.fullSentenceBulletListItemWithFormatting,o.a.style(...S,B,O(!0)),s.a.style(...S,B)]),fullSentenceDashedListItemWithFormatting:o.a.joinClasses([m.fullSentenceDashedListItemWithFormatting,o.a.style(...S,R,O(!0)),s.a.style(...S,R)]),fullSentenceInsert:o.a.joinClasses([m.fullSentenceInsert,o.a.style(O(!0))]),fullSentenceInsertPunctuation:o.a.joinClasses([m.fullSentenceInsertPunctuation,o.a.style(O(!0))]),fullSentenceBackground:o.a.joinClasses([m.fullSentenceBackground,o.a.style(b(!0)),s.a.style(b(!1))]),minimalFullSentenceBackground:o.a.joinClasses([m.minimalFullSentenceBackground,o.a.style(b(!0),{lineHeight:o.a.rem(1.3125)}),s.a.style(b(!0),{lineHeight:o.a.rem(1.3125)})])})},BWF9:function(e,t,n){e.exports=n.p+"files/b788e8a0ec2b2ab3fe6f0d17e4508835/inter-bold.woff"},BeBM:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"i",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"l",(function(){return v})),n.d(t,"j",(function(){return S})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return C})),n.d(t,"h",(function(){return k})),n.d(t,"g",(function(){return E})),n.d(t,"b",(function(){return O}));var a,r,i,o,s,l=n("GRZr"),c=n("OA+g"),u=n("I7vG"),d=n("xlCj"),p=n("lrqh"),m=n("D9EC"),h=n("6fbX"),g=n("hoSD"),f=n("GUi3"),b=n("zR/0"),y=n("kFFO");!function(e){e.forceText="forceText",e.forceSidebar="forceSidebar"}(a||(a={})),function(e){e.lensview="lensview",e.advanced="advanced",e.plagiarism="plagiarism",e.draftAI="draftAI",e.cheetah="cheetah",e.closed="closed"}(r||(r={})),function(e){e.active="active",e.persistent="persistent",e.abstract="abstract"}(i||(i={})),function(e){function t(e){return Object(u.pipe)(e.cardIndex,p.g.chain(t=>e.items.getAt(t)))}e.getActiveItem=t,e.getActiveItemIndex=t=>Object(c.flow)(e.getActiveItem,p.g.chain(e=>t.get(e.id)),p.g.map(e=>e.index)),e.getActiveItemOfType=function(e){return Object(c.flow)(t,p.g.filter(e))}}(o||(o={})),function(e){e.withFilter=e=>t=>(n,a)=>t(n,Object(m.b)(e,a)),e.compose=function(e){return(t,n)=>Object(l.fold)(Object(l.getEndomorphismMonoid)())(e.map(e=>e(t,n)))}}(s||(s={}));const v=e=>"withPriorityList"in e&&e.withPriorityList;var S,C;!function(e){e.hasItems=function(e){return e.kind===i.active||e.kind===i.persistent}}(S||(S={}));class w{constructor(e){this._data=e}static create(e){return new w(e)}get alertSource(){return this._data.alertSource}get switchOrder(){return this._data.switchOrder}get currentLens(){return this._data.currentLens}patch(e){return new w(Object.assign(Object.assign({},this._data),e))}hashCode(){let e=7;return e=31*e+Object(y.b)(this.alertSource),e=31*e+Object(y.b)(this.switchOrder),e=31*e+this.currentLens.hashCode(),e}equals(e){return this.alertSource===e.alertSource&&this.switchOrder===e.switchOrder&&this.currentLens.equals(e.currentLens)}}!function(e){function t(e,t,n){return a=>{switch(a.currentLens.kind){case i.active:return e(a);case i.persistent:return t(a);case i.abstract:return n(a);default:return Object(h.c)(a.currentLens)}}}let n,o,s,l;function m(e){return e.currentLens.kind===i.persistent}function y(e){return f.a.isOutcomeId(e.currentLens.id)||f.a.isMainLens(e.currentLens.id)||e.currentLens.id===f.a.SpecialId.PredictionTakeaways||e.currentLens.id===f.a.SpecialId.PredictionEmogenie}e.withCardLensSnapshot=(e,t)=>n=>{const a=n.currentLens.items.size>50,r=Object(u.pipe)(n.currentLens.cardIndex,p.g.getOrElse(()=>0)),[i,o]=a?[Math.max(r-25,0),r+25]:[0,50];return{alertSource:n.alertSource,switchOrder:n.switchOrder,lens:{id:n.currentLens.id,card:Object(u.pipe)(t(n.currentLens),p.g.map(e)),items:n.currentLens.items.values().slice(i,o).map(e),sample:a}}},e.snapshot=(n,a)=>t(e.withCardLensSnapshot(n,a),e.withCardLensSnapshot(n,a),e=>({alertSource:e.alertSource,switchOrder:e.switchOrder,lens:{id:e.currentLens.id,kind:e.currentLens.kind}})),e.genericMapper=t,e.mapper=e=>t(e,e,()=>p.g.none),e.getActiveItem=t=>e.mapper(({currentLens:e})=>t(e)),e.getActiveAlertHighlight=t=>Object(c.flow)(e.getActiveItem(t),p.g.map(e=>({alert:e.activeAlert,highlightIndex:e.activeHighlightIndex}))),e.getActiveAlert=t=>Object(c.flow)(e.getActiveItem(t),p.g.map(e=>e.activeAlert)),e.getLens=e.mapper(({currentLens:e})=>p.g.some(e)),function(e){e.mapper=function(e,t){return n=>t[e(n)](n)}}(n=e.Items||(e.Items={})),e.is=function(e){return t=>t.currentLens.id===e},e.isLensview=function(e){return e.currentLens.type===r.lensview},e.isPersistent=m,e.hasCards=function(e){return e.currentLens.kind===i.active||m(e)},e.hasItems=function(e){return e.currentLens.kind===i.active||e.currentLens.kind===i.persistent},e.hasSuccess=y,e.isWithPriorityList=function(e){return y(e)&&v(e.currentLens)},e.isForceSidebar=t=>(e.isLensview(t)||t.currentLens.type===r.plagiarism)&&t.alertSource===a.forceSidebar,e.isSidebarOpened=t=>!e.is(f.a.SpecialId.Closed)(t),function(e){e.defaultFilter=g.e.pick("alertHighlight")}(o=e.FocusFirstFilter||(e.FocusFirstFilter={})),function(e){e.getLens=()=>d.a.create(e=>e.currentLens,(e,t)=>t.patch({currentLens:e})),e.getLensWithItems=()=>d.a.create(e=>e.currentLens,(e,t)=>t.patch({currentLens:e}))}(s=e.Prism||(e.Prism={})),function(e){let t,n,a,r,i,o,s,l,u;!function(e){e.SwitchLens="SwitchLens",e.SwitchAlert="SwitchAlert",e.Applicator="Applicator",e.ItemsApplicator="ItemsApplicator"}(t=e.Type||(e.Type={})),function(e){let n;e.create=function(e){return{type:t.Applicator,source:e}},function(e){e.identity=e=>e,e.override=e=>()=>e,e.empty=b.a.EMPTY}(n=e.Source||(e.Source={}))}(n=e.Applicator||(e.Applicator={})),function(e){let n;e.create=function(e){return{type:t.ItemsApplicator,source:e}},function(e){e.identity=()=>e=>e,e.override=e=>()=>e,e.empty=b.a.EMPTY}(n=e.Source||(e.Source={}))}(a=e.ItemsApplicator||(e.ItemsApplicator={})),function(e){e.create=function(e){return{type:t.SwitchAlert,source:e}}}(r=e.SwitchAlert||(e.SwitchAlert={})),function(e){e.create=function(e){return{type:t.SwitchLens,source:e}}}(i=e.SwitchLens||(e.SwitchLens={})),function(e){function t(e){return e===f.a.SpecialId.Closed}e.isSidebarClosed=t,e.isSidebarOpen=Object(c.not)(t),e.always=c.constTrue}(o=e.When||(e.When={})),function(e){e.delayed=e=>t=>{const n=b.a.delayWhen(()=>b.a.of(void 0),e),a=Object.assign(Object.assign({},t.what),{source:n(t.what.source)});return Object.assign(Object.assign({},t),{what:a})}}(s=e.Producer||(e.Producer={})),function(e){e.noFocus="noFocus",e.unFocus="unFocus",e.focusFirst="focusFirst",e.focusNext="focusNext",e.focusAlert="focusAlert"}(l=e.FocusBehaviorType||(e.FocusBehaviorType={})),function(e){e.noFocus={kind:l.noFocus},e.unFocus={kind:l.unFocus},e.focusNext={kind:l.focusNext},e.focusFirst={kind:l.focusFirst},e.focusAlert=e=>({kind:l.focusAlert,alertHighlight:e})}(u=e.FocusBehavior||(e.FocusBehavior={}))}(l=e.Effect||(e.Effect={}))}(w||(w={})),function(e){e.defaultOptions={focusBehavior:w.Effect.FocusBehavior.focusFirst}}(C||(C={}));var k,E,O;!function(e){e[e.allAlerts=0]="allAlerts",e[e.priorityAlertsOnly=1]="priorityAlertsOnly"}(k||(k={})),function(e){e.getDefault=()=>k.allAlerts}(E||(E={})),function(e){e.skip=c.constFalse,e.force=c.constTrue,e.proceed=e=>e.positionState.animationInProgress}(O||(O={}))},BlMh:function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return D}));var a=n("D57K"),r=n("ERkP"),i=n("KCID"),o=n("Z1nV"),s=n("UMB3"),l=n("YK3O"),c=n("rGmV");const u=new WeakMap,d=new WeakMap,p=new WeakMap;var m=n("hzDq"),h=n("wfm3");let g=Math.round(1e10*Math.random()),f=0;function b(e){let t=(0,r.useMemo)(()=>e.name||`radio-group-${g}-${++f}`,[e.name]),[n,a]=(0,h.b)(e.value,e.defaultValue,e.onChange),[i,o]=(0,r.useState)(null);return{name:t,selectedValue:n,setSelectedValue:t=>{e.isReadOnly||e.isDisabled||a(t)},lastFocusedValue:i,setLastFocusedValue:o,isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1,validationState:e.validationState||null}}const y=({title:e,titleId:t,desc:n,descId:a,...i})=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...i},n?r.createElement("desc",{id:a},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1.646-8.354a.5.5 0 0 0-.708.708L11.293 12l-1.647 1.646a.5.5 0 0 0 .708.708L12 12.707l1.646 1.647a.5.5 0 0 0 .708-.708L12.707 12l1.647-1.646a.5.5 0 0 0-.708-.708L12 11.293l-1.646-1.647Z",fill:"#646B81"}));var v=n("iVSA"),S=n("9NHN"),C=n("vOOZ"),w=n("zR/0"),k=n("gy42"),E=n("07Tf"),O=n("D9EC"),A=n("Q8bi"),_=n("xEVj"),x=n("e12y");const I={display:"flex",alignItems:"center",opacity:1,color:v.f.Base.Content.Primary.Default,cursor:"pointer"},j={$nest:{'&[type="radio"]':{display:x.a.important("inline-block")}}},T={display:"flex",justifyContent:"center",alignItems:"center",transform:"scale(calc(var(--rem)/16))",minWidth:x.a.rem(v.g.Space8),marginRight:x.a.rem(v.g.SpaceHalf)},M={display:"inline-flex"},N={flexDirection:"row",alignItems:"center",flexWrap:"wrap",gap:x.a.rem(v.g.Space1)},P={display:"flex",gap:x.a.rem(v.g.Space3),color:v.f.Interface.DangerAndDeletion.Primary.Default,padding:`0 ${x.a.rem(v.g.Space2)} 0 ${x.a.rem(v.g.Space3)}`,margin:x.a.rem(v.g.Space2)+" 0",$nest:{"& svg":{transform:"scale(1.4)"},"& path":{fill:v.f.Interface.DangerAndDeletion.Primary.Default}}},L={border:"1px solid "+v.f.Interface.DangerAndDeletion.Primary.Default,borderRadius:x.a.rem(v.e.Radius1)},R=x.a.stylesheet({input:[j],label:[I],disabled:[I,{opacity:.4,cursor:"not-allowed"}],dot:[T],circle:[{transition:"all .2s"}],horizontal:[M,N],vertical:[M,{flexDirection:"column"}],errorMessage:[P],errorGroup:[L],groupWrapper:[{display:"flex",flexDirection:"column"}]}),B=r.createContext(E.a.invariantContent("radioGroupContext"));var F,D,H;!function(e){e.Item=e=>{var{className:l}=e,c=Object(a.__rest)(e,["className"]);const h=r.useContext(B),g=r.useRef(null),{inputProps:f,isSelected:b,isDisabled:y}=function(e,t,n){let{value:a,children:r,"aria-label":l,"aria-labelledby":c}=e;const m=e.isDisabled||t.isDisabled;null!=r||(null!=l||null!=c)||console.warn("If you do not provide children, you must specify an aria-label for accessibility");let h=t.selectedValue===a,{pressProps:g,isPressed:f}=(0,s.l)({isDisabled:m}),{focusableProps:b}=(0,o.f)((0,i.l)(e,{onFocus:()=>t.setLastFocusedValue(a)}),n),y=(0,i.l)(g,b),v=(0,i.b)(e,{labelable:!0}),S=t.lastFocusedValue===a||null==t.lastFocusedValue?0:-1;return m&&(S=void 0),{inputProps:(0,i.l)(v,{...y,type:"radio",name:u.get(t),tabIndex:S,disabled:m,checked:h,value:a,onChange:e=>{e.stopPropagation(),t.setSelectedValue(a)},"aria-describedby":["invalid"===t.validationState?p.get(t):null,d.get(t)].filter(Boolean).join(" ")||void 0}),isDisabled:m,isSelected:h,isPressed:f}}(c,h,g),{isFocusVisible:C,focusProps:w}=Object(o.e)(),{hoverProps:k,isHovered:E}=Object(s.g)({}),_=b?5:2;return r.createElement(A.Typography,Object.assign({styleType:A.Typography.Type.Base,nodeType:"label"},k,Object(S.c)(Object(O.c)(R.disabled,R.label)(y),l)),r.createElement(m.a,null,r.createElement("input",Object.assign({},f,w,{ref:g,className:R.input}))),r.createElement("div",{className:R.dot},r.createElement("svg",{width:n,height:n,"aria-hidden":!0},r.createElement("circle",{cx:t,cy:t,r:E?t:0,fill:v.a.BlueGray5,fillOpacity:+(E&&!y),className:R.circle}),r.createElement("circle",{cx:t,cy:t,r:t/2+2,fill:"none",stroke:v.f.Interface.InteractiveBranded.Primary.Default,strokeWidth:2,strokeOpacity:+(C&&!y),className:R.circle}),r.createElement("circle",{cx:t,cy:t,r:t/2-_/2,fill:"none",stroke:b?v.f.Interface.InteractiveBranded.Primary.Default:v.f.Base.Boundaries.Primary.Default,strokeWidth:_,className:R.circle}))),c.children)},e.Group=e=>{const{name:t,orientation:n="vertical",className:a,children:h,label:g,description:f,errorMessage:v,validationState:C}=e,w=b(e),{radioGroupProps:k,labelProps:E,descriptionProps:_,errorMessageProps:x}=function(e,t){let{name:n,validationState:a,isReadOnly:r,isRequired:m,isDisabled:h,orientation:g="vertical"}=e,{direction:f}=(0,c.b)(),{labelProps:b,fieldProps:y,descriptionProps:v,errorMessageProps:S}=(0,l.a)({...e,labelElementType:"span"});d.set(t,v.id),p.set(t,S.id);let C=(0,i.b)(e,{labelable:!0}),{focusWithinProps:w}=(0,s.f)({onBlurWithin(){t.selectedValue||t.setLastFocusedValue(null)}}),k=(0,i.u)(n);return u.set(t,k),{radioGroupProps:(0,i.l)(C,{role:"radiogroup",onKeyDown:e=>{let n;switch(e.key){case"ArrowRight":n="rtl"===f&&"vertical"!==g?"prev":"next";break;case"ArrowLeft":n="rtl"===f&&"vertical"!==g?"next":"prev";break;case"ArrowDown":n="next";break;case"ArrowUp":n="prev";break;default:return}e.preventDefault();let a,r=(0,o.c)(e.currentTarget,{from:e.target});"next"===n?(a=r.nextNode(),a||(r.currentNode=e.currentTarget,a=r.firstChild())):(a=r.previousNode(),a||(r.currentNode=e.currentTarget,a=r.lastChild())),a&&(a.focus(),t.setSelectedValue(a.value))},"aria-invalid":"invalid"===a||void 0,"aria-errormessage":e["aria-errormessage"],"aria-readonly":r||void 0,"aria-required":m||void 0,"aria-disabled":h||void 0,"aria-orientation":g,...y,...w}),labelProps:b,descriptionProps:v,errorMessageProps:S}}(e,w);return r.createElement("div",Object.assign({"data-name":t},k,Object(S.c)(R.groupWrapper,a)),Boolean(g)&&r.createElement(A.Typography,Object.assign({nodeType:"span",styleType:A.Typography.Type.Base},E),g),r.createElement("div",Object.assign({},Object(S.c)(R[n],Object(O.c)(R.errorGroup,void 0)(Boolean("invalid"===C)))),r.createElement(B.Provider,{value:w},h),Boolean(f)&&r.createElement(m.a,null,r.createElement("div",Object.assign({},_),f))),Boolean(v)&&"invalid"===C&&r.createElement(A.Typography.Small,Object.assign({},x,{className:R.errorMessage}),r.createElement("i",{"aria-hidden":!0},r.createElement(y,{width:16,height:16,viewBox:"4 4 16 16"})),v))};const t=16,n=2*t}(F||(F={})),(H=D||(D={})).Group=e=>{var{items:t,selectedItemIndex:n,itemWrapperClassName:i}=e,o=Object(a.__rest)(e,["items","selectedItemIndex","itemWrapperClassName"]);const[s,l]=r.useState(n.get()),[c,u]=r.useState(void 0);return _.a.useSubscriptionTo(w.a.mergeStatic(n.pipe(w.a.tap(l)),k.b.toObservable(i).pipe(w.a.tap(u)))),r.createElement(F.Group,Object.assign({},o,{value:String(s),onChange:e=>{var t;return null===(t=o.onChange)||void 0===t||t.call(o,e),n.set(+e)}}),t.map((e,t)=>r.createElement(F.Item,{key:t,value:String(t),className:c},e)))},H.Item=e=>{var{onChange:t,checked:n,className:o,children:s}=e,l=Object(a.__rest)(e,["onChange","checked","className","children"]);const c=Object(i.u)(),u=b({defaultValue:n.get()?c:void 0});return r.useEffect(()=>{u.selectedValue===c&&t()},[u.selectedValue,t,c]),_.a.useSubscriptionTo(n.pipe(w.a.tap(e=>u.setSelectedValue(e?c:"")))),r.createElement(B.Provider,{value:u},r.createElement(C.a.Fragment,null,w.a.combineLatestStatic([k.b.toObservable(s),k.b.toObservable(o)]).pipe(w.a.map(([e,t])=>r.createElement(F.Item,Object.assign({},l,{value:c,className:t}),e)))))}},BoSw:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("lrqh"),i=n("D9EC"),o=n("zR/0"),s=n("uukV");!function(e){let t,n;!function(e){let t;!function(e){e[e.ERROR=0]="ERROR",e[e.EMPTY=1]="EMPTY",e[e.LOADING=2]="LOADING",e[e.SHORT_CONTENT=3]="SHORT_CONTENT",e[e.READY=4]="READY"}(t=e.Type||(e.Type={}))}(t=e.State||(e.State={})),function(e){e.Mock=class{constructor(e={type:t.Type.EMPTY},n=r.g.some(new s.a.ViewModel.Mock)){this.statisticsState=e,this.reportViewModel=n,this.state=o.a.of(this.statisticsState),this.onModalClose=i.e}}}(n=e.ViewModel||(e.ViewModel={}))}(a||(a={}))},BwCH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("zR/0");class r{static copy(e,t){this._clearSelection();const n=this._createHiddenSpan(e);return this.select(n),this._copy(e,t).then(()=>{n.parentElement.removeChild(n)}).catch(e=>{throw n.parentElement.removeChild(n),e})}static select(e){if(Boolean(window.getSelection)&&Boolean(document.createRange)){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}else if("createTextRange"in document.body&&"selection"in document){const e=document.body.createTextRange();e.moveToElementText(this),e.select()}}static _clearSelection(){const e=Boolean(window.getSelection)?window.getSelection():document.selection;"removeAllRanges"in e?e.removeAllRanges():"empty"in e&&e.empty()}static _createHiddenSpan(e){const t=document.createElement("span");return t.setAttribute("style",["all: unset","position: fixed","top -999px","left -999px","opacity: 0","background transparent","white-space: pre","-webkit-user-select: text","-moz-user-select: text","-ms-user-select: text","user-select: text"].join(";")),t.textContent=e,document.body.appendChild(t),t}static _copy(e,t){return new Promise((n,a)=>{try{const r=t?window.clipboardData.setData("text",e):document.execCommand("copy");Boolean(r)?n():a(new Error("Copy API doesn't work"))}catch(e){a(e)}})}}r.copyApiAvailable=new a.a.BehaviorSubject(!0);try{a.a.fromEvent(window,"click").pipe(a.a.first()).subscribe(()=>{document.queryCommandSupported("copy")||r.copyApiAvailable.next(!1)})}catch(e){r.copyApiAvailable.next(!1)}},C2XS:function(e,t,n){"use strict";n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return fe})),n.d(t,"a",(function(){return Ie})),n.d(t,"f",(function(){return gc})),n.d(t,"e",(function(){return bc}));var a=n("b+P9"),r=n("OA+g"),i=n("zR/0"),o=n("LNSM"),s=n("e9DL");function l(e){return Object(r.pipe)(e,a.fromPredicate(e=>"initial"===e.kind||"dragged"===e.kind))}class c{constructor(e,t){this._positionInfo=e,this._handlers=t,this._internalState=o.a.create({managedPositionInfo:a.none,assistant:a.none,dragState:a.none,assistantMaxHeight:a.none}),this.state=this._internalState.view(e=>Object(r.pipe)(e.dragState,a.map(t=>{return n=t,a=e.assistantMaxHeight,{kind:"dragged",dragging:n.dragging,referencePosition:n.translationOrigin,assistantMaxHeight:a,translation:Object(s.r)(Object.assign(Object.assign({},n.assistantSize),{top:n.viewportSize.height-n.translationOrigin.bottom-n.assistantSize.height,left:n.viewportSize.width-n.translationOrigin.right-n.assistantSize.width}),Object.assign({left:0,top:0},n.viewportSize))(n.translation)};var n,a}),a.alt(()=>Object(r.pipe)(e.managedPositionInfo,a.map(t=>({kind:"initial",referenceElement:t.referenceElement,placement:t.placement,offset:t.offset,assistantMaxHeight:e.assistantMaxHeight})))),a.getOrElse(()=>({kind:"none"})))),this._subs=new i.a.Subscription,this._subs.add(this._positionInfo.pipe(i.a.takeUntil(this._internalState.view("dragState").pipe(i.a.filter(a.isSome))),i.a.tap(e=>this._internalState.lens("managedPositionInfo").set(a.some(e)))).subscribe()),this._subs.add(i.a.fromEvent(window,"resize").pipe(i.a.tap(()=>this._internalState.lens("dragState").modify(a.map(s.c.set("viewportSize",Object(r.pipe)(Object(s.l)(),({width:e,height:t})=>({width:e,height:t}))))))).subscribe())}onFocusChange(e){this._handlers.onFocusChange(e)}onMount(e){this._internalState.lens("assistant").set(a.some(e))}onResize(e){this._internalState.lens("dragState").modify(a.map(s.c.set("assistantSize",Object(r.pipe)(e,({width:e,height:t})=>({width:e,height:t})))))}onMaxHeightChange(e){this._internalState.lens("assistantMaxHeight").set(a.some(e))}onDrag(e){this._internalState.modify(t=>Object.assign(Object.assign({},t),{dragState:Object(r.pipe)(t.dragState,a.map(Object(r.flow)(s.c.set("translation",e),s.c.set("dragging",!0))),a.alt(()=>Object(r.pipe)(t.assistant,a.map(e=>({assistantRect:e.getBoundingClientRect(),viewportSize:Object(r.pipe)(Object(s.l)(),({width:e,height:t})=>({width:e,height:t}))})),a.map(({assistantRect:t,viewportSize:n})=>({dragging:!0,viewportSize:n,assistantSize:{width:t.width,height:t.height},translation:e,translationOrigin:{bottom:n.height-(t.top+t.height),right:n.width-(t.left+t.width)}})))))}))}onDragEnd(){this._internalState.lens("dragState").modify(a.map(s.c.set("dragging",!1)))}dispose(){this._subs.unsubscribe()}}var u=n("93Qa"),d=n("rbBt"),p=n("m6JR"),m=n("u/VI"),h=n("U75S"),g=n("Arv5"),f=n("gy42"),b=n("lrqh"),y=n("tslA"),v=n("FyE1");function S(e){return Object(r.pipe)(y.Session.toStarted(e),b.g.map(e=>e.context.availableActions),b.g.chain(g.F))}function C(e,t){return Object(r.pipe)(y.Session.toStarted(e),b.g.map(e=>w(t).map(t=>{var n;return Object(r.pipe)(null!==(n=e.detectedReferences.get(t))&&void 0!==n?n:b.g.none,b.g.toUndefined)}).filter(e=>!!e)),b.g.getOrElse(Object(r.constant)([])))}function w(e){return e.split(/\s/).filter(e=>e.length>3&&e.includes("."))}var k,E,O,A,_=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};!function(e){let t;!function(e){e.make=function(e){return{kind:"backendAction",action:e}},e.ordByActionStore=m.contramap(e=>e.action.store.rank)(m.ordNumber)}(t=e.BackendAction||(e.BackendAction={}))}(k||(k={})),(O=E||(E={})).eq=d.getEq(p.eqString,y.Result.Id.eq),O.card=function(e){return d.right(e)},O.uiItem=function(e){return d.left(e)},O.toCard=function(e){return b.g.fromEither(e)},O.toUIItem=function(e){return Object(r.pipe)(e,d.fold(b.g.some,()=>b.g.none))},(A||(A={})).create=function(){return{textBox:"",selectedAction:b.g.none,contentOverflowUnderToolbar:!1,promptAutofocusToken:0,cardsState:{hoveredCard:b.g.none,focusedCard:b.g.none},reportMenuVisible:b.g.none,referencesVisibility:new Map,detectedReferences:[],overrideCardVoice:new Map}};class x{constructor(e){var t,n;this._params=e,this._logger=null!==(t=this._params.logger)&&void 0!==t?t:new v.ConsoleLoggerImpl(x.name),this._monitoringService=null!==(n=this._params.monitoringService)&&void 0!==n?n:v.MonitoringServiceImpl.getInstance(),this._state=o.a.create(A.create()),this._subs=new i.a.Subscription,this._reportMenuVisibleDebounced=o.a.create(b.g.none),this._router=this._params.router,this.state=o.a.combine(this._state,this._params.userService.user,this._params.availabilityService.availability,this._params.sessionService.session,this._reportMenuVisibleDebounced,(e,t,n,a,i)=>{var{cardsState:o,reportMenuVisible:s,textBox:l}=e,c=_(e,["cardsState","reportMenuVisible","textBox"]);return Object.assign(Object.assign({},c),{textBox:l,user:t,availability:n,session:a,userPromptAction:Object(r.pipe)(y.Session.toStarted(a),b.g.chain(e=>e.context.userPromptAction)),activeCards:new Set(Object(r.pipe)([o.hoveredCard,Object(r.pipe)(o.focusedCard,b.g.orElse(Object(r.pipe)(i,b.g.chain(E.toCard))))],h.B)),canScroll:b.g.isNone(s),contextualActions:S(a),detectedReferences:C(a,l)})}),this._subs.add(this.state.subscribe(e=>this._logger.debug("State update",e))),this._subs.add(this._updateActiveView().subscribe()),this._subs.add(i.a.mergeStatic(this._state.view("reportMenuVisible").pipe(i.b.compact,i.a.map(b.g.some)),this._state.view("reportMenuVisible").pipe(i.a.skipBy(b.g.getEq(E.eq)),i.a.debounceTime(250),i.a.filter(b.g.isNone))).subscribe(f.b.toAtom(this._reportMenuVisibleDebounced))),this._subs.add(this._params.router.activeView.subscribe(()=>this._state.modify(Object(r.flow)(s.c.set("reportMenuVisible",b.g.none),s.c.set("cardsState",{hoveredCard:b.g.none,focusedCard:b.g.none}))))),this._subs.add(this._params.assistantUIActions.subscribe(e=>this._handleUIAction(e)))}contentOverflowUnderToolbar(e){this._state.lens("contentOverflowUnderToolbar").set(e)}focusPromptField(){this._state.lens("promptAutofocusToken").modify(e=>e+1)}dispose(){this._subs.unsubscribe()}_updateActiveView(){return i.a.mergeStatic(this._params.sessionService.session.view(Object(r.flow)(y.Session.toStarting,b.g.chain(e=>e.error),b.g.tap(()=>this._router.replace("loadingError")))),this._state.view("selectedAction").pipe(i.b.compact,i.a.tap(()=>this._router.push("actionSelected"))),this._params.sessionService.session.view(Object(r.flow)(y.Session.toStarted,b.g.filter(()=>b.g.isNone(this._state.get().selectedAction)),b.g.map(e=>e.resultHistory.length>0||b.g.isSome(e.inProgressResult)),b.g.tap(e=>this._router.replace(e?"afterResults":"beforeResults")))))}_handleUIAction(e){switch(e.kind){case y.AssistantUIAction.Kind.toolbarCloseButtonClick:return void this._close(e);case y.AssistantUIAction.Kind.toolbarGoBackButtonClick:return this._goBack();case y.AssistantUIAction.Kind.promptFieldTextChange:return this._updateTextBox(e.text);case y.AssistantUIAction.Kind.actionBrickClick:return this._executeAction(e.action);case y.AssistantUIAction.Kind.promptSubmitButtonClick:return this._go();case y.AssistantUIAction.Kind.generateStopButtonClick:return this._stop();case y.AssistantUIAction.Kind.resultCardInsertButtonClick:return this._insert(e.result,e.selectedVoice);case y.AssistantUIAction.Kind.resultCardRephraseButtonClick:return this._rephrase(e.result,e.selectedVoice);case y.AssistantUIAction.Kind.resultCardDismissButtonClick:return this._dismissResult(e.result);case y.AssistantUIAction.Kind.errorCardOkButtonClick:return this._dismissError();case y.AssistantUIAction.Kind.reportOffensiveResultButtonClick:return this._reportOffensiveResult(e.result);case y.AssistantUIAction.Kind.reportOffensiveActionsButtonClick:return this._reportOffensiveActions();case y.AssistantUIAction.Kind.resultCardHeaderClick:return this._clickResultHeader(e.prompt);case y.AssistantUIAction.Kind.creditsInfoHover:return this._onCreditsInfoHover();case y.AssistantUIAction.Kind.creditsInfoClick:return this._onCreditsInfoClick();case y.AssistantUIAction.Kind.resultCardHoverChange:return this._onCardHover(e.resultId,e.hovered);case y.AssistantUIAction.Kind.resultCardFocusChange:return this._onCardFocus(e.resultId,e.focused);case y.AssistantUIAction.Kind.resultCardToggleGenericVoiceButtonClick:return this._onToggleGenericVoice(e.resultId,e.voice);case y.AssistantUIAction.Kind.reportMenuVisibilityChange:return this._onCardReportMenuVisibilityChange(e.trigger,e.visible);case y.AssistantUIAction.Kind.referencesVisibilityChange:return this._onCardReferencesVisibilityChange(e.resultId,e.visible);case y.AssistantUIAction.Kind.regenerateWithoutReferenceButtonClick:return this._regenerateWithoutReference(e.result,e.referenceId,e.selectedVoice);case y.AssistantUIAction.Kind.mount:e.name===y.AssistantUIItem.creditsInfoButton&&Object(s.s)("reportUphookShow",this._params.uphookService.reportUphookShow(this._params.userService.user.get()),this._logger,void 0,e=>this._monitoringService.notify(y.SessionMonitoringEvent.Error.ReportUphookShowFailed.create(this._params.sessionService.session.get().mode,e)));break;case y.AssistantUIAction.Kind.promptFieldKeyPressEscape:return this._onPromptFieldKeyPressEscape(e);case y.AssistantUIAction.Kind.promptFieldKeyPressEnter:return e.text.trim().length>0?this._go():this._tryInsertLatestResult();default:return}}_onCardHover(e,t){this._state.lens("cardsState").lens("hoveredCard").modify(t?()=>b.g.some(e):b.g.filter(t=>t!==e))}_onCardFocus(e,t){this._state.lens("cardsState").lens("focusedCard").modify(t?()=>b.g.some(e):b.g.filter(t=>t!==e))}_onCardReportMenuVisibilityChange(e,t){this._state.modify(n=>Object.assign(Object.assign({},n),{reportMenuVisible:t?b.g.some(e):Object(r.pipe)(n.reportMenuVisible,b.g.filter(t=>!E.eq.equals(t,e))),cardsState:Object.assign(Object.assign({},n.cardsState),{hoveredCard:Object(r.pipe)(E.toCard(e),b.g.fold(()=>n.cardsState.hoveredCard,e=>t?n.cardsState.hoveredCard:Object(r.pipe)(n.cardsState.hoveredCard,b.g.filter(t=>t!==e))))})}))}_onCardReferencesVisibilityChange(e,t){this._state.lens("referencesVisibility").modify(n=>new Map(n).set(e,t))}_onToggleGenericVoice(e,t){this._state.lens("overrideCardVoice").modify(n=>{var a;const r=new Map(n),i=null!==(a=n.get(e))&&void 0!==a?a:t;return r.set(e,"generic"===i?"user":"generic"),r})}_close(e){y.AssistantUIAction.is(y.AssistantUIAction.Kind.toolbarCloseButtonClick)(e)&&this._params.trackingService.trackAssistantClose(),Object(s.s)("close",this._params.handlers.close(),this._logger,void 0,e=>this._monitoringService.notify(y.SessionMonitoringEvent.Error.AssistantCloseFailed.create(this._params.sessionService.session.get().mode,e)))}_goBack(){"actionSelected"===this._router.activeView.get()&&this._state.modify(e=>Object.assign(Object.assign({},e),{selectedAction:b.g.none,textBox:""})),this._router.pop()}_updateTextBox(e){this._state.lens("textBox").set(e),this._searchReferences(e)}_executeAction(e){if("backendAction"===e.kind)if(y.Action.isFollowUpQuestionActionInput(e.action)){const t=e.action;this._state.modify(e=>Object.assign(Object.assign({},e),{textBox:"",selectedAction:b.g.some(t)}))}else y.Action.isQuickActionInput(e.action)?(this._state.modify(e=>Object.assign(Object.assign({},e),{textBox:"",selectedAction:b.g.none})),this._params.sessionService.submitAction(e.action,b.g.toUndefined(this._lastResultSelectedVoice()))):y.Action.isSkillActionInput(e.action)||Object(r.absurd)(e.action);else"allResults"===e.kind||("go"===e.kind?this._go():Object(r.absurd)(e))}_go(){b.g.isSome(this._state.get().selectedAction)?this._submitSelectedAction():this._submitUserPromptAction()}_stop(){this._params.sessionService.stopInProgressResult()()}_insert(e,t){Object(s.s)("insertText",this._params.textEditorService.insertText(Object(s.f)(Object(r.pipe)(e.delta,d.fold(r.identity,e=>"user"===t?e.userVoice:e.genericVoice)),"")),this._logger,()=>{this._params.sessionService.trackResultInsert(e.id)})}_tryInsertLatestResult(){Object(r.pipe)(y.Session.toStarted(this._params.sessionService.session.get()),b.g.map(e=>e.resultHistory),b.g.chain(h.ib),b.g.tap(e=>this._insert(e,Object(r.pipe)(this._lastResultSelectedVoice(),b.g.getOrElse(()=>"generic")))))}_onPromptFieldKeyPressEscape(e){Object(r.pipe)(y.Session.toStarted(this._params.sessionService.session.get()),b.g.chain(e=>e.inProgressResult),b.g.fold(()=>this._close(e),()=>this._stop()))}_rephrase(e,t){this._params.sessionService.regenerateResult(e.id,{omitReferenceIds:b.g.none},t)}_dismissResult(e){this._params.sessionService.dismissResult(e.id),this._state.modify(t=>Object.assign(Object.assign({},t),{reportMenuVisible:Object(r.pipe)(t.reportMenuVisible,b.g.filter(t=>!E.eq.equals(t,E.card(e.id)))),cardsState:{hoveredCard:Object(r.pipe)(t.cardsState.hoveredCard,b.g.filter(t=>t!==e.id)),focusedCard:Object(r.pipe)(t.cardsState.hoveredCard,b.g.filter(t=>t!==e.id))}}))}_dismissError(){this._params.sessionService.dismissError()}_reportOffensiveResult(e){this._params.sessionService.trackResultOffensive(e.id)}_reportOffensiveActions(){this._params.sessionService.trackActionsOffensive()}_clickResultHeader(e){this._state.modify(t=>Object.assign(Object.assign({},t),{textBox:e,promptAutofocusToken:t.promptAutofocusToken+1}))}_onCreditsInfoHover(){this._params.trackingService.trackUsageInfoHover()}_onCreditsInfoClick(){this._params.trackingService.trackUsageInfoClick(),Object(s.s)("reportUphookClick",this._params.uphookService.reportUphookClick(this._params.userService.user.get()),this._logger,void 0,e=>this._monitoringService.notify(y.SessionMonitoringEvent.Error.ReportUphookClickFailed.create(this._params.sessionService.session.get().mode,e)))}_submitSelectedAction(){const e=Object(r.pipe)(this._state.get().textBox.trim(),b.g.fromPredicate(e=>""!==e));Object(r.pipe)(u.sequenceS(b.g.Applicative)({text:e,selectedAction:this._state.get().selectedAction}),b.g.map(({text:e,selectedAction:t})=>y.Action.FollowUpQuestionActionValue.fromInput(t,e)),b.g.tap(e=>{this._state.modify(e=>Object.assign(Object.assign({},e),{selectedAction:b.g.none,textBox:""})),this._params.sessionService.submitAction(e,b.g.toUndefined(this._lastResultSelectedVoice()))}))}_lastResultSelectedVoice(){return Object(r.pipe)(y.Session.toStarted(this._params.sessionService.session.get()),b.g.map(e=>e.resultHistory),b.g.chain(h.ib),b.g.chain(e=>b.g.fromNullable(this._state.lens("overrideCardVoice").view(t=>t.get(e.id)).get())))}_submitUserPromptAction(){Object(r.pipe)(this._state.get().textBox.trim(),b.g.fromPredicate(e=>""!==e),b.g.chain(e=>Object(r.pipe)(y.Session.toStarted(this._params.sessionService.session.get()),b.g.chain(t=>Object(r.pipe)(t.context.userPromptAction,b.g.map(n=>({text:e,session:t,userPromptAction:n})))))),b.g.tap(({text:e,session:t,userPromptAction:n})=>{this._state.lens("textBox").set(""),this._params.sessionService.submitAction(y.Action.UserPromptActionValue.fromInput(n,e,Object(r.pipe)(C(t,e).map(e=>e.id),g.E),b.g.none),b.g.toUndefined(this._lastResultSelectedVoice()))}))}_regenerateWithoutReference(e,t,n){this._params.sessionService.regenerateResult(e.id,{omitReferenceIds:b.g.some([t])},n)}_searchReferences(e){w(e).forEach(e=>this._params.sessionService.searchReferences(e))}}var I=n("D9EC");class j{constructor(e,t,n=3e3,a=1){this._assistantUIActions=e,this._activeView=t,this._notificationsDurationMs=n,this._maxNotificationsCountAtOnce=a,this._state=o.a.create([]),this._notificationsSubs=new Map,this._subs=new i.a.Subscription,this._nextToastId=0,this.state=this._state.view(),this._subs.add(this._showFeedbackSubmittedToast().subscribe()),this._subs.add(this._clearNotificationsOnViewChange().subscribe()),this._subs.add(this._removeVoiceTagNotification().subscribe())}dismiss(e){var t;null===(t=this._notificationsSubs.get(e))||void 0===t||t.unsubscribe(),this._notificationsSubs.delete(e),this._state.modify(h.O(t=>t.id!==e))}clearAll(){this._notificationsSubs.forEach(e=>e.unsubscribe()),this._notificationsSubs.clear(),this._state.set([])}dispose(){this._subs.unsubscribe(),this.clearAll()}_showNotification(e){const t=this._nextToastId++;this._notificationsSubs.set(t,i.a.timer(this._notificationsDurationMs).subscribe(()=>this.dismiss(t))),this._state.modify(Object(r.flow)(h.D({kind:e,id:t}),h.Yb(this._maxNotificationsCountAtOnce)))}_showFeedbackSubmittedToast(){return this._assistantUIActions.pipe(i.a.filter(Object(I.p)(y.AssistantUIAction.is(y.AssistantUIAction.Kind.feedbackFormSubmitButtonClick),y.AssistantUIAction.is(y.AssistantUIAction.Kind.reportOffensiveResultButtonClick),y.AssistantUIAction.is(y.AssistantUIAction.Kind.reportOffensiveActionsButtonClick))),i.a.tap(()=>this._showNotification(y.AssistantNotification.Kind.feedbackSubmitted)))}_removeVoiceTagNotification(){return this._assistantUIActions.pipe(i.a.filter(y.AssistantUIAction.is(y.AssistantUIAction.Kind.voiceTagPopoverRemoveButtonClick)),i.a.tap(()=>this._showNotification(y.AssistantNotification.Kind.voiceTagRemoved)))}_clearNotificationsOnViewChange(){return this._activeView.pipe(i.a.distinctUntilChanged(),i.a.tap(e=>{"feedbackForm"!==e&&"voiceProfile"!==e||this.clearAll()}))}}var T=n("6fbX"),M=n("ERkP"),N=n("9NHN"),P=n("vOOZ"),L=n("1w6p"),R=n("wZAk"),B=n("iVSA"),F=n("e12y");const D="brick",H=s.a.buttonOverrideSpecificity({padding:`0 ${F.a.rem(B.g.Space2)} 0 ${F.a.rem(B.g.Space1)}`},D),V={display:"flex",alignItems:"center",gap:F.a.rem(B.g.Space2)},U=s.a.buttonOverrideSpecificity({minHeight:F.a.rem(1.75),fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125),color:B.a.BlueGray80},D),W=s.a.buttonOverrideSpecificity({minHeight:F.a.rem(2),fontSize:F.a.rem(.875),lineHeight:F.a.rem(1.375),color:B.f.Base.Content.Primary.Default},D),q=s.a.buttonOverrideSpecificity({boxShadow:`inset 0 0 0 ${F.a.rem(.125)} ${s.b.BrandGreen60}`},D),z={textAlign:"left",whiteSpace:"initial",lineHeight:F.a.rem(1.125),margin:`${F.a.rem(.25)} 0 ${F.a.rem(.25)} 0`},$=Object.assign({},s.a.iconSizeRems(1.5)),G=F.a.joinClasses([D,F.a.style(H)]),K=F.a.style(V),Y=F.a.style(U),Z=F.a.style(W),X=F.a.style(q),Q=F.a.style(z),J=F.a.style($),ee=F.a.style($),te=Object(N.d)(R.c.Secondary),ne=L.b.Node.make(({view:e,notify:t})=>M.createElement(te,Object.assign({onClick:e("action").pipe(i.a.map(e=>t({kind:y.AssistantUIAction.Kind.actionBrickClick,action:e}))),name:"actionBrick"},Object(N.c)("actionBrick",G,e("action").pipe(i.a.map(({kind:e})=>"go"===e?X:null)),e("mode").pipe(i.a.map(e=>"compact"===e?Y:"standard"===e?Z:Object(T.d)(e))))),M.createElement(P.a.div,{className:K},e("icon").pipe(i.a.map(d.fold(({kind:e})=>{switch(e){case"allResults":return M.createElement(R.o,{className:J});case"go":return M.createElement(R.k,{className:ee});default:return Object(T.d)(e)}},({url:e})=>M.createElement("img",{src:e,style:{width:20,height:20}})))),M.createElement(P.a.span,Object.assign({className:Q},Object(s.t)(e("label")))))));function ae(e,t,n){return L.a.fromSideEffect(t=>e.notify(t),i.a.combineLatestStatic([t,e.assistant.state.view("textBox")]).pipe(i.a.map(([e,t])=>({icon:"backendAction"===e.kind?d.right({url:e.action.iconUrl}):d.left({kind:e.kind}),label:"backendAction"===e.kind?e.action.label:"allResults"===e.kind?"More":"go"===e.kind?`”${t.trim()}”`:Object(T.d)(e),action:e,mode:n}))))}const re=L.b.List.make(h.h,ne);function ie(e,t,n){return L.a.composeList(h.m,()=>t.pipe(i.a.map(a.getOrElse(()=>[]))),t=>ae(e,i.a.of(t),n))}function oe(e,t=r.constTrue,n=a.some(3)){const i=Object(r.pipe)(g.y(e=>t(e.action))(e),a.getOrElseW(()=>h.L));return Object(r.pipe)(n,a.filter(e=>i.length>e),a.map(e=>g.fb(h.Yb(e)(i),{kind:"allResults",filterPredicate:t})),a.getOrElseW(()=>i))}const se=({style:e,contentStyle:t,children:n,header:a})=>M.createElement("div",{className:F.a.style(le,e)},a?M.createElement(R.e,null,a):null,M.createElement("div",{className:F.a.style(ce,t)},n)),le={background:"white",display:"flex",flexDirection:"column",gap:F.a.rem(B.g.Space2)},ce={display:"flex",flexDirection:"row",flexWrap:"wrap",gap:F.a.rem(B.g.Space2)},ue=L.b.Grid.make(({slots:e,view:t})=>M.createElement(se,{header:M.createElement(P.a.Fragment,null,t("label")),style:me},e.actions)),de=L.b.Knot.make(ue,{actions:re}),pe=L.b.List.make(h.h,de),me={background:"transparent",padding:F.a.rem(B.g.Space2)+" 0"};function he(e,t){return L.a.composeList(h.m,()=>t,t=>function(e,t){return L.a.composeKnot({root:()=>i.a.of({label:t.label}),actions:ie(e,i.a.of(a.some(t.actions)),"standard")})}(e,t))}function ge(e){return Object(r.pipe)(e,h.z(e=>{const{init:t,rest:n}=h.Vb(t=>y.Action.Group.Id.eq.equals(t.group.id,e[0].group.id))(e);return[t,n]}),h.ub(e=>u.sequenceS(a.Applicative)({label:Object(r.pipe)(e,h.ib,a.map(e=>e.group.label)),actions:Object(r.pipe)(e,h.ub(k.BackendAction.make),g.F)})),h.B,g.F,a.getOrElse(()=>[{label:e[0].group.label,actions:[k.BackendAction.make(e[0])]}]))}var fe;!function(e){e.isActionsStore=function(e){return"actionsStore"===e.kind},e.isSearchResults=function(e){return"searchResults"===e.kind}}(fe||(fe={}));class be{constructor(e,t,n,a,l,c){var u,d,p;this._availabilityService=t,this._sessionService=n,this._trackingService=a,this._focusPromptField=c,this._subs=new i.a.Subscription,this._state=o.a.create(b.g.none),this._userTyped=new i.a.Subject,this._promptOrMenuFocused=new i.a.Subject,this._promptMenuActions=new i.a.Subject,this._promptMenuContainer=b.g.none,this._cachedActionBricks=b.g.none,this.state=this._state.view(),this._subs.add(this._userTyped.pipe(i.a.debounceTime(150),i.a.filter(()=>!l()),i.a.withLatestFrom(this._state.view(Object(r.flow)(b.g.map(e=>e.filterPredicate),b.g.getOrElse(()=>r.constTrue)))),i.a.tap(([e,t])=>this._promptMenuActions.next({kind:"showSearchResults",search:e,filterPredicate:t}))).subscribe()),this._subs.add((u=this._promptMenuActions,d=this._sessionService.session,p=this._availabilityService.availability,i.a.combineLatestStatic([u.pipe(i.a.switchMap(e=>"showSearchResults"===e.kind?d.view(y.Session.toStarted).pipe(i.a.map(t=>Object(r.pipe)(t,b.g.filter(()=>""!==e.search.trim()),b.g.chain(t=>{return n=t.context.availableActions,a=e.search,Object(r.pipe)(n,h.P(e=>Object(r.pipe)(Object(s.v)(a,e.searchLabel,e.searchTags),b.g.map(t=>({data:e,matchScore:t})))),h.Tb(Object(s.k)()),h.ub(({data:e})=>e),g.F);var n,a}),b.g.map(t=>({kind:"searchResults",actions:t,filterPredicate:e.filterPredicate}))))):"showActionsStore"===e.kind?d.view(Object(r.flow)(S,b.g.map(t=>({kind:"actionsStore",actions:t,filterPredicate:e.filterPredicate})))):"close"===e.kind?i.a.of(b.g.none):Object(T.d)(e)),i.a.startWith(b.g.none)),p]).pipe(i.a.map(([e,t])=>Object(r.pipe)(e,b.g.filter(()=>!y.Availability.isUnavailable(t)))))).subscribe(f.b.toAtom(this._state))),this._subs.add(this._promptOrMenuFocused.pipe(i.a.debounceTime(100),i.a.filter(e=>!e)).subscribe(()=>this._promptMenuActions.next({kind:"close"}))),this._subs.add(this.state.pipe(i.a.pairwise(),i.a.filter(([e,t])=>b.g.isNone(e)&&b.g.isSome(t)),i.a.map(([e,t])=>t),i.b.compact).subscribe(e=>{"actionsStore"===e.kind?this._trackingService.trackActionsOpenStore():"searchResults"===e.kind&&this._trackingService.trackPromptSearch()})),this._subs.add(this._promptMenuActions.pipe(i.a.filter(e=>"close"===e.kind)).subscribe(()=>this._invalidateActionBricks())),this._subs.add(e.subscribe(e=>this._handleUIAction(e)))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case y.AssistantUIAction.Kind.mount:return void(this._promptMenuContainer=b.g.some(e.element));case y.AssistantUIAction.Kind.promptMenuKeyPressArrowDown:return this._onPromptMenuKeyPressArrowDown();case y.AssistantUIAction.Kind.promptMenuKeyPressArrowUp:return this._onPromptMenuKeyPressArrowUp();case y.AssistantUIAction.Kind.promptFieldKeyPressArrowUp:return this._focusLastBrick();case y.AssistantUIAction.Kind.promptFieldKeyPressArrowDown:return this._focusFirstBrick();case y.AssistantUIAction.Kind.promptFieldTextChange:return this._invalidateActionBricks(),this._userTyped.next(e.text);case y.AssistantUIAction.Kind.collapsePromptMenuButtonClick:case y.AssistantUIAction.Kind.promptSubmitButtonClick:return this._promptMenuActions.next({kind:"close"});case y.AssistantUIAction.Kind.promptFieldKeyPressEnter:return void(e.text.trim().length>0&&this._promptMenuActions.next({kind:"close"}));case y.AssistantUIAction.Kind.actionBrickClick:return"allResults"===e.action.kind?this._promptMenuActions.next({kind:"showActionsStore",filterPredicate:e.action.filterPredicate}):this._promptMenuActions.next({kind:"close"});case y.AssistantUIAction.Kind.promptFieldAndMenuFocusChange:return this._promptOrMenuFocused.next(e.focused);default:return}}_invalidateActionBricks(){this._cachedActionBricks=b.g.none}_getActionBricks(){return Object(r.pipe)(this._cachedActionBricks,b.g.getOrElse(()=>{const e=Object(r.pipe)(this._promptMenuContainer,b.g.fold(()=>[],e=>h.db(Array.from(e.querySelectorAll(".actionBrick")).filter(s.m))));return this._cachedActionBricks=b.g.some(e),e}))}_onPromptMenuKeyPressArrowDown(){var e;const t=this._getActionBricks(),n=Object(s.i)((null===(e=b.g.toNullable(this._promptMenuContainer))||void 0===e?void 0:e.ownerDocument)||document);return Object(r.pipe)(b.g.fromNullable(t.findIndex(e=>e===n)),b.g.tap(e=>{var n;e+1>=t.length?this._focusPromptField():null===(n=t[e+1])||void 0===n||n.focus()}))}_onPromptMenuKeyPressArrowUp(){var e;const t=this._getActionBricks(),n=Object(s.i)((null===(e=b.g.toNullable(this._promptMenuContainer))||void 0===e?void 0:e.ownerDocument)||document);return Object(r.pipe)(b.g.fromNullable(t.findIndex(e=>e===n)),b.g.tap(e=>{var n;e-1<0?this._focusPromptField():null===(n=t[e-1])||void 0===n||n.focus()}))}_focusFirstBrick(){var e;null===(e=this._getActionBricks()[0])||void 0===e||e.focus()}_focusLastBrick(){var e;const t=this._getActionBricks();null===(e=t[t.length-1])||void 0===e||e.focus()}}var ye,ve=n("ZQ0n");class Se{constructor(e,t,n,a=v.MonitoringServiceImpl.getInstance()){this._assistantUIActions=e,this._router=t,this._skillService=n,this._monitoringService=a,this._subs=new i.a.Subscription,this._state=o.a.create(b.g.none),this.state=this._state.view(),this._skillService&&this._subs.add(this._skillService.skillRequests.subscribe(e=>{e.close?(this._onSkillClosed(),this._state.set(b.g.none)):e.size&&this._state.modify(b.g.map(t=>Object.assign(Object.assign({},t),{size:e.size})))})),this._subs.add(this._assistantUIActions.subscribe(e=>this._handleUIAction(e)))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case y.AssistantUIAction.Kind.actionBrickClick:if("backendAction"===e.action.kind&&y.Action.isSkillActionInput(e.action.action)){const t=e.action.action.skill;this._onSkillOpened(),this._state.set(b.g.some({skill:t,status:"loading",size:{width:416,height:245}}))}break;case y.AssistantUIAction.Kind.mount:e.name===y.AssistantUIItem.skill&&Object(s.s)("initSkill",Object(r.pipe)(Object(r.pipe)(this._state.get(),ve.fromOption(()=>new Error("Cannot init Skill. No Skill state available."))),ve.chain(t=>this._skillService?Object(r.pipe)(this._skillService.initSkill(t.skill,e.element),ve.map(e=>Object.assign(Object.assign({},t),{size:e}))):ve.left(new Error("Cannot init Skill. No `SkillService` available.")))),void 0,e=>{this._state.set(b.g.some(Object.assign(Object.assign({},e),{status:"ready"}))),this._monitoringService.notify(y.SkillMonitoringEvent.Info.InitSkillSuccessful.create(e.skill))},e=>{this._state.modify(b.g.map(e=>Object.assign(Object.assign({},e),{status:"error"}))),this._monitoringService.notify(y.SkillMonitoringEvent.Error.InitSkillFailed.create(Object(r.pipe)(this._state.get(),b.g.map(e=>e.skill)),e))});break;case y.AssistantUIAction.Kind.unmount:"skill"===e.name&&Object(s.s)("terminateSkill",Object(r.pipe)(Object(r.pipe)(this._state.get(),ve.fromOption(()=>new Error("Cannot terminate Skill. No Skill state available."))),ve.chain(e=>this._skillService?Object(r.pipe)(this._skillService.terminateSkill(e.skill),ve.map(()=>e)):ve.left(new Error("Cannot terminate Skill. No `SkillService` available.")))),void 0,e=>{this._state.set(b.g.none),this._monitoringService.notify(y.SkillMonitoringEvent.Info.TerminateSkillSuccessful.create(e.skill))},e=>{this._state.set(b.g.none),this._monitoringService.notify(y.SkillMonitoringEvent.Error.TerminateSkillFailed.create(Object(r.pipe)(this._state.get(),b.g.map(e=>e.skill)),e))})}}_onSkillOpened(){this._router.push("skill")}_onSkillClosed(){"skill"===this._router.activeView.get()&&this._router.pop()}}(ye||(ye={})).empty={activeSurvey:a.none,stage:y.UserSurvey.Stage.Type.Rating,transitionStage:y.UserSurvey.Stage.Type.Rating,rating:a.none,errors:a.none,openAnswer:a.none};class Ce{constructor(e){this._params=e,this._state=o.a.create(ye.empty),this._subs=new i.a.Subscription,this._stageTimeoutClear=void 0,this.state=this._state.view(),this._updateStageAfterTransition(),this._subscribeToActiveSurvey(),this._subs.add(this._params.assistantUIActions.subscribe(e=>{Object(I.p)(y.AssistantUIAction.isSurveyAction,y.AssistantUIAction.isSurveyImplicitDismissAction)(e)&&this._handleUIAction(e)}))}get _activeSurvey(){return this.state.get().activeSurvey}_subscribeToActiveSurvey(){this._subs.add(this._params.userSurveyService.activeSurvey.subscribe(e=>{Object(r.pipe)(e,a.map(e=>{Object(r.pipe)(this._activeSurvey,a.fold(()=>this._updateActiveSurvey(e),t=>{t.detailedPlacement!==e.detailedPlacement&&this._updateActiveSurvey(e)}))}))}))}_updateActiveSurvey(e){this._state.set(Object.assign(Object.assign({},ye.empty),{activeSurvey:a.some(e)}))}_handleUIAction(e){switch(e.kind){case y.AssistantUIAction.Kind.surveyComplete:this._onSurveyCompleted();break;case y.AssistantUIAction.Kind.surveyClose:this._onDismissExplicitly();break;case y.AssistantUIAction.Kind.surveyOpenAnswerChange:this._onOpenAnswerChange(e.openAnswer);break;case y.AssistantUIAction.Kind.surveyRatingSelectionChange:this._onRatingSelectionChange(e.rating);break;case y.AssistantUIAction.Kind.promptSubmitButtonClick:case y.AssistantUIAction.Kind.actionBrickClick:case y.AssistantUIAction.Kind.resultCardInsertButtonClick:case y.AssistantUIAction.Kind.resultCardRephraseButtonClick:case y.AssistantUIAction.Kind.resultCardHeaderClick:case y.AssistantUIAction.Kind.resultCardDismissButtonClick:this._onDismissImplicitly();break;default:Object(T.d)(e)}}_onRatingSelectionChange(e){Object(r.pipe)(this._activeSurvey,a.map(e=>e.skipOpenAnswerFrom),a.map(t=>{e<t?this._state.modify(t=>Object.assign(Object.assign({},t),{rating:a.some(e),transitionStage:y.UserSurvey.Stage.Type.Feedback})):this._state.modify(t=>Object.assign(Object.assign({},t),{rating:a.some(e),transitionStage:y.UserSurvey.Stage.Type.Completed})),this._reportCompleting()}))}_onOpenAnswerChange(e){Object(r.pipe)(this._activeSurvey,a.chain(({openAnswer:e})=>e),a.map(({maxLen:t})=>{e.length<=t&&this._state.modify(t=>Object.assign(Object.assign({},t),{openAnswer:a.some(e),errors:a.none}))}))}_onSurveyCompleted(){Object(r.pipe)(this._activeSurvey,a.chain(({openAnswer:e})=>e),a.chain(({minLen:e})=>e),a.fold(()=>this._complete(),e=>{Object(r.pipe)(this._state.get().openAnswer,a.fold(()=>this._setOpenAnswerError("This field is required."),t=>{t.length<e?this._setOpenAnswerError(e>0?`Please enter at least ${e} characters.`:"This field is required."):this._complete()}))}))}_complete(){this._reportCompleting(),this._state.lens("transitionStage").set(y.UserSurvey.Stage.Type.Completed)}_reportCompleting(){Object(r.pipe)(this._activeSurvey,a.chain(e=>Object(r.pipe)(this._state.get().rating,a.map(t=>({survey:e,rating:t})))),a.map(({survey:e,rating:t})=>this._params.userSurveyService.submitSurveyResult({rating:t,openAnswer:this._state.get().openAnswer,placement:e.placement,detailedPlacement:e.detailedPlacement,stage:this.state.get().stage,type:e.type})))}_setOpenAnswerError(e){this._state.lens("errors").set(a.some({openAnswerError:a.some(e)}))}_onDismissExplicitly(){Object(r.pipe)(this._activeSurvey,a.map(e=>{const t=this.state.get().stage;t===y.UserSurvey.Stage.Type.Rating&&this._params.userSurveyService.dismissSurvey({placement:e.placement,detailedPlacement:e.detailedPlacement,type:e.type,stage:t})})),this._state.lens("transitionStage").set(y.UserSurvey.Stage.Type.Closed)}_onDismissImplicitly(){this._state.lens("transitionStage").set(y.UserSurvey.Stage.Type.Closed)}_updateStageAfterTransition(){this._subs.add(this._state.subscribe(e=>{this._clearStageTimeout(),this._stageTimeoutClear=setTimeout(()=>{this._state.lens("stage").set(e.transitionStage)},we[e.transitionStage])}))}_clearStageTimeout(){void 0!==this._stageTimeoutClear&&(clearTimeout(this._stageTimeoutClear),this._stageTimeoutClear=void 0)}dispose(){this._subs.unsubscribe(),this._clearStageTimeout()}}const we={[y.UserSurvey.Stage.Type.Rating]:0,[y.UserSurvey.Stage.Type.Feedback]:300,[y.UserSurvey.Stage.Type.Completed]:0,[y.UserSurvey.Stage.Type.Closed]:0};var ke,Ee=n("GXfa"),Oe=n("1yMG");class Ae{constructor(e){var t,n;this._params=e,this._subs=new i.a.Subscription,this._state=o.a.create({stagingNewVoiceProfile:b.g.none,stagingVoiceProfile:b.g.none}),this._logger=null!==(t=this._params.logger)&&void 0!==t?t:new v.ConsoleLoggerImpl(Ae.name),this._monitoringService=null!==(n=this._params.monitoringService)&&void 0!==n?n:v.MonitoringServiceImpl.getInstance(),this.state=this._state.view(),this._subs.add(this._params.assistantUIActions.subscribe(e=>this._handleUIAction(e)))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case y.AssistantUIAction.Kind.toolbarGoBackButtonClick:return this._handleGoBack();case y.AssistantUIAction.Kind.toolbarVoiceButtonClick:return this._openVoiceProfile("toolbar");case y.AssistantUIAction.Kind.setVoiceButtonClick:return this._openVoiceProfile("banner");case y.AssistantUIAction.Kind.voiceProfileCloseButtonClick:return this._closeVoiceProfile();case y.AssistantUIAction.Kind.voiceProfileUseVoiceButtonClick:return this._applyVoiceProfile();case y.AssistantUIAction.Kind.toneToggleClick:return this._toggleTone(e.id,e.selected);case y.AssistantUIAction.Kind.styleToggleClick:return this._selectStyle(e.id);case y.AssistantUIAction.Kind.roleTypeaheadSelectionChange:return this._selectRole(Object(r.pipe)(e.role,b.g.map(e=>e.id)));case y.AssistantUIAction.Kind.dialectDropdownSelectionChange:return this._selectDialect(e.dialect.id);case y.AssistantUIAction.Kind.voiceProfileTabChange:return this._switchNewVoiceProfileTab(e.profileName);case y.AssistantUIAction.Kind.voiceTagPopoverRemoveButtonClick:return this._removeVoiceTag(e);case y.AssistantUIAction.Kind.voiceTagPopoverCloseButtonClick:return this._closeVoiceTagPopover();case y.AssistantUIAction.Kind.voiceTagPopoverKeepButtonClick:return this._keepVoiceTagPopover();case y.AssistantUIAction.Kind.applyVoiceToWritingCheckboxChange:return this._updateMyVoiceIsEnabled(e.checked);case y.AssistantUIAction.Kind.voiceTagClick:return this._toggleVoiceTag(e);case y.AssistantUIAction.Kind.voiceDialectDropdownSelectionChange:return this._selectNewVoiceDialect(e.dialect.id);case y.AssistantUIAction.Kind.voiceRoleDropdownSelectionChange:return this._selectNewVoiceRole(e.role.id);case y.AssistantUIAction.Kind.voiceSelectionsSaveButtonClick:return this._saveNewVoiceSelections();case y.AssistantUIAction.Kind.voiceSelectionsCancelButtonClick:return this._cancelNewVoiceSelectionChanges();case y.AssistantUIAction.Kind.voiceSelectionsEditButtonClick:return this._editNewVoiceSelections();case y.AssistantUIAction.Kind.promptFieldKeyPressEscape:case y.AssistantUIAction.Kind.toolbarCloseButtonClick:return this._trySaveNewProfileIfChanged();default:return}}_handleGoBack(){const e=this._params.router.activeView.get();"voiceProfile"===e?(this._state.lens("stagingNewVoiceProfile").set(b.g.none),this._trySaveNewProfileIfChanged()):"legacyVoiceProfile"===e&&this._state.lens("stagingVoiceProfile").set(b.g.none)}_createVoiceProfile(e){var t;return"newVoiceProfile"===e.kind?s.c.set("stagingNewVoiceProfile",b.g.some({selectedRole:e.selectedRole,selectedDialect:e.selectedDialect,isEnabledByDefault:e.isEnabledByDefault,profiles:e.profiles,activeTagId:b.g.none,activeProfileName:b.g.fromNullable(null===(t=e.profiles.find(e=>e.selected))||void 0===t?void 0:t.name),stagingSelections:b.g.none})):s.c.set("stagingVoiceProfile",b.g.some({selectedStyle:e.selectedStyle,selectedTonesPerStyle:e.selectedTonesPerStyle,selectedRole:e.selectedRole,selectedDialect:e.selectedDialect,needsSetup:e.needsSetup}))}_openVoiceProfile(e){Object(r.pipe)(y.Session.toStarted(this._params.sessionService.session.get()),b.g.tap(t=>{this._params.trackingService.trackVoiceProfileOpen(e),this._params.router.push("newVoiceProfile"===t.voiceProfile.kind?"voiceProfile":"legacyVoiceProfile"),this._state.modify(this._createVoiceProfile(t.voiceProfile))}))}_closeVoiceProfile(){this._params.trackingService.trackVoiceProfileSkip(),this._params.router.pop(),this._state.lens("stagingVoiceProfile").set(b.g.none)}_applyVoiceProfile(){const e=this._state.get().stagingVoiceProfile;this._params.router.pop(),this._state.lens("stagingVoiceProfile").set(b.g.none),Object(r.pipe)(e,b.g.tap(e=>{Object(s.s)("setVoiceProfile",this._params.sessionService.setVoiceProfile(e),this._logger)}))}_toggleTone(e,t){this._state.lens("stagingVoiceProfile").modify(b.g.map(n=>Object.assign(Object.assign({},n),{selectedTonesPerStyle:Object(r.pipe)(n.selectedTonesPerStyle,t?Object(s.p)(y.VoiceProfile.Style.Id.eq)(n.selectedStyle,b.g.fold(()=>new Set([e]),Oe.n(y.VoiceProfile.Tone.Id.eq)(e))):Object(r.flow)(Ee.x(y.VoiceProfile.Style.Id.eq)(n.selectedStyle,Oe.u(y.VoiceProfile.Tone.Id.eq)(e)),b.g.getOrElse(()=>n.selectedTonesPerStyle)))})))}_selectStyle(e){this._state.lens("stagingVoiceProfile").modify(b.g.map(t=>Object.assign(Object.assign({},t),{selectedStyle:e})))}_selectRole(e){this._state.lens("stagingVoiceProfile").modify(b.g.map(t=>Object.assign(Object.assign({},t),{selectedRole:e})))}_selectDialect(e){this._state.lens("stagingVoiceProfile").modify(b.g.map(t=>Object.assign(Object.assign({},t),{selectedDialect:e})))}_editNewVoiceSelections(){this._updateNewProfileStateIfAny(e=>Object.assign(Object.assign({},e),{stagingSelections:b.g.some({selectedDialect:e.selectedDialect,selectedRole:e.selectedRole})}))}_cancelNewVoiceSelectionChanges(){this._updateNewProfileStateIfAny(e=>Object.assign(Object.assign({},e),{stagingSelections:b.g.none}))}_saveNewVoiceSelections(){this._updateNewProfileStateIfAny(e=>Object.assign(Object.assign({},e),{selectedDialect:Object(r.pipe)(e.stagingSelections,b.g.fold(()=>e.selectedDialect,e=>e.selectedDialect)),selectedRole:Object(r.pipe)(e.stagingSelections,b.g.fold(()=>e.selectedRole,e=>e.selectedRole)),stagingSelections:b.g.none}))}_selectNewVoiceRole(e){this._updateNewProfileStateIfAny(t=>Object.assign(Object.assign({},t),{stagingSelections:Object(r.pipe)(t.stagingSelections,b.g.map(t=>Object.assign(Object.assign({},t),{selectedRole:b.g.some(e)})))}))}_selectNewVoiceDialect(e){this._updateNewProfileStateIfAny(t=>Object.assign(Object.assign({},t),{stagingSelections:Object(r.pipe)(t.stagingSelections,b.g.map(t=>Object.assign(Object.assign({},t),{selectedDialect:e})))}))}_updateNewProfileStateIfAny(e){this._state.lens("stagingNewVoiceProfile").modify(b.g.map(e))}_keepVoiceTagPopover(){this._params.trackingService.trackVoiceProfileKeepTag(),this._closeVoiceTagPopover()}_closeVoiceTagPopover(){this._updateNewProfileStateIfAny(e=>Object.assign(Object.assign({},e),{activeTagId:b.g.none}))}_toggleVoiceTag({tagName:e,sectionName:t,profileName:n}){this._updateNewProfileStateIfAny(a=>Object.assign(Object.assign({},a),{activeTagId:b.g.toNullable(a.activeTagId)===y.VoiceTag.createId({tagName:e,sectionName:t,profileName:n})?b.g.none:b.g.some(y.VoiceTag.createId({tagName:e,sectionName:t,profileName:n}))}))}_updateMyVoiceIsEnabled(e){this._updateNewProfileStateIfAny(t=>Object.assign(Object.assign({},t),{isEnabledByDefault:e}))}_removeVoiceTag({tagName:e,profileName:t,sectionName:n}){this._params.trackingService.trackVoiceProfileRemoveTag(),this._updateNewProfileStateIfAny(a=>Object.assign(Object.assign({},a),{profiles:Object(r.pipe)(a.profiles,h.ub(a=>a.name===t?Object.assign(Object.assign({},a),{sections:a.sections.map(t=>t.name===n?Object.assign(Object.assign({},t),{tags:t.tags.filter(t=>t.name!==e)}):t)}):a))}))}_switchNewVoiceProfileTab(e){this._updateNewProfileStateIfAny(t=>Object.assign(Object.assign({},t),{activeProfileName:b.g.some(e)}))}_trySaveNewProfileIfChanged(){Object(r.pipe)(u.sequenceS(b.g.option)({editedVoiceProfile:this._state.view("stagingNewVoiceProfile").get(),sessionVoiceProfile:Object(r.pipe)(y.Session.toStarted(this._params.sessionService.session.get()),b.g.map(e=>e.voiceProfile),b.g.chain(y.VoiceProfile.toNewVoiceProfile))}),b.g.filter(({editedVoiceProfile:e,sessionVoiceProfile:t})=>!y.VoiceProfile.NewSelections.eqByRoleDialectAndProfile.equals(e,t)),b.g.tap(({editedVoiceProfile:e})=>{Object(s.s)("saveNewVoiceChanges",this._params.sessionService.setNewVoiceProfile({selectedDialect:e.selectedDialect,selectedRole:e.selectedRole,isEnabledByDefault:e.isEnabledByDefault,profiles:e.profiles}),this._logger,void 0,e=>this._monitoringService.notify(y.SessionMonitoringEvent.Error.SetVoiceProfileFailed.create(this._params.sessionService.session.get().mode,e)))}))}}class _e{constructor(e){var t,n;this._params=e,this._state=o.a.create({}),this._subs=new i.a.Subscription,this._logger=null!==(t=this._params.logger)&&void 0!==t?t:new v.ConsoleLoggerImpl(_e.name),this._monitoringService=null!==(n=this._params.monitoringService)&&void 0!==n?n:v.MonitoringServiceImpl.getInstance(),this.stagingFeedbackFormData=this._state.view(),this._subs.add(this._params.assistantUIActions.subscribe(e=>this._handleUIAction(e)))}dispose(){this._subs.unsubscribe()}_handleUIAction(e){switch(e.kind){case y.AssistantUIAction.Kind.openFeedbackFormButtonClick:return this._openFeedbackForm(e.source);case y.AssistantUIAction.Kind.feedbackFormChange:return this._updateFeedbackForm(e.feedbackData);case y.AssistantUIAction.Kind.feedbackFormSubmitButtonClick:return this._submitFeedbackForm(e.feedbackData);default:return}}_openFeedbackForm(e){this._params.router.push("feedbackForm"),this._state.set({source:e})}_updateFeedbackForm(e){this._state.modify(t=>Object.assign(Object.assign({},t),e))}_submitFeedbackForm(e){this._params.router.pop(),this._state.set({}),Object(s.s)("submitFeedback",this._params.feedbackService.submitFeedback(e),this._logger,void 0,e=>this._monitoringService.notify(y.SessionMonitoringEvent.Error.SubmitFeedbackFailed.create(this._params.sessionService.session.get().mode,e)))}}class xe{constructor(e,t){this._initialView=e,this._viewEq=t,this._viewStack=o.a.create([this._initialView]),this.activeView=this._viewStack.view(g.M)}push(e){this._viewStack.modify(t=>this._viewEq.equals(e,t[0])?t:g.v(e,t))}pop(){this._viewStack.modify(Object(r.flow)(g.kb,([e,t])=>Object(r.pipe)(g.F(t),a.getOrElse(()=>[e]))))}replace(e){this._viewStack.modify(t=>Object(r.pipe)(g.v(e,g.hb(t))))}}(ke||(ke={})).eq=p.eqString;var Ie,je,Te=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};(Ie||(Ie={})).create=function(e){const t=new i.a.Subject,n=new xe("loading",ke.eq),r=new x(Object.assign({assistantUIActions:t,router:n},e)),o=new Ae({assistantUIActions:t,trackingService:e.trackingService,sessionService:e.sessionService,monitoringService:e.monitoringService,logger:e.logger,router:n}),s=new _e({assistantUIActions:t,sessionService:e.sessionService,feedbackService:e.feedbackService,monitoringService:e.monitoringService,logger:e.logger,router:n}),l=new be(t,e.availabilityService,e.sessionService,e.trackingService,()=>a.isSome(r.state.get().selectedAction),()=>r.focusPromptField()),c=new j(t,n.activeView),u=new Ce({userSurveyService:e.userSurveyService,assistantUIActions:t}),d=new Se(t,n,e.skillService);return{router:n,assistant:r,promptMenu:l,voiceProfile:o,feedbackForm:s,notifications:c,survey:u,skill:d,actions:t.asObservable(),notify:e=>t.next(e),dispose:()=>{c.dispose(),r.dispose(),u.dispose(),s.dispose(),d.dispose(),o.dispose(),l.dispose()}}},(je||(je={})).create=function(e){const{positionInfo:t,handlers:n}=e,a=Te(e,["positionInfo","handlers"]),r=Ie.create(Object.assign(Object.assign({},a),{handlers:{close:()=>n.close()}})),i=new c(t,{onFocusChange:e=>n.onFocusChange(e)});return Object.assign(Object.assign({},r),{position:i,dispose:()=>{i.dispose(),r.dispose()}})};var Me=n("xEVj"),Ne=n("9T0W"),Pe=n("3rlE"),Le=n("e9jP");const Re="content",Be="toolbar",Fe=e=>F.a.color(B.a.BlueGray40).toRGBA().fade(e).toString(),De={fontFamily:"Inter, sans-serif",width:F.a.rem(26.875),borderRadius:F.a.rem(B.e.Radius2),background:"linear-gradient(180deg, #FCFCFC 0%, #FCFCFC 100%)",$nest:{"&[data-dragging='true']":{cursor:"grabbing",$nest:{["."+Re]:{pointerEvents:"none"},["."+Be]:{pointerEvents:"none"}}}}},He=Object.assign(Object.assign({},De),{boxShadow:`0px 0px 0px 0.5px ${B.a.BlueGray40}, 0px 0px 2px 0.5px ${Fe(.5)}, 0px 1px 8px 0.5px ${Fe(.1)}, 0px 2px 12px 0.5px ${Fe(.1)}, 0px 4px 20px 0.5px ${Fe(.25)}`,backdropFilter:`blur(${F.a.rem(.34375)})`}),Ve={maxWidth:F.a.rem(40),minWidth:F.a.rem(18),width:F.a.percent(100)},Ue={display:"flex",alignItems:"center",justifyContent:"space-between",gap:F.a.rem(B.g.Space2),padding:`${F.a.rem(B.g.Space1)} ${F.a.rem(B.g.Space2)}`,height:F.a.rem(2.5),boxSizing:"border-box","--grammarly-app-region":"drag",$nest:{button:{"--grammarly-app-region":"no-drag"}}},We={borderBottom:"0.5px solid "+B.a.BlueGray10},qe=F.a.style(He),ze=(F.a.style(De),F.a.style(He,Ve)),$e=F.a.style(De,Ve),Ge=F.a.joinClasses([Be,F.a.style(Ue)]),Ke=F.a.joinClasses([Be,F.a.style(Ue,{cursor:"grab",$nest:{"&:active":{cursor:"grabbing"}}})]),Ye=F.a.style(We),Ze=Re,Xe=L.b.Grid.make(({slots:e,state:t,notify:n})=>{const{ref:a,onMount:r}=Me.a.useElWatcher();return M.createElement(Le.a.Provider,{value:{portalContainer:a}},M.createElement(Ne.a.Context.Provider,{value:Ne.a.emptyWithName("cheetahAssistant")},M.createElement(P.a.Fragment,null,t.pipe(i.a.map(t=>"initial"===t.kind||"dragged"===t.kind?M.createElement(Le.b,{placement:t,onFocus:n({kind:"focus",focused:!0}),onBlur:n({kind:"focus",focused:!1}),onMount:e=>{n({kind:"mount",element:e})(),r(e)},onMaxSizeChange:e=>n({kind:"maxSize",maxSize:e})(),"data-grammarly-part":"ideation-assistant","data-dragging":"dragged"===t.kind&&t.dragging,className:qe},M.createElement("header",Object.assign({},Object(N.c)(Ke,t.contentOverflowUnderToolbar?Ye:null),{ref:e=>e&&n({kind:"dragHandleMount",element:e})()}),e.toolbar,M.createElement(R.c.Tertiary,{onClick:n({kind:y.AssistantUIAction.Kind.toolbarCloseButtonClick}),compact:!0,size:"large",name:"toolbarClose","aria-label":"Close Assistant"},M.createElement(Pe.d.Close,null))),M.createElement("main",{className:Ze},e.content)):"none"===t.kind?null:Object(T.d)(t))))))});function Qe(){return Object(r.flow)(i.a.map(e=>"mount"===e.kind?a.some(e.element):a.none),i.b.compact,i.a.map(a.some),Me.a.FocusTrap.dynamicFocusTrap(Me.a.FocusTrap.InitialFocus.none,Je,et),i.a.ignoreElements())}function Je(e){var t;if(e instanceof HTMLIFrameElement){const n=null===(t=e.contentWindow)||void 0===t?void 0:t.document;if(n){const e=n.body.querySelector("textarea:not([disabled]), input:not([disabled])");e&&"focus"in e&&"function"==typeof e.focus&&e.focus()}}else e.focus()}function et(e,t){return e instanceof HTMLIFrameElement?e.contentDocument?i.a.fromEvent(e.contentDocument.body,t):i.a.NEVER:i.a.fromEvent(e,t)}const tt=L.b.Grid.make(({slots:e,state:t,notify:n})=>{const{ref:a,onMount:o}=Me.a.useElWatcher();return M.createElement(Le.a.Provider,{value:{portalContainer:a}},M.createElement(Ne.a.Context.Provider,{value:Ne.a.emptyWithName("cheetahAssistant")},M.createElement(P.a.Fragment,null,t.pipe(i.a.map(t=>M.createElement(P.a.div,Object.assign({},Object(N.c)(t.includeBoxShadow?ze:$e),{key:"ideation-assistant-container",mount:e=>{Object(r.pipe)(b.g.fromNullable(e),b.g.tap(e=>{n({kind:"mount",element:e})})),o(e)}}),M.createElement(P.a.header,Object.assign({},Object(N.c)(Ge,t.contentOverflowUnderToolbar?Ye:null)),e.toolbar,M.createElement(R.c.Tertiary,{onClick:n({kind:y.AssistantUIAction.Kind.toolbarCloseButtonClick}),compact:!0,size:"large",name:"toolbarClose","aria-label":"Close Assistant"},M.createElement(Pe.d.Close,null))),M.createElement(P.a.main,{className:Ze},e.content)))))))});var nt;function at(e,t=nt.empty){return Object(r.flow)(i.a.share(),n=>i.a.mergeStatic(n.pipe(i.a.tap(t=>function(e,t){switch(e.kind){case y.AssistantUIAction.Kind.toolbarCloseButtonClick:return t.notify(e);case"mount":return;default:return Object(T.d)(e)}}(t,e)),i.a.ignoreElements()),n.pipe(Qe()),o.a.combine(e.assistant.state.view("contentOverflowUnderToolbar"),e.router.activeView,(e,n)=>({includeBoxShadow:t.includeBoxShadow,contentOverflowUnderToolbar:e&&"voiceProfile"!==n&&"feedbackForm"!==n}))))}!function(e){e.empty={includeBoxShadow:!0}}(nt||(nt={}));const rt=L.b.Node.make(({view:e})=>M.createElement(R.d,{style:ot},M.createElement("div",{className:st},M.createElement(P.a.img,{src:e("iconUrl"),style:{width:16,height:16}}),M.createElement(P.a.span,Object.assign({},Object(s.t)(e("header"))))),M.createElement(P.a.div,null,e("hintsHeader")),M.createElement(P.a.ul,{className:lt},e("hintsItems").pipe(i.a.map(h.ub(e=>M.createElement("li",{key:e},e))))))),it=L.b.Union.asOption(rt),ot={fontWeight:400,fontSize:F.a.rem(.875),lineHeight:F.a.rem(1.3125)},st=F.a.style({display:"flex",alignItems:"center",gap:F.a.rem(B.g.Space2),color:B.f.Base.Content.Secondary.Default,fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125)}),lt=F.a.style({padding:"0 0 0 "+F.a.rem(B.g.Space6+B.g.SpaceHalf),margin:0}),ct=L.b.Node.make(({view:e,notify:t})=>M.createElement(R.d,null,M.createElement(P.a.div,{className:dt},e("error").pipe(i.a.map(e=>M.createElement(M.Fragment,null,M.createElement(R.J,{className:ht}),M.createElement("span",{className:pt},e.header))))),M.createElement(P.a.div,{className:mt},e("error").pipe(i.a.map(e=>e.text))),M.createElement(P.a.Fragment,null,e("showGotItButton").pipe(i.a.map(e=>e?M.createElement(R.c.Primary,{className:gt,name:"gotItButton",onClick:t({kind:y.AssistantUIAction.Kind.errorCardOkButtonClick}),size:"small"},"OK"):null))))),ut=L.b.Union.asOption(ct),dt=F.a.style({display:"flex",alignItems:"center",gap:F.a.rem(B.g.Space1)}),pt=F.a.style({fontSize:F.a.rem(.875),lineHeight:F.a.rem(1.375),fontWeight:700,color:B.f.Base.Content.Primary.Default}),mt=F.a.style({fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125),color:B.f.Base.Content.Secondary.Default,whiteSpace:"break-spaces",overflowWrap:"anywhere"}),ht=F.a.style(Object.assign({padding:F.a.rem(B.g.SpaceHalf)},s.a.iconSizeRems(1.125))),gt=F.a.style({alignSelf:"flex-start"});function ft(e){const t=e.assistant.state.view("session").pipe(i.a.map(e=>e.error));return L.a.composeOption(function(e,t){const n=e.router.activeView.view(e=>"loadingError"!==e);return L.a.fromSideEffect(t=>e.notify(t),t.pipe(i.a.withLatestFrom(n),i.a.map(([e,t])=>({error:e,showGotItButton:t}))))}(e,t.pipe(i.b.compact)),()=>t)}const bt=F.a.keyframes({"0%":{backgroundPositionX:"-300px"},"85%":{backgroundPositionX:"600px"},"100%":{backgroundPositionX:"600px"}}),yt=F.a.style({position:"absolute",top:0,left:0,bottom:0,right:0,pointerEvents:"none",mixBlendMode:"overlay",background:"linear-gradient(90deg, rgba(255, 255, 255, 0) 0px, black 120px, black 150px, black 170px, rgba(255, 255, 255, 0) 300px)",backgroundRepeat:"no-repeat",backgroundPositionX:"-300px",backgroundSize:1e3,animationDelay:"300ms",animationDuration:"1.5s",animationName:bt,animationTimingFunction:"linear",animationIterationCount:"infinite"}),vt=()=>M.createElement("div",{className:yt}),St=L.b.Node.make(({view:e})=>M.createElement(R.d,{"aria-busy":"true"},M.createElement(R.e,null,e("header")),M.createElement("div",{className:Ct},M.createElement(vt,null)))),Ct=F.a.style({height:F.a.rem(.5),borderRadius:F.a.rem(B.g.SpaceQuarter),background:B.a.BlueGray5,flexGrow:1,maxWidth:F.a.rem(22.5),position:"relative",marginBottom:F.a.rem(B.g.Space1)}),wt=L.b.Node.make(({view:e})=>M.createElement(R.d,{style:Ot},M.createElement(R.e,null,e("header")),M.createElement(P.a.div,Object.assign({className:At},Object(s.t)(e("text"),[...s.e,"person"]))))),kt=L.b.Union.make("kind",{loading:St,loaded:wt}),Et=L.b.Union.asOption(kt),Ot={gap:F.a.rem(B.g.SpaceHalf)},At=F.a.style({color:B.f.Base.Content.Primary.Default,fontStyle:"normal",fontWeight:400,fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125),fontFeatureSettings:"'ss01' on",$nest:{"& person":{color:B.a.Blue60,fontWeight:700,$nest:{"&::before":{content:"''",display:"inline-block",width:F.a.rem(1),height:F.a.rem(1),backgroundSize:"cover",verticalAlign:"text-bottom",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url('data:image/svg+xml;utf8,${encodeURIComponent(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.95768 3.00512C8.95983 3.00512 9.7855 3.83575 9.7855 4.8769V6.01259C9.7855 7.05374 8.95983 7.88437 7.95768 7.88437C6.95553 7.88437 6.12986 7.05374 6.12986 6.01259V4.8769C6.12986 3.83575 6.95553 3.00512 7.95768 3.00512ZM10.5847 4.8769C10.5847 3.40916 9.41586 2.20593 7.95768 2.20593C6.4995 2.20593 5.33067 3.40916 5.33067 4.8769V6.01259C5.33067 7.48032 6.4995 8.68355 7.95768 8.68355C8.20909 8.68355 8.45189 8.64779 8.68159 8.58107C8.68635 8.65317 8.69342 8.72016 8.70392 8.78578C8.81061 9.45248 9.17662 10.0499 9.72211 10.4478C9.88673 10.5679 10.0776 10.6652 10.3757 10.8171L11.2702 11.2732C11.6108 11.4469 11.7408 11.5145 11.8477 11.5924C12.2227 11.866 12.4743 12.2767 12.5477 12.7351C12.5589 12.8055 12.5645 12.8807 12.5672 12.995H9.90666C9.68597 12.995 9.50707 13.1739 9.50707 13.3946C9.50707 13.6152 9.68597 13.7941 9.90666 13.7941H12.9694C13.19 13.7941 13.3689 13.6152 13.3689 13.3946L13.369 13.3588C13.369 13.0242 13.369 12.81 13.3368 12.6088C13.2301 11.9421 12.8641 11.3446 12.3186 10.9468C12.154 10.8267 11.9632 10.7294 11.665 10.5775C11.6546 10.5721 11.644 10.5667 11.6332 10.5612L10.7705 10.1214C10.43 9.94773 10.2999 9.88006 10.1931 9.80215C9.81805 9.52861 9.56642 9.11785 9.49307 8.65949C9.4762 8.55408 9.47217 8.43819 9.47124 8.19619C10.1462 7.71137 10.5847 6.9116 10.5847 6.01259V4.8769Z" fill="${B.a.Blue60}"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.91127 3.00512C6.90913 3.00512 6.08346 3.83575 6.08346 4.8769V6.01259C6.08346 7.05374 6.90913 7.88437 7.91127 7.88437C8.91342 7.88437 9.73909 7.05374 9.73909 6.01259V4.8769C9.73909 3.83575 8.91342 3.00512 7.91127 3.00512ZM5.28427 4.8769C5.28427 3.40916 6.45309 2.20593 7.91127 2.20593C9.36946 2.20593 10.5383 3.40916 10.5383 4.8769V6.01259C10.5383 7.48032 9.36946 8.68355 7.91127 8.68355C7.65987 8.68355 7.41706 8.64779 7.18737 8.58107C7.1826 8.65317 7.17553 8.72016 7.16503 8.78578C7.05834 9.45248 6.69233 10.0499 6.14684 10.4478C5.98222 10.5679 5.7914 10.6652 5.49326 10.8171L4.59875 11.2732C4.25818 11.4469 4.12811 11.5145 4.02129 11.5924C3.64626 11.866 3.39463 12.2767 3.32128 12.7351C3.31001 12.8055 3.30447 12.8807 3.30176 12.995H10.2779C10.4986 12.995 10.6775 13.1739 10.6775 13.3946C10.6775 13.6152 10.4986 13.7941 10.2779 13.7941H2.8996C2.67891 13.7941 2.50001 13.6152 2.50001 13.3946L2.5 13.3588C2.49996 13.0242 2.49994 12.81 2.53214 12.6088C2.63883 11.9421 3.00484 11.3446 3.55033 10.9468C3.71494 10.8267 3.90577 10.7294 4.2039 10.5775C4.21438 10.5721 4.22499 10.5667 4.23574 10.5612L5.09841 10.1214C5.43899 9.94773 5.56906 9.88006 5.67588 9.80215C6.0509 9.52861 6.30254 9.11785 6.37589 8.65949C6.39276 8.55408 6.39678 8.43819 6.39771 8.19619C5.72278 7.71137 5.28427 6.9116 5.28427 6.01259V4.8769Z" fill="${B.a.Blue60}"/></svg>`)}')`}}}}});function _t(e){const t=e.state.view("session").view(Object(r.flow)(a.fromPredicate(e=>y.Session.Mode.isQuickReply(e.mode)),a.chain(e=>Object(r.pipe)("started"===e.kind?Object(r.pipe)(e.context.intent,a.map(e=>({kind:"loaded",text:e}))):a.some({kind:"loading"}),a.map(e=>Object.assign(Object.assign({},e),{header:"Sender’s intent"}))))));return L.a.composeOption(L.a.composeUnion({loading:()=>t.pipe(i.b.compact),loaded:()=>t.pipe(i.a.map(a.chain(e=>"loaded"===e.kind?a.some({text:e.text,header:e.header}):a.none)),i.b.compact)},()=>t.pipe(i.b.compact)),()=>t)}const xt=M.createContext({notifyUnmount:r.constVoid}),It=({style:e})=>M.createElement("div",{className:F.a.style(jt,e)},M.createElement("div",{className:Tt}),M.createElement("div",{className:Mt})),jt={height:F.a.rem(2),display:"flex",alignItems:"center",gap:F.a.rem(B.g.Space2),padding:`0 ${F.a.rem(B.g.Space2)} 0 ${F.a.rem(B.g.Space1)}`,borderRadius:F.a.rem(B.g.Space1),border:"1px solid "+B.a.BlueGray5,boxSizing:"border-box"},Tt=F.a.style({width:F.a.rem(1.5),height:F.a.rem(1.5),borderRadius:F.a.rem(1.5),background:B.a.BlueGray5}),Mt=F.a.style({height:F.a.rem(.5),borderRadius:F.a.rem(B.g.SpaceQuarter),background:B.a.BlueGray5,flexGrow:1}),Nt=L.b.Node.make(({view:e})=>M.createElement(R.d,{"aria-busy":"true"},M.createElement(R.e,null,e("header")),M.createElement(P.a.div,{className:Pt},M.createElement(vt,null),e("isQuickReply").pipe(i.a.map(Object(I.c)(M.createElement(M.Fragment,null,M.createElement(It,{style:{width:F.a.rem(23)}}),M.createElement(It,{style:{width:F.a.rem(21.5)}}),M.createElement(It,{style:{width:F.a.rem(20.5)}})),M.createElement(M.Fragment,null,M.createElement(It,{style:{width:F.a.rem(8.375)}}),M.createElement(It,{style:{width:F.a.rem(9.3125)}}),M.createElement(It,{style:{width:F.a.rem(10.5)}}),M.createElement(It,{style:{width:F.a.rem(10.75)}}),M.createElement(It,{style:{width:F.a.rem(4.9375)}})))))))),Pt=F.a.style({display:"flex",flexWrap:"wrap",gap:F.a.rem(B.g.Space2),position:"relative"}),Lt=L.b.Knot.make(L.b.Grid.make(({slots:e,notify:t,state:n})=>{const{ref:a,onMount:r}=Me.a.useElWatcher(),{notifyUnmount:o}=M.useContext(xt),s=M.useMemo(()=>a.pipe(i.a.observeOn(i.a.asapScheduler),i.b.compact,i.a.tap(e=>t({kind:y.AssistantUIAction.Kind.mount,name:y.AssistantUIItem.initialActionsList,element:e})()),i.a.finalize(()=>o({kind:y.AssistantUIAction.Kind.unmount,name:y.AssistantUIItem.initialActionsList}))),[a]);return Me.a.useSubscriptionTo(s),M.createElement(R.d,{style:Bt,ref:r},M.createElement(P.a.Fragment,null,n.pipe(i.a.map(({isQuickReply:e})=>e?M.createElement(R.u,{reportMenuButtonClassName:Ft,onClickProvideFeedback:t({kind:y.AssistantUIAction.Kind.openFeedbackFormButtonClick,source:y.Feedback.Source.quickReplyInitialActions}),onClickReportOffensive:t({kind:y.AssistantUIAction.Kind.reportOffensiveActionsButtonClick}),onOpenChange:e=>t({kind:y.AssistantUIAction.Kind.reportMenuVisibilityChange,trigger:E.uiItem(y.AssistantUIItem.initialActionsList),visible:e})()}):null)),e.actions))}),{actions:pe}),Rt=L.b.Union.make("kind",{none:L.b.Node.empty,loading:Nt,loaded:Lt}),Bt={position:"relative",padding:`${F.a.rem(B.g.Space1)} ${F.a.rem(B.g.Space3)}`},Ft=F.a.style({position:"absolute",top:F.a.rem(B.g.Space3),right:F.a.rem(B.g.Space3)});function Dt(e){const t=e.assistant.state.view("session").view(e=>y.Session.Mode.isQuickReply(e.mode)),n=o.a.combine(e.assistant.state.view("contextualActions"),t,(e,t)=>Object(r.pipe)(e,a.map(g.R(k.BackendAction.make)),a.map(g.L(k.BackendAction.ordByActionStore)),a.map(g.R(e=>({label:e[0].action.store.label,actions:oe(e,t=>y.Action.Store.Id.eq.equals(t.store.id,e[0].action.store.id),t?a.none:void 0)})))));return L.a.composeUnion({none:()=>i.a.of(null),loading:()=>o.a.combine(n,t,(e,t)=>({header:Object(r.pipe)(e,a.map(g.M),a.map(e=>e.label),a.getOrElse(()=>"Ideas for you")),isQuickReply:t})),loaded:Ht(e,n,t)},()=>o.a.combine(n,e.assistant.state.view("session"),(e,t)=>a.isSome(e)?{kind:"loaded"}:"started"===t.kind?{kind:"none"}:{kind:"loading"}))}function Ht(e,t,n){return L.a.composeKnot({root:L.a.fromSideEffect(t=>e.notify(t),n.view(e=>({isQuickReply:e}))),actions:he(e,t.pipe(i.b.compact))})}const Vt=L.b.Node.make(({view:e})=>M.createElement(R.d,{style:Wt},M.createElement("div",{className:qt},"This document"),M.createElement(P.a.div,{className:zt},e("title")),M.createElement(P.a.div,{className:$t},e("summary")))),Ut=L.b.Union.asOption(Vt),Wt={position:"relative",padding:`${F.a.rem(B.g.Space2)} ${F.a.rem(B.g.Space3)}`,gap:F.a.rem(B.g.Space2),fontSize:F.a.rem(B.g.Space3),lineHeight:F.a.rem(B.g.Space4+B.g.SpaceHalf)},qt=F.a.style({borderBottom:`${F.a.rem(B.g.SpaceQuarter)} solid ${B.f.Base.Boundaries.Secondary.Default}`,paddingBottom:F.a.rem(B.g.Space1),marginBottom:F.a.rem(B.g.Space1),color:B.f.Base.Content.Secondary.Default,userSelect:"none"}),zt=F.a.style({fontSize:F.a.rem(B.g.Space3+B.g.SpaceHalf),color:B.f.Base.Content.Secondary.Default,fontWeight:600}),$t=F.a.style({color:B.f.Base.Content.Primary.Default});function Gt(e){const t=e.assistant.state.view("session").view(Object(r.flow)(y.Session.toStarted,b.g.chain(e=>e.documentOverview)));return L.a.composeOption(()=>Object(r.pipe)(t,i.b.compact),()=>t)}const Kt=L.b.Node.make(({notify:e})=>M.createElement(R.d,{style:Xt},M.createElement("div",{className:Qt},"Set your voice"),M.createElement("div",{className:Jt},"Choose how you want your generated text to sound."),M.createElement(R.c.Primary,{className:tn,onClick:e({kind:y.AssistantUIAction.Kind.setVoiceButtonClick}),name:"bannerVoiceProfile",size:"small"},M.createElement(R.I,{className:en}),"Set voice"))),Yt=L.b.Union.asOption(Kt),Zt="setVoiceBtn",Xt={gap:0,backgroundColor:"#D8F2EC",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",backgroundImage:"url('https://d201kpdrh73vuz.cloudfront.net/text-generation/voice-banner.png')"},Qt=F.a.style({fontWeight:700,fontSize:F.a.rem(.875),lineHeight:F.a.rem(1.375),color:B.f.Base.Content.Primary.Default}),Jt=F.a.style({fontWeight:400,fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125),color:B.f.Base.Content.Secondary.Default}),en=F.a.style({stroke:"white"}),tn=F.a.joinClasses([Zt,F.a.style(s.a.buttonOverrideSpecificity({alignSelf:"flex-start",marginTop:F.a.rem(B.g.Space2),padding:`0 ${F.a.rem(B.g.Space2)} 0 ${F.a.rem(B.g.Space1)}`,lineHeight:F.a.rem(1.125),gap:F.a.rem(B.g.Space1),$nest:{"& > i":Object.assign({marginLeft:0},s.a.iconSizeRems(1.5))}},Zt))]);function nn(e){const t=e.assistant.state.view("session").view(Object(r.flow)(y.Session.toStarted,b.g.fold(r.constFalse,e=>e.voiceProfile.needsSetup)));return L.a.composeOption(L.a.fromSideEffect(t=>e.notify(t),null),()=>t.view(e=>e?b.g.some(null):b.g.none))}const an=L.b.Grid.make(({slots:e})=>M.createElement("div",{className:on},e.voiceBanner,e.documentOverview,e.intent,e.actions)),rn=L.b.Knot.make(an,{voiceBanner:Yt,intent:Et,actions:Rt,documentOverview:Ut}),on=F.a.style({display:"flex",flexDirection:"column",gap:F.a.rem(B.g.Space2)});function sn(e){return L.a.composeKnot({voiceBanner:nn(e),intent:_t(e.assistant),actions:Dt(e),documentOverview:Gt(e)})}var ln=n("5ocG");const cn="primaryBtn",un="rephraseBtn",dn="dismissBtn",pn="reportBtn",mn=({isActive:e,id:t,children:n,onHovered:a,onFocused:r})=>{const i=M.useRef(null);return M.createElement(R.d,{ref:i,style:gn,"data-active":e,"data-id":t,onMouseEnter:()=>null==a?void 0:a(!0),onMouseLeave:()=>null==a?void 0:a(!1),onFocus:()=>{var e;return null==r?void 0:r((null===(e=i.current)||void 0===e?void 0:e.contains(Object(s.i)(document)))||!1)},onBlur:()=>{var e;return null==r?void 0:r((null===(e=i.current)||void 0===e?void 0:e.contains(Object(s.i)(document)))||!1)}},n)},hn={backgroundColor:B.f.Base.Surface.Primary.Default,$nest:{[`& .${dn}, & .${pn}`]:{opacity:1,pointerEvents:"auto"},["& "+s.a.repeatClassSelector(cn,s.a.cheetahButtonContentOverrideSpecificity)]:{color:B.f.Base.Surface.Primary.Default,backgroundColor:s.b.BrandGreen60,border:"1px solid transparent"}}},gn={backgroundColor:"transparent",$nest:{"&:not(:last-of-type)":{borderBottom:"0.5px solid "+B.a.BlueGray10},["& "+s.a.repeatClassSelector(cn,s.a.cheetahButtonContentOverrideSpecificity)]:{lineHeight:F.a.rem(1.125),backgroundColor:B.f.Base.Surface.Primary.Default,color:B.f.Base.Content.Secondary.Default,border:"1px solid "+B.a.BlueGray5,boxSizing:"border-box"},["& "+s.a.repeatClassSelector(un,s.a.cheetahButtonContentOverrideSpecificity)]:{lineHeight:F.a.rem(1.5)},[`& .${dn}, & .${pn}`]:{opacity:0,pointerEvents:"none",justifyContent:"center"},"&:focus, &:hover":Object.assign({},hn),"&[data-active='true']":Object.assign({},hn)}},fn=({header:e,footer:t,isActive:n,resultId:a,onHovered:r,onFocused:i,body:o})=>M.createElement(mn,{id:a,isActive:n,onHovered:r,onFocused:i},e,o,t),bn=({onInsert:e,onRephrase:t,onDismiss:n,onProvideFeedback:a,onReportOffensive:r,onReportMenuVisibilityChange:i,disabled:o})=>M.createElement("div",{className:vn},M.createElement("div",{className:Cn},M.createElement(R.c.Primary,{className:On,name:"insertResult",onClick:e,size:"small"},"Insert"),M.createElement(R.c.Tertiary,{className:An,name:"rephraseResult",onClick:t,disabled:o,size:"small"},"Rephrase")),M.createElement("div",{className:wn},M.createElement(R.c.Tertiary,{onClick:n,className:kn,compact:!0,size:"small",name:"dismissResult",title:"Delete"},M.createElement(R.p,{className:_n})),M.createElement(R.u,{reportMenuButtonClassName:En,onClickProvideFeedback:a,onClickReportOffensive:r,onOpenChange:i}))),yn="ignoreIcon",vn=F.a.style({gap:F.a.rem(B.g.Space2),display:"flex",alignItems:"center",justifyContent:"space-between"}),Sn={display:"flex",alignItems:"center",gap:F.a.rem(B.g.Space2)},Cn=F.a.style(Sn),wn=F.a.style(Sn),kn=dn,En=pn,On=cn,An=un,_n=F.a.joinClasses([yn,F.a.style(s.a.buttonOverrideSpecificity(s.a.iconSizeRems(1.5),yn))]),xn=({header:e,onClick:t,disabled:n})=>M.createElement(R.c.Tertiary,{compact:!0,disabled:n,onClick:t,className:Ln,name:"editResultPrompt",size:"small"},M.createElement("div",{className:Rn},M.createElement("div",Object.assign({className:Fn},Object(s.t)(e))),M.createElement("div",{className:Nn},"Edit"))),In=({iconUrl:e,loading:t,header:n})=>M.createElement("div",{className:Pn},t?M.createElement(R.q,{className:Bn}):Object(r.pipe)(e,a.fold(r.constNull,e=>M.createElement("img",{src:e,style:{width:F.a.rem(1.25),height:F.a.rem(1.25)}}))),M.createElement("span",Object.assign({className:Fn},Object(s.t)(n)))),jn="editHeaderBtn",Tn="headerBtn",Mn=s.a.buttonOverrideSpecificity({height:F.a.rem(1.5),lineHeight:F.a.rem(1.125),padding:"0 "+F.a.rem(B.g.Space1),margin:"0 "+F.a.rem(-B.g.Space1),overflow:"hidden",$nest:{["& ."+jn]:{opacity:0,pointerEvents:"none"},"&:focus, &:hover":{background:B.a.BlueGray0,["& ."+jn]:{opacity:1,pointerEvents:"auto",color:B.f.Base.Content.Primary.Default}}}},Tn),Nn=jn,Pn=F.a.style({display:"flex",alignItems:"center",gap:F.a.rem(B.g.Space2+B.g.SpaceHalf),height:F.a.rem(1.5),fontWeight:400,fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125),color:B.a.BlueGray60,overflow:"hidden"}),Ln=F.a.joinClasses([Tn,F.a.style(Mn)]),Rn=F.a.style({display:"flex",justifyContent:"space-between",width:"100%",gap:F.a.rem(B.g.Space1)}),Bn=F.a.style({marginBottom:"-"+F.a.rem(B.g.SpaceHalf),display:"inline-flex",alignItems:"center",justifyContent:"center"}),Fn=F.a.style({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left"});var Dn=n("hoSD"),Hn=n("26kZ"),Vn=n("IqZr");const Un=({title:e,url:t,contextText:n})=>{const i=M.useRef(null),o=Object(Vn.d)(i,e),s=Object(r.pipe)(n,a.getOrElse(()=>o));return Object(r.pipe)(t,a.fold(()=>M.createElement(zn,{tooltip:s},M.createElement("span",{className:Wn,ref:i},e)),t=>M.createElement(zn,{tooltip:s},M.createElement("div",{className:qn},M.createElement(R.j,{href:t,className:Wn,ref:i},e)))))},Wn=F.a.style({display:"inline-block",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left",maxWidth:"100%",$nest:{"&:visited":{color:"inherit"}}}),qn=F.a.style({display:"flex",alignItems:"center",width:"100%",overflow:"hidden"}),zn=({children:e,tooltip:t})=>t?M.createElement(Hn.a,{align:"topCenter",title:M.createElement($n,{text:t})},e):M.createElement(M.Fragment,null,e),$n=({text:e})=>e?M.createElement("div",{className:Gn},e.length>1e3?e.slice(0,1e3).trim()+"...":e):null,Gn=F.a.style({maxWidth:F.a.rem(80*B.g.Space1),overflowWrap:"normal",whiteSpace:"normal",textAlign:"left"}),Kn=({title:e,titleId:t,desc:n,descId:a,...r})=>M.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...r},n?M.createElement("desc",{id:a},n):null,e?M.createElement("title",{id:t},e):null,M.createElement("path",{d:"M12 10.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm-10 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Z",fill:"#646B81"})),Yn=({title:e,titleId:t,desc:n,descId:a,...r})=>M.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...r},n?M.createElement("desc",{id:a},n):null,e?M.createElement("title",{id:t},e):null,M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.194 7.5H7.5v-1H11V10h-1V8.18a4.926 4.926 0 0 0-2.5 4.32 5.002 5.002 0 0 0 3.214 4.672l-.357.934A6.002 6.002 0 0 1 6.5 12.5a5.925 5.925 0 0 1 2.694-5Zm8.306 5c0-2.128-1.33-3.92-3.214-4.64l.357-.934c2.251.86 3.857 3.011 3.857 5.574a5.988 5.988 0 0 1-2.655 5H17.5v1H14V15h1v1.848a4.985 4.985 0 0 0 2.5-4.348Z",fill:"#646B81"}));var Zn=n("Mi01");const Xn=({onRegenerateWithoutReference:e})=>M.createElement(R.i,{name:"referenceMenu",title:"Reference menu","aria-label":"Reference menu",label:M.createElement(Kn,null),theme:{button:Qn},onAction:t=>{switch(t){case"regenerateWithoutReference":return e()}}},M.createElement(Zn.a.Item,{key:"regenerateWithoutReference",textValue:"regenerateWithoutReference"},M.createElement(Yn,{className:Jn}),"Regenerate without this reference")),Qn=F.a.joinClasses([F.a.style({marginLeft:"auto"}),Object(R.K)({type:"tertiary",compact:!0,size:"small"})]),Jn=F.a.style({marginRight:F.a.rem(B.g.Space2)}),ea=({className:e,isOpen:t,references:n,onOpenChange:a,onRegenerateWithoutReference:r,onReferencesMount:o})=>{const{ref:s,onMount:l}=Me.a.useElWatcher(),c=M.useMemo(()=>s.pipe(i.a.observeOn(i.a.asapScheduler),i.b.compact,i.a.tap(o)),[s]);return Me.a.useSubscriptionTo(c),M.createElement(P.a.div,{className:e,mount:l},M.createElement(R.c.Tertiary,{style:ta,onClick:()=>a(!t),name:"collapseReferencesList",size:"small"},M.createElement("span",{className:aa},n.length," ",Dn.f.pluralize(n.length,"reference","references")),t?M.createElement(Pe.d.Arrow,{direction:Pe.a.up}):M.createElement(Pe.d.Arrow,{direction:Pe.a.down})),M.createElement("ul",{className:ra,hidden:!t,"aria-hidden":!t},n.map(({id:e,title:t,iconUrl:n,url:a,contextText:i},o)=>M.createElement("li",{key:o,className:ia},M.createElement("img",{src:n,className:oa,alt:""}),M.createElement(Un,{title:t,url:a,contextText:i}),M.createElement(Xn,{onRegenerateWithoutReference:()=>r(e)})))))},ta={base:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:F.a.rem(B.g.Space1),paddingRight:0}},na={fontSize:F.a.rem(B.g.Space3),lineHeight:F.a.rem(B.g.Space4+B.g.SpaceHalf),color:B.f.Base.Content.Secondary.Default,userSelect:"none"},aa=F.a.style(na),ra=F.a.style({fontSize:F.a.rem(B.g.Space3),lineHeight:F.a.rem(B.g.Space4+B.g.SpaceHalf),color:B.f.Base.Content.Primary.Default,margin:0,padding:0}),ia=F.a.style({height:F.a.rem(B.g.Space6),display:"flex",alignItems:"center",borderRadius:F.a.rem(B.e.Radius1)}),oa=F.a.style({minWidth:F.a.rem(B.g.Space4),height:F.a.rem(B.g.Space4),marginRight:F.a.rem(B.g.Space2)});var sa=n("axA2");const la=({className:e,title:t,description:n})=>M.createElement("div",{className:F.a.joinClasses([ca,e])},M.createElement("div",{className:ua},M.createElement("span",{className:ha},t)),M.createElement("ul",{className:da},n.map((e,t)=>M.createElement("li",{className:pa,key:t},M.createElement(sa.a,{className:ma}),M.createElement("span",{className:ga},e))))),ca=F.a.style({display:"flex",flexDirection:"column"}),ua=F.a.style({display:"flex"}),da=F.a.style({display:"flex",flexDirection:"column",listStyle:"none",margin:0,padding:0,$nest:{"& li":{marginTop:F.a.rem(B.g.Space1)}}}),pa=F.a.style({display:"flex",alignItems:"center"}),ma=F.a.style({marginRight:F.a.rem(B.g.Space2),width:F.a.rem(B.g.Space4),maxHeight:F.a.rem(B.g.Space4+B.g.SpaceHalf),$nest:{"& path:first-of-type":{fill:B.a.Green60}}}),ha=F.a.style({fontSize:F.a.rem(B.g.Space3),lineHeight:F.a.rem(B.g.Space4+B.g.SpaceHalf),fontWeight:700,color:B.f.Base.Content.Secondary.Default}),ga=F.a.style({fontSize:F.a.rem(B.g.Space3),lineHeight:F.a.rem(B.g.Space4+B.g.SpaceHalf),color:B.f.Base.Content.Secondary.Default,flex:1}),fa=({isMyVoice:e,onClick:t})=>M.createElement(R.c.Tertiary,{name:"toggleVoice",onClick:t,size:"small",compact:!0,style:ba(e)},M.createElement(R.H,null),e?"My voice":"Generic");function ba(e){return{base:{display:"flex",alignItems:"center",height:F.a.rem(1.25),lineHeight:F.a.rem(1.125),color:e?B.a.Green80:B.a.BlueGray60,backgroundColor:e?B.a.Green0:B.a.BlueGray0,padding:"0 "+F.a.rem(B.g.Space1)},icon:{marginRight:F.a.rem(B.g.Space2),minWidth:F.a.rem(1),minHeight:F.a.rem(1),$nest:{"& svg":{fill:e?B.a.Green60:B.a.BlueGray60}}},hovered:{backgroundColor:e?F.a.color(s.b.Green10).mix(F.a.color(s.b.BlueGray5)).toRGBA().toString():B.a.BlueGray10,color:e?B.a.Green80:B.a.BlueGray60},active:{backgroundColor:e?F.a.color(s.b.Green10).mix(F.a.color(s.b.BlueGray5)).toRGBA().toString():B.a.BlueGray10,color:e?B.a.Green80:B.a.BlueGray60}}}var ya=n("24uI");const va=F.a.style({whiteSpace:"break-spaces",overflowWrap:"anywhere",fontStyle:"normal",fontWeight:"normal",fontSize:F.a.rem(.875),fontFeatureSettings:"'ss03' on",lineHeight:F.a.rem(1.3125),color:B.f.Base.Content.Primary.Default}),Sa=({children:e})=>M.createElement("div",{className:va},e);var Ca;!function(e){e.generatedText="generatedText",e.knowledgeHubTerm="knowledgeHubTerm",e.none="none"}(Ca||(Ca={}));const wa=({delta:e})=>M.createElement(Sa,null,e.map((e,t)=>{if(!ya.a.isInsert(e))return null;switch(Ea(e.attributes)){case Ca.generatedText:return M.createElement(Oa,{key:t},e.insert);case Ca.knowledgeHubTerm:return M.createElement(Aa,{key:t},e.insert);default:return M.createElement(_a,{key:t},e.insert)}}));var ka;!function(e){e.generatedText="generatedText",e.knowledgeHubTerm="knowledgeHubTerm"}(ka||(ka={}));const Ea=e=>{switch(!0){case null==e?void 0:e[ka.knowledgeHubTerm]:return Ca.knowledgeHubTerm;case null==e?void 0:e[ka.generatedText]:return Ca.generatedText;default:return Ca.none}},Oa=({children:e})=>M.createElement("span",{className:xa},e),Aa=({children:e})=>M.createElement(Hn.a,{title:"from Knowledge Share"},M.createElement("span",{className:Ia},e)),_a=({children:e})=>M.createElement("span",null,e),xa=F.a.style({backgroundColor:B.a.Green0,borderRadius:F.a.rem(B.e.RadiusHalf)}),Ia=F.a.style({backgroundColor:B.a.Blue0,borderRadius:F.a.rem(B.e.RadiusHalf)}),ja=({text:e})=>""!==e.trim()?M.createElement(Sa,null,e):null,Ta=L.b.Node.make(({state:e})=>M.createElement(P.a.Fragment,null,e.pipe(i.a.map(({result:e})=>M.createElement(fn,{resultId:"in-progress",body:M.createElement(ja,{text:e.text}),header:M.createElement(In,{header:"Working on it...",iconUrl:a.none,loading:!0}),isActive:!0}))))),Ma=L.b.Union.asOption(Ta);function Na(e){const t=e.state.view("session").view(y.Session.toStarted).view(Object(r.flow)(a.chain(e=>e.inProgressResult),a.map(e=>({result:e}))));return L.a.composeOption(()=>t.pipe(i.b.compact),()=>t)}const Pa=L.b.Grid.make(({slots:e,state:t,notify:n})=>M.createElement(P.a.Fragment,null,t.pipe(i.a.map(({result:t,disabled:a,isActive:i,isReferencesOpen:o,isMyVoice:s})=>M.createElement(fn,{resultId:t.id,body:M.createElement(wa,{delta:Object(r.pipe)(t.delta,b.b.fold(r.identity,e=>s?e.userVoice:e.genericVoice))}),header:e.header,footer:M.createElement(M.Fragment,null,Object(r.pipe)(t.changesSummary,b.g.map(e=>M.createElement(M.Fragment,null,M.createElement(R.x,{className:La}),M.createElement(la,{title:e.title,description:e.description,className:Ra}))),b.g.toNullable),M.createElement(bn,{onRephrase:n({kind:y.AssistantUIAction.Kind.resultCardRephraseButtonClick,result:t,selectedVoice:s?"user":"generic"}),onInsert:n({kind:y.AssistantUIAction.Kind.resultCardInsertButtonClick,result:t,selectedVoice:s?"user":"generic"}),onDismiss:n({kind:y.AssistantUIAction.Kind.resultCardDismissButtonClick,result:t}),onProvideFeedback:n({kind:y.AssistantUIAction.Kind.openFeedbackFormButtonClick,source:y.Feedback.Source.resultCard}),onReportOffensive:n({kind:y.AssistantUIAction.Kind.reportOffensiveResultButtonClick,result:t}),onReportMenuVisibilityChange:e=>n({kind:y.AssistantUIAction.Kind.reportMenuVisibilityChange,trigger:E.card(t.id),visible:e})(),disabled:a}),Object(r.pipe)(t.references,b.g.filter(e=>e.length>0),b.g.map(e=>M.createElement(ea,{className:Ba,isOpen:o,references:e,onOpenChange:e=>n({kind:y.AssistantUIAction.Kind.referencesVisibilityChange,visible:e,resultId:t.id})(),onRegenerateWithoutReference:e=>n({kind:y.AssistantUIAction.Kind.regenerateWithoutReferenceButtonClick,result:t,referenceId:e,selectedVoice:s?"user":"generic"})(),onReferencesMount:e=>n({kind:y.AssistantUIAction.Kind.mount,name:y.AssistantUIItem.referencesList,element:e})()})),b.g.toNullable)),isActive:i,onHovered:e=>n({kind:y.AssistantUIAction.Kind.resultCardHoverChange,hovered:e,resultId:t.id})(),onFocused:e=>n({kind:y.AssistantUIAction.Kind.resultCardFocusChange,focused:e,resultId:t.id})()}))),e.survey)),La=F.a.style({margin:F.a.rem(B.g.Space1)+" 0"}),Ra=F.a.style({marginBottom:F.a.rem(B.g.Space1)}),Ba=F.a.style({marginTop:F.a.rem(B.g.Space2)});var Fa;!function(e){e.searchLabel="searchLabel",e.clickableSearchLabel="clickableSearchLabel",e.knowledgeHub="knowledgeHub"}(Fa||(Fa={}));const Da=L.b.Union.asOption(L.b.Node.make(({notify:e,state:t})=>M.createElement(P.a.Fragment,null,t.pipe(i.a.map(t=>M.createElement(fa,{key:"voiceButton",isMyVoice:"user"===t.selectedVoice,onClick:e({kind:y.AssistantUIAction.Kind.resultCardToggleGenericVoiceButtonClick,resultId:t.resultId,voice:t.selectedVoice})})))))),Ha=L.b.Knot.make(L.b.Grid.make(({slots:e,notify:t,state:n})=>M.createElement(P.a.div,{className:Va},n.pipe(i.a.map(e=>{switch(e.kind){case Fa.clickableSearchLabel:return M.createElement(xn,{header:e.label,disabled:e.disabled,onClick:t({kind:y.AssistantUIAction.Kind.resultCardHeaderClick,prompt:e.copiablePrompt})});case Fa.searchLabel:return M.createElement(In,{header:e.label,iconUrl:e.iconUrl,loading:!1});case Fa.knowledgeHub:return M.createElement(In,{header:"Knowledge Share content was used.",iconUrl:a.none,loading:!1});default:return Object(T.d)(e)}})),e.voiceButton)),{voiceButton:Da}),Va=F.a.style({display:"grid",gridTemplateColumns:"1fr auto",gap:F.a.rem(B.g.Space2)});function Ua(e,t,n){return L.a.composeKnot({root:L.a.fromSideEffect(t=>e.notify(t),e.assistant.state.view(({availability:e,activeCards:a,session:i,referencesVisibility:o,overrideCardVoice:s})=>{var l,c;return{disabled:y.Availability.isUnavailable(e),result:t,isActive:Object(r.pipe)(!!a.has(t.id)||0===a.size&&n&&!Wa(y.Session.toStarted(i))),isReferencesOpen:null!==(l=o.get(t.id))&&void 0!==l&&l,isMyVoice:"user"===(null!==(c=s.get(t.id))&&void 0!==c?c:Object(r.pipe)(t.delta,b.b.fold(()=>"generic",e=>e.preferVoice)))}})),survey:L.a.composeOption(L.a.fromSideEffect(t=>e.notify(t),e.survey.state.pipe(i.a.map(e=>Object(r.pipe)(e.activeSurvey,a.map(t=>({survey:t,state:e})))),i.b.compact,i.a.map(({survey:e,state:t})=>({survey:e,stage:t.stage,transitionStage:t.transitionStage,rating:t.rating,openAnswer:Object(r.pipe)(t.openAnswer,a.getOrElse(Object(r.constant)(""))),ratingLabels:Object(r.pipe)(t.activeSurvey,a.fold(Object(r.constant)([]),e=>e.ratingLabels)),errors:t.errors})))),()=>e.survey.state.view().pipe(i.a.map(({activeSurvey:e,stage:n})=>Object(r.pipe)(e,a.filter(e=>e.resultId===t.id&&n!==y.UserSurvey.Stage.Type.Closed))))),header:L.a.composeKnot({root:L.a.fromSideEffect(t=>e.notify(t),e.assistant.state.pipe(i.a.switchMap(e=>{const n=Object(r.pipe)(t.header.copiablePrompt,a.fold(()=>({kind:Fa.searchLabel,label:t.header.label,iconUrl:t.header.iconUrl}),n=>({kind:Fa.clickableSearchLabel,label:t.header.label,disabled:y.Availability.isUnavailable(e.availability),copiablePrompt:n})));return function(e){return Object(r.pipe)(e.delta,b.b.fold(r.identity,e=>e.genericVoice),e=>e.ops.some(e=>{var t;return ya.a.isInsert(e)&&!!(null===(t=e.attributes)||void 0===t?void 0:t[ka.knowledgeHubTerm])}))}(t)&&t.timestamp+3e3>Date.now()?i.a.timer(t.timestamp+3e3-Date.now()).pipe(i.a.mapTo(n),i.a.startWith({kind:Fa.knowledgeHub})):i.a.of(n)}))),voiceButton:L.a.composeOption(L.a.fromSideEffect(t=>e.notify(t),e.assistant.state.pipe(i.a.map(e=>{var n;return{selectedVoice:null!==(n=e.overrideCardVoice.get(t.id))&&void 0!==n?n:Object(r.pipe)(t.delta,b.b.fold(()=>"generic",e=>e.preferVoice)),resultId:t.id}}))),()=>i.a.of(Object(r.pipe)(t.delta,a.fromEither)))})})}function Wa(e){return Object(r.pipe)(e,a.fold(r.constFalse,e=>a.isSome(e.inProgressResult)||a.isSome(e.error)))}const qa=({placeholder:e,error:t,openAnswer:n,onOpenAnswerChange:i,onComplete:o,onCancel:s})=>{const l=M.useRef(null);return M.createElement("form",{className:$a,ref:l,onSubmit:e=>{e.preventDefault(),o(n)}},M.createElement(R.E,{className:Za,placeholder:[null!=e?e:""],text:n,onChange:i,ariaLabel:"Open ended answer",fitContentHeight:!0,theme:{fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125)},onKeyDownShiftEnter:()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.requestSubmit()}}),Object(r.pipe)(t,a.fold(()=>null,e=>M.createElement("div",{className:Xa},e))),M.createElement("div",{className:za},M.createElement("input",{type:"submit",value:"Submit",hidden:!0}),M.createElement(R.c.Secondary,{style:{base:Object.assign(Object.assign({},Ga),Ka),hovered:Ya},onClick:()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.requestSubmit()}},"Submit"),M.createElement(R.c.Tertiary,{style:{base:Ga},onClick:s},"Dismiss")))},za=F.a.style({display:"flex",justifyContent:"flex-start",alignItems:"center"}),$a=F.a.style({width:F.a.percent(100)}),Ga={minHeight:F.a.rem(B.g.Space6),lineHeight:F.a.rem(B.g.Space6)},Ka={color:B.f.SuggestionCategories.Engagement.Primary.Default,fontWeight:"bold",boxShadow:"inset 0 0 0 1px "+B.f.SuggestionCategories.Engagement.Primary.Default,marginRight:F.a.rem(B.g.Space2)},Ya={color:B.f.Base.Surface.Primary.Default,backgroundColor:B.f.SuggestionCategories.Engagement.Primary.Default},Za=F.a.style({border:"1px solid "+B.a.BlueGray10,minHeight:F.a.rem(7.5*B.g.Space1),backgroundColor:B.a.White,borderRadius:F.a.rem(B.g.Space2),width:F.a.percent(100),padding:`${F.a.rem(1.25*B.g.Space1)} ${F.a.rem(B.g.Space2)}`,boxSizing:"border-box"}),Xa=F.a.style({color:B.f.Interface.DangerAndDeletion.Primary.Default,fontSize:F.a.rem(.75),marginBottom:F.a.rem(B.g.Space1)});var Qa=n("4L0w");const Ja=({rating:e,ratingLabels:t,maxScore:n})=>Object(r.pipe)(e,a.fold(()=>t.length>=n&&n>1?M.createElement("div",{className:nr},M.createElement("span",{className:tr},t[0]),M.createElement("span",{className:tr},t[n-1])):null,e=>e-1>=0&&t.length>=e?M.createElement("div",{className:er},M.createElement("span",null,t[e-1])):null)),er=F.a.style({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",fontWeight:"bold",fontSize:F.a.rem(.75),lineHeight:F.a.rem(.875)}),tr=F.a.style({color:B.a.NeutralGray50}),nr=F.a.style({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",fontSize:F.a.rem(.75),lineHeight:F.a.rem(.875)});var ar=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const rr=({disabled:e,rating:t,ratingLabels:n,maxScore:i,onSelectionChange:o})=>{const[s,l]=M.useState(a.none),c=M.useMemo(()=>[],[]),u=t=>{e||o(t+1)},d=t=>{e||l(a.some(t+1))},p=()=>{e||l(a.none)};return M.createElement("div",{role:"slider","aria-valuemin":0,"aria-valuenow":Object(r.pipe)(t,a.getOrElse(()=>0)),"aria-valuemax":5,"aria-valuetext":Object(r.pipe)(t,a.fold(()=>"Not yet rated",e=>n[e-1]))},Array.from({length:i}).map((o,l)=>M.createElement(ir,{key:l,onClick:()=>u(l),isFilled:Object(r.pipe)(t,a.fold(()=>!1,e=>l<e))||Object(r.pipe)(s,a.fold(()=>!1,e=>l<e)),onMouseEnter:()=>d(l),onMouseLeave:p,onFocus:()=>d(l),onBlur:p,isSelected:Object(r.pipe)(t,a.fold(()=>!1,e=>l+1===e)),isFocusable:Object(r.pipe)(t,a.fold(()=>0===l,e=>l+1===e)),ariaLabel:"Rate this generated output as "+n[l],ref:e=>c.push(e),onKeyDown:t=>((t,n)=>{var o,l,d,p;e||("ArrowRight"!==t.key&&"ArrowUp"!==t.key||(Object(r.pipe)(s,a.fold(()=>!1,e=>e<i))?null===(o=c[n+1])||void 0===o||o.focus():null===(l=c[0])||void 0===l||l.focus()),"ArrowLeft"!==t.key&&"ArrowDown"!==t.key||(Object(r.pipe)(s,a.fold(()=>!1,e=>e>1))?null===(d=c[n-1])||void 0===d||d.focus():null===(p=c[4])||void 0===p||p.focus()),"Enter"!==t.key&&" "!==t.key||u(n))})(t,l),disabled:e})),M.createElement(Ja,{rating:Object(r.pipe)(t,a.fold(Object(r.constant)(s),Object(r.constant)(t))),ratingLabels:n,maxScore:i}),M.createElement(Qa.a,{small:!0}))},ir=M.forwardRef((e,t)=>{var{isFilled:n,ariaLabel:a,disabled:r,isSelected:i,isFocusable:o}=e,s=ar(e,["isFilled","ariaLabel","disabled","isSelected","isFocusable"]);return M.createElement("button",Object.assign({className:or,role:"radio","aria-label":a,disabled:r,"aria-checked":i,tabIndex:o?0:-1,ref:t},s),M.createElement(R.z,{className:F.a.joinClasses([sr,n?lr:""])}))});ir.displayName="StarButton";const or=F.a.style({border:"none",background:"none",cursor:"pointer",padding:0,borderRadius:F.a.rem(B.g.Space1),$nest:{"&:focus-visible":{outlineStyle:"none",boxShadow:"0 0 0 2px "+B.f.Base.Content.Secondary.Default}}}),sr=F.a.style({padding:"0 "+F.a.rem(B.g.Space4)}),lr=F.a.style({$nest:{"& path":{fill:B.b.CoreYellow50,stroke:B.b.CoreYellow50}}});var cr=n("BQwU");const ur=({title:e,titleId:t,desc:n,descId:a,...r})=>M.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...r},n?M.createElement("desc",{id:a},n):null,e?M.createElement("title",{id:t},e):null,M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.646 7.646a.5.5 0 0 1 .708 0L12 11.293l3.646-3.647a.5.5 0 0 1 .708.708L12.707 12l3.647 3.646a.5.5 0 0 1-.708.708L12 12.707l-3.646 3.647a.5.5 0 0 1-.708-.708L11.293 12 7.646 8.354a.5.5 0 0 1 0-.708Z",fill:"#646B81"})),dr=({stage:e,rating:t,initialTitle:n,acknowledgment:a,acknowledgmentTitle:r,onClose:i,className:o})=>M.createElement("div",{className:F.a.joinClasses([pr,o])},M.createElement(cr.a,{className:hr,fill:"#000"}),M.createElement(gr,{stage:e,rating:t,initialTitle:n,acknowledgment:a,acknowledgmentTitle:r}),M.createElement(R.c.Tertiary,{"aria-label":"Close survey",style:{base:{marginLeft:"auto",padding:0,minWidth:F.a.rem(B.g.Space3),minHeight:F.a.rem(B.g.Space3)},hovered:{backgroundColor:B.a.BlueGray10},active:{backgroundColor:B.a.BlueGray10}},onClick:i},M.createElement(ur,null))),pr=F.a.style({display:"flex",alignItems:"center"}),mr=F.a.style({fontSize:F.a.rem(.75)}),hr=F.a.style({marginRight:F.a.rem(B.g.Space3),$nest:{"& path:first-of-type":{fill:B.a.NeutralGray70}}}),gr=({stage:e,rating:t,initialTitle:n,acknowledgmentTitle:i,acknowledgment:o})=>{switch(e){case y.UserSurvey.Stage.Type.Rating:return M.createElement("span",{className:mr},n);case y.UserSurvey.Stage.Type.Feedback:return M.createElement("span",{className:mr},"Your rating:"," ",Array.from({length:t}).map(()=>"⭐").join(" "));case y.UserSurvey.Stage.Type.Completed:return M.createElement("span",{className:mr},Object(r.pipe)(i,a.fold(()=>M.createElement("b",null,"Thank you!"),e=>M.createElement("b",null,e)))," ",Object(r.pipe)(o,a.fold(()=>"Your feedback helps us improve.",e=>e)));case y.UserSurvey.Stage.Type.Closed:return null;default:return Object(T.d)(e)}},fr=L.b.Union.asOption(L.b.Node.make(({notify:e,state:t})=>M.createElement(P.a.Fragment,null,t.pipe(i.a.map(t=>M.createElement(br,Object.assign({},t,{onRatingSelectionChange:t=>{e({kind:y.AssistantUIAction.Kind.surveyRatingSelectionChange,rating:t})()},onOpenAnswerChange:t=>e({kind:y.AssistantUIAction.Kind.surveyOpenAnswerChange,openAnswer:t})(),onComplete:e({kind:y.AssistantUIAction.Kind.surveyComplete}),onClose:e({kind:y.AssistantUIAction.Kind.surveyClose})}))))))),br=({survey:e,stage:t,transitionStage:n,rating:i,errors:o,openAnswer:s,onOpenAnswerChange:l,onRatingSelectionChange:c,onClose:u,onComplete:d})=>M.createElement("div",{className:yr},M.createElement(dr,{className:F.a.joinClasses([n===y.UserSurvey.Stage.Type.Feedback?Cr:void 0,t===y.UserSurvey.Stage.Type.Feedback?wr:void 0]),stage:t,rating:Object(r.pipe)(i,a.getOrElse(Object(r.constant)(1))),initialTitle:e.title,acknowledgment:e.acknowledgment,acknowledgmentTitle:e.acknowledgmentTitle,onClose:u}),t!==y.UserSurvey.Stage.Type.Completed&&M.createElement(M.Fragment,null,M.createElement("div",{className:F.a.joinClasses([kr,n===y.UserSurvey.Stage.Type.Feedback?Cr:void 0,t===y.UserSurvey.Stage.Type.Feedback?wr:void 0])},M.createElement("div",{className:Or,hidden:"rating"!==t},M.createElement(rr,{onSelectionChange:c,rating:i,disabled:a.isSome(i),maxScore:e.maxScore,ratingLabels:e.ratingLabels})),Object(r.pipe)(e.openAnswer,a.fold(Object(r.constant)("(Optional) Please share your feedback to help us improve."),e=>e.placeholder),e=>M.createElement("div",{className:Er,hidden:t!==y.UserSurvey.Stage.Type.Feedback},M.createElement(qa,{placeholder:e,onComplete:d,onOpenAnswerChange:l,openAnswer:s,onCancel:u,error:Object(r.pipe)(o,a.chain(e=>e.openAnswerError))})))))),yr=F.a.style({backgroundColor:B.a.BlueGray0,border:"1px solid "+B.a.BlueGray10,borderRadius:F.a.rem(B.g.Space1),padding:`${F.a.rem(B.g.Space2)} ${F.a.rem(B.g.Space4)}`}),vr=F.a.keyframes({from:{opacity:1},to:{opacity:.3}}),Sr=F.a.keyframes({from:{opacity:.3},to:{opacity:1}}),Cr=F.a.style({animation:vr+" 0.3s ease-in-out"}),wr=F.a.style({animation:Sr+" 0.3s ease-in-out"}),kr=F.a.style({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:F.a.rem(B.g.SpaceHalf)}),Er=F.a.style({width:F.a.percent(100)}),Or=F.a.style({paddingTop:F.a.rem(B.g.Space1)}),Ar=L.b.Knot.make(Pa,{header:Ha,survey:fr}),_r=L.b.List.make(h.h,Ar);const xr=L.b.Grid.make(({slots:e,view:t})=>{const{ref:n,onMount:r}=Me.a.useElWatcher(),o=M.useMemo(()=>i.a.combineLatestStatic([n.pipe(i.b.compact,i.a.map(e=>a.fromNullable(Object(s.j)(e,3))),i.b.compact),t("scrollToken").pipe(i.a.distinctUntilChanged())]).pipe(i.a.map(ln.m),i.a.tap(e=>{e.scrollTop=e.scrollHeight-e.clientHeight})),[n]);return Me.a.useSubscriptionTo(o),M.createElement("div",{className:Lr,ref:r},e.intent,e.history,e.belowHistory)}),Ir=L.b.Knot.make(L.b.Grid.make(({slots:e,notify:t})=>{const{ref:n,onMount:a}=Me.a.useElWatcher(),{notifyUnmount:r}=M.useContext(xt),o=M.useMemo(()=>n.pipe(i.a.observeOn(i.a.asapScheduler),i.b.compact,i.a.tap(e=>t({kind:y.AssistantUIAction.Kind.mount,name:y.AssistantUIItem.followUpActionsList,element:e})()),i.a.finalize(()=>r({kind:y.AssistantUIAction.Kind.unmount,name:y.AssistantUIItem.followUpActionsList}))),[n]);return Me.a.useSubscriptionTo(o),M.createElement("div",{className:Br,ref:a},e.actions)}),{actions:re}),jr=L.b.Union.asOption(Ir),Tr=L.b.Union.asOption(L.b.Composite.make(L.b.Grid.make(({slots:e})=>M.createElement("div",{className:Rr},e.history)),_r)),Mr=L.b.Union.make("kind",{inProgressResult:Ma,error:ut,followUpActions:jr}),Nr=L.b.Union.asOption(Mr),Pr=L.b.Knot.make(xr,{intent:Et,history:Tr,belowHistory:Nr}),Lr=F.a.style({display:"flex",flexDirection:"column",gap:F.a.rem(B.g.Space2)}),Rr=F.a.style({display:"flex",flexDirection:"column",gap:F.a.rem(B.g.Space2)}),Br=F.a.style({display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end",flexDirection:"row",width:"100%",gap:F.a.rem(B.g.Space2),marginBottom:F.a.rem(B.g.Space2)});function Fr(e,t){return L.a.composeOption(function(e,t){return L.a.composeList(h.m,()=>t.pipe(i.a.map(Object(r.flow)(h.Yb(50),h.vb((e,t)=>({result:t,isLast:0===e})),h.Kb))),({result:t,isLast:n})=>Ua(e,t,n))}(e,t.view(a.getOrElse(()=>[]))),()=>t)}function Dr(e){const t=e.assistant.state.view("session").view(y.Session.toStarted).pipe(i.a.map(a.map(e=>a.isSome(e.error)?"error":a.isSome(e.inProgressResult)?"inProgressResult":"followUpActions")));return L.a.composeOption(function(e,t){return L.a.composeUnion({inProgressResult:Na(e.assistant),followUpActions:Object(r.pipe)(e.assistant.state.view("contextualActions").view(t=>Object(r.pipe)(t,a.filter(()=>!y.Availability.isUnavailable(e.assistant.state.get().availability)),a.map(g.R(k.BackendAction.make)),a.map(e=>oe(e,Object(I.m)(y.Action.isSkillActionInput))))),t=>L.a.composeOption(L.a.composeKnot({root:L.a.fromSideEffect(t=>e.notify(t),null),actions:ie(e,t,"compact")}),()=>t)),error:ft(e)},()=>t.pipe(i.b.compact,i.a.map(e=>({kind:e}))))}(e,t),()=>t)}function Hr(e){const t=e.assistant.state.view("session").view(Object(r.flow)(y.Session.toStarted,a.map(e=>e.resultHistory),a.chain(g.F)));return L.a.composeKnot({root:()=>e.assistant.state.view("session").view(Object(r.flow)(y.Session.toStarted,a.chain(e=>e.inProgressResult),a.map(e=>e.text))).pipe(i.b.compact,i.a.startWith(""),i.a.map(e=>({scrollToken:e}))),intent:_t(e.assistant),history:Fr(e,t),belowHistory:Dr(e)})}const Vr={padding:0,height:F.a.rem(14.625),overflow:"hidden",boxSizing:"border-box",maxHeight:"inherit"},Ur=F.a.style({height:"100%",borderRadius:F.a.rem(B.e.Radius1+B.e.RadiusHalf)}),Wr=F.a.style({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),qr=F.a.style({border:"none",borderRadius:F.a.rem(B.e.Radius1+B.e.RadiusHalf),margin:"0",height:"100%",width:"100%"}),zr=F.a.style({color:B.f.Base.Content.Secondary.Default,fontSize:F.a.rem(.75),fontFamily:"Inter",fontWeight:700,lineHeight:F.a.rem(1.125)}),$r=F.a.style({color:B.f.Base.Content.Secondary.Default,fontSize:F.a.rem(.75),fontFamily:"Inter",lineHeight:F.a.rem(1.125)}),Gr=F.a.style({visibility:"hidden",position:"absolute"}),Kr=L.b.Node.make(({view:e,notify:t})=>{const{ref:n,onMount:a}=Me.a.useElWatcher(),{notifyUnmount:o}=M.useContext(xt),s=M.useMemo(()=>n.pipe(i.a.observeOn(i.a.asapScheduler),i.b.compact,i.a.tap(e=>t({kind:y.AssistantUIAction.Kind.mount,name:y.AssistantUIItem.skill,element:e})()),i.a.finalize(()=>o({kind:y.AssistantUIAction.Kind.unmount,name:y.AssistantUIItem.skill}))),[n]);Me.a.useSubscriptionTo(s);const l=M.useMemo(()=>e("status").pipe(i.a.pairwise(),i.a.filter(([e,t])=>"loading"===e&&"ready"===t),i.a.switchMap(()=>n.pipe(i.b.compact,i.a.tap(e=>e.focus())))),[n]);return Me.a.useSubscriptionTo(l),M.createElement(P.a.Fragment,null,e("size").pipe(i.a.map(t=>M.createElement(R.d,{style:Object.assign(Object.assign({},Vr),{height:t.height})},M.createElement(P.a.Fragment,null,e("status").pipe(i.a.map(t=>"loading"===t||"ready"===t?M.createElement(M.Fragment,null,M.createElement("div",Object.assign({},Object(N.c)(Ur,Wr,"ready"===t?Gr:void 0)),M.createElement(R.q,null),M.createElement(P.a.span,{className:$r},e("displayName").pipe(i.a.map(e=>`Loading ${e}...`)))),M.createElement(P.a.iframe,Object.assign({src:e("srcUrl"),forwardRef:a},Object(N.c)(qr,"loading"===t?Gr:void 0)))):"error"===t?M.createElement("div",Object.assign({},Object(N.c)(Ur,Wr)),M.createElement(R.J,null),M.createElement("span",{className:zr},"Something went wrong"),M.createElement("span",{className:$r},"Please try again.")):Object(r.absurd)(t))))))))}),Yr=L.b.Union.asOption(Kr);function Zr(e){const t=e.skill.state.view(a.map(e=>({displayName:e.skill.displayName,status:e.status,srcUrl:e.skill.srcUrl,size:e.size})));return L.a.composeOption(function(e,t){return L.a.fromSideEffect(t=>e.notify(t),t)}(e,t.pipe(i.b.compact)),()=>t)}const Xr=L.b.Union.make("kind",{error:ut,initial:rn,actionHints:it,results:Pr,skill:Yr}),Qr=10,Jr=34.75,ei=L.b.Grid.make(({slots:e,state:t,view:n,notify:o})=>{const{rect:s,onMount:l}=Me.a.useRectWatcher(),c=M.useMemo(()=>s.pipe(i.b.compact,i.a.tap(e=>o({kind:"contentSizeChange",height:e.height})())),[s]);return Me.a.useSubscriptionTo(c),M.createElement(P.a.div,{mount:l,onScroll:e=>o({kind:"contentScroll",scrollTop:e.currentTarget.scrollTop})(),style:{overflow:n("canScroll").pipe(i.a.map(Object(I.c)("auto","hidden"))),maxHeight:t.pipe(i.a.map(({assistantMaxHeight:e,promptHeight:t})=>Object(r.pipe)(u.sequenceS(a.Applicative)({assistantMaxHeight:e,promptHeight:t}),a.fold(()=>F.a.rem(Jr),({assistantMaxHeight:e,promptHeight:t})=>Object(r.pipe)(function(e,t,n=.25){const a=`calc(${F.a.rem(Qi+Ji+2.5)} + ${F.a.px(t)})`;return`calc(${e}px - ${a} - ${F.a.rem(n)})`}(e,t),e=>`max(min(${e}, ${F.a.rem(Jr)}), ${F.a.rem(Qr)})`)))),i.a.startWith(F.a.rem(Jr)))}},e.content)}),ti=L.b.Knot.make(ei,{content:Xr}),ni=L.b.Union.asOption(ti);function ai(e){return L.a.composeOption((t=e,()=>t.assistant.state.view("selectedAction").view(b.g.chain(e=>Object(r.pipe)(e.args[0].hints,b.g.map(t=>({header:e.label,iconUrl:e.iconUrl,hintsHeader:t.header,hintsItems:t.items}))))).pipe(i.b.compact)),()=>e.assistant.state.view("selectedAction").view(b.g.chain(e=>e.args[0].hints)));var t}function ri(e,t){return L.a.composeUnion({error:ft(e),initial:sn(e),results:Hr(e),actionHints:ai(e),skill:Zr(e)},()=>t.pipe(i.b.compact,i.a.map(e=>({kind:e}))))}function ii(e,t,n,r){const i=o.a.combine(e.assistant.state,e.router.activeView,({availability:e,session:t},n)=>{switch(n){case"loading":return a.some("initial");case"loadingError":return a.some("error");case"beforeResults":return a.isSome(t.error)?a.some("error"):y.Availability.isUnavailable(e)?a.none:a.some("initial");case"actionSelected":return a.some("actionHints");case"afterResults":return a.some("results");case"voiceProfile":case"legacyVoiceProfile":case"feedbackForm":return a.none;case"skill":return a.some("skill");default:return Object(T.d)(n)}});return L.a.composeOption(function(e,t,n,r,i){return L.a.composeKnot({root:L.a.fromSideEffect(t=>{switch(t.kind){case"contentScroll":return e.assistant.contentOverflowUnderToolbar(t.scrollTop>0);case"contentSizeChange":return n.set(a.some(t.height+8));default:Object(T.d)(t)}},o.a.combine(r,i,e.assistant.state.view("canScroll"),(e,t,n)=>({assistantMaxHeight:e,promptHeight:t,canScroll:n}))),content:ri(e,t)})}(e,i,t,n,r),()=>i)}const oi=({title:e,url:t})=>{const n=M.useRef(null),i=Object(Vn.d)(n,e);return Object(r.pipe)(t,a.fold(()=>M.createElement("span",{className:si,title:i,ref:n},e),t=>M.createElement(R.j,{className:si,title:i,ref:n,href:t},e)))},si=F.a.style({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left",$nest:{"&:visited":{color:"inherit"}}}),li=L.b.Node.make(({state:e})=>M.createElement(P.a.Fragment,null,e.pipe(i.a.map(({detectedReferences:e})=>M.createElement(R.d,{style:ui},M.createElement("span",{className:di},"Detected references"),M.createElement("ul",{className:pi},e.map(({title:e,iconUrl:t,url:n},a)=>M.createElement("li",{key:a,className:mi},M.createElement("img",{src:t,className:hi,alt:""}),M.createElement(oi,{title:e,url:n}))))))))),ci=L.b.Union.asOption(li),ui={position:"relative",padding:`${F.a.rem(B.g.Space1)} ${F.a.rem(B.g.Space3)}`,gap:0},di=F.a.style({fontSize:F.a.rem(B.g.Space3),lineHeight:F.a.rem(B.g.Space4+B.g.SpaceHalf),color:B.f.Base.Content.Secondary.Default,userSelect:"none"}),pi=F.a.style({fontSize:F.a.rem(B.g.Space3),lineHeight:F.a.rem(B.g.Space4+B.g.SpaceHalf),color:B.f.Base.Content.Primary.Default,margin:0,padding:0}),mi=F.a.style({height:F.a.rem(B.g.Space6),display:"flex",alignItems:"center",borderRadius:F.a.rem(B.e.Radius1)}),hi=F.a.style({minWidth:F.a.rem(B.g.Space4),height:F.a.rem(B.g.Space4),marginRight:F.a.rem(B.g.Space2)});function gi(e){const t=e.assistant.state.view(({detectedReferences:e})=>e.length?a.some(!0):a.none);return L.a.composeOption(function(e){return()=>e.assistant.state.view("detectedReferences").pipe(i.a.map(e=>({detectedReferences:e})))}(e),()=>t)}const fi="goBtn",bi=F.a.style({display:"flex",alignItems:"flex-start",padding:`${F.a.rem(B.g.Space2)} ${F.a.rem(B.g.Space3)}`,gap:F.a.rem(B.g.Space1),justifyContent:"space-between"}),yi=F.a.style({flexGrow:1,$nest:{"&[data-hasheader='false']":{paddingTop:F.a.rem(B.g.Space1+B.g.SpaceQuarter)}}}),vi=F.a.style({width:F.a.percent(100),border:"none"}),Si=s.a.buttonOverrideSpecificity({alignSelf:"flex-end",$nest:{"&[data-disabled='true']":{opacity:1,$nest:{"& svg":{fill:B.a.BlueGray30}}}}},fi),Ci=F.a.joinClasses([fi,F.a.style(Si)]),wi=L.b.Node.make(({state:e,view:t,notify:n})=>{const{ref:o,onMount:s}=Me.a.useElWatcher(),l=M.useMemo(()=>o.pipe(i.a.observeOn(i.a.asapScheduler),i.b.compact,i.a.tap(e=>n({kind:y.AssistantUIAction.Kind.mount,name:y.AssistantUIItem.promptInput,element:e})())),[o]);return Me.a.useSubscriptionTo(l),M.createElement(P.a.div,{className:bi,mount:s},M.createElement(P.a.div,{className:yi,"data-hasheader":t("hasHeader")},e.pipe(i.a.map(({placeholder:e,kind:t,text:i,autofocusToken:o,availability:s})=>M.createElement(R.E,{text:i,ariaLabel:"custom prompt",className:vi,placeholder:"ready"===t?a.toUndefined(e):void 0,fitContentHeight:!0,autofocus:o,onChange:e=>n({kind:y.AssistantUIAction.Kind.promptFieldTextChange,text:e})(),onKeyDownEnter:"ready"===t?n({kind:y.AssistantUIAction.Kind.promptFieldKeyPressEnter,text:i}):r.constVoid,onKeyUpEscape:n({kind:y.AssistantUIAction.Kind.promptFieldKeyPressEscape}),onFocus:n({kind:y.AssistantUIAction.Kind.promptFieldFocusChange,focused:!0}),onBlur:n({kind:y.AssistantUIAction.Kind.promptFieldFocusChange,focused:!1}),onKeyDownArrowUp:n({kind:y.AssistantUIAction.Kind.promptFieldKeyPressArrowUp}),onKeyDownArrowDown:n({kind:y.AssistantUIAction.Kind.promptFieldKeyPressArrowDown}),disabled:y.Availability.isUnavailable(s)})))),e.pipe(i.a.map(({kind:e,text:t,availability:a})=>"waitingForResult"===e?M.createElement(R.c.Tertiary,{onClick:n({kind:y.AssistantUIAction.Kind.generateStopButtonClick}),name:"generateStop",compact:!0,size:"large"},M.createElement(R.A,null)):"ready"===e?M.createElement(R.c.Tertiary,{className:Ci,onClick:n({kind:y.AssistantUIAction.Kind.promptSubmitButtonClick,text:t}),disabled:""===t.trim()||y.Availability.isUnavailable(a),name:"promptSend",compact:!0,size:"large"},M.createElement(R.s,null)):null)))});function ki(e){const t=e.promptMenu.state.pipe(i.a.scan((e,t)=>Object(r.pipe)(t,a.fold(()=>e,()=>e+1)),0));return L.a.fromSideEffect(t=>e.notify(t),i.a.combineLatestStatic([e.assistant.state,t,e.router.activeView]).pipe(i.a.map(([e,t,n])=>{return{kind:Object(r.pipe)(y.Session.toStarted(e.session),a.fold(()=>"loading",e=>Object(r.pipe)(e.inProgressResult,a.fold(()=>"ready",()=>"waitingForResult")))),availability:e.availability,placeholder:(i=e,Object(r.pipe)(i.selectedAction,a.chain(e=>""!==e.args[0].label.trim()?a.some([e.args[0].label]):a.none),a.alt(()=>Object(r.pipe)(i.userPromptAction,a.map(e=>[e.arg.label]))))),hasHeader:!1,text:e.textBox,autofocusToken:R.a.create(`${n}_${Object(r.pipe)(y.Session.toStarted(e.session),a.chain(e=>e.inProgressResult),a.fold(()=>"done",()=>"inProgress"))}_${Object(r.pipe)(e.selectedAction,a.fold(()=>"no-selected-action",()=>"selected-action"))}_${e.promptAutofocusToken}_promptMenuOpen:${t}`)};var i}),i.a.distinctUntilChanged()))}const Ei=L.b.Union.asOption(L.b.Composite.make(L.b.Grid.make(({slots:e})=>M.createElement("div",{className:Oi},e.content)),pe)),Oi=F.a.style({padding:`${F.a.rem(B.g.Space1)} ${F.a.rem(B.g.Space3)}`});function Ai(e,t){const n=t.pipe(i.a.map(Object(r.flow)(a.map(g.gb(y.Action.ListableAction.ordByGroup)),a.map(ge))));return L.a.composeOption(he(e,n.pipe(i.b.compact)),()=>n)}const _i=L.b.List.make(h.h,ne),xi=L.b.Grid.make(({slots:e})=>M.createElement("div",{className:ji},e.customPromptGo,M.createElement("div",{className:Ti},e.searchResults))),Ii=L.b.Knot.make(xi,{searchResults:_i,customPromptGo:ne}),ji=F.a.style({background:"transparent",padding:F.a.rem(B.g.Space3),display:"flex",flexDirection:"column",alignItems:"flex-start",gap:F.a.rem(B.g.Space2)}),Ti=F.a.style({display:"flex",flexDirection:"row",flexWrap:"wrap",gap:F.a.rem(B.g.Space2)});function Mi(e,t){return L.a.composeKnot({searchResults:ie(e,t.pipe(i.a.map(a.map(g.R(k.BackendAction.make)))),"standard"),customPromptGo:ae(e,i.a.of({kind:"go"}),"standard")})}const Ni=L.b.Union.make("kind",{searchResults:Ii,actionsStore:Ei}),Pi=L.b.Knot.make(L.b.Grid.make(({slots:e,view:t,notify:n})=>M.createElement(P.a.div,{className:Ri,style:{maxHeight:t("maxHeight")}},M.createElement(R.c.Tertiary,{compact:!0,className:Bi,onClick:n({kind:y.AssistantUIAction.Kind.collapsePromptMenuButtonClick}),name:"collapsePromptMenu",size:"small"},M.createElement(Pe.d.Arrow,{direction:Pe.a.down,className:Hi})),M.createElement("div",{ref:e=>e&&n({kind:y.AssistantUIAction.Kind.mount,name:y.AssistantUIItem.promptMenuContent,element:e})(),onKeyDown:e=>{"ArrowDown"===e.key?n({kind:y.AssistantUIAction.Kind.promptMenuKeyPressArrowDown})():"ArrowUp"===e.key&&n({kind:y.AssistantUIAction.Kind.promptMenuKeyPressArrowUp})()}},e.content))),{content:Ni}),Li=L.b.Union.asOption(Pi),Ri=F.a.style({overflowY:"scroll",borderBottom:"0.5px solid "+B.f.Base.Boundaries.Secondary.Default}),Bi=F.a.style({position:"absolute",top:F.a.rem(B.g.Space2),right:F.a.rem(B.g.Space2),zIndex:1,$nest:{"&:not(:hover)":{backgroundColor:F.a.important(B.a.White)}}}),Fi="arrowIcon",Di=s.a.buttonOverrideSpecificity(s.a.iconSizeRems(1.5),Fi),Hi=F.a.joinClasses([Fi,F.a.style(Di)]);function Vi(e,t){return L.a.composeOption(L.a.composeKnot({root:L.a.fromSideEffect(t=>e.notify(t),t.pipe(i.b.compact)),content:L.a.composeUnion({searchResults:Mi(e,t.pipe(i.a.map(Object(r.flow)(a.filter(fe.isSearchResults),a.chain(e=>g.y(e.filterPredicate)(e.actions)))))),actionsStore:Ai(e,t.pipe(i.a.map(Object(r.flow)(a.filter(fe.isActionsStore),a.chain(e=>g.y(e.filterPredicate)(e.actions))))))},()=>t.pipe(i.b.compact))}),()=>t)}const Ui=L.b.Grid.make(({slots:e,view:t,notify:n})=>{const{onMount:o,rect:l}=Me.a.useRectWatcher(),c=M.useMemo(()=>l.pipe(i.a.tap(e=>n({kind:"promptHeightChange",height:Object(r.pipe)(e,a.map(e=>e.height))})())),[l]);Me.a.useSubscriptionTo(c);const u=M.useRef(null);return M.createElement(P.a.div,{className:zi},M.createElement(P.a.div,{mount:u,className:Gi,"data-expanded":t("menuExpanded"),onFocus:()=>{var e;return n({kind:y.AssistantUIAction.Kind.promptFieldAndMenuFocusChange,focused:(null===(e=u.current)||void 0===e?void 0:e.contains(Object(s.i)(document)))||!1})()},onBlur:()=>{var e;return n({kind:y.AssistantUIAction.Kind.promptFieldAndMenuFocusChange,focused:(null===(e=u.current)||void 0===e?void 0:e.contains(Object(s.i)(document)))||!1})()}},e.promptMenu,M.createElement("div",{ref:o},e.promptField)),i.a.combineLatestStatic([l,t("menuExpanded")]).pipe(i.a.map(([e,t])=>Object(r.pipe)(e,a.filter(()=>t),a.fold(r.constNull,e=>M.createElement("div",{className:Ki,style:{height:e.height}}))))))}),Wi=L.b.Knot.make(Ui,{promptField:wi,promptHeader:L.b.Node.empty,promptMenu:Li}),qi=L.b.Union.asOption(Wi),zi=F.a.style({position:"relative"}),$i=e=>F.a.color(B.a.BlueGray40).toRGBA().fade(e).toString(),Gi=F.a.style({background:"white",boxShadow:`0px 0px 0px 0.5px ${B.a.BlueGray40}, 0px 0px 2px 0.5px ${$i(.5)}, 0px 1px 6px 0.5px ${$i(.25)}`,borderRadius:F.a.rem(B.e.Radius1+B.e.RadiusHalf),$nest:{"&[data-expanded='true']":{position:"absolute",bottom:0,width:"100%"}}}),Ki=F.a.style({opacity:0,pointerEvents:"none"});function Yi(e,t,n){const o=e.router.activeView.view(e=>"loadingError"!==e&&"skill"!==e?a.some(!0):a.none);return L.a.composeOption(function(e,t,n){const o=i.a.combineLatestStatic([e.promptMenu.state,t]).pipe(i.a.map(([e,t])=>Object(r.pipe)(u.sequenceS(a.Applicative)({maxHeight:t,menu:e}),a.map(({menu:e,maxHeight:t})=>Object.assign(Object.assign({},e),{maxHeight:t})))),i.a.shareReplay({bufferSize:1,refCount:!0}));return L.a.composeKnot({root:L.a.fromSideEffect(t=>{switch(t.kind){case"promptHeightChange":return n.set(t.height);case y.AssistantUIAction.Kind.promptFieldAndMenuFocusChange:return e.notify(t);default:Object(T.d)(t)}},o.pipe(i.a.map(e=>({menuExpanded:a.isSome(e)})))),promptField:ki(e),promptHeader:()=>i.a.of(null),promptMenu:Vi(e,o)})}(e,o.pipe(i.b.compact,i.a.switchMapTo(t)),n),()=>o)}const Zi=L.b.Grid.make(({slots:e})=>M.createElement("div",{className:eo},e.content,e.detectedReferences,e.prompt)),Xi=L.b.Knot.make(Zi,{content:ni,detectedReferences:ci,prompt:qi}),Qi=B.g.Space2,Ji=B.g.Space2,eo=F.a.style({display:"flex",flexDirection:"column",gap:F.a.rem(Ji)});var to;function no(e,t=to.empty){const n=o.a.create(a.none),r=o.a.create(a.none);return L.a.composeKnot({content:ii(e,n,t.assistantMaxHeight,r),detectedReferences:gi(e),prompt:Yi(e,n,r)})}(to||(to={})).empty={assistantMaxHeight:o.a.create(a.none)};const ao=(e,t)=>Object(N.c)(io,e===t&&oo),ro=F.a.style({display:"flex",flexDirection:"row",justifyContent:"space-between",paddingLeft:F.a.rem(B.g.Space4),paddingRight:F.a.rem(B.g.Space4)}),io=F.a.style({width:F.a.rem(5),height:F.a.rem(5),cursor:"pointer",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",gap:F.a.rem(B.g.Space2),borderRadius:F.a.rem(B.e.Radius3),fontWeight:400,fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125),$nest:{"&:hover":{backgroundColor:B.f.Base.Surface.Secondary.Default}}}),oo=F.a.style({backgroundColor:B.a.Blue10,$nest:{"&:hover":{backgroundColor:B.a.Blue10}}}),so=F.a.style(Object.assign({},s.a.iconSizeRems(1.5))),lo="submitBtn",co={padding:F.a.rem(B.g.Space4),gap:F.a.rem(B.g.Space4)},uo={color:B.f.Base.Content.Primary.Default,fontWeight:700,fontSize:F.a.rem(1.25),lineHeight:F.a.rem(1.5),margin:0},po={border:`${F.a.px(1)} solid ${B.a.NeutralGray20}`,borderRadius:F.a.rem(B.e.Radius1),padding:`${F.a.rem(B.g.Space2+B.g.SpaceHalf)} ${F.a.rem(B.g.Space2)}`,height:F.a.rem(8)},mo={display:"flex",alignItems:"flex-start",$nest:{"& input[type='checkbox']":{margin:`${F.a.rem(B.g.SpaceQuarter)} ${F.a.rem(B.g.Space2)} 0 0`,minWidth:F.a.rem(1),minHeight:F.a.rem(1)},"& label":{color:B.f.Base.Content.Primary.Default,fontWeight:400,fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125)}}},ho=Object.assign({width:F.a.percent(100)},s.a.buttonOverrideSpecificity({fontSize:F.a.rem(.875)},lo)),go={display:"flex",flexDirection:"column",gap:F.a.rem(B.g.Space2)},fo=co,bo=F.a.style(uo),yo=F.a.style(po),vo=F.a.style(mo),So=(F.a.style({fontWeight:700}),F.a.joinClasses([lo,F.a.style(ho)])),Co=F.a.style(go),wo=Object(N.d)(({selectedScore:e,onSelectScore:t})=>M.createElement("div",{className:ro},M.createElement("div",Object.assign({},ao(y.Feedback.Mood.dissatisfied,e),{onClick:()=>t(y.Feedback.Mood.dissatisfied)}),M.createElement(R.h,{className:so}),"I dislike it"),M.createElement("div",Object.assign({},ao(y.Feedback.Mood.ok,e),{onClick:()=>t(y.Feedback.Mood.ok)}),M.createElement(R.r,{className:so}),"It′s OK"),M.createElement("div",Object.assign({},ao(y.Feedback.Mood.satisfied,e),{onClick:()=>t(y.Feedback.Mood.satisfied)}),M.createElement(R.y,{className:so}),"I like it!"))),ko=Object(N.d)(R.E),Eo=Object(N.d)(R.d),Oo=L.b.Node.make(({state:e,view:t,notify:n})=>{const o="domainCheckbox"+Dn.f.alphanumeric(5);return M.createElement(Eo,{style:fo},M.createElement("h1",{className:bo},"How do you like Grammarly?"),M.createElement(wo,{selectedScore:t("formData").pipe(i.a.map(e=>e.mood)),onSelectScore:e=>n({kind:y.AssistantUIAction.Kind.feedbackFormChange,feedbackData:{mood:e}})()}),M.createElement(ko,{ariaLabel:"tell us why",className:yo,placeholder:["How can we improve?"],fitContentHeight:!1,text:t("formData").pipe(i.a.map(({message:e})=>null!=e?e:"")),onChange:e=>n({kind:y.AssistantUIAction.Kind.feedbackFormChange,feedbackData:{message:e}})()}),e.pipe(i.a.map(({formData:e,domain:t,source:i})=>M.createElement("div",{className:Co},Object(r.pipe)(t,a.fold(r.constNull,t=>M.createElement("div",{className:vo},M.createElement("input",{type:"checkbox",id:o,checked:void 0!==e.domain,onChange:n({kind:y.AssistantUIAction.Kind.feedbackFormChange,feedbackData:{domain:void 0!==e.domain?void 0:t}})}),M.createElement("label",{htmlFor:o},"Include the domain ",M.createElement("b",null,t)," with my feedback to help improve Grammarly.")))),Object(r.pipe)(a.fromNullable(void 0!==e.mood?Object.assign(Object.assign({},e),{mood:e.mood,source:i}):null),a.fold(()=>M.createElement(R.c.Primary,{disabled:!0,className:So,onClick:r.constVoid},"Submit"),e=>M.createElement(R.c.Primary,{disabled:!1,className:So,onClick:n({kind:y.AssistantUIAction.Kind.feedbackFormSubmitButtonClick,feedbackData:e})},"Submit")))))))});var Ao;function _o(e,t=Ao.empty){return L.a.fromSideEffect(t=>e.notify(t),e.feedbackForm.stagingFeedbackFormData.view(e=>{var n;return{formData:e,domain:t.showDomainCheckbox,source:null!==(n=null==e?void 0:e.source)&&void 0!==n?n:y.Feedback.Source.resultCard}}))}(Ao||(Ao={})).empty={showDomainCheckbox:a.none};const xo=L.b.Node.make(({view:e,notify:t})=>M.createElement(P.a.div,{className:jo,"data-id":e("id")},e("kind").pipe(i.a.map(e=>{switch(e){case y.AssistantNotification.Kind.feedbackSubmitted:return M.createElement(M.Fragment,null,M.createElement(R.f,{className:To}),M.createElement("div",null,"Thanks for the feedback!"));case y.AssistantNotification.Kind.voiceTagRemoved:return M.createElement(M.Fragment,null,M.createElement(R.f,{className:To}),M.createElement("div",null,"Removed"));default:return Object(T.d)(e)}})),e("id").pipe(i.a.map(e=>M.createElement(R.g,{name:"notificationClose",onClick:t({kind:"dismissNotification",id:e}),size:"small"}))))),Io=F.a.keyframes({from:{transform:`translateY(${F.a.rem(.25)})`,opacity:0},to:{transform:"translateY(0)",opacity:1}}),jo=F.a.style({background:B.f.Emphasized.Surface.Primary.Default,color:B.f.Emphasized.Content.Primary.Default,borderRadius:F.a.rem(B.e.Radius1+B.e.RadiusHalf),display:"flex",flexDirection:"row",alignItems:"center",padding:`${F.a.rem(B.g.Space2)} ${F.a.rem(B.g.Space3)}`,gap:F.a.rem(B.g.Space3),fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125),animation:Io+" 0.1s ease-in"}),To=F.a.style(Object.assign({},s.a.iconSizeRems(1.5)));const Mo=L.b.List.make(h.h,xo),No=L.b.Grid.make(({slots:e,view:t})=>M.createElement(P.a.div,{className:t("contentOverflowUnderToolbar").pipe(i.a.map(Object(I.c)(Bo,Ro)))},e.content)),Po=L.b.Knot.make(No,{content:Mo}),Lo={position:"absolute",top:0,right:F.a.rem(B.g.Space2),display:"flex",flexDirection:"column",gap:F.a.rem(B.g.Space2),zIndex:1e3,transition:"top 0.1s ease-in"},Ro=F.a.style(Lo),Bo=F.a.style(Lo,{top:F.a.rem(B.g.Space1)});function Fo(e){return L.a.composeKnot({root:()=>e.assistant.state.view(({contentOverflowUnderToolbar:e})=>({contentOverflowUnderToolbar:e})),content:(t=e.notifications,L.a.composeList(h.m,()=>t.state.view(h.Kb),e=>function(e,t){return L.a.fromSideEffect(e=>{switch(e.kind){case"dismissNotification":return t.dismiss(e.id);default:Object(T.d)(e.kind)}},e)}(e,t)))});var t}const Do=({kind:e,label:t,description:n,iconUrl:a,isUnselectable:r,onToggle:i})=>M.createElement(Hn.a,{title:n},M.createElement("button",{disabled:"disabled"===e,className:Ho,"data-kind":e,"data-unselectable":r,onClick:Object(s.q)(()=>{"disabled"!==e&&i("selected"!==e&&("unselected"===e||Object(T.d)(e)))})},a?M.createElement("img",{src:a,style:{width:20,height:20}}):null,M.createElement("span",null,t),r&&"selected"===e?M.createElement(R.w,{className:Vo}):null)),Ho=F.a.style({display:"flex",alignItems:"center",justifyContent:"center",gap:F.a.rem(B.g.Space2),padding:`${F.a.rem(B.g.Space1)} ${F.a.rem(.625)} ${F.a.rem(B.g.Space1)} ${F.a.rem(B.g.Space2)}`,background:B.f.Base.Surface.Primary.Default,border:F.a.px(1)+" solid transparent",borderRadius:F.a.rem(1.875),fontSize:F.a.rem(.875),lineHeight:F.a.rem(1.375),boxSizing:"border-box",$nest:{"&[data-kind='unselected']":{border:`${F.a.px(1)} solid ${B.a.BlueGray5}`,color:B.f.Base.Content.Primary.Default,cursor:"pointer"},"&[data-kind='disabled']":{border:`${F.a.px(1)} solid ${B.a.BlueGray5}`,color:B.a.BlueGray40,cursor:"default"},"&[data-kind='selected']":{border:`${F.a.px(2)} solid ${s.b.BrandGreen60}`,padding:`${F.a.rem(.1875)} ${F.a.rem(.5625)} ${F.a.rem(.1875)} ${F.a.rem(.4375)}`,position:"relative",$nest:{"&[data-unselectable='true']":{cursor:"pointer"}}}}}),Vo=F.a.style(Object.assign(Object.assign({position:"absolute",top:F.a.rem(-(B.g.Space1+B.g.SpaceQuarter)),right:F.a.rem(-(B.g.Space1+B.g.SpaceQuarter)),boxSizing:"content-box"},s.a.iconSizeRems(.75)),{border:F.a.rem(.125)+" solid white",borderRadius:"50%",background:s.b.BrandGreen60,display:"flex",alignItems:"center",justifyContent:"center"})),Uo=({chips:e,className:t,onToggle:n})=>M.createElement(P.a.div,Object.assign({},Object(N.c)(Wo,t)),e.pipe(i.a.map(h.ub(e=>M.createElement(Do,Object.assign({},e,{onToggle:t=>n(e,t),key:e.label})))))),Wo=F.a.style({display:"flex",flexWrap:"wrap",gap:F.a.rem(B.g.Space1),$nest:{div:{marginTop:F.a.rem(B.g.Space1)}}}),qo={margin:0,padding:F.a.rem(B.g.Space4),gap:F.a.rem(B.g.Space4)},zo={color:B.f.Base.Content.Primary.Default,fontWeight:700,fontSize:F.a.rem(.875),lineHeight:F.a.rem(1.375),margin:0},$o={color:B.f.Base.Content.Secondary.Default,fontWeight:400,fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125)},Go={marginTop:F.a.rem(B.g.Space2)},Ko={color:B.a.BlueGray60,fontWeight:400,fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125)},Yo={display:"flex",justifyContent:"flex-end",gap:F.a.rem(B.g.Space2)},Zo={fontSize:F.a.important(F.a.rem(.875))},Xo={marginTop:F.a.rem(B.g.Space2)},Qo={marginTop:F.a.rem(B.g.Space2)},Jo={display:"flex",alignItems:"center",gap:F.a.rem(B.g.Space2)},es={width:F.a.rem(1.5),height:F.a.rem(1.5),display:"flex",alignItems:"center",justifyContent:"center"},ts=qo,ns=F.a.style(zo),as=F.a.style(Go),rs=F.a.style($o),is=F.a.style(Ko),os=F.a.style(Yo),ss=F.a.style(Zo),ls=F.a.style(Zo),cs=F.a.style(Xo),us=F.a.style(Qo),ds=F.a.style(Jo),ps=F.a.style(es),ms=L.b.Node.make(({view:e,state:t,notify:n})=>M.createElement(R.d,{style:ts},M.createElement("section",null,M.createElement("h2",{className:ns},"Formality"),M.createElement(Uo,{className:as,chips:e("styles").pipe(i.a.map(h.ub(e=>Object.assign(Object.assign({},e),{isUnselectable:!1})))),onToggle:e=>n({kind:y.AssistantUIAction.Kind.styleToggleClick,id:e.id})()})),M.createElement("section",null,M.createElement("h2",{className:ns},"Tone"),M.createElement(P.a.div,{className:rs},"Select up to"," ",e("maxSelectableTones").pipe(i.a.map(e=>Object(s.n)(e)?Object(s.h)(e):""+e))),M.createElement(Uo,{className:as,chips:e("tones").pipe(i.a.map(h.ub(e=>Object.assign(Object.assign({},e),{isUnselectable:!0})))),onToggle:(e,t)=>n({kind:y.AssistantUIAction.Kind.toneToggleClick,selected:t,id:e.id})()})),M.createElement(P.a.Fragment,null,t.pipe(i.a.map(e=>Object(r.pipe)(e.roles,g.F,a.fold(r.constNull,t=>M.createElement("section",null,M.createElement("h2",{className:ns},"Your profession"),M.createElement(R.G,{className:cs,placeholder:"Product designer",text:e.roleTypeaheadText,onInputChange:e=>n({kind:"updateRoleTypeaheadText",text:e})(),onSelectionChange:e=>n({kind:y.AssistantUIAction.Kind.roleTypeaheadSelectionChange,role:a.fromNullable(e)})(),options:t,label:e=>e.label,clearButton:!0,selectOnBlur:!0}))))))),M.createElement("section",null,M.createElement("h2",{className:ns},"I write in"),M.createElement(P.a.Fragment,null,t.pipe(i.a.map(({dialects:e,selectedDialect:t})=>M.createElement(R.v,{className:us,options:e.filter(e=>!y.VoiceProfile.Dialect.Id.eq.equals(e.id,t.id)),selection:t,onSelectionChange:e=>n({kind:y.AssistantUIAction.Kind.dialectDropdownSelectionChange,dialect:e})(),label:e=>e.label,renderOption:e=>M.createElement("div",{className:ds},M.createElement("div",{className:ps},M.createElement("img",{src:e.iconUrl,style:{width:F.a.rem(1),height:F.a.rem(1)}})),e.label)}))))),M.createElement(P.a.Fragment,null,e("description").pipe(i.a.map(e=>""!==e.trim()?M.createElement("div",{className:is},e):null))),M.createElement(P.a.div,{className:os},M.createElement(R.c.Tertiary,{className:ls,onClick:n({kind:y.AssistantUIAction.Kind.voiceProfileCloseButtonClick}),name:"closeVoiceProfile"},"Close"),e("applyButtonEnabled").pipe(i.a.map(e=>M.createElement(R.c.Primary,{className:ss,onClick:n({kind:y.AssistantUIAction.Kind.voiceProfileUseVoiceButtonClick}),disabled:!e,name:"applyVoiceProfile"},"Use this voice"))))));function hs(e){const t=o.a.create("");return L.a.fromSideEffect(n=>{"updateRoleTypeaheadText"===n.kind?(t.set(n.text),""===n.text&&e.notify({kind:y.AssistantUIAction.Kind.roleTypeaheadSelectionChange,role:a.none})):(n.kind===y.AssistantUIAction.Kind.roleTypeaheadSelectionChange&&t.set(Object(r.pipe)(n.role,a.fold(()=>"",e=>e.label))),e.notify(n))},o.a.combine(e.assistant.state.view("session"),e.voiceProfile.state.view("stagingVoiceProfile"),t,(e,t,n)=>Object(r.pipe)(u.sequenceS(a.Applicative)({voiceProfile:Object(r.pipe)(y.Session.toStarted(e),a.map(e=>e.voiceProfile),a.chain(y.VoiceProfile.toLegacyVoiceProfile)),stagingVoiceProfile:t}),a.fold(()=>({tones:[],styles:[],roles:[],maxSelectableTones:0,applyButtonEnabled:!1,description:"",roleTypeaheadText:"",dialects:y.VoiceProfile.Dialect.all(),selectedDialect:y.VoiceProfile.Dialect.american}),({stagingVoiceProfile:e,voiceProfile:t})=>Object(r.pipe)(t.styles,h.S(t=>t.id===e.selectedStyle),i=>({styles:Object(r.pipe)(t.styles,h.ub(t=>Object.assign(Object.assign({},t),{kind:t.id===e.selectedStyle?"selected":"unselected"}))),tones:Object(r.pipe)(i,a.fold(()=>[],t=>Object(r.pipe)(t.tones,h.ub(n=>Object.assign(Object.assign({},n),{kind:Object(r.pipe)(a.fromNullable(e.selectedTonesPerStyle.get(e.selectedStyle)),a.getOrElse(()=>new Set),e=>e.has(n.id)?"selected":e.size>=t.maxTones?"disabled":"unselected")}))))),roles:t.roles,maxSelectableTones:Object(r.pipe)(i,a.fold(()=>3,e=>e.maxTones)),applyButtonEnabled:!y.VoiceProfile.Selections.eq.equals(e,t),description:"These voice settings will apply to any text you generate with GrammarlyGO.",roleTypeaheadText:Object(r.pipe)(e.selectedRole,a.filter(()=>""===n),a.chain(e=>a.fromNullable(t.roles.find(t=>t.id===e))),a.fold(()=>n,e=>e.label)),dialects:t.dialects,selectedDialect:t.dialects.find(t=>y.VoiceProfile.Dialect.Id.eq.equals(t.id,e.selectedDialect))||y.VoiceProfile.Dialect.american}))))))}const gs=M.forwardRef((function({name:e,active:t,onClick:n},a){return M.createElement("button",{role:"button",tabIndex:0,"aria-label":e,"aria-pressed":t,"data-active":t,onClick:n,ref:a,className:fs},e)})),fs=F.a.style({display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",height:F.a.rem(2),borderRadius:F.a.rem(B.e.Radius1),border:F.a.rem(B.g.SpaceHalf)+" solid transparent",padding:`${F.a.rem(B.g.SpaceHalf+B.g.Space1)} ${F.a.rem(B.g.Space2)}`,backgroundColor:s.b.Green0,color:s.b.Green90,lineHeight:F.a.rem(1.3125),fontSize:F.a.rem(.875),$nest:{"&:hover":{backgroundColor:F.a.color(s.b.Green10).mix(F.a.color(s.b.BlueGray5)).toRGBA().toString(),color:s.b.Green80},'&[data-active="true"]':{outline:`${F.a.rem(B.g.SpaceHalf)} solid ${s.b.Green80}`}}}),bs=({title:e,titleId:t,desc:n,descId:a,...r})=>M.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...r},n?M.createElement("desc",{id:a},n):null,e?M.createElement("title",{id:t},e):null,M.createElement("path",{d:"M18.5 11.25a.958.958 0 0 1-.064.34l-2.248 4.267a1.009 1.009 0 0 1-.938.643H9.5c-.554 0-1-.446-1-1V10a1 1 0 0 1 .294-.706l4.586-4.587.432.432a.664.664 0 0 1 .188.433l-.016.175-.654 3.151a.5.5 0 0 0 .49.602H18c.274 0 .5.226.5.5v1.25ZM6 9.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h1Z",stroke:"#646B81",strokeLinejoin:"round"})),ys=({title:e,titleId:t,desc:n,descId:a,...r})=>M.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...r},n?M.createElement("desc",{id:a},n):null,e?M.createElement("title",{id:t},e):null,M.createElement("path",{d:"M5 12.75c0-.114.023-.233.065-.34l2.247-4.267.01-.017.007-.017c.155-.357.51-.609.921-.609H14c.554 0 1 .446 1 1V14a1 1 0 0 1-.294.706l-4.586 4.587-.432-.432a.664.664 0 0 1-.188-.433l.016-.175.654-3.151.124-.602H5.5A.503.503 0 0 1 5 14v-1.25Zm12.5 1.75a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5h-1Z",stroke:"#646B81"})),vs=({onKeepClick:e,onRemoveClick:t})=>M.createElement("div",{className:Ss},M.createElement("h1",{className:Cs},"Does this sound like you?"),M.createElement("div",{className:ws},M.createElement(R.c.Primary,{onClick:e,style:ks},M.createElement(bs,null),"Yes, keep it"),M.createElement(R.c.Primary,{onClick:t,style:ks},M.createElement(ys,null),"No, remove it"))),Ss=F.a.style({display:"flex",flexDirection:"column",alignItems:"flex-start"}),Cs=F.a.style({fontSize:F.a.rem(.875),lineHeight:F.a.rem(1.375),fontWeight:700,margin:`0 0 ${F.a.rem(B.g.Space4)} 0`}),ws=F.a.style({display:"flex",alignItems:"center",gap:F.a.rem(B.g.Space2)}),ks={base:{gap:F.a.rem(B.g.Space1),padding:`0 ${F.a.rem(B.g.Space2)} 0 ${F.a.rem(B.g.Space1)}`,color:s.b.TextBaseDefault,backgroundColor:B.f.Base.Surface.Primary.Default},hovered:{color:s.b.TextBaseDefault,backgroundColor:s.b.BlueGray5},active:{color:s.b.TextBaseDefault,backgroundColor:s.b.BlueGray5}},Es=({title:e,titleId:t,desc:n,descId:a,...r})=>M.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":a,...r},n?M.createElement("desc",{id:a},n):null,e?M.createElement("title",{id:t},e):null,M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6a2 2 0 0 0-2 2v2h4V8a2 2 0 0 0-2-2Zm3 4V8a3 3 0 1 0-6 0v2H6.5a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5H15Zm-8 1v7h10v-7H7Z",fill:"#646B81"})),Os={editBtn:"editBtn",cancelBtn:"cancelBtn",saveBtn:"saveBtn"},As={base:{backgroundColor:s.b.BlueGray0}},_s={gap:0,backgroundImage:"url(https://assets.grammarly.com/cheetah/v1/voice-profile/cheetah-my-voice-bg.svg)",backgroundPosition:"right",backgroundRepeat:"no-repeat",backgroundSize:"auto 100%",$nest:{["."+Os.editBtn]:{opacity:0,pointerEvents:"none",$nest:{"&:focus":{opacity:1,pointerEvents:"auto"}}},[`&:hover .${Os.editBtn}, &:focus .${Os.editBtn}`]:{opacity:1,pointerEvents:"auto"}}},xs=e=>F.a.style({display:"flex",justifyContent:"space-between",marginBottom:e?F.a.rem(B.g.Space2):F.a.rem(B.g.SpaceHalf+B.g.Space1)}),Is=F.a.style({margin:0,fontSize:F.a.rem(1.25),lineHeight:F.a.rem(1.5),fontWeight:700}),js=F.a.style({display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"}),Ts=F.a.style({display:"flex",flexDirection:"column",gap:F.a.rem(B.g.Space2)}),Ms=F.a.style({display:"flex",flexDirection:"column",gap:F.a.rem(B.g.Space1)}),Ns=F.a.style({color:s.b.TextBaseSubduedColor,fontWeight:400,fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125),margin:0}),Ps=F.a.style({display:"flex",alignItems:"center",gap:F.a.rem(B.g.Space2)}),Ls=F.a.style({width:F.a.rem(1.5),height:F.a.rem(1.5),display:"flex",alignItems:"center",justifyContent:"center",$nest:{"& img":{width:F.a.rem(1),height:F.a.rem(1)}}}),Rs=F.a.style({display:"flex",flexDirection:"column",gap:F.a.rem(B.g.Space1)}),Bs=F.a.style({display:"flex",alignItems:"center",gap:F.a.rem(B.g.Space1),height:F.a.rem(1.5),color:s.b.TextBaseSubduedColor,fontSize:F.a.rem(.875),lineHeight:F.a.rem(1.3125),fontWeight:500}),Fs=F.a.style({display:"flex",alignItems:"center",gap:F.a.rem(B.g.Space2)});function Ds({label:e,enabled:t,onChange:n}){return M.createElement("div",{className:Hs},M.createElement("input",{type:"checkbox",id:"voice-checkbox",checked:t,onChange:n}),M.createElement("label",{htmlFor:"voice-checkbox"},e))}const Hs=F.a.style({display:"flex",alignItems:"flex-start",$nest:{"& input[type='checkbox']":{margin:`${F.a.rem(B.g.SpaceQuarter)} ${F.a.rem(B.g.Space2)} 0 0`,minWidth:F.a.rem(1),minHeight:F.a.rem(1),accentColor:B.a.Green80,cursor:"pointer"},"& label":{color:B.f.Base.Content.Primary.Default,fontWeight:400,fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125),cursor:"pointer"}}}),Vs=({profile:e,activeProfileName:t,activeTagId:n,onCloseButtonClick:i,onKeepClick:o,onRemoveClick:s,onVoiceTagClick:l})=>M.createElement(R.C,{id:R.B.Id.create(e.name),isActive:e.name===a.toNullable(t),className:Us},e.summary,M.createElement("div",{className:qs},e.sections.map(t=>M.createElement("div",{key:t.name},t.name,M.createElement("div",{className:zs},0===t.tags.length?M.createElement("div",{className:Ws},"Detected qualities will appear here"):t.tags.map(c=>M.createElement(R.F,{key:c.name,active:Object(r.pipe)(n,a.fold(r.constFalse,n=>n===y.VoiceTag.createId({tagName:c.name,sectionName:t.name,profileName:e.name}))),onCloseButtonClick:i,body:M.createElement(vs,{onKeepClick:o,onRemoveClick:()=>s(c.name,e.name,t.name)})},M.createElement(gs,{name:c.name,active:Object(r.pipe)(n,a.fold(r.constFalse,n=>n===y.VoiceTag.createId({tagName:c.name,sectionName:t.name,profileName:e.name}))),onClick:()=>l(c.name,e.name,t.name)})))))))),Us=F.a.style({fontSize:F.a.rem(.875),lineHeight:F.a.rem(1.3125),display:"flex",flexDirection:"column",gap:F.a.rem(B.g.Space3),paddingTop:F.a.rem(B.g.Space2)}),Ws=F.a.style({padding:"0 "+F.a.rem(B.g.Space2),background:s.b.BlueGray0,color:s.b.TextBaseSubduedColor,borderRadius:F.a.rem(B.e.Radius1),height:F.a.rem(2),fontSize:F.a.rem(.875),lineHeight:F.a.rem(1.3125),display:"flex",justifyContent:"center",alignItems:"center"}),qs=F.a.style({display:"flex",flexDirection:"column",gap:F.a.rem(B.g.Space3)}),zs=F.a.style({marginTop:F.a.rem(B.g.Space2),display:"flex",flexWrap:"wrap",gap:F.a.rem(B.g.Space1)}),$s=Object(N.d)(({onEditButtonClick:e,onSaveButtonClick:t,onCancelButtonClick:n,onDialectDropdownChange:i,onRoleDropdownChange:o,userName:s,isEditing:l,selectedRole:c,roles:u,dialects:d,selectedDialect:p})=>M.createElement(R.d,{style:_s},M.createElement("div",{className:xs(l)},M.createElement("h1",{className:Is},s),l?null:M.createElement(R.c.Secondary,{onClick:e,className:Os.editBtn,style:As,size:"small"},"Edit")),l?M.createElement("div",{className:js},M.createElement("div",{className:Ts},0!==u.length&&M.createElement("div",{className:Ms},M.createElement("h2",{className:Ns},"My role"),M.createElement(R.v,{placeholder:"Select a role...",options:u,selection:a.toUndefined(c),onSelectionChange:o,label:e=>e.id,renderOption:e=>e.id})),M.createElement("div",{className:Ms},M.createElement("h2",{className:Ns},"I write in"),M.createElement(R.v,{options:d,selection:p,onSelectionChange:i,label:e=>e.label,renderOption:e=>M.createElement("div",{className:Ps},M.createElement("div",{className:Ls},M.createElement("img",{src:e.iconUrl,alt:""})),e.label)}))),M.createElement("div",{className:Fs},M.createElement(R.c.Tertiary,{onClick:n},"Cancel"),M.createElement(R.c.Primary,{onClick:t},"Save"))):M.createElement("div",{className:Rs},Object(r.pipe)(c,a.fold(r.constNull,e=>M.createElement("div",{className:Bs},M.createElement(Es,null),M.createElement("span",null,e.label)))),M.createElement("div",{className:Bs},M.createElement("div",{className:Ls},M.createElement("img",{src:p.iconUrl,alt:""})),M.createElement("span",null,p.label))))),Gs=L.b.Node.make(({view:e,state:t,notify:n})=>M.createElement("div",{className:Ks},M.createElement($s,{onEditButtonClick:n({kind:y.AssistantUIAction.Kind.voiceSelectionsEditButtonClick}),onDialectDropdownChange:e=>n({kind:y.AssistantUIAction.Kind.voiceDialectDropdownSelectionChange,dialect:e})(),onRoleDropdownChange:e=>n({kind:y.AssistantUIAction.Kind.voiceRoleDropdownSelectionChange,role:e})(),onSaveButtonClick:n({kind:y.AssistantUIAction.Kind.voiceSelectionsSaveButtonClick}),onCancelButtonClick:n({kind:y.AssistantUIAction.Kind.voiceSelectionsCancelButtonClick}),userName:e("userName"),isEditing:e("isEditing"),selectedRole:e("selectedRole"),selectedDialect:e("selectedDialect"),roles:e("roles"),dialects:e("dialects")}),M.createElement(R.d,{style:Ys},M.createElement(P.a.div,null,t.pipe(i.a.map(e=>M.createElement(M.Fragment,null,M.createElement("div",{className:Zs},M.createElement("div",null,M.createElement("h1",{className:Xs},e.title),M.createElement("h2",{className:Qs},e.subTitle)),M.createElement(R.D,{key:"Tabs",tabs:e.profiles.map(e=>({id:R.B.Id.create(e.name),label:e.name})),activeTabId:R.B.Id.create(b.g.toNullable(e.activeProfileName)||""),onActiveTabChange:e=>n({kind:y.AssistantUIAction.Kind.voiceProfileTabChange,profileName:e})()})),e.profiles.map(t=>M.createElement(Vs,{key:t.name,profile:t,activeProfileName:e.activeProfileName,activeTagId:e.activeTagId,onCloseButtonClick:n({kind:y.AssistantUIAction.Kind.voiceTagPopoverCloseButtonClick}),onKeepClick:n({kind:y.AssistantUIAction.Kind.voiceTagPopoverKeepButtonClick}),onRemoveClick:(e,t,a)=>n({kind:y.AssistantUIAction.Kind.voiceTagPopoverRemoveButtonClick,tagName:e,profileName:t,sectionName:a})(),onVoiceTagClick:(e,t,a)=>n({kind:y.AssistantUIAction.Kind.voiceTagClick,tagName:e,profileName:t,sectionName:a})()})))))),M.createElement(R.x,null),M.createElement(P.a.Fragment,null,t.pipe(i.a.map(({isEnabledByDefault:e,isEnabledByDefaultLabel:t})=>M.createElement(Ds,{enabled:e,label:t,onChange:n({kind:y.AssistantUIAction.Kind.applyVoiceToWritingCheckboxChange,checked:!e})}))))))),Ks=F.a.style({display:"flex",flexDirection:"column",gap:F.a.rem(B.g.Space2),maxHeight:F.a.rem(35),overflowY:"scroll"}),Ys={gap:F.a.rem(B.g.Space4)},Zs=F.a.style({display:"flex",justifyContent:"space-between",alignItems:"flex-start"}),Xs=F.a.style({fontSize:F.a.rem(.875),lineHeight:F.a.rem(1.3125),fontWeight:700,margin:0}),Qs=F.a.style({color:s.b.TextBaseSubduedColor,fontWeight:400,fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125),margin:0});function Js(e){return L.a.fromSideEffect(t=>e.notify(t),o.a.combine(e.assistant.state.view("session"),e.voiceProfile.state.view("stagingNewVoiceProfile"),(e,t)=>Object(r.pipe)(u.sequenceS(a.Applicative)({sessionVoiceProfile:Object(r.pipe)(y.Session.toStarted(e),a.map(e=>e.voiceProfile),a.chain(y.VoiceProfile.toNewVoiceProfile)),stagingVoiceProfile:t}),a.fold(()=>({userName:"",title:"",subTitle:"",roles:[],dialects:y.VoiceProfile.Dialect.all(),selectedDialect:y.VoiceProfile.Dialect.american,isEnabledByDefault:!0,isEnabledByDefaultLabel:"",profiles:[],activeProfileName:a.none,activeTagId:a.none,isEditing:!1,selectedRole:a.none}),({sessionVoiceProfile:e,stagingVoiceProfile:t})=>({userName:e.userName,title:e.title,subTitle:e.subTitle,isEnabledByDefault:t.isEnabledByDefault,isEnabledByDefaultLabel:e.isEnabledByDefaultLabel,profiles:t.profiles,roles:Object(r.pipe)(el(t,e),a.fold(()=>e.roles,t=>e.roles.filter(e=>e.id!==t.id))),dialects:Object(r.pipe)(tl(t,e),t=>e.dialects.filter(e=>e.id!==t.id)),selectedRole:el(t,e),selectedDialect:tl(t,e),activeProfileName:t.activeProfileName,activeTagId:t.activeTagId,isEditing:a.isSome(t.stagingSelections)})))))}function el(e,t){return Object(r.pipe)(e.stagingSelections,a.chain(e=>e.selectedRole),a.alt(()=>e.selectedRole),a.chain(e=>a.fromNullable(t.roles.find(t=>y.VoiceProfile.Role.Id.eq.equals(t.id,e)))))}function tl(e,t){return Object(r.pipe)(e.stagingSelections,a.fold(()=>e.selectedDialect,e=>e.selectedDialect),e=>t.dialects.find(t=>y.VoiceProfile.Dialect.Id.eq.equals(t.id,e))||y.VoiceProfile.Dialect.american)}const nl=L.b.Grid.make(({slots:e})=>M.createElement("div",{className:il},e.notifications,e.content)),al=L.b.Union.make("kind",{chat:Xi,legacyVoiceProfile:ms,newVoiceProfile:Gs,feedbackForm:Oo}),rl=L.b.Knot.make(nl,{content:al,notifications:Po}),il=F.a.style({position:"relative",padding:F.a.rem(B.g.Space2),paddingTop:0});var ol;function sl(e,t=ol.empty){return L.a.composeKnot({content:ll(e,t),notifications:Fo(e)})}function ll(e,t=ol.empty){return L.a.composeUnion({chat:no(e,t.chatFlowOptions),legacyVoiceProfile:hs(e),newVoiceProfile:Js(e),feedbackForm:_o(e,t.feedbackFormFlowOptions)},()=>e.router.activeView.view(e=>({kind:"voiceProfile"===e?"newVoiceProfile":"legacyVoiceProfile"===e?"legacyVoiceProfile":"feedbackForm"===e?e:"chat"})))}(ol||(ol={})).empty={chatFlowOptions:to.empty,feedbackFormFlowOptions:Ao.empty};const cl=L.b.Node.make(({state:e,notify:t})=>{const{ref:n,onMount:a}=Me.a.useElWatcher(),{ref:r,onMount:o}=Me.a.useElWatcher(),s=M.useMemo(()=>n.pipe(i.b.compact,i.a.switchMap(e=>i.a.fromEvent(e,"mouseenter").pipe(i.a.switchMapTo(i.a.of(null).pipe(i.a.delay(500),i.a.takeUntil(i.a.fromEvent(e,"mouseleave")))))),i.a.tap(t({kind:y.AssistantUIAction.Kind.creditsInfoHover}))),[n]);Me.a.useSubscriptionTo(s);const l=M.useMemo(()=>r.pipe(i.a.observeOn(i.a.asapScheduler),i.b.compact,i.a.tap(e=>t({kind:y.AssistantUIAction.Kind.mount,name:y.AssistantUIItem.creditsInfoButton,element:e})())),[r]);return Me.a.useSubscriptionTo(l),M.createElement(P.a.Fragment,null,e.pipe(i.a.map(({user:e,availability:n})=>{const r=y.Availability.isActive(n)?function(e){const t=`${Number(e.promptsRemaining).toLocaleString()}/${Number(e.promptsAllocated).toLocaleString()} prompts left. `,n=y.Availability.Active.daysUntilRefillDate(e.refillDate),a=y.Availability.Active.hoursUntilRefillDate(e.refillDate);return n>0?t+`Next refill in ${n} ${Dn.f.pluralize(n,"day","days")}.`:a>0?t+`Next refill in ${a} ${Dn.f.pluralize(a,"hour","hours")}.`:t+"Next refill in less than an hour."}(n):e.isPremium?"To get more prompts, contact support.":"To get more prompts, upgrade to Premium.",i=y.Availability.isActive(n)?`${Number(n.promptsRemaining).toLocaleString()} ${Dn.f.pluralize(n.promptsRemaining,"prompt","prompts")}`:e.isPremium?"0 prompts":M.createElement(M.Fragment,null,"0 prompts. ",M.createElement("span",{className:pl},"Upgrade"));return e.isPremium&&y.Availability.isActive(n)?M.createElement(Hn.a,{title:r},M.createElement("div",{ref:a,className:dl},i)):M.createElement(R.c.Tertiary,{onClick:t({kind:y.AssistantUIAction.Kind.creditsInfoClick}),title:r,name:"creditsInfo",mount:o},M.createElement("div",{ref:a},i))})))}),ul=L.b.Union.asOption(cl),dl=F.a.style({padding:""+F.a.rem(B.g.Space2),fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125),color:B.f.Base.Content.Secondary.Default,cursor:"default"}),pl=F.a.style({color:B.a.Blue60});function ml(e){const t=e.assistant.state.view(e=>Object(r.pipe)(e.availability,a.fromPredicate(y.Availability.isActiveOrPassive),a.filter(()=>a.isSome(y.Session.toStarted(e.session)))));return L.a.composeOption(function(e,t,n){return L.a.fromSideEffect(t=>e.notify(t),Object(r.pipe)(i.a.combineLatestStatic([t,n]),i.a.map(([e,t])=>({user:e,availability:t}))))}(e,e.assistant.state.view("user"),t.pipe(i.b.compact)),()=>o.a.combine(t,e.router.activeView,(e,t)=>Object(r.pipe)(e,a.filter(()=>"voiceProfile"!==t&&"feedbackForm"!==t&&"skill"!==t))))}const hl=L.b.Node.make(({view:e,notify:t})=>M.createElement(R.c.Tertiary,{className:yl,onClick:t({kind:y.AssistantUIAction.Kind.toolbarVoiceButtonClick}),name:"toolbarVoiceProfile"},M.createElement(R.I,{className:vl}),M.createElement(P.a.span,null,e("styleLabel")))),gl="voiceBtn",fl=s.a.buttonOverrideSpecificity({padding:0,paddingRight:F.a.rem(B.g.Space2),paddingLeft:F.a.rem(B.g.Space1),gap:F.a.rem(B.g.Space2),flexWrap:"nowrap",$nest:{"& > i":Object.assign({},s.a.iconSizeRems(1.5))}},gl),bl={stroke:B.a.BlueGray60},yl=F.a.joinClasses([gl,F.a.style(fl)]),vl=F.a.style(bl),Sl=L.b.Node.make(({notify:e,view:t})=>M.createElement("div",{className:Cl},M.createElement(R.c.Tertiary,{compact:!0,onClick:e({kind:y.AssistantUIAction.Kind.toolbarGoBackButtonClick}),name:"goBack"},M.createElement(Pe.d.Arrow,{direction:Pe.a.left})),M.createElement(P.a.div,{className:wl},t("activeViewIconUrl").pipe(i.a.map(a.fold(r.constNull,e=>M.createElement("img",{src:e,style:{width:F.a.rem(1.25),height:F.a.rem(1.25)}})))),t("activeViewLabel").pipe(i.a.map(a.fold(r.constNull,e=>M.createElement("span",null,e))))))),Cl=F.a.style({display:"flex",alignItems:"center",gap:F.a.rem(B.g.Space2),color:B.a.BlueGray60,fontWeight:400,fontSize:F.a.rem(.75),lineHeight:F.a.rem(1.125)}),wl=F.a.style({display:"flex",alignItems:"center",gap:F.a.rem(B.g.Space2)}),kl=F.a.style({display:"flex",flexDirection:"row",alignItems:"center",gap:F.a.rem(B.g.Space2)}),El=(L.b.Node.make(({view:e})=>M.createElement("div",{className:kl},M.createElement(P.a.img,{src:e("iconUrl"),style:{width:F.a.rem(1),height:F.a.rem(1)}}),M.createElement(P.a.span,null,e("name")))),"bnrGr"),Ol="bnrGo",Al="goLogo",_l="betaBadge",xl="sepAndRight",Il=F.a.style({display:"flex",alignItems:"center",justifyContent:"space-between",width:F.a.percent(100),gap:F.a.rem(B.g.Space2),position:"relative",overflow:"hidden"}),jl=F.a.style({display:"flex",flexDirection:"row",alignItems:"center",gap:F.a.rem(B.g.Space2)}),Tl={height:F.a.rem(1),borderLeft:"1px solid "+B.a.BlueGray20},Ml=F.a.style(Tl),Nl=F.a.style({display:"flex",flexDirection:"row",alignItems:"center"}),Pl=F.a.joinClasses([F.a.style({display:"flex",alignItems:"center",justifyContent:"center",height:F.a.rem(2),width:F.a.rem(2.375)}),Al]),Ll=F.a.style({display:"flex",flexDirection:"row",alignItems:"center"}),Rl=_l,Bl=F.a.style({width:F.a.rem(10),overflowWrap:"normal",whiteSpace:"normal",textAlign:"left"}),Fl=F.a.style(Object.assign(Object.assign({},Tl),{marginLeft:F.a.rem(B.g.Space2),marginRight:F.a.rem(B.g.Space1)})),Dl=F.a.joinClasses([F.a.style({display:"flex",alignItems:"center"}),xl]),Hl=F.a.style({display:"flex",flexDirection:"row",alignItems:"center",height:F.a.rem(2)}),Vl=e=>F.a.rem(79*(null!=e?e:1)/16),Ul=F.a.joinClasses([F.a.style({width:Vl(),height:F.a.rem(1),paddingTop:F.a.rem(B.g.SpaceQuarter),marginLeft:F.a.rem(B.g.Space1+B.g.SpaceHalf)}),El]),Wl=F.a.joinClasses([F.a.style({minWidth:F.a.rem(1.625)}),Ol]),ql=F.a.keyframes({from:{opacity:0},to:{opacity:1}}),zl=F.a.keyframes({"0%":{opacity:0},"99%":{opacity:0},"100%":{opacity:1}}),$l=F.a.keyframes({from:{opacity:1,transform:"translateX(0)"},to:{opacity:0,transform:"translateX(-50%)"}}),Gl=F.a.keyframes({from:{transform:"translateX(0)"},to:{transform:`translateX(${Vl(-1)})`}}),Kl=F.a.style({$nest:{["."+xl]:{animation:ql+" 300ms cubic-bezier(0.52, 0, 0.23, 1)"},["."+_l]:{animation:ql+" 300ms cubic-bezier(0.52, 0, 0.23, 1)"},["."+Al]:{animation:zl+" 300ms linear"}}}),Yl=F.a.style({position:"absolute",top:0,zIndex:1,$nest:{["."+El]:{animation:$l+" 300ms cubic-bezier(0.52, 0, 0.23, 1)"},["."+Ol]:{animation:Gl+" 300ms cubic-bezier(0.52, 0, 0.23, 1)"}}}),Zl=L.b.Grid.make(({slots:e})=>M.createElement("div",{className:jl},e.back,M.createElement("div",{className:Ml}),e.voice)),Xl=L.b.Knot.make(Zl,{back:Sl,voice:hl}),Ql=()=>M.createElement("div",{className:Ll},M.createElement(R.l,{className:Pl}),M.createElement(Hn.a,{title:M.createElement("div",{className:Bl},"GrammarlyGO is still in beta testing. Please check for any inaccuracies.")},M.createElement(R.b,{className:Rl},"Beta"))),Jl=L.b.Node.make(Ql),ec=L.b.Composite.make(L.b.Grid.make(({slots:e})=>M.createElement("div",{className:Nl},M.createElement(Ql,null),M.createElement("div",{className:Dl},M.createElement("div",{className:Fl}),e.content))),hl),tc=L.b.Node.make(()=>M.createElement("div",{className:Hl},M.createElement(R.n,{className:Ul}),M.createElement(R.l,{className:Wl}))),nc=L.b.Union.make("kind",{goBanner:tc,goLogoOnly:Jl,goLogoAndVoiceButton:ec,backButton:Sl,backButtonAndVoiceButton:Xl}),ac=L.b.Transition.make({toolbarEntry:Kl},{bannerExit:Yl}),rc=L.b.Grid.make(({slots:e})=>M.createElement("div",{className:Il},e.left,e.right)),ic=L.b.Knot.make(rc,{left:L.b.Animated.make(ac,nc),right:ul});var oc=n("V0o3");function sc(e){return L.a.composeKnot({left:L.a.animatingFlow(lc(e),(e,t)=>Object(r.pipe)(e,a.filter(e=>"goBanner"===e.kind&&("goLogoOnly"===t.kind||"goLogoAndVoiceButton"===t.kind)),a.map(()=>oc.both("bannerExit","toolbarEntry")))),right:ml(e)})}function lc(e){const t=o.a.combine(e.assistant.state,e.router.activeView,({session:e},t)=>Object(r.pipe)(y.Session.toStarted(e),a.fold(()=>"goLogoOnly",()=>"loadingError"===t?"goLogoOnly":"loading"===t||"beforeResults"===t||"afterResults"===t?"goLogoAndVoiceButton":"voiceProfile"===t||"feedbackForm"===t||"legacyVoiceProfile"===t||"skill"===t?"backButton":"actionSelected"===t?"backButtonAndVoiceButton":Object(T.d)(t))));return L.a.composeUnion({goBanner:()=>i.a.of(null),goLogoOnly:()=>i.a.of(null),goLogoAndVoiceButton:pc(e),backButton:cc(e),backButtonAndVoiceButton:dc(e)},()=>i.a.raceStatic(e.assistant.state.view("contextualActions").pipe(i.b.compact,i.a.take(1),i.a.switchMap(()=>i.a.timer(1500))),t.pipe(i.a.filter(e=>"goLogoOnly"!==e&&"goLogoAndVoiceButton"!==e))).pipe(i.a.switchMapTo(t),i.a.startWith("goBanner"),i.a.map(e=>({kind:e}))))}function cc(e){return L.a.fromSideEffect(t=>e.notify(t),o.a.combine(e.router.activeView,e.skill.state,(e,t)=>"voiceProfile"===e||"legacyVoiceProfile"===e?{activeViewIconUrl:a.none,activeViewLabel:a.some("My voice")}:"feedbackForm"===e?{activeViewIconUrl:a.none,activeViewLabel:a.some("Share your thoughts")}:"skill"===e?Object(r.pipe)(t,a.fold(()=>({activeViewIconUrl:a.none,activeViewLabel:a.none}),e=>({activeViewIconUrl:a.some(e.skill.iconUrl),activeViewLabel:a.some(e.skill.displayName)}))):{activeViewIconUrl:a.none,activeViewLabel:a.none}))}function uc(e){return Object(r.pipe)(e,a.fold(()=>"",e=>Object(r.pipe)(y.VoiceProfile.toLegacyVoiceProfile(e),a.fold(()=>"My voice",e=>Object(r.pipe)(a.fromNullable(e.styles.find(t=>y.VoiceProfile.Style.Id.eq.equals(t.id,e.selectedStyle))),a.fold(()=>"",e=>e.label))))))}function dc(e){return L.a.fromSideEffect(t=>e.notify(t.action),e.assistant.state.view("session").view(Object(r.flow)(y.Session.toStarted,a.map(e=>e.voiceProfile))).pipe(i.a.map(e=>({back:{activeViewIconUrl:a.none,activeViewLabel:a.none},voice:{styleLabel:uc(e)}}))))}function pc(e){return L.a.fromSideEffect(t=>e.notify(t),e.assistant.state.view("session").view(Object(r.flow)(y.Session.toStarted,a.map(e=>e.voiceProfile))).pipe(i.a.map(e=>({kind:"goLogoAndVoiceButton",styleLabel:uc(e)}))))}L.b.Knot.make(Xe,{toolbar:ic,content:rl});var mc;(mc||(mc={})).empty={contentFlowOptions:ol.empty};const hc=L.b.Knot.make(tt,{toolbar:ic,content:rl});function gc(e){return L.b.Knot.make(L.b.Grid.make(({slots:t})=>M.createElement(xt.Provider,{value:{notifyUnmount:t=>e.notify(t)}},t.assistant)),{assistant:hc})}var fc;function bc(e,t=fc.empty){return L.a.composeKnot({assistant:L.a.composeKnot({root:at(e,t.fixedContainerFlowOptions),content:sl(e,t.contentFlowOptions),toolbar:sc(e)})})}(fc||(fc={})).empty={fixedContainerFlowOptions:nt.empty,contentFlowOptions:ol.empty}},C53H:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var a=n("a5W6"),r=n("OA+g"),i=n("I7vG"),o=n("24uI"),s=n("94k3"),l=n("lrqh"),c=n("dE97"),u=n("JSz4"),d=n("KBak"),p=n("f3nf");const m={ignoreWhitespaceRemoves:!0},h=Object(r.flow)((function(e,t=m){return n=>Object(i.pipe)(n.alternatives,y(e,{isFullSentence:c.f.isFullSentence(n.cardType),isShortenIt:c.f.isShortenIt(n.cardType),isToneAI:c.f.isToneAI(n.cardType),isCitation:c.f.isCitation(n.cardType)}),l.b.chain(p.a.create(Object.assign(Object.assign({},t),{drilldown:n.drilldown}))))}),u.a);const g=e=>Object(r.flow)(y(e,{isFullSentence:!1,isShortenIt:!1,isToneAI:!1,isCitation:!1}),l.b.map(l.f.map(({ops:e,text:t})=>Object(i.pipe)(e,function(e){return Object(r.flow)(a.reduce({currPos:0,diff:[]},(t,n)=>(o.a.isDelete(n)?(t.diff.push({textChunk:e.substr(t.currPos,n.delete),type:n.type===s.a.AlternativeOperation.Type.Main||n.type===s.a.AlternativeOperation.Type.Important?d.a.Type.Delete:d.a.Type.Retain}),t.currPos+=n.delete):o.a.isInsert(n)?t.diff.push({textChunk:o.a.isInsertString(n)?n.insert:"",type:n.type===s.a.AlternativeOperation.Type.Main?d.a.Type.Insert:d.a.Type.Retain}):(t.diff.push({textChunk:e.substr(t.currPos,n.retain),type:d.a.Type.Retain}),t.currPos+=n.retain),t)),e=>e.diff)}(t),function(e){return t=>Object(i.pipe)(t,a.findFirst(t=>t.type===d.a.Type.Delete&&t.textChunk===e.trim()),l.g.map(e=>[e,{textChunk:Object(i.pipe)(t,a.reduce("",(t,n)=>(d.a.NoInvert.eq.equals(n,e)||(t+=n.textChunk),t))),type:d.a.Type.Insert}]),l.g.getOrElse(()=>t))}(t),f,b))));function f(e){return Object(i.pipe)(e,a.reduceWithIndex([],(t,n,a)=>{const r=e[t-1];return void 0!==r&&d.a.isDelete(a)&&d.a.isInsert(r)?(n.push(r),n[t-1]=a):n.push(a),n}))}function b(e){return Object(i.pipe)(e,a.reduceWithIndex([],(t,n,a)=>{const r=e[t-1];return void 0!==r&&d.a.isInsert(a)&&d.a.isDelete(r)?(n[t-1]=Object.assign(Object.assign({},r),{invertedChunk:a.textChunk}),n.push(Object.assign(Object.assign({},a),{invertedChunk:r.textChunk}))):n.push(Object.assign(Object.assign({},a),{invertedChunk:""})),n}))}function y(e,t){const n=Object(r.flow)(e,e=>e.delta.reduce((e,t)=>o.a.isInsertString(t)?e+t.insert:e,""));return Object(r.flow)(function(e,{isFullSentence:t,isShortenIt:n,isToneAI:r,isCitation:o}){return c=>Object(i.pipe)(c,a.filterMap(a=>Object(i.pipe)(a.type,l.g.map(i=>{if(s.a.Alternative.hasOptionalContext(a.ops)){const[l,...c]=a.ops,u=s.a.AlternativeOperation.length(l);return{text:e(u,a.lengthAffected-u),ops:c,type:i,isFullSentence:t,isShortenIt:n,isToneAI:r,isCitation:o}}return{text:e(0,a.lengthAffected),ops:a.ops,type:i,isFullSentence:t,isShortenIt:n,isToneAI:r,isCitation:o}}))),l.f.fromArray)}(n,t),l.b.fromOption(()=>new Error("Alternative array is empty")))}},C7EH:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("U75S"),i=n("Arv5"),o=n("OA+g"),s=n("66iv"),l=n("bYZB"),c=n("lrqh"),u=n("D9EC"),d=n("6fbX"),p=n("PrA7"),m=n("dE97"),h=n("zR/0"),g=n("gy42"),f=n("viRF"),b=n("kFFO"),y=n("UEGg"),v=n("O6HF"),S=n("NW9S"),C=n("TC4P"),w=n("973I"),k=n("XxrX"),E=n("4zjj");!function(e){e.id="BulkAcceptItemId",e.Kind="BulkAcceptItem";const t=r.eb(c.c.fromEquals((e,t)=>e.id===t.id&&y.a.isBulkApplied(e)===y.a.isBulkApplied(t)));e.efficientAlertEq=c.c.fromEquals((e,n)=>e.length===n.length&&t.equals(e,n)),e.eqByAlerts=c.c.fromEquals((t,n)=>e.efficientAlertEq.equals(t.alerts,n.alerts)),e.isInAppliedState=e=>"applied"===e.visibilityState,e.isInVisibleState=e=>"visible"===e.visibilityState,e.isInUndoneState=e=>"undone"===e.visibilityState,e.isInInitialState=Object(u.p)(e.isInVisibleState,e.isInUndoneState),e.eq=c.c.fromEquals((t,n)=>e.eqByAlerts.equals(t,n)&&t.activeAlertIndex===n.activeAlertIndex&&t.hasMarkFocusable===n.hasMarkFocusable&&t.visibilityState===n.visibilityState),e.visualStateEq=c.c.fromEquals((e,t)=>w.a.eq.equals(e.positionState,t.positionState)&&e.visibilityState===t.visibilityState),e.isBulkAcceptItem=function(t){return t.id===e.id},e.create=(e,t)=>(Object(d.f)(r.ob(e),"Cannot create BulkAcceptItem without bulk-acceptable alerts"),new O(e,b(e),w.a.empty,E.b.initial({type:"added",clockwise:!0}),t)),e.updateAlerts=(e,t)=>new O(t,"dismissed"===e.visibilityState?e.visibilityState:b(t),e.positionState,Object.assign(Object.assign({},e.visualState),{incomplete:!1}),e.renderOptions,e.hasMarkFocusable,Object(o.pipe)(c.g.fromNullable(t[e.activeAlertIndex]),c.g.map(()=>e.activeAlertIndex),c.g.getOrElse(()=>t.length-1))),e.changePosition=e=>t=>new O(e.alerts,e.visibilityState,t,e.visualState,e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.changeVisualState=e=>t=>new O(t.alerts,t.visibilityState,t.positionState,e,t.renderOptions,t.hasMarkFocusable,t.activeAlertIndex),e.completeTransition=(e,t)=>new O(e.alerts,e.visibilityState,e.positionState,E.b.complete(e.visualState,t),e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.transitionTo=(e,t)=>new O(e.alerts,e.visibilityState,e.positionState,E.b.to(e.visualState,t),e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.dismiss=e=>new O(e.alerts,"dismissed",e.positionState,E.b.to(e.visualState,{type:"removed",clockwise:!0}),e.renderOptions);const n=Object(s.e)(i.Y)(),a=n.composeLens(s.c.fromPath()(["state"])),f=n.composeLens(s.c.fromProp()("ignoreAllowed"));e.undo=e=>new O(Object(o.pipe)(e.alerts,a.set({type:m.a.State.Type.REGISTERED,checkingState:m.a.CheckingState.CHECKING}),f.set(!1)),"undone",e.positionState,Object.assign(Object.assign({},e.visualState),{incomplete:!1}),e.renderOptions),e.select=(e,t)=>Object(o.pipe)(t,c.g.filter(t=>t.id===e.id),c.g.orElse(Object(o.pipe)(e,c.g.fromPredicate(e=>"focused"===e.visualState.transition.type))),c.g.fold(()=>{const n=w.a.invalidateHeight(e.positionState),a={type:"focused",clockwise:!0},r=Object(o.pipe)(t,c.g.fold(()=>E.b.initial(a),()=>E.b.to(e.visualState,a)));return new O(e.alerts,e.visibilityState,n,r,e.renderOptions)},()=>e)),e.unselect=(e,t)=>Object(o.pipe)(t,c.g.filter(t=>t.id===e.id),c.g.orElse(Object(o.pipe)(e,c.g.fromPredicate(e=>"rendered"===e.visualState.transition.type))),c.g.fold(()=>{const t=w.a.invalidateHeight(e.positionState),n=C.a.isHidden(e)?e.visualState:E.b.to(e.visualState,{type:"rendered",clockwise:!0});return new O(e.alerts,e.visibilityState,t,n,e.renderOptions)},()=>e)),e.selectAlert=e=>t=>{const n=t.alerts.findIndex(t=>t.id===e);return n<0&&p.Monitoring.Logging.getLogger("BulkAcceptItem").error("Tried to select non-existing alert"),new O(t.alerts,t.visibilityState,t.positionState,t.visualState,t.renderOptions,-1!==n,-1!==n?n:0)},e.clone=e=>new O(e.alerts,e.visibilityState,e.positionState,e.visualState,e.renderOptions,e.hasMarkFocusable,e.activeAlertIndex),e.hasAlert=e=>t=>void 0!==t.alerts.find(t=>t.id===e),e.moveToViewportTop=(e,t)=>n=>e.setCardPosition(n.id,!1,!0,S.b.FromWindowTop.ISO.wrap(t)).pipe(h.a.switchMapTo(h.a.NEVER)),e.alignMarkToBulkItem=(e,t)=>({suggestedPosition:n})=>a=>{const r={alert:a.activeAlert,highlightIndex:a.activeHighlightIndex};return Object(o.pipe)(e.getMarkAlertPosition(r),h.a.map(c.g.map(Object(o.flow)(S.b.FromWindowTop.ISO.modify(e=>e-S.b.FromWindowTop.ISO.unwrap(n)),S.b.FromWindowTop.ISO.unwrap))),h.b.compact,h.a.switchMap(t=>e.moveAlertHighlightInViewport(r,n,l.a.none).pipe(h.a.mapTo(t))),h.a.switchMap(e=>{const n=c.b.unsafeGet(t.getCardSuggestedPositionInViewport(a.id,!1,c.g.none,"cardContentTop")),r=S.b.FromWindowTop.ISO.modify(S.a.concatC(e))(n.top),i=t.isAboveViewportTop(r)?S.b.FromWindowTop.ISO.wrap(n.contentOffset):r;return t.setCardPosition(a.id,!1,!1,i)}),h.a.mapTo(g.b.voidValue),h.a.catchError(e=>(p.Monitoring.Logging.root.getLogger("AlignmentViewModel").error("Cannot align mark to suggested position of BulkAcceptItem",e),h.a.EMPTY)),h.a.share())};const b=Object(o.flow)(r.ib,c.g.filter(y.a.isBulkApplied),c.g.fold(()=>"visible",()=>"applied"))}(a||(a={}));class O{constructor(e,t,n,r,i,o=!1,s=0){this.alerts=e,this.visibilityState=t,this.positionState=n,this.visualState=r,this.renderOptions=i,this.hasMarkFocusable=o,this.activeAlertIndex=s,this.kind=a.Kind,this.id=a.id,this.activeHighlightIndex=0,this.removedAlertsIds=new Set,this.activeAlert=e[this.activeAlertIndex];const l=e.map(e=>e.getHighlightRanges()[0]);this.meta=new v.a.Impl(f.a.fromRatio(this.activeAlert.progress),this.activeAlert.explanation,v.a.CheckingState.Idle,l,!1),this.a11yContrast=i.features.has(k.a.Features.a11yContrast)}equals(e){return a.eq.equals(this,e)}hashCode(){return Object(b.b)(this.alerts.map(e=>e.id).join())}}},CFZe:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var a,r=n("D57K"),i=n("LNSM"),o=n("zR/0"),s=n("gy42"),l=n("D9EC");class c{constructor(e,t,n){this._documentModel=e,this._events=t,this._plagiarismCapiClient=n,this._plagiarismCheckingState=this._documentModel.asyncChecksState.lens("plagiarism"),this.plagiarismCheckedInSession=this._plagiarismCheckingState.view(e=>"full"!==e),this.checkingState=this._plagiarismCheckingState,this._subs=[],this._isEnabled=i.a.create(!1),this._enable=()=>{this._plagiarismCheckingState.modify(e=>"idle"===e?"checking":e),this._documentModel.extraSettings.checkedPlagiarism=!0,this._plagiarismCapiClient.enablePlagiarismSearch()},this._disable=()=>{this._plagiarismCapiClient.disablePlagiarismSearch()},this._subs.push(this._isEnabled.pipe(o.a.switchMap(s.b.orEmpty(this._events.pipe(o.a.filter(e=>"session_started"===e.kind))))).subscribe(this._enable))}enable(){return this._isEnabled.set(!0),this._enable(),()=>{this._isEnabled.set(!1),this._disable()}}recheck(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=!this._isEnabled.get();e&&this._enable(),yield this._plagiarismCheckingState.pipe(o.a.filter(e=>"idle"===e),o.a.first()).toPromise(),e&&this._plagiarismCapiClient.disablePlagiarismSearch()}))}dispose(){this._subs.forEach(e=>e.unsubscribe())}}!function(e){e.Mock=class{constructor(){this.enable=()=>l.e,this.recheck=()=>new Promise(l.e),this.dispose=l.e,this.checkingState=i.a.create("idle"),this.plagiarismCheckedInSession=i.a.create(!0)}}}(a||(a={}))},CrFT:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var a,r,i=n("OA+g"),o=n("LNSM"),s=n("R+r4"),l=n("zR/0"),c=n("lrqh"),u=n("hoSD"),d=n("PrA7");!function(e){function t(e){return"sending"===e.kind}e.isSending=t,e.isSendingState=c.g.exists(t)}(a||(a={})),function(e){e.isSuccess=function(e){return e.status===s.a.StatisticsStatus.Success}}(r||(r={}));class p{constructor(e,t){this._doc=e,this.documentTitle=t,this._statisticsCache=c.g.none,this._proofitStatisticsIO=()=>Object(i.pipe)(this._statisticsCache,c.g.fold(Object(i.pipe)(this._doc.getProofitStatistics,c.l.chain(c.l.fromPredicate(r.isSuccess,e=>new Error(e.status))),c.l.chainFirst(e=>c.l.fromIO(()=>{this._statisticsCache=c.g.some(e)}))),e=>Promise.resolve(c.b.right(e)))),this.state=o.a.create(c.g.none),this.jobDetails=o.a.create(c.g.none)}getPlans(){return this._doc.getProofitPlans().then(c.b.fold(e=>Promise.reject(e),e=>e.status===s.a.PlanStatus.Forbidden?Promise.reject({status:s.a.PlanStatus.Forbidden}):Promise.resolve(e)))}getStatistics(){return l.a.defer(this._proofitStatisticsIO).pipe(l.a.map(c.g.fromEither))}placeOrder(e,t,n,a,r){return this.state.set(c.g.some({kind:"sending"})),c.l.toPromise(this._doc.placeProofitOrder({turnaround:e.turnaround,tier:e.tier,userInputs:t,priceOfferId:n,payWithCredits:r},a)).then(e=>this._updateStatus(e.status)).catch(e=>{d.Monitoring.Logging.getLogger("ProofitModel").warn("Error placing proofit order",e),this.state.set(c.g.some({kind:"error",errorType:"unknown"}))})}updateState(e){this._updateStatus(e.status),this.jobDetails.set(c.g.some({startTime:e.submitted,dueTime:e.due}))}_updateStatus(e){switch(e){case s.a.JobStatus.building:break;case s.a.JobStatus.newJob:this.state.set(c.g.some({kind:"submitted"}));break;case s.a.JobStatus.completed:this.state.set(c.g.some({kind:"finished"}));break;case s.a.JobStatus.cancelled:this.state.set(c.g.some({kind:"cancelled"}));break;case s.a.JobStatus.emptyDocument:this.state.set(c.g.some({kind:"error",errorType:"emptyDocument"}));break;case s.a.JobStatus.duplicate:this.state.set(c.g.some({kind:"error",errorType:"alreadyProofread"}));break;case s.a.JobStatus.complexInternalStructure:this.state.set(c.g.some({kind:"error",errorType:"complexInternalStructure"}));break;case s.a.JobStatus.paymentError:this.state.set(c.g.some({kind:"error",errorType:"payment"}));break;case s.a.JobStatus.forbidden:case s.a.JobStatus.unknown:default:this.state.set(c.g.none)}}}var m;!function(e){e.Mock=class extends p{constructor(e=s.a.JobStatus.newJob,t=c.g.none){var n,a,r;super((n=e,a={status:s.a.StatisticsStatus.Success,lastCompletedJobDate:t},r=e=>{this.updateState(e)},{getProofitPlans:()=>Promise.resolve(c.b.right({status:s.a.PlanStatus.Success,turnaroundOptions:[{enabled:!0,label:"24 hours",minutesToProcess:c.g.of(1440),hoursToProcess:c.g.none,perWord:.14,price:140,turnaround:s.a.PlanType.TwentyFourHours,requirePaymentCheck:!1,tier:s.a.PlanTier.Base,credits:c.g.none},{enabled:!0,label:"3 hours",minutesToProcess:c.g.of(180),hoursToProcess:c.g.none,perWord:.18,price:180,turnaround:s.a.PlanType.ThreeHours,requirePaymentCheck:!0,tier:s.a.PlanTier.Base,credits:c.g.none},{enabled:!0,label:"30 minutes",minutesToProcess:c.g.of(30),hoursToProcess:c.g.none,perWord:.3,price:300,turnaround:s.a.PlanType.Instant,requirePaymentCheck:!1,tier:s.a.PlanTier.Base,credits:c.g.none}],clarityTurnaroundOptions:[{enabled:!0,label:"24 hours",minutesToProcess:c.g.of(1440),hoursToProcess:c.g.none,perWord:.14,price:140,turnaround:s.a.PlanType.TwentyFourHours,requirePaymentCheck:!1,tier:s.a.PlanTier.Clarity,credits:c.g.none},{enabled:!0,label:"3 hours",minutesToProcess:c.g.of(180),hoursToProcess:c.g.none,perWord:.18,price:180,turnaround:s.a.PlanType.ThreeHours,requirePaymentCheck:!0,tier:s.a.PlanTier.Clarity,credits:c.g.none}],words:100,userInputs:{nativeLanguage:c.g.none,dialect:c.g.none,quotationType:c.g.none,spaceType:c.g.none,noteToEditor:c.g.none},priceOfferId:s.a.PriceOfferId.create(424242)})),placeProofitOrder:()=>()=>new Promise(e=>{const t=u.d.Local.Timestamp.now(),a=u.d.Local.Timestamp.toLocal(u.d.Local.Timestamp.add(t,3*u.d.MS_IN_HOUR)),i={submitted:u.d.Local.Timestamp.toLocal(t),corrections:5,due:a,price:666,name:"",completed:c.g.none,id:1,status:s.a.stringToJobStatus(n),is_dox_applied:!0};setTimeout(()=>e(c.b.right(i)),0),setTimeout(()=>r(i),500)}),getProofitStatistics:()=>Promise.resolve(c.b.right(a))}),o.a.create(""))}}}(m||(m={}))},CxAE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("OA+g"),o=n("I7vG"),s=n("9NHN"),l=n("vOOZ"),c=n("zR/0"),u=n("lrqh"),d=n("ax6a"),p=n("rk+4"),m=n("6lhv"),h=n("H37f"),g=n("BugA"),f=n("e12y"),b=n("xEVj"),y=n("aIes"),v=n("wOnQ"),S=n("uqkn"),C=n("IVzZ"),w=n("+w1e"),k=n("XxrX"),E=n("0A/6"),O=n("H9T+"),A=n("RWgj"),_=n("cVtq"),x=n("J/IC");!function(e){e.BundleMini=({card:e,actions:t})=>r.createElement(E.a.Mini,Object.assign({},Object(s.c)(A.b.wrapper,A.b.bundleContainer),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],counter:r.createElement(g.m,{className:A.b.alertsCounter},e.alerts.length),inert:e.positionState.inert,hideDot:!0}),r.createElement(l.a.div,{className:j.content},r.createElement(h.c,{id:e.activeAlert.toneAlternatives[e.activeAlert.selectedToneAlternativeIdx].emojiID,className:j.emoji}),r.createElement("div",{className:A.b.highlightedText},C.a.bundleTitle(e)))),e.Full=({card:e,actions:t,isChecking:n,isCheckingGlobal:a})=>{const s=r.useContext(p.a.Context),d=b.a.useAtomOf(e.activeAlert.toneAlternatives),h=r.useCallback(n=>{"focused"!==e.visualState.transition.type&&"expanded"!==e.visualState.transition.type||t.next({type:w.b.Type.toneAIChangeToneAlternative,alertId:e.activeAlert.id,itemId:e.id,selectedToneAlternativeIdx:n})},[t,e.visualState.transition.type,e.activeAlert.id,e.id]);return Object(o.pipe)(e.transform,u.g.filter(v.j.isToneAI),u.g.fold(()=>null,o=>r.createElement(O.r,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:n=>r.createElement(r.Fragment,null,r.createElement(O.i,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(l.a.Fragment,null,d.pipe(c.a.map(e=>r.createElement(x.a,{toneAlternatives:e,onSelectToneAlternative:h})))),0===e.activeAlert.selectedToneAlternativeIdx?r.createElement("div",{className:N.replacementContainer},e.activeAlert.highlightTexts[0]):r.createElement(m.b,{classes:{rendered:N.replacement,removing:N.replacementHidden},timeout:250,content:c.a.of(r.createElement(_.g,{label:o.labels[e.activeAlert.selectedToneAlternativeIdx-1],className:N.replacementContainer,a11yContrast:e.renderOptions.features.has(k.a.Features.a11yContrast)}))}),0!==e.activeAlert.selectedToneAlternativeIdx?r.createElement(O.q,{title:s.card.todoAction(o.tooltipText),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:y.d.callOnce(()=>t.next({type:w.b.Type.alertApply,alertId:e.activeAlert.id,id:e.id,alternativeIndex:e.activeAlert.selectedToneAlternativeIdx-1,cardType:w.b.getCardType(e),eligibleForSurvey:S.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:S.a.isEligibleForGbPrompt(e)}))}):null),mainActions:Object(i.constant)(r.createElement(O.e,{card:e,feedbackActions:t})),subActions:Object(i.constant)(r.createElement(O.m,{card:e,actions:t})),cardFooter:Object(i.constant)(r.createElement(O.g,{card:e}))})))}}(a||(a={}));const I={width:f.a.rem(1),height:f.a.rem(1),marginRight:f.a.rem(.5)},j=f.a.stylesheet({content:[{display:"flex",alignItems:"center"}],emoji:[I]}),T={transition:"opacity "+f.a.seconds(O.t)},M={width:f.a.percent(100),background:d.a.CoreNeutral10,borderRadius:f.a.px(4),fontSize:f.a.rem(.875),lineHeight:f.a.rem(1.5),fontFeatureSettings:"'ss03' on",padding:f.a.px(8),marginTop:f.a.px(12),boxSizing:"border-box"},N=f.a.stylesheet({replacement:[T],replacementHidden:[T,{opacity:0}],replacementContainer:[M]})},"D/5U":function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return A})),n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return B}));var a=n("e12y"),r=n("ps/9"),i=n("3bJT");const o="linear",s=a.a.keyframes({"0%":{opacity:0},"100%":{opacity:1}}),l=a.a.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),c=a.a.keyframes({from:{opacity:1,transform:"translateY(0) scaleY(1)"},to:{opacity:0,transform:"translateY(-75%) scaleY(.5)"}}),u=a.a.keyframes({"0%":{opacity:0,transform:"scaleY(0)"},"100%":{opacity:1,transform:"scaleY(1)"}}),d=a.a.keyframes({"0%":{opacity:0,transform:"scaleY(.2) translateY(-50%)"},"80%":{opacity:1,transform:"scaleY(.8) translateY(0%)"},"100%":{opacity:1,transform:"scaleY(1)"}}),p=a.a.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"100%":{opacity:0,transform:"scaleY(0)"}}),m=a.a.keyframes({"0%":{opacity:0,transform:"scale(.8)"},"100%":{opacity:1,transform:"scale(1)"}}),h=a.a.keyframes({"0%, 100%":{opacity:0}}),g=a.a.keyframes({"0%, 59%":{opacity:0},"60%, 100%":{opacity:1}}),f=a.a.keyframes({"0%":{opacity:0},"80%":{opacity:0},"100%":{opacity:1}}),b=a.a.keyframes({"0%":{opacity:1,transform:"scaleY(1)"},"59%":{opacity:1},"60%":{opacity:0},"100%":{opacity:0,transform:"scaleY(0)"}}),y=a.a.keyframes({"0%":{opacity:1},"30%, 100%":{opacity:0}}),v=a.a.keyframes({"0%":{transform:"scaleY(.3)"},"100%":{transform:"scaleY(1)"}}),S=a.a.keyframes({"0%, 20%":{opacity:0},"100%":{opacity:1}}),C={position:"relative",margin:`${a.a.rem(.5)} ${a.a.rem(2)} ${a.a.rem(.5)} 0`,userSelect:"none"},w={position:"absolute",width:a.a.percent(100),pointerEvents:"none"},k={opacity:0,animation:`${s} ${a.a.seconds(r.d/4/1e3)} ${o} ${a.a.seconds(r.d/1e3)} forwards`},E={transformOrigin:"top",animation:`${l} ${a.a.seconds(r.d/1e3)} ${o} forwards`},O={transformOrigin:"bottom",animation:`${c} ${a.a.seconds(r.d/1e3)} ${o} forwards`},A={transformOrigin:"top",willChange:"contents"},_={animation:`${u} ${a.a.seconds(r.d/1e3)} ${o} forwards`},x={animation:`${d} ${a.a.seconds(r.d/1e3)} ${o} forwards`},I={animation:`${p} ${a.a.seconds(r.d/1e3)} ${o} reverse forwards`},j={animation:`${p} ${a.a.seconds(r.d/1e3)} ${o} forwards`},T={animation:`${m} ${a.a.seconds(r.d/1e3)} ${o} forwards`},M={animation:`${m} ${a.a.seconds(r.d/1e3)} ${o} reverse forwards`},N={transformOrigin:"top",animation:`${g} ${a.a.seconds(r.d/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${i.b.successWrapperSelector} > *`]:{animation:`${f} ${a.a.seconds(r.d/1e3)} ${o} forwards`}}},P={position:"absolute",width:a.a.percent(100),transformOrigin:"top",animation:`${b} ${a.a.seconds(r.d/1e3)} ${o} forwards`,pointerEvents:"none",$nest:{[`& .${i.b.fullCardSelector} > :not(.${i.b.alignButtonHiddenSelector})`]:{animation:`${y} ${a.a.seconds(r.d/1e3)} ${o} forwards`},[`& .${i.b.fullCardSelector} > .${i.b.alignButtonHiddenSelector}`]:{animation:`${h} ${a.a.seconds(r.d/1e3)} ${o} none`},["& ."+i.b.fullCardSelector]:{transform:`translateY(${a.a.rem(-1)})`}}},L={transformOrigin:"top",animation:`${v} ${a.a.seconds(r.d/1e3)} ${o} forwards`,willChange:"contents",$nest:{[`& .${i.b.fullCardSelector} > :not(.${i.b.alignButtonHiddenSelector})`]:{animation:`${S} ${a.a.seconds(r.d/1e3)} ${o} forwards`},[`& .${i.b.fullCardSelector} > .${i.b.alignButtonHiddenSelector}`]:{animation:`${h} ${a.a.seconds(r.d/1e3)} ${o} none`}}},R=a.a.stylesheet({wrapper:[C],animationWrapper:[{position:"relative"}],shade:[w],focused2renderedMain:[k],focused2renderedShade:[w,E],focused2renderedShadeClockwise:[w,O],rendered2focusedMainBase:[A],rendered2focusedMain:[A,_],rendered2focusedMainClockwise:[A,x],addedMain:[I],rendered2removedShade:[w,j],openedMain:[T],closedMain:[M],focused2successMain:[N],focused2successShade:[P],success2FocusedMain:[L]}),B=new Map([[l,R.focused2renderedShade],[c,R.focused2renderedShadeClockwise],[p,R.rendered2removedShade],[b,R.focused2successShade]])},DFPs:function(e,t,n){e.exports=n.p+"files/2126cfb653b81bad8401da0a98c6bd25/inter-bold.woff2"},DFfw:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c}));var a=n("GXGe"),r=n("h6df"),i=function(e){return function(t,n){return t===n||0===e(t,n)}},o=function(e){return{equals:i(e),compare:function(t,n){return t===n?0:e(t,n)}}},s=function(){return{concat:function(e,t){return o((function(n,a){var r=e.compare(n,a);return 0!==r?r:t.compare(n,a)}))},empty:o((function(){return 0}))}},l=(r.d,function(e){return function(t,n){return t===n||e.compare(t,n)<1?t:n}}),c=function(e){return function(t,n){return t===n||e.compare(t,n)>-1?t:n}};a.a.equals},DLWy:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return g}));var a,r=n("OA+g"),i=n("LNSM"),o=n("QshB"),s=n("zR/0"),l=n("gy42"),c=n("BeBM"),u=n("lrqh"),d=n("D9EC"),p=n("6fbX"),m=n("vLzu"),h=n("DMXH");!function(e){e[e.Checking=0]="Checking",e[e.CheckingIn=1]="CheckingIn",e[e.CheckingOut=2]="CheckingOut",e[e.Idle=3]="Idle"}(a||(a={}));class g{constructor(e,t,n,a,o,l){this._state=e,this._lensState=t,this._documentModel=n,this._uploadVM=a,this._ded=o,this._features=l,this.loaderState=i.a.create(u.g.none),this._subs=[],this._isLocked=i.a.create(!0),this._loadingStateLock=s.a.combineLatestStatic([this._isLocked,this._uploadVM.state.pipe(s.a.startWith(m.a.State.idle))],(e,t)=>e||t!==m.a.State.idle).pipe(s.a.distinctUntilChanged()),this._subs.push(this._listenUploadingState(),this._listenProcessingState(),this._listenFullRecheckingState()),Object(d.r)("loader",(e,t,n)=>{this._state.set({text:Object(r.pipe)(u.g.fromNullable(e),u.g.filter(e=>e in h.a.TextType)),lens:Object(r.pipe)(u.g.fromNullable(t),u.g.filter(e=>e in h.a.Type)),navigation:Object(r.pipe)(u.g.fromNullable(n),u.g.filter(e=>e in h.a.Type))})})}init(){this._isLocked.set(!1)}_listenUploadingState(){return this._uploadVM.state.pipe(s.a.skip(1)).subscribe(e=>{this._state.set(e===m.a.State.idle?h.a.State.idle:h.a.State.loading)})}_listenProcessingState(){return this._ded.dontFreezeWhen(this._state.view(({text:e})=>u.g.isSome(e)),"loader")}_listenFullRecheckingState(){const e=Object(r.flow)(u.g.filter(e=>e===h.a.Type.checkingIn||e===h.a.Type.checking),u.g.map(()=>h.a.Type.checkingOut)),t=e=>e.kind===o.c.CheckingKind.Plagiarism||"full"!==e.type;return(e=>this._loadingStateLock.pipe(s.a.switchMap(l.b.orEmptyRight(e))))(this._lensState).pipe(s.a.switchMap(e=>{const n=this._documentModel.getCheckingForState(e),r=n.get(),i=c.e.isSidebarOpened(e);return n.pipe(s.a.skip(1),s.a.map(e=>t(e)||!i?a.Idle:a.Checking),s.a.startWith(t(r)?a.Idle:i?this._features.denali.focusFirstCard?a.Checking:a.CheckingIn:a.CheckingOut))}),s.a.tap(e=>this.loaderState.set(u.g.some(e)))).subscribe(t=>{switch(t){case a.Idle:return this._state.set(h.a.State.idle);case a.CheckingIn:return this._state.set({text:u.g.none,lens:u.g.some(h.a.Type.checkingIn),navigation:u.g.some(h.a.Type.checkingIn)});case a.Checking:return this._state.set({text:u.g.none,lens:u.g.some(h.a.Type.checking),navigation:u.g.some(h.a.Type.checking)});case a.CheckingOut:return this._state.modify(t=>({text:u.g.none,lens:e(t.lens),navigation:e(t.navigation)}));default:Object(p.c)(t)}})}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}}},DMXH:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d}));var a,r=n("I7vG"),i=n("LNSM"),o=n("GGUR"),s=n("zR/0"),l=n("lrqh"),c=n("D9EC"),u=n("PrA7");!function(e){let t,n,a;!function(e){e.checking="checking",e.checkingIn="checkingIn",e.checkingOut="checkingOut"}(t=e.Type||(e.Type={})),function(e){e.loading="loading",e.processing="processing"}(n=e.TextType||(e.TextType={})),function(t){t.idle={text:l.g.none,lens:l.g.none,navigation:l.g.none},t.text={text:l.g.some(e.TextType.loading),lens:l.g.none,navigation:l.g.none},t.processing={text:l.g.some(e.TextType.processing),lens:l.g.some(e.Type.checking),navigation:l.g.some(e.Type.checking)},t.lensAndNavigationProcessing=Object.assign(Object.assign({},t.processing),{text:l.g.none}),t.loading={text:l.g.some(e.TextType.loading),lens:l.g.some(e.Type.checking),navigation:l.g.some(e.Type.checking)},t.toString=function(e){const t=Object(r.pipe)(e.lens,l.g.filter(e=>"checkingOut"!==e),l.g.fold(()=>"on",()=>"off")),n=Object(r.pipe)(e.navigation,l.g.filter(e=>"checkingOut"!==e),l.g.fold(()=>"on",()=>"off"));return`text: ${Object(r.pipe)(e.text,l.g.getOrElse(()=>"off"))}; lens: ${t}; nav: ${n}`}}(a=e.State||(e.State={}))}(a||(a={}));class d{constructor(e,t){this._router=e,this._features=t,this.state=i.a.create(a.State.idle),this._log=u.Monitoring.Logging.getLogger("denali_loader"),this._metric=u.Monitoring.TimeSeries.rootFemetrics.getMetric("denali_loader"),this._subs=new o.a.Keeper,this._listenLoading();Object(r.pipe)(this._router.locationState,l.g.exists(e=>!0===e.openSidebar))||this._features.sidebarOpenedByDefault?this.state.set(a.State.processing):this.state.set(a.State.text)}dispose(){this._subs.dispose()}listenEngineErrors(e){this._subs.push(e.pipe(s.b.compact).subscribe(l.b.fold(()=>this.state.set(a.State.idle),c.e)))}_listenLoading(){this._subs.push(this.state.subscribe(e=>{this._log.debug("State is changed to "+a.State.toString(e))}),this._listenTimeseries("text",e=>Object(r.pipe)(e.text,l.g.orUndefined),!0),this._listenTimeseries("lens",e=>Object(r.pipe)(e.lens,l.g.filter(e=>"checkingOut"!==e),l.g.map(()=>"checking"),l.g.orUndefined)),this._listenTimeseries("navigation",e=>Object(r.pipe)(e.navigation,l.g.filter(e=>"checkingOut"!==e),l.g.map(()=>"checking"),l.g.orUndefined)))}_listenTimeseries(e,t,n=!1){return this.state.pipe(s.a.skip(1),s.a.map(e=>t(e)),s.a.distinctUntilChanged(),s.a.map(t=>{if(void 0!==t)return n&&this._metric.getCounter(`${e}.${t}.start.counter`).increment(),{time:this._metric.getTimer(`${e}.${t}.time`).start(),counter:n?this._metric.getCounter(`${e}.${t}.stop.counter`):void 0}}),s.a.pairwise()).subscribe(([e])=>{e&&(e.time.stop(),e.counter&&e.counter.increment())})}}},"Dbx/":function(e,t,n){"use strict";n.r(t);var a=n("e12y"),r=n("BWF9"),i=n.n(r),o=n("DFPs"),s=n.n(o),l=n("L9r+"),c=n.n(l),u=n("8cdc"),d=n.n(u),p=n("7wg/"),m=n.n(p),h=n("uwfv"),g=n.n(h),f=n("8Zga"),b=n.n(f),y=n("Egmf"),v=n.n(y),S=n("My8q"),C=n.n(S),w=n("5l2B"),k=n.n(w),E=n("VLye"),O=n.n(E),A=n("9+0S"),_=n.n(A),x=n("7pZ3"),I=n.n(x),j=n("fNos"),T=n.n(j),M=n("ZEPo"),N=n.n(M),P=n("c/4S"),L=n.n(P);a.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:300,src:`url('${v.a}') format('woff2'), url('${b.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:700,src:`url('${s.a}') format('woff2'), url('${i.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:400,src:`url('${L.a}') format('woff2'), url('${N.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"normal",fontWeight:500,src:`url('${_.a}') format('woff2'), url('${O.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:300,src:`url('${k.a}') format('woff2'), url('${C.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:400,src:`url('${g.a}') format('woff2'), url('${m.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:500,src:`url('${T.a}') format('woff2'), url('${I.a}') format('woff')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Inter",fontStyle:"italic",fontWeight:700,src:`url('${d.a}') format('woff2'), url('${c.a}') format('woff')`,fontDisplay:"swap"})},"E/Yu":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return r}));var a,r,i=n("Arv5"),o=n("RZOd"),s=n("OA+g"),l=n("I7vG"),c=n("LNSM"),u=n("bYZB"),d=n("3s0z"),p=n("zR/0"),m=n("gy42"),h=n("LNdG"),g=n("2yqA"),f=n("lrqh"),b=n("6fbX"),y=n("D9EC"),v=n("PrA7"),S=n("nQSW"),C=n("zGI0");function w(e,t,n,r,o,s,l,c){const m=[{name:"head",hotkey:f.g.none,initialState:{active:!1,disabled:!1}},{name:u.e.Type.bold,hotkey:i.E([{modifiers:new Set([d.a.short]),key:"B"}]),initialState:{active:!1,disabled:!1}},{name:u.e.Type.italic,hotkey:i.E([{modifiers:new Set([d.a.short]),key:"I"}]),initialState:{active:!1,disabled:!1}},{name:u.e.Type.underline,hotkey:i.E([{modifiers:new Set([d.a.short]),key:"U"}]),initialState:{active:!1,disabled:!1}},"separator",{name:u.e.Type.header1,hotkey:i.E([{modifiers:new Set([d.a.short,d.a.alt]),key:"1"}]),initialState:{active:!1,disabled:!1}},{name:u.e.Type.header2,hotkey:i.E([{modifiers:new Set([d.a.short,d.a.alt]),key:"2"}]),initialState:{active:!1,disabled:!1}},"separator",{name:u.e.Type.link,hotkey:i.E([{modifiers:new Set([d.a.short]),key:"K"}]),initialState:{active:!1,disabled:!1}},"separator",{name:u.e.Type.orderedList,hotkey:i.E([{modifiers:new Set([d.a.short,d.a.shift]),key:"7"}]),initialState:{active:!1,disabled:!1}},{name:u.e.Type.bulletList,hotkey:i.E([{modifiers:new Set([d.a.short,d.a.shift]),key:"8"}]),initialState:{active:!1,disabled:!1}},"separator",{name:"clear",hotkey:i.E([{modifiers:new Set([d.a.short]),key:"\\"}]),initialState:{active:!1,disabled:!1}}],h=m.filter(Object(y.b)(C.a.isItem,e=>e.name!==u.e.Type.link)),g=a.initHandlers(h),{formattingEvents:b,viewModel:S}=function(e,t,n,r,i,o,s){const l=a.ToolbarViewModel.create(n,r,s,t),c=C.a.toMenuEvents(e,l.events).pipe(p.a.tap(([e,t,n])=>{i.rtfMenuEventFire(e,o,n)}));return{viewModel:l,formattingEvents:c}}(e,r,m,o,s,l,c),[w,k]=p.a.partitionStatic(b,e=>e[0]!==u.e.Type.link),E=function(e,t,n,r,i){const o=n(e,i),s=v.Monitoring.Logging.getLogger("formattingMenuManager"),l=C.a.linkEvents(r,o).pipe(p.a.catchError((e,t)=>(s.error("Error handling formatting event",e),t))),c=a.ToolbarViewModel.stateManager(t,i),u=l.pipe(p.a.merge(c)).subscribe();return{dispose:()=>{u.unsubscribe()}}}(t,n,g,w,S);return{dispose:()=>{E.dispose()},viewModel:S,linkEvents:k}}!function(e){let t,n,a;!function(e){e.asMenuScheme=e=>e.slice(1)}(t=e.Scheme||(e.Scheme={})),function(e){e.Collapsed="Collapsed",e.Expanded="Expanded"}(n=e.VisualState||(e.VisualState={})),function(e){e.create=function(e,a,r,i){const o=e=>a.toolbar.formatting[e],u=e=>f.g.some(a.toolbar.formatting.tooltips[e]),d=(e,t)=>Object(l.pipe)(u(e.name),f.g.map(e=>`${a.toolbar.formatting.tooltips.head} ${e}`),f.g.map(e=>Object(l.pipe)(t,f.g.map(f.b.fold(s.identity,s.constVoid)),f.g.map(t=>`${e}, shortcut ${t}`),f.g.getOrElse(Object(s.constant)(e)))),f.g.toUndefined),m=h.a.HotkeyOptions.toString(r.has(S.b.Flag.isAppleSystem)),g=new p.a.Subject,b=c.a.create({menu:n.Expanded,items:e.filter(C.a.isItem).reduce((e,t)=>(e[t.name]=t.initialState,e),{})}),y=e[0];return{getBindings:Object(l.pipe)(e,t.asMenuScheme,C.a.Scheme.toBindingProvider(e=>g.next(e),()=>i)),head:{name:y.name,title:o(y.name),tooltip:u(y.name),nestedItem:f.g.none,active:b.view("items",y.name,"active"),disabled:b.view("items",y.name,"disabled"),onClick:()=>g.next({event:y.name,source:C.a.Source.View})},list:t.asMenuScheme(e).map(e=>{if(C.a.isItem(e)){const t=Object(l.pipe)(e.hotkey,f.g.map(e=>f.b.left(m(e[0]))));return{name:e.name,title:o(e.name),tooltip:u(e.name),nestedItem:t,ariaLabel:d(e,t),active:b.view("items",e.name,"active"),disabled:b.view("items",e.name,"disabled"),onClick:()=>g.next({event:e.name,source:C.a.Source.View})}}return e}),visualState:b.view("menu"),state:b,events:g}},e.stateManager=function(e,{state:t}){return e.pipe(p.a.tap(e=>{t.lens("items").modify(Object(o.F)((t,n)=>t===u.e.Type.bulletList?Object.assign(Object.assign({},n),{active:!0===e[u.e.Type.bulletList]||!0===e[u.e.Type.dashedList]}):t===u.e.Type.link?n:u.e.is(t)?Object.assign(Object.assign({},n),{active:!0===e[t]}):n))}),p.a.mapTo(m.b.voidValue))}}(a=e.ToolbarViewModel||(e.ToolbarViewModel={}));const r=(e,{state:t})=>a=>{const r=t=>{e({index:t.start,length:t.end-t.start,meta:{source:u.g.Meta.Source.api,formatting:{bold:!1,italic:!1,underline:!1,bulletList:!1,dashedList:!1,header1:!1,header2:!1,orderedList:!1,strike:!1}}})};switch(a.name){case"head":return()=>t.lens("menu").modify(e=>e===n.Collapsed?n.Expanded:n.Collapsed);case"clear":return r;case u.e.Type.bold:case u.e.Type.bulletList:case u.e.Type.header1:case u.e.Type.header2:case u.e.Type.italic:case u.e.Type.orderedList:case u.e.Type.underline:return i=a.name,n=>{const a=t.get().items[i].active,r=(t={})=>e({index:n.start,length:n.end-n.start,meta:{source:u.g.Meta.Source.api,formatting:Object.assign(Object.assign({},t),{[i]:!a})}});g.c.isBlockFormat(i)?r({[u.e.Type.header1]:!1,[u.e.Type.header2]:!1,[u.e.Type.orderedList]:!1,[u.e.Type.bulletList]:!1,[u.e.Type.dashedList]:!1}):r()};default:return Object(b.c)(a.name)}var i};e.initHandlers=function(e){return(t,n)=>{const a=r(t,n);return e.reduce((e,t)=>(e[t.name]=a(t),e),{})}}}(a||(a={})),function(e){e.fromToolbar=function(e){return e.pipe(p.a.map(([,e])=>({range:e,source:"toolbar"})))},e.fromDenaliEditor=function(e){return e.pipe(p.a.map(e=>u.e.LinkPayload.is(e)?f.g.some({range:e[u.e.Type.link][0].range,source:"selection"}):f.g.none))}}(r||(r={})),function(e){let t;!function(e){e.Mock=class{constructor(){this.linkEvents=new p.a.Subject,this.changes=new p.a.Subject}}}(t=e.Manager||(e.Manager={}))}(a||(a={}))},EH1O:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n("ERkP"),r=n("OA+g"),i=n("I7vG"),o=n("vOOZ"),s=n("rk+4"),l=n("p7l/"),c=n("2HQ1"),u=n("bO3R"),d=n("wsrD"),p=n("FpF0"),m=n("17O8"),h=n("zR/0"),g=n("6fbX"),f=n("hoSD"),b=n("lrqh"),y=n("nb6X"),v=n("PrA7"),S=n("8ZZk"),C=n("m/RE");class w extends g.a{}const k=({vm:e})=>{const t=a.useContext(l.a.Context).pipe(h.a.map(f.e.pick("rect")));return a.createElement(o.a.div,{className:C.positionedWrapper},h.a.combineLatestStatic(t,e.visualState).pipe(h.a.map(([e,t])=>Object(i.pipe)(t,b.b.fromOption(()=>new w("Viewport state is O.none")),b.b.chain(t=>Object(i.pipe)(t.rect.getRect(),b.b.map(({clientRects:[t,...n],rootClientRect:a})=>({viewportLikeRect:f.c.absToRelative(e,a),rect:Object(i.pipe)(f.c.Rect.join(t,...n),b.b.getOrElse(()=>f.c.Rect.empty))})),b.b.map(({viewportLikeRect:e,rect:n})=>a.createElement(o.a.div,{className:C.editorToViewportContainer,style:{top:e.top,left:e.left}},a.createElement(m.a.ByAbsoluteRect,{rect:n,align:f.c.Rect.Axis.vertical,selector:A},a.createElement(c.a,{hide:t.close},a.createElement("div",{className:C.wrapper},t.visualState===S.a.VisualState.EditingMode?a.createElement(E,{inputContent:t.inputContent,apply:t.apply,isValid:t.isValid}):a.createElement(O,{url:t.url,change:t.change,remove:t.remove})))))))),b.b.fold(e=>(e instanceof w||v.Monitoring.Logging.getLogger("FormattingLink").error("Cannot render links popup",e),null),r.identity))),h.a.startWith(null)))},E=({apply:e,inputContent:t,isValid:n})=>{const i=a.useContext(s.a.Context);return a.createElement(a.Fragment,null,a.createElement(d.a,{name:"rtfLinks-urlInput",placeholder:i.toolbar.formatting.links.placeholder,autofocus:!0,className:C.urlInput,value:t}),a.createElement(u.a.Ghost,{name:"rtfLinks-apply",onClick:()=>{e()},disabled:n.view(Object(r.not)(r.identity))},i.toolbar.formatting.links.apply))},O=({url:e,change:t,remove:n})=>{const r=a.useContext(s.a.Context);return a.createElement(a.Fragment,null,a.createElement(p.a,{href:e,className:C.urlHolder},a.createElement("span",{className:C.urlText},e)),a.createElement(u.a.Tertiary,{name:"rtfLinks-change",onClick:t,className:C.button},r.toolbar.formatting.links.change),a.createElement("span",{className:C.delimiter}),a.createElement(u.a.Tertiary,{name:"rtfLinks-remove",onClick:n,className:C.button},r.toolbar.formatting.links.remove))},A=e=>{const t=y.a.Selector.Placement.left,n=y.a.Selector.takeBy("bottom",t)(e);return(({point:e})=>-1===Math.sign(e.x)||-1===Math.sign(e.y))(n.point)?y.a.Selector.preferBy("bottom",t)(e):n}},EanR:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return h}));var a=n("ERkP"),r=n.n(a);const i={prefix:String(Math.round(1e10*Math.random())),current:0,isSSR:!1},o=r.a.createContext(i);let s=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),l=new WeakMap;function c(e=!1){let t=(0,a.useContext)(o),n=(0,a.useRef)(null);if(null===n.current&&!e){var i,s;let e=null===(i=r.a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===i||null===(s=i.ReactCurrentOwner)||void 0===s?void 0:s.current;if(e){let n=l.get(e);null==n?l.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==n.state&&(t.current=n.id,l.delete(e))}n.current=++t.current}return n.current}const u="function"==typeof r.a.useId?function(e){let t=r.a.useId(),[n]=(0,a.useState)(h());return e||`${n?"react-aria":"react-aria"+i.prefix}-${t}`}:function(e){let t=(0,a.useContext)(o);t!==i||s||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=c(!!e);return e||`react-aria${t.prefix}-${n}`};function d(){return!1}function p(){return!0}function m(e){return()=>{}}function h(){if("function"==typeof r.a.useSyncExternalStore)return r.a.useSyncExternalStore(m,d,p);return(0,a.useContext)(o).isSSR}},Egmf:function(e,t,n){e.exports=n.p+"files/7f67ab6aeebccf32e1fdc69b4b9a01de/inter-light.woff2"},"Ei+9":function(e,t,n){"use strict";n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return te})),n.d(t,"a",(function(){return G}));var a={};n.r(a),n.d(a,"sendToSignIn",(function(){return _})),n.d(a,"sendToIdeasGallery",(function(){return x})),n.d(a,"handleGbPrompt",(function(){return I}));var r=n("7qGb"),i=n("OA+g"),o=n("I7vG"),s=n("ZTXN"),l=n("LNSM"),c=n("94k3"),u=n("lrqh"),d=n("6fbX"),p=n("hoSD"),m=n("D9EC"),h=n("umZW"),g=n("XF5a"),f=n("PrA7"),b=n("zI3C"),y=n("dE97"),v=n("HqKA"),S=n("GUi3"),C=n("zR/0"),w=n("GGUR"),k=n("aIes"),E=n("K4Sz"),O=n("+w1e"),A=n("4GD7");const _=(e,t)=>Object(i.flow)(C.a.filter(e=>e.type===O.b.Type.toSignIn),C.a.map(()=>n=>(e.actions.openUrl(new h.a(t.funnel.signin).addParams({utm_medium:"internal",utm_source:"upHook",utm_campaign:"editorDenalianonymousUserGenericSignInPrompt"})),n))),x=(e,t)=>Object(i.flow)(C.a.filter(O.b.isOpenIdeasGallery),C.a.tap(()=>e.actions.openPopup(new h.a(t.ideas.galleryURL))),C.a.switchMapTo(C.a.EMPTY)),I=(e,t,n)=>a=>C.a.mergeStatic(Object(o.pipe)(a,C.a.filter(O.b.isGbPromptShow),C.a.tap(e=>j(e,n)),C.a.switchMapTo(C.a.EMPTY)),Object(o.pipe)(a,C.a.filter(O.b.isGbPromptApply),C.a.tap(a=>T(e,t,a,n)),C.a.switchMapTo(C.a.EMPTY)),Object(o.pipe)(a,C.a.filter(O.b.isGbPromptCreateRule),C.a.tap(e=>M(e,n)),C.a.switchMapTo(C.a.EMPTY)),Object(o.pipe)(a,C.a.filter(O.b.isGbPromptDismiss),C.a.tap(e=>N(e,n)),C.a.switchMapTo(C.a.EMPTY))),j=({patternName:e},t)=>t.onShow(e),T=(e,t,n,a)=>y.g.isVox(n.gbPrompt)?P(e,t,n,a):B(e,t,n,a),M=(e,t)=>y.g.isVox(e.gbPrompt)?H(e,t):W(),N=(e,t)=>y.g.isVox(e.gbPrompt)?q(e,t):z(e,t),P=(e,t,n,a)=>"redirect"===n.gbPrompt.promptType?L(e,t,n,a):R(),L=(e,t,{gbPrompt:{styleGuideId:n},source:a,target:r,patternName:i},o)=>{e.actions.openPopup(new h.a(t.account.styleGuide).addParams({utm_medium:"internal",utm_source:"acHook",utm_campaign:"consistencySGprompt",action:"createRule",source:a,target:r,styleGuideId:n})),o.onAccept(i)},R=()=>{},B=(e,t,n,a)=>"redirect"===n.gbPrompt.promptType?F(e,t,n,a):D(n,a),F=(e,t,{gbPrompt:n,patternName:a},r)=>{e.actions.openPopup(new h.a(t.account.writingStyle).addParams({utm_medium:"internal",utm_source:"acHook",utm_campaign:"consistencySGprompt",categoryTitle:n.categoryTitle})),r.onAccept(a)},D=({patternName:e},t)=>t.onAccept(e),H=(e,t)=>"redirect"===e.gbPrompt.promptType?V():U(e,t),V=()=>{},U=({patternName:e},t)=>t.onAccept(e),W=()=>{},q=({patternName:e,step:t},n)=>"initial"===t&&n.onDismiss(e),z=({patternName:e,step:t},n)=>"initial"===t&&n.onDismiss(e);var $,G,K=n("UEGg"),Y=n("uqkn"),Z=n("YJiV"),X=n("W39u"),Q=n("TC4P"),J=n("BeBM"),ee=n("bFfh");!function(e){const t=(e,t,n,a)=>Object(o.pipe)(a(t=>(t.lensId===e.id||S.a.isMainLens(e.id))&&!y.a.isPremium(t),"middleOfTheViewport"),u.g.fold(()=>C.a.EMPTY,a=>Object(o.pipe)(n(e),u.g.filter(e=>e.activeAlert.id===a.alert.id),u.g.fold(()=>C.a.of(a),e=>((e,n)=>Object(o.pipe)(t,u.g.map(t=>t.alignMarkToCard(e,A.a.Animation.ANIMATE_ALL,u.g.none).pipe(C.a.switchMapTo(C.a.EMPTY))),u.g.getOrElse(()=>C.a.of(n))))(Object(i.unsafeCoerce)(e),a)))));e.changeAlertEffect=(e,n,a,r,i,s,l,c)=>({id:"changeAlertEffect",when:S.a.isWithAlertsId,what:J.e.Effect.SwitchAlert.create(n.actionEvents.pipe(C.a.switchMap(n=>{const p=e.get();if(!J.e.hasCards(p))return C.a.throwError(new d.b("Cannot update state without cards"));switch(n.type){case O.b.Type.alertMinicardButtonClick:return Object(o.pipe)(i.getRegistered(n.alertHighlight.alert.id),u.g.fold(()=>(c.error("somehow we got click on non registered alert",{alert:K.a.snapshot(n.alertHighlight.alert),alertInRepo:Object(o.pipe)(i.getById(n.alertHighlight.alert.id),u.g.map(K.a.fromModel),u.g.map(K.a.snapshot)),state:J.e.snapshot(Z.a.snapshot,r)(p)}),C.a.EMPTY),()=>C.a.of(n.alertHighlight)));case O.b.Type.cardMatchesNavigationButtonClick:const e=n.transitionTo;switch(e.kind){case"anotherAlert":return Object(o.pipe)("right"===n.direction?a.nextAlert(e.card):Object(o.pipe)(a.prevAlert(e.card),u.g.orElse(a.anyRegisteredAlert(e.card))),u.g.fold(()=>C.a.EMPTY,e=>C.a.of({alert:e,highlightIndex:0})));case"sameAlert":return Object(o.pipe)(i.getRegistered(e.card.activeAlert.id),u.g.fold(()=>C.a.EMPTY,()=>C.a.of({alert:e.card.activeAlert,highlightIndex:e.highlightIndex})));default:return Object(d.c)(e)}case O.b.Type.switchToClosestByViewport:return t(p.currentLens,s,r,l);default:return C.a.EMPTY}}),C.a.map(e=>({alertHighlight:e,alertSource:y.b.sidebar,options:{order:"lensOrder"}}))))}),e.createSendActiveAlertFeedbacksEffect=function(e,t,n,a,r){const s=e.pipe(C.a.map(J.e.getActiveAlert(t)),C.a.distinctUntilChanged(u.g.getEq(u.c.fromEquals((e,t)=>K.a.eq.equals(e,t)&&e.patternName===t.patternName)).equals),C.a.map(Object(i.flow)(u.g.map(p.e.pick("id")),u.g.chain(a.getValidForFeedback))),C.b.compactMap(t=>C.a.Observable.create(()=>(Object(o.pipe)(a.getValidForFeedback(t.id),u.g.tap(()=>Object(o.pipe)(n.applyFeedback(t.id,{kind:c.a.AlertFeedbackType.LOOKED,subtype:v.b.getSubTypeFromLens(e.get().currentLens.id)},y.b.sidebar),u.b.fold(e=>r.error("Failed to send LOOKED feedback",e),m.e)))),()=>Object(o.pipe)(a.getValidForFeedback(t.id),u.g.tap(()=>Object(o.pipe)(n.applyFeedback(t.id,{kind:c.a.AlertFeedbackType.CLOSED,subtype:v.b.getSubTypeFromLens(e.get().currentLens.id)},y.b.sidebar),u.b.fold(e=>r.error("Failed to send CLOSED feedback: ",e),m.e))))))));return{id:"sendActiveAlertFeedbacksEffect",when:i.constTrue,what:J.e.Effect.Applicator.create(s.pipe(C.a.switchMapTo(C.a.NEVER)))}}}($||($={}));class te{constructor(e,t,n,a,r,l,p,h,g,S,A,_,x,I=new b.b,j={bufferTransitions:!0,showGbPrompt:!1},T=m.e){this._ops=e,this._navigationEvents=t,this._cardFactory=n,this._alertsService=a,this._alertsReader=r,this._markOnboardingAsSeen=l,this._markMuteQuotedAdviceAsDismissed=p,this._sendToUrlExperiment=g,this._getActiveItemWithAlert=A,this._checksFeedCapabilities=_,this._lensState=x,this._platformEnvironment=I,this._settings=j,this._setDocumentCitationStyle=T,this._log=f.Monitoring.Logging.getLogger("CardsViewModelImpl",f.Logging.LogLevel.DEBUG),this._subs=new w.a.Keeper,this._flushCompleteTransition=new C.a.Subject,this._flushPositionAnimation=new C.a.Subject,this.actionEvents=new C.a.Subject,this.completePositionAnimation=new C.a.Subject,this.changePosition=new C.a.Subject,this._transitionBuffer=C.a.interval(100).pipe(C.a.startWith(0),C.a.merge(this._flushCompleteTransition)),this._positionAnimationBuffer=C.a.interval(100).pipe(C.a.startWith(0),C.a.merge(this._flushPositionAnimation)),this._startTransitionStateChanges=this.actionEvents.pipe(C.a.filter(O.a.isStartTransitionTo),C.a.map(e=>t=>G.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,e.transition]]),t))),this._completeTransitionStateChanges=this.actionEvents.pipe(C.a.filter(O.a.isCompleteTransitionTo),this._settings.bufferTransitions?C.a.buffer(this._transitionBuffer):C.a.map(e=>[e]),C.a.filter(m.n),C.a.map(e=>t=>{const n=t.currentLens,a=this._applyCompleteVSChange(n,e.map(e=>[e.id,e.transitionId]));return this._log.isEnabled(f.Logging.LogLevel.TRACE)&&this._log.trace("batch transition complete",{events:e,diff:k.a.Sorted.diff(n.items,a.items)}),J.e.Prism.getLens().set(a,t)})),this._changePositionEffect=this.changePosition.pipe(C.a.map(({id:e,height:t})=>n=>{const a=Object(o.pipe)(E.a.update(n.currentLens.items,e,e=>this._checksFeedCapabilities.changePosition(X.a.PositionState.changeHeight(e.positionState,t))(e)),u.b.fold(()=>n.currentLens.items,i.identity));return G.itemsLens.set(a,n)})),this._transitionEndStateChanges=this.completePositionAnimation.pipe(C.a.buffer(this._positionAnimationBuffer),C.a.filter(m.n),C.a.map(e=>t=>{const n=t.currentLens.items,a=e.map(e=>[e,!1]).reduce((e,[t,n])=>Object(o.pipe)(E.a.update(e,t,e=>this._checksFeedCapabilities.changePosition(X.a.PositionState.changeAnimationInProgress(e.positionState,n))(e)),u.b.fold(()=>e,i.identity)),n);return G.itemsLens.set(a,t)})),this._switchToNextChanges=this.actionEvents.pipe(C.a.filter(e=>e.type===O.b.Type.switchToNext),C.a.map(()=>e=>e.patch({currentLens:Object(o.pipe)(J.e.hasItems(e)?this._checksFeedCapabilities.findNextAlert(e.currentLens):u.g.none,u.g.fold(()=>Object(o.pipe)(J.e.getActiveAlert(this._getActiveItemWithAlert)(e),u.g.fold(()=>{throw new d.b("Can not switch from non-existing card")},t=>this._checksFeedCapabilities.release(t)(e.currentLens))),t=>J.e.hasItems(e)?this._checksFeedCapabilities.selectItemByAlert(t)(e.currentLens):e.currentLens)),switchOrder:"lensOrder",alertSource:y.b.sidebar}))),this._dismissMuteQuotedAdvice=this.actionEvents.pipe(C.a.filter(O.b.isDismissMuteQuotedAdvice),C.a.tap(this._markMuteQuotedAdviceAsDismissed),C.a.map(()=>e=>{const t=e.currentLens.items.filter(Object(i.flow)(this._checksFeedCapabilities.hasActiveAlert,u.g.map(e=>e.alert),u.g.exists(K.a.isInQuotes))).keys().map(e=>[e,!1]).reduce((e,[t])=>Object(o.pipe)(E.a.update(e,t,this._cardFactory.hideMuteQuotedAdvice),u.b.fold(()=>e,i.identity)),e.currentLens.items);return G.itemsLens.set(t,e)})),this._changeUserInput=this.actionEvents.pipe(C.a.filter(O.b.isChangeUserInput),C.a.tap(({alertId:e,userInput:t})=>{this._alertsService.changeGapValue(e,t)}),C.a.map(({cardId:e,userInput:t})=>n=>{const a=Object(o.pipe)(n.currentLens.items.update(e,this._checksFeedCapabilities.updateUserInput(Boolean(t)?u.g.some(t):u.g.none)),u.b.fold(()=>n.currentLens.items,i.identity));return G.itemsLens.set(a,n)})),this._shortenItDismissEdit=this.actionEvents.pipe(C.a.filter(O.e.isDismissEdit),C.a.map(({alertId:e,group:t,itemId:n})=>a=>Object(o.pipe)(this._alertsService.dismissShortenItTransformGroup(e,t),u.b.map(e=>({newAlert:e,itemId:n})),u.b.chainW(({newAlert:e,itemId:t})=>E.a.update(a.currentLens.items,t,this._checksFeedCapabilities.updateWithAlerts([e]))),u.b.fold(e=>(this._log.error("Error updating card/alert with dismissed transform groups.",e),a),e=>G.itemsLens.set(e,a))))),this._focusChecksFeedItem=this.actionEvents.pipe(C.a.filter(O.b.isMiniItemClick),C.a.map(e=>t=>t.patch({currentLens:Object(o.pipe)(t.currentLens.items.find(t=>t.id===e.id),u.g.fold(()=>(this._log.error("Can not switch from non-existing item"),t.currentLens),()=>Object(i.unsafeCoerce)(Object(o.pipe)(t.currentLens,this._checksFeedCapabilities.selectItemById(e.id))))),switchOrder:"lensOrder",alertSource:y.b.sidebar}))),this._collapseChecklistItem=this.actionEvents.pipe(C.a.filter(O.b.isChecklistItemCollapseButtonClick),C.a.map(()=>e=>e.patch({currentLens:J.e.hasItems(e)?this._checksFeedCapabilities.unselectItem()(e.currentLens):e.currentLens,switchOrder:"lensOrder",alertSource:y.b.sidebar}))),this._toneAIChangeToneAlternative=this.actionEvents.pipe(C.a.filter(O.b.isToneAIChangeToneAlternativeAction),C.a.map(({itemId:e,alertId:t,selectedToneAlternativeIdx:n})=>Object(o.pipe)(this._alertsService.changeToneAIToneAlternative(t,n),u.b.map(t=>({newAlert:t,itemId:e})))),C.a.map(e=>this._updateToneAICard(e))),this._synfonyDrilldown=this.actionEvents.pipe(C.a.filter(O.f.isDrilldown),C.a.map(({cardId:e,wordIndex:t})=>n=>Object(o.pipe)(E.a.update(n.currentLens.items,e,e=>{const n=e;return Y.a.changeSynfonySelection(Object(o.pipe)(n.synfonySelection,u.g.getOrElse(()=>[]),e=>u.g.some(e.concat([t]))))(n)}),u.b.fold(()=>n,e=>J.e.Prism.getLens().compose(ee.a.Prism.items).set(e,n))))),this._synfonyBack=this.actionEvents.pipe(C.a.filter(O.f.isBack),C.a.map(({cardId:e})=>t=>Object(o.pipe)(E.a.update(t.currentLens.items,e,e=>{const t=e;return Y.a.changeSynfonySelection(Object(o.pipe)(t.synfonySelection,u.g.map(e=>e.slice(0,-1))))(t)}),u.b.fold(()=>t,e=>J.e.Prism.getLens().compose(ee.a.Prism.items).set(e,t))))),this._sendToUrl=Object(o.pipe)(this._sendToUrlExperiment,u.g.map(e=>Object.entries(e).filter(([e])=>"handleGbPrompt"!==e||this._settings.showGbPrompt).map(([e,t])=>[t(this.actionEvents),e]))),this._sendFeedback=(e,t)=>Object(o.pipe)(e,u.g.fromPredicate(this._alertsReader.isValidForFeedback),u.g.tap(()=>Object(o.pipe)(this._alertsService.applyFeedback(e,Object.assign(Object.assign({},t),{subtype:v.b.getSubTypeFromLens(this._lensState.get().currentLens.id)}),y.b.sidebar),u.b.fold(e=>this._log.error("error calling alert service to send a feedback",e),m.e)))),this._showSurveyForm=new s.a,this._showSurveyFormEffect=Object(o.pipe)(this._showSurveyForm,C.a.map(e=>t=>G.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,"survey"===e.formType?Object.assign({type:"feedback_form",formType:"survey",clockwise:!0,survey:e.survey},e.submitActionType===O.b.Type.alertApplyFormSubmit?{submitActionType:O.b.Type.alertApplyFormSubmit,alertApplyActionProps:e.alertApplyActionProps}:{submitActionType:O.b.Type.alertIgnoreFormSubmit}):{type:"feedback_form",formType:"gbPrompt",clockwise:!0,gbPrompt:e.gbPrompt,alertApplyActionProps:e.alertApplyActionProps}]]),t))),this._showMutedAlertSuccessEffect=this.actionEvents.pipe(C.a.filter(O.b.isMuteCategoryAction),C.a.map(e=>t=>G.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,{type:"muted",clockwise:!0}]]),t))),this._undoMutedAlertEffect=this.actionEvents.pipe(C.a.filter(O.b.isUndoMuteCategoryAction),C.a.map(e=>t=>G.itemsLens.set(this._applyStartVSChange(t.currentLens.items,[[e.id,{type:"focused",clockwise:!0}]]),t))),this._handleAlertIgnore=Object(i.flow)(ne(({alertId:e,drilldownSuggestionIds:t})=>()=>this._sendFeedback(e,{kind:c.a.AlertFeedbackType.IGNORE,drilldownSuggestionIds:t}),e=>()=>this._showSurveyForm.next(e),this._settings.showGbPrompt),e=>this.actionEvents.pipe(C.a.filter(O.b.isAlertIgnoreAction)).subscribe(t=>e(t)())),this._handleApplyAlerts=Object(i.flow)(ne(e=>()=>this._applyAlert(e),e=>()=>this._showSurveyForm.next(e),this._settings.showGbPrompt),e=>this.actionEvents.pipe(C.a.filter(O.b.isAlertApplyAction)).subscribe(t=>e(t)())),this.hovered=this.actionEvents.pipe(C.a.filter(O.b.isHoverAction),C.a.tap(()=>this._ops.flush()),C.a.scan((e,t)=>"hover"===t.kind?u.g.some(t.id):Object(o.pipe)(e,u.g.filter(e=>e!==t.id)),u.g.none),C.a.share()),this.flushTransitionTo=()=>this._flushCompleteTransition.next(),this.flushPositionAnimation=()=>this._flushPositionAnimation.next(),this._subs.push(this._handleAlertFeedbacks(),this._applyTakeawayFeedbacks(),this._sendTakeawayFeedbacks(),this._handleIgnoreFormSubmit(),this._handleApplyFormSubmit(),this._handleGbPromptDismiss(),this._handleGbPromptApply(),this._handleAlertIgnore(S),this._handleAlertResolve(),this._handleApplyAlerts(S),this._dismissAlertsBatch(),this._newFeatureSeen(),this._handleDrilldown(),this._handleSnippetsOpenExternalLink(),this._handleEssayDetectionSetAcademicDomainAndCitationStyle()),Object(o.pipe)(h,u.g.tap(({model:e,openSuggestionsManagement:t})=>this._subs.push(this._handleCommitMuteCategories(e),this._handleSuggestionsManagementClick(t))))}_applyStartVSChange(e,t){return t.reduce((e,[t,n])=>Object(o.pipe)(E.a.update(e,t,e=>this._checksFeedCapabilities.transitionTo(n)(e)),u.b.fold(()=>e,i.identity)),e)}_applyCompleteVSChange(e,t){return t.reduce((e,[t,n])=>Object(o.pipe)(e.items.get(t),u.g.map(({value:e})=>e),u.g.fold(()=>e,a=>Q.a.isAnimatable(a)&&"removed"===a.visualState.transition.type?this._checksFeedCapabilities.removeItemById(t)(e):Object(o.pipe)(E.a.update(e.items,t,e=>Q.a.isAnimatable(e)&&e.visualState.transitionId===n?this._checksFeedCapabilities.completeTransition(n)(e):e),u.b.fold(()=>e,t=>ee.a.Prism.items.set(t,e))))),e)}_handleSnippetsOpenExternalLink(){return this.actionEvents.pipe(C.a.filter(O.b.isSnippetsOpenExternalLink)).subscribe(({externalLink:e})=>this._platformEnvironment.actions.openPopup(new h.a(e)))}_updateToneAICard(e){return t=>Object(o.pipe)(e,u.b.chainW(({newAlert:e,itemId:n})=>E.a.update(t.currentLens.items,n,this._checksFeedCapabilities.updateWithAlerts([e]))),u.b.fold(e=>(this._log.error("Error updating card with ToneAI alert.",e),t),e=>J.e.Prism.getLens().compose(ee.a.Prism.items).set(e,t)))}_handleAlertFeedbacks(){return this.actionEvents.pipe(C.a.filter(O.b.isAlertFeedbackAction)).subscribe(({alertId:e,feedbackType:t})=>this._sendFeedback(e,{kind:t}))}_applyTakeawayFeedbacks(){return this.actionEvents.pipe(C.a.filter(O.b.isTakeawayDetectionFeedbackAction)).subscribe(({alertId:e,type:t})=>this._alertsService.changeTakeawayFeedback(e,t===O.b.Type.takeawayCorrectlyDetected?y.n.correctlyDetected:t===O.b.Type.takeawayIncorrectlyDetected?y.n.incorrectlyDetected:Object(d.c)(t)))}_sendTakeawayFeedbacks(){return this.actionEvents.pipe(C.a.filter(O.b.isTakeawayAction)).subscribe(e=>{switch(e.type){case O.b.Type.takeawayCorrectlyDetected:return e.isLikelyToBeRead?this._sendFeedback(e.alertId,{kind:c.a.AlertFeedbackType.ACKNOWLEDGED,text:e.takeawayText}):this._sendFeedback(e.alertId,{kind:c.a.AlertFeedbackType.ACCEPTED,replacementText:e.takeawayText});case O.b.Type.takeawayIncorrectlyDetected:return this._sendFeedback(e.alertId,{kind:c.a.AlertFeedbackType.IGNORE});case O.b.Type.takeawayDismiss:return this._sendFeedback(e.alertId,{kind:c.a.AlertFeedbackType.IGNORE,pnameQualifier:e.isLikelyToBeRead?c.a.PNameQualifier.likelyToBeReadTakeaway:c.a.PNameQualifier.unlikelyToBeReadTakeaway});case O.b.Type.takeawayResolve:return this._sendFeedback(e.alertId,{kind:c.a.AlertFeedbackType.ACKNOWLEDGED,pnameQualifier:e.isLikelyToBeRead?c.a.PNameQualifier.likelyToBeReadTakeaway:c.a.PNameQualifier.unlikelyToBeReadTakeaway});default:Object(d.c)(e)}})}_handleEssayDetectionSetAcademicDomainAndCitationStyle(){return this.actionEvents.pipe(C.a.filter(O.c.isSetAcademicDomainAndCitationStyleAction)).subscribe(({citationStyle:e})=>{this._setDocumentCitationStyle(e)})}_handleAlertResolve(){return this.actionEvents.pipe(C.a.filter(O.b.isAlertResolveAction)).subscribe(({alertId:e})=>this._sendFeedback(e,{kind:c.a.AlertFeedbackType.ACKNOWLEDGED}))}_handleIgnoreFormSubmit(){return this.actionEvents.pipe(C.a.filter(O.b.isAlertIgnoreFeedbackFormSubmit)).subscribe(({alertId:e,reason:t})=>{this._sendFeedback(e,{kind:c.a.AlertFeedbackType.IGNORE,reason:t})})}_handleApplyFormSubmit(){return this.actionEvents.pipe(C.a.filter(O.b.isAlertApplyFeedbackFormSubmit)).subscribe(e=>{this._applyAlert(Object.assign(Object.assign({},e.alertApplyActionProps),{reason:e.reason})),e.alertApplyActionProps.actionsToDispatchAfterSurvey&&e.alertApplyActionProps.actionsToDispatchAfterSurvey.forEach(e=>this.actionEvents.next(e))})}_handleGbPromptDismiss(){return this.actionEvents.pipe(C.a.filter(O.b.isGbPromptDismiss)).subscribe(e=>this._applyAlert(Object.assign(Object.assign({},e.alertApplyActionProps),{gbPrompt:{feedback:c.a.GbPromptFeedbackType.DISMISSED,source:e.source,target:e.target,description:e.description}})))}_handleGbPromptApply(){return this.actionEvents.pipe(C.a.filter(O.b.isGbPromptApply)).subscribe(e=>this._applyAlert(Object.assign(Object.assign({},e.alertApplyActionProps),{gbPrompt:{feedback:c.a.GbPromptFeedbackType.ACCEPTED,source:e.source,target:e.target,description:e.description}})))}_handleCommitMuteCategories(e){return this.actionEvents.pipe(C.a.filter(O.b.isMutedAlertCardDismissedAction)).subscribe(t=>Object(o.pipe)(e.muteCategories([t.categoryId]),u.b.fold(e=>this._log.error("error calling categories model to commit muted category",e),m.e)))}_handleSuggestionsManagementClick(e){return this.actionEvents.pipe(C.a.filter(O.b.isMutedAlertSuggestionsManagementClick)).subscribe(e)}_applyAlert(e){return Object(o.pipe)(this._alertsService.apply(e.alertId,{alternativeIndex:e.alternativeIndex,source:y.b.sidebar,feedbackSubtype:v.b.getSubTypeFromLens(this._lensState.get().currentLens.id),drilldownSuggestionIds:e.drilldownSuggestionIds,reason:e.reason,gbPrompt:e.gbPrompt}),u.b.fold(e=>this._log.error("error calling alert service to apply an alert",e),m.e))}_handleDrilldown(){return this.actionEvents.pipe(C.a.filter(O.f.isDrilldown)).subscribe(e=>this._sendFeedback(e.alertId,{kind:c.a.DrilldownFeedbackType.DRILLDOWN,drilldownSuggestionIds:e.drilldownSuggestionIds,alternativeIndex:e.alternativeId}))}_dismissAlertsBatch(){return this.actionEvents.pipe(C.a.filter(O.d.isDismissAlertsBatchAction)).subscribe(e=>Object(o.pipe)(this._alertsService.dismissBatch(e.alerts,v.b.getSubTypeFromLens(this._lensState.get().currentLens.id)),u.b.fold(e=>this._log.error("error calling alert service to dismiss alerts batch",e),m.e)))}_newFeatureSeen(){return this.actionEvents.pipe(C.a.filter(O.b.isOnboardingClose)).subscribe(e=>Object(o.pipe)(this._markOnboardingAsSeen(e.value)))}getApplicatorEffects(){return Object(o.pipe)([[this._startTransitionStateChanges,"startTransitionStateChanges"],[this._completeTransitionStateChanges,"completeTransitionStateChanges"],[this._changePositionEffect,"changePositionEffect"],[this._transitionEndStateChanges,"transitionEndStateChanges"],[this._switchToNextChanges,"switchToNextChanges"],[this._dismissMuteQuotedAdvice,"dismissMuteQuotedAdvice"],[this._changeUserInput,"changeUserInput"],[this._toneAIChangeToneAlternative,"toneAIChangeToneAlternative"],[this._synfonyDrilldown,"synfonyDrilldown"],[this._synfonyBack,"synfonyBack"],[this._focusChecksFeedItem,"focusChecksFeedItem"],[this._collapseChecklistItem,"collapseChecklistItem"],[this._shortenItDismissEdit,"shortenItDismissEdit"],[this.actionEvents.pipe(C.a.filter(O.b.isNavigation),C.a.tap(this._navigationEvents),C.a.switchMapTo(C.a.EMPTY)),"navigationEvents"],...Object(o.pipe)(this._sendToUrl,u.g.getOrElse(Object(i.constant)([]))),[this._showSurveyFormEffect,"showIgnoreFormEffect"],[this._showMutedAlertSuccessEffect,"showMutedAlertSuccessEffect"],[this._undoMutedAlertEffect,"undoMutedAlertEffect"]],u.a.map(([e,t])=>({id:"cardsViewModel.effects."+t,when:S.a.isWithAlertsId,what:J.e.Effect.Applicator.create(e)})))}dispose(){this._subs.dispose()}}!function(e){e.itemsLens=J.e.Prism.getLens().compose(ee.a.Prism.items);e.Mock=class{constructor(){this.animate=l.a.create(!0),this.clockwise=l.a.create(!0),this.toggleAnimations=()=>this.animate.modify(e=>!e),this.completePositionAnimation=new C.a.Subject,this.actionEvents=new C.a.Subject,this.flushTransitionTo=m.e,this.sideEffect={id:"cardsViewModelMock",when:S.a.isWithAlertsId,what:J.e.Effect.Applicator.create(C.a.EMPTY)},this.changePosition=new C.a.Subject,this.dispose=m.e}},e.Experiments=a}(G||(G={}));const ne=(e,t,n)=>a=>i=>Object(o.pipe)(ae(i,n),r.of,g.a.chain(e=>Object(o.pipe)(a,r.map(t=>t?u.g.none:u.g.some(e)))),g.a.fold(()=>e(i),e=>t(e))),ae=(e,t)=>O.b.isAlertApplyAction(e)?re(e,t):ie(e),re=(e,t)=>Object(o.pipe)(e.eligibleForGbPrompt,u.g.filter(Object(i.constant)(t)),u.g.map(t=>({id:e.id,formType:"gbPrompt",alertApplyActionProps:e,gbPrompt:t})),u.g.orElse(Object(o.pipe)(e.eligibleForSurvey,u.g.map(t=>({id:e.id,formType:"survey",submitActionType:O.b.Type.alertApplyFormSubmit,alertApplyActionProps:e,survey:t}))))),ie=e=>Object(o.pipe)(e.eligibleForSurvey,u.g.map(t=>({id:e.id,formType:"survey",submitActionType:O.b.Type.alertIgnoreFormSubmit,survey:t})))},EiZq:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("ERkP"),r=n("vOOZ"),i=n("9NHN"),o=n("hoSD"),s=n("1w6p"),l=n("e12y"),c=n("ps/9"),u=n("zR/0"),d=n("gy42"),p=n("xEVj");var m;!function(e){let t,n;!function(e){e.front="front",e.back="back"}(t=e.Layer||(e.Layer={})),function(e){e.completePositionAnimation="completePositionAnimation",e.changePosition="changePosition"}(n=e.ActionKind||(e.ActionKind={})),e.Cell=s.b.Grid.make(({slots:e,state:s,notify:l})=>{const c=new u.a.ReplaySubject,m=s.pipe(u.a.withLatestFrom(c),u.a.switchMap(([e,t])=>e.position.animationInProgress?u.a.mergeStatic(u.a.fromEvent(t,"transitionend").pipe(u.a.filter(e=>e.target===t&&"transform"===e.propertyName),u.a.mapTo(void 0)),u.a.of(void 0).pipe(u.a.delay(200))).pipe(u.a.first()):u.a.EMPTY),u.a.tap(l({kind:n.completePositionAnimation}))),h=s.pipe(u.a.withLatestFrom(c),u.a.switchMap(([e,t])=>e.height.watched?d.a.getResizeObservable(t).pipe(u.a.filter(t=>e.height.value!==t.height||!e.height.isValid||t.height>0)):u.a.EMPTY),u.a.distinctUntilChanged(),u.a.tap(({height:e})=>l({kind:n.changePosition,height:e})()));p.a.useSubscriptionTo(u.a.mergeStatic(m,h));const g=s.pipe(u.a.map(e=>e.position.top),u.a.map(e=>o.c.CSS.translateY(e)),u.a.distinctUntilChanged()),b=s.pipe(u.a.map(e=>e.layer===t.front?1:0),u.a.distinctUntilChanged()),y=s.pipe(u.a.map(({position:e})=>e),u.a.distinctUntilChanged((e,t)=>e.top===t.top),u.a.map(({animationInProgress:e})=>e?f.animate:void 0),u.a.startWith(void 0));return a.createElement(r.a.div,Object.assign({},Object(i.c)(f.item,y),{style:{transform:g,zIndex:b},mount:e=>{null!==e&&c.next(e)}}),e.item)})}(m||(m={}));const h={position:"absolute",boxSizing:"border-box",width:l.a.percent(100),contain:"layout"},g={transition:`transform ${l.a.seconds(c.d/1e3)} linear`},f=l.a.stylesheet({item:[h],animate:[g]})},EjiM:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return S})),n.d(t,"f",(function(){return C})),n.d(t,"h",(function(){return w})),n.d(t,"c",(function(){return k})),n.d(t,"e",(function(){return E})),n.d(t,"g",(function(){return O}));var a=n("93Qa"),r=n("8Js9"),i=n("OA+g"),o=n("I7vG"),s=n("lrqh"),l=n("hoSD"),c=n("aIes"),u=n("zR/0"),d=n("gy42"),p=n("W39u"),m=n("BeBM"),h=n("bFfh"),g=n("NW9S");const f=e=>t=>t.isCardsHeightValid&&Object(o.pipe)(m.k.getActiveItem(t),s.g.forAll(t=>!e.isScheduledToDispose(t))),b=e=>t=>t.isCardsHeightValid&&Object(o.pipe)(m.k.getActiveItem(t),s.g.forAll(t=>!e.isScheduledToDispose(t)));function y({cardTop:e,cardHeight:t,viewportHeight:n,padding:a}){const r=g.a.FromViewportTop.ISO.unwrap(e),i=r+t;return t>n?r:r<0?t+a.before<n?r-a.before:r:i>n?t+a.after<n?i-n+a.after:i-n:r<a.before?t+a.after+a.before<n?r-a.before:t+a.after<n?r-a.after:a.before:n-i<a.after&&t+a.after<n?a.after-(n-i):0}const v=(e,t,n,a)=>({from:Math.max(0,c.a.Sorted.lowerBound(e,e=>e.positionState.absTop+e.positionState.height<n)-a),to:Math.min(e.size,c.a.Sorted.lowerBound(e,e=>e.positionState.absTop<n+t.height)+a)}),S=e=>t=>t.pipe(C(e),u.a.map(s.g.map(e=>e.currentLens)),u.a.pairwise(),u.a.filter(([e,t])=>Object(o.pipe)(Object(i.tuple)(e,t),Object(i.tupled)(s.g.map2((e,t)=>e.id===t.id&&Object(o.pipe)(Object(i.tuple)(m.k.getActiveItem(e),e.cardIndex,m.k.getActiveItem(t),t.cardIndex),Object(i.tupled)(a.sequenceT(s.g.option)),s.g.map(([e,t,n,a])=>e.id===n.id&&t!==a)))),s.g.getOrElse(()=>!1))),u.a.map(Object(i.flow)(r.a(s.g.chain(m.k.getActiveItem),s.g.chain(m.k.getActiveItem)),Object(i.tupled)(s.g.map2((e,t)=>t.positionState.absTop-e.positionState.absTop)),s.g.getOrElse(()=>0)))),C=e=>t=>t.pipe(u.a.map(s.g.filter(({currentLens:t})=>b(e)(t)))),w=e=>(t,n,a,r,i)=>{const c=(e=>s.g.getEq(s.c.fromEquals((t,n)=>{const a=m.k.getActiveItem(t),r=m.k.getActiveItem(n);return s.g.getEq(e.visualStateEq).equals(a,r)&&t.items.size===n.items.size&&l.a.compareInPairs(t.items.keys(),n.items.keys(),(e,t)=>e===t)})))(e);return t.pipe(u.a.map(s.g.map(e=>e.currentLens.id)),u.a.distinctUntilChanged(s.c.eqStrict.equals),u.a.map(s.g.isSome),u.a.switchMap(d.b.orEmpty(u.a.combineLatestStatic(n,a,r,C(e)(t).pipe(u.a.map(s.g.map(e=>e.currentLens)),u.a.distinctUntilChanged(c.equals),u.a.switchMap(i))))),u.a.filter(([t,n,a,r])=>Object(o.pipe)(r,s.g.exists(b(e)))),u.a.map(([e,t,n])=>({viewport:e,scrollTop:t,paddingTop:n})))},k=e=>({viewport:t,scrollTop:n,paddingTop:a})=>r=>{const i=r.currentLens,o=v(i.items,t,n-a,0);let s=!1;const l=i.items.map((t,n,a)=>{const r=(i=e,l=!(e=>o.from<=e)(a),e=>e.positionState.inert!==l?i.changePosition(p.a.PositionState.changeInert(e.positionState,l))(e):e)(t);var i,l;return r!==t?(s=!0,r):t});return s?m.e.Prism.getLens().compose(h.a.Prism.items).set(l,r):r},E=(e,{viewport:t,scrollTop:n,paddingTop:a})=>r=>{if(n>0)return u.a.EMPTY;const i=v(r.currentLens.items,t,g.b.FromWindowTop.ISO.unwrap(t.top)+n-a,0);return Object(o.pipe)(r.currentLens.items.getAt(i.from-1),s.g.map(n=>e.setCardPosition(n.id,!0,!1,t.top)),s.g.getOrElse(()=>u.a.EMPTY))},O=({cardsBeyondViewport:e,cardsAroundActive:t,changePosition:n})=>({viewport:a,scrollTop:r,paddingTop:l,completeTransition:c})=>u=>{const d=u.currentLens,g=((e,t,n,a)=>e.size<2||Math.floor(t.height/Math.min(s.g.unsafeGet(e.getAt(0)).positionState.height,s.g.unsafeGet(e.getAt(1)).positionState.height))>=e.size?{from:0,to:e.size}:v(e,t,n,a))(d.items,a,r-l,e);let f=!1;const b=d.items.map((e,a,r)=>{const l=Object(i.flow)((u=n,m=e.positionState.watched||(e=>g.from<=e&&g.to>e||Object(o.pipe)(d.cardIndex,s.g.exists(n=>e>=n-t&&e<=n+t)))(r),e=>e.positionState.visible!==m?u.changePosition(p.a.PositionState.changeVisible(e.positionState,m))(e):e),(e=>t=>!t.positionState.visible&&t.positionState.animationInProgress?e.changePosition(p.a.PositionState.changeAnimationInProgress(t.positionState,!1))(t):t)(n),c)(e);var u,m;return l!==e?(f=!0,l):e});return f?m.e.Prism.getLens().compose(h.a.Prism.items).set(b,u):u}},F0GY:function(e,t){var n="undefined"!=typeof Element,a="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,t){try{return function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var s,l,c,u;if(Array.isArray(t)){if((s=t.length)!=o.length)return!1;for(l=s;0!=l--;)if(!e(t[l],o[l]))return!1;return!0}if(a&&t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(u=t.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;for(u=t.entries();!(l=u.next()).done;)if(!e(l.value[1],o.get(l.value[0])))return!1;return!0}if(r&&t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(u=t.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(o)){if((s=t.length)!=o.length)return!1;for(l=s;0!=l--;)if(t[l]!==o[l])return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf&&"function"==typeof t.valueOf&&"function"==typeof o.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString&&"function"==typeof t.toString&&"function"==typeof o.toString)return t.toString()===o.toString();if((s=(c=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(n&&t instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!t.$$typeof)&&!e(t[c[l]],o[c[l]]))return!1;return!0}return t!=t&&o!=o}(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},F8cT:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("ERkP"),r=n("3rlE"),i=n("e12y");const o={position:"absolute",top:i.a.percent(40),width:i.a.percent(100)},s={position:"absolute",top:i.a.px(-9999),left:i.a.px(-9999),visibility:"hidden"},l=i.a.stylesheet({spinner:[o],wrapper:[{display:"flex",height:"100vh"}],preload:[s]});class c extends a.Component{render(){return a.createElement(u,null,a.createElement(r.b,null))}}const u=({children:e})=>a.createElement("div",{className:l.preload},e)},FPs0:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("vOOZ"),o=n("9NHN"),s=n("e12y");!function(e){e.Top=e=>r.createElement(t,Object.assign({},e,{where:"top"})),e.Bottom=e=>r.createElement(t,Object.assign({},e,{where:"bottom"}));const t=e=>r.createElement(i.a.div,Object.assign({onTransitionEnd:e.onTransitionEnd},Object(o.c)(e.className,"top"===e.where?l.fixedTop:l.fixedBottom),{"aria-label":e["aria-label"],role:e.role}),e.children)}(a||(a={}));const l=s.a.stylesheet({fixedTop:[{position:"fixed",top:0,height:0}],fixedBottom:[{position:"fixed",bottom:0}]})},FuGm:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return a}));var a,r=n("I7vG"),i=n("LNSM"),o=n("94k3"),s=n("lrqh"),l=n("GUi3"),c=n("zR/0"),u=n("gy42"),d=n("BeBM"),p=n("bFfh");class m{constructor(e,t,n,m,h,g,f,b=p.a.WithSuccess.State.isInSuccess(m),y){this._state=e,this._documentModel=t,this._trackSuccessStateChanged=n,this._capabilities=m,this.nonPriorityOptions=h,this.mutedAlertsOptions=g,this.hasNonPriorityAlerts=f,this.isInSuccess=b,this._withBirthday=y,this._getTextAmount=e=>0===e?a.TextAmount.zero:e<=o.a.BIG_TEXT_SIZE?a.TextAmount.small:a.TextAmount.large,this._subs=[],this.textAmount=i.a.create(this._getTextAmount(this._documentModel.documentLength.get().trimmed)),this.actionEvents=new c.a.Subject,this.applicatorEffects={id:"successViewModel.effects",when:l.a.isWithAlertsId,what:d.e.Effect.Applicator.create(this.actionEvents.pipe(c.a.filter(({type:e})=>e===a.ActionType.More),c.a.map(()=>e=>{const t=e.patch({currentLens:d.e.hasItems(e)&&Object(d.l)(e.currentLens)?this._capabilities.toggleNonPriorityList("expanded")(e.currentLens):e.currentLens});return Object(r.pipe)(d.e.hasItems(t)?this._capabilities.findFirstAlert(t.currentLens):s.g.none,s.g.fold(()=>t,e=>t.patch({currentLens:d.e.hasItems(t)?this._capabilities.selectItemByAlert(e)(t.currentLens):t.currentLens})))})))},this._currentLens=this._state.view(e=>({isSuccess:this.isInSuccess(e),type:e.currentLens.type,nonPriorityAlertsLeft:d.e.isLensview(e)&&d.e.hasItems(e)&&0!==this._capabilities.getActiveAlertsCount(e.currentLens),isAllAlerts:l.a.isMainLens(e.currentLens.id)})),this._listenTextSize=()=>this._currentLens.view(e=>e.isSuccess).pipe(c.a.switchMap(u.b.orEmpty(this._documentModel.documentLength.view("trimmed"))),c.a.map(this._getTextAmount)).subscribe(u.b.toAtom(this.textAmount)),this._lensSwitch=this._currentLens.pipe(c.a.startWith(this._currentLens.get()),c.a.pairwise(),c.a.map(([e,t])=>t.isSuccess?s.g.some({prevLensType:e.type,nonPriorityAlertsLeft:t.nonPriorityAlertsLeft,isAllAlerts:t.isAllAlerts}):s.g.none)),this._textAmountToSuccessType=e=>e===a.TextAmount.zero?{type:a.SuccessType.zero,showBirthday:this._withBirthday.get()}:e===a.TextAmount.large?{type:a.SuccessType.large}:{type:a.SuccessType.small},this.successState=i.a.create({type:a.SuccessType.zero,showBirthday:this._withBirthday.get()}),this._subs.push(this._listenTextSize(),this._listenSuccessStateChange()),this.priorityList=Object(r.pipe)(h,s.g.map(e=>({hasNonPriorityAlerts:this._state.view(f),reviewNonPriorityAlerts:()=>{e.trackNonPriorityToggle(),this.actionEvents.next({type:a.ActionType.More})}}))),this.mutedAlerts=Object(r.pipe)(g,s.g.map(()=>({reviewMutedSuggestions:()=>{},mutedSuggestionsCount:this._state.view(e=>e.currentLens.meta.mutedCount)})))}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_listenSuccessStateChange(){const e=e=>e.type===a.SuccessType.applied||e.type===a.SuccessType.zero?c.a.of(e):this._documentModel.checkingState.pipe(c.a.filter(e=>"checking"!==e),c.a.first(),c.a.mapTo(e));return this._lensSwitch.pipe(c.b.compactMap(t=>this.textAmount.pipe(c.a.map(this._textAmountToSuccessType),c.a.startWith(t.prevLensType===d.i.lensview?{type:a.SuccessType.applied,nonPriorityAlertsLeft:t.nonPriorityAlertsLeft,isAllAlerts:t.isAllAlerts}:this._textAmountToSuccessType(this.textAmount.get())),c.a.pairwise(),c.a.map(([e,t])=>e.type===a.SuccessType.applied&&t.type!==a.SuccessType.zero?e:t),c.a.switchMap((t,n)=>0===n?c.a.of(t):e(t)),c.a.tap(e=>{this._trackSuccessStateChanged(e.type===a.SuccessType.applied?"applied":e.type===a.SuccessType.zero?"nothingToCheck":"noIssues")})))).subscribe(u.b.toAtom(this.successState))}}!function(e){let t,n,a;!function(e){e.More="More"}(t=e.ActionType||(e.ActionType={})),function(e){e.zero="zero",e.small="small",e.large="large"}(n=e.TextAmount||(e.TextAmount={})),function(e){e.zero="zero",e.small="small",e.large="large",e.applied="applied",e.premiumOnboardingStart="premiumOnboardingStart",e.premiumOnboardingComplete="premiumOnboardingComplete"}(a=e.SuccessType||(e.SuccessType={}));e.Mock=class{constructor(){this.textAmount=i.a.create(n.zero),this.successState=i.a.create({type:a.zero,showBirthday:!1}),this.mutedSuggestionsCount=i.a.create(0),this.hasNonPriorityAlerts=i.a.create(!1)}reviewMutedSuggestions(){throw new Error("Method not implemented.")}reviewNonPriorityAlerts(){throw new Error("Method not implemented.")}dispose(){throw new Error("Method not implemented.")}}}(a||(a={}))},FzYa:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n("mvgW");function r(e,t){return function(n){var a=e.traverse(n);return function(e,r){return n.map(a(e,r),t.separate)}}}function i(e,t){return function(n){var a=e.traverse(n);return function(e,r){return n.map(a(e,r),t.compact)}}}function o(e){return function(t){var n=e.wither(t);return function(e){return function(r){return n(r,(function(n){return t.map(e(n),(function(e){return e?a.n(n):a.k}))}))}}}}},GGaB:function(e,t,n){"use strict";n.r(t);var a=n("e12y"),r=n("//AU"),i=n.n(r),o=n("qAV9"),s=n.n(o),l=n("LRn5"),c=n.n(l);a.a.fontFace({fontFamily:"Grammarly Product BETA",fontStyle:"normal",fontWeight:700,src:`url('${i.a}') format('woff2')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Grammarly Product BETA",fontStyle:"normal",fontWeight:400,src:`url('${c.a}') format('woff2')`,fontDisplay:"swap"}),a.a.fontFace({fontFamily:"Grammarly Product BETA",fontStyle:"normal",fontWeight:500,src:`url('${s.a}') format('woff2')`,fontDisplay:"swap"})},GXGe:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));n("h6df");var a=function(e){return{equals:function(t,n){return t===n||e(t,n)}}},r={equals:function(e,t){return e===t}};r.equals},GqpD:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return v}));var a,r,i,o=n("I7vG"),s=n("LNSM"),l=n("bYZB"),c=n("zR/0"),u=n("LNdG"),d=n("D9EC"),p=n("lrqh"),m=n("6fbX"),h=n("PrA7"),g=n("mEc7"),f=n("nQSW"),b=n("Pe9T"),y=n("zGI0");function v(e,t,n,a,r,i,o,s,l,u,d){const p=new c.a.Subject;return{viewModel:new S(e,p,t,n,a,r,i,o,s,l,u,d),events:p}}!function(e){e.Collapsed="Collapsed",e.Expanded="Expanded"}(a||(a={})),function(e){e.close="close",e.myGrammarly="myGrammarly",e.documentHeader="documentHeader",e.newDocument="newDocument",e.uploadFile="uploadFile",e.download="download",e.print="print",e.editHeader="editHeader",e.editorSettings="editorSettings",e.accountHeader="accountHeader",e.userName="userName",e.email="email",e.upgradeToPremium="upgradeToPremium",e.language="language",e.subscription="subscription",e.logout="logout",e.support="support",e.whatsNew="whatsNew",e.feedback="feedback",e.privacyPolicy="privacyPolicy",e.termsOfService="termsOfService",e.reportABug="reportABug"}(r||(r={})),function(e){e.uploadFile="uploadFile",e.accountHeaderLabel="accountHeaderLabel",e.languageSettings="languageSettings",e.whatsNewUpdates="whatsNewUpdates"}(i||(i={}));class S{constructor(e,t,n,r,i,l,m,b,v,S,C,w){this._scheme=e,this._events=t,this._textResources=n,this._userAccount=r,this._dialectSettings=i,this._uploadViewModel=l,this._environment=m,this._notificationsManager=b,this._telemetry=v,this._documentModel=S,this._appRouter=C,this._isEditorFocused=w,this.visualState=s.a.create({type:a.Collapsed}),this.items=[],this.getHotkeyString=u.a.HotkeyOptions.toString(this._environment.has(f.b.Flag.isAppleSystem)),this.getBindings=Object(o.pipe)(this._scheme,y.a.Scheme.toBindingProvider(e=>this._events.next(e),()=>this._isEditorFocused.pipe(c.a.combineLatest(this.visualState.pipe(c.a.map(e=>e.type===a.Expanded)),d.o)))),this.onMenuHovered=()=>{this._documentModel.flush().catch(e=>h.Monitoring.Logging.getLogger("documentSettings").error("Could not flush document from toolbar",e))},this.onGoBackToGrammarlyHome=()=>{this._telemetry.gnarSpec.backToMyGrammarlyButtonClick(this._telemetry.pageId,"inline"),this._appRouter.navigate(g.a.routes.documents.href())},this.onOpenToolbar=()=>{this.visualState.set({type:a.Expanded,scrollTo:p.g.none})},this._changeDialect=e=>c.a.from(this._dialectSettings.setDialect(e)).pipe(c.a.tap(()=>{Object(o.pipe)(this._environment.actions.dialectChanged(),p.b.mapLeft(e=>{h.Monitoring.Logging.getLogger("documentSettings").error("env error during dialect change",e)})),this._telemetry.gnarSpec.docSettingsLanguageEventFire(e,this._telemetry.pageId)}),c.a.catchError(e=>(h.Monitoring.Logging.getLogger("documentSettings").error("Cannot set language preferences",e),this._notificationsManager.enqueue("error")))).toPromise(),this.itemsState=s.a.create(e.filter(y.a.isItem).reduce((e,t)=>(e[t.name]=t.initialState,e),{}));const[k,...E]=e.map(e=>this._createViewItem(e));this.head=k,this.items=E}_createViewItem(e){return y.a.isItem(e)?{name:e.name,title:this._getTitle(e.name),tooltip:this._getTooltip(e.name),nestedItem:this._getNestedItem(e),active:this.itemsState.view(e.name,"active"),disabled:this.itemsState.view(e.name,"disabled"),onClick:()=>this._events.next({event:e.name,source:y.a.Source.View})}:e}_getNestedItem(e){const t=e.name;switch(t){case r.uploadFile:if(this._userAccount.features.demoMode)return p.g.none;const n=b.d.ACCEPTED_UPLOAD_EXTENSIONS.filter(e=>".doc"!==e&&".htm"!==e&&".html"!==e).join(", ");return p.g.some(p.b.right({type:i.uploadFile,uploadViewModel:this._uploadViewModel,label:n}));case r.newDocument:case r.print:case l.d.undo:case l.d.redo:case l.d.cut:case l.d.copy:case l.d.paste:case l.d.selectAll:return Object(o.pipe)(e.hotkey,p.g.map(e=>p.b.left(this.getHotkeyString(e[0]))));case r.accountHeader:return p.g.some(p.b.right({type:i.accountHeaderLabel,denaliUserType:this._userAccount.features.denaliUserType}));case r.language:return p.g.some(p.b.right({type:i.languageSettings,dialectSettings:this._dialectSettings,changeDialect:this._changeDialect}));case r.download:return this._documentModel.rtfMode===b.d.DocumentFeatures.FormattingMode.on?p.g.some(p.b.left(this._textResources.documentSettings.downloadLabel)):p.g.none;case r.close:case r.myGrammarly:case r.documentHeader:case r.editHeader:case r.editorSettings:case r.userName:case r.email:case r.upgradeToPremium:case r.subscription:case r.logout:case r.support:case r.whatsNew:case r.feedback:case r.reportABug:case r.privacyPolicy:case r.termsOfService:return p.g.none;default:return Object(m.c)(t)}}_getTitle(e){const t=this._userAccount.profile.get();switch(e){case r.userName:return t.fullName;case r.email:return t.email;default:return this._textResources.documentSettings[e]}}_getTooltip(e){switch(e){case r.documentHeader:case r.editHeader:case r.accountHeader:case r.email:case r.userName:return p.g.none;default:const t=this._textResources.documentSettings;return p.g.some(e in t.tooltips?t.tooltips[e]:t[e])}}}},H37f:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var a=n("ERkP"),r=n("9NHN"),i=n("Kt6o"),o=n("e12y");const s=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;function l(e,t=d.emoji){return`<img alt="${e}" class="${t}" src="${function(e){return i.b+function(e){return e.length<4?e.codePointAt(0).toString(16):e.codePointAt(0).toString(16)+"-"+e.codePointAt(2).toString(16)}(e)+".svg"}(e)}" onerror="this.replaceWith(this.alt)" draggable="false" />`}const c=({children:e,emojiClassName:t,className:n})=>{const r=a.useRef(null);return a.useEffect(()=>{r.current&&(r.current.innerHTML=r.current.innerHTML.replace(s,e=>l(e,t)))},[r,t]),a.createElement("span",{ref:r,className:n},e)},u=({id:e,className:t})=>{const[n,o]=a.useState(!1),[s,l]=a.useState(""),[c,u]=a.useState("");return a.useEffect(()=>{o(!1),u(function(e){return i.b+e+".svg"}(e)),l((e=>{try{return String.fromCodePoint(...e.map(e=>parseInt(e,16)))}catch(e){return""}})(e.split("-")))},[e]),n?a.createElement("span",Object.assign({},Object(r.c)(t,d.emojiFromIDAlt)),s):a.createElement("img",{className:t,src:c,alt:s,onError:()=>o(!0),"aria-hidden":!0})},d=o.a.stylesheet({emoji:[{display:"inline",marginRight:".25em",width:"1em",verticalAlign:"sub",lineHeight:1,transform:"scale(1.25)",transformOrigin:"bottom",userSelect:"none"}],emojiFromIDAlt:[{display:"flex",alignItems:"center"}]})},H9Bv:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("ERkP"),r=n("9NHN"),i=n("6fbX"),o=n("hoSD"),s=n("ax6a"),l=n("zI3C"),c=n("3rlE"),u=n("e12y"),d=n("SD38");const p=2*Math.PI*32,m=(e,t,n)=>e<t?t:e>n?n:e,h=e=>{switch(e){case g.IconSize.pdf:return 110;case g.IconSize.normal:return 52;case g.IconSize.outcome:return 32;case g.IconSize.small:return 24;case g.IconSize.extraSmall:return 16;default:return Object(i.c)(e)}};class g extends a.Component{render(){const{percentage:e,aimValue:t=100,colorType:n=g.ColorType.logan,fontSize:s=g.FontSize.normal,iconSize:u=g.IconSize.normal,description:d,theme:f=v}=this.props,b=[a.createElement("circle",{key:"circle",id:"circle",cx:36,cy:36,r:32,fill:"none"})],y=(e=>{switch(e){case g.FontSize.normal:return 32;case g.FontSize.small:return 24;default:return Object(i.c)(e)}})(s),S=(e=>{switch(e){case g.IconSize.pdf:case g.IconSize.normal:case g.IconSize.outcome:return 5;case g.IconSize.small:return 3;case g.IconSize.extraSmall:return 10;default:return Object(i.c)(e)}})(u),C=m(e,0,100),w=m(t,C,100),k=C*p/100,E=w*p/100,O=360*S/p,A=C?p-k-2*S:p;let _,x,I,j,T;const M=(e=>{switch(e){case g.ColorType.eggBlue:return{type:"gradient",value:{coordinates:{x1:"0%",y1:"50%",x2:"50%",y2:"50%"},start:"#0bc7c3",end:"#0fd5bf"},background:"#f1f2fa",outline:"#fff"};case g.ColorType.dandelion:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"35%",y2:"100%"},start:"#ffde66",end:"#ffc148"},background:"#f1f2fa",outline:"#fff"};case g.ColorType.radicalRed:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"50%",x2:"40%",y2:"100%"},start:"#ff4562",end:"#ff153e"},background:"#f1f2fa",outline:"#fff"};case g.ColorType.lightVisteria:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"50%",y2:"100%"},start:"#e191e2",end:"#c770c8"},background:"#f1f2fa",outline:"#fff"};case g.ColorType.royalBlue:return{type:"gradient",value:{coordinates:{x1:"17%",y1:"15%",x2:"50%",y2:"100%"},start:"#2a42ef",end:"#6391ff"},background:"#f1f2fa",outline:"#fff"};case g.ColorType.logan:return{type:"plain",value:"#a6adc9",background:"#f1f2fa",outline:"#fff"};case g.ColorType.electricViolet:return{type:"plain",value:"#913dcc",background:"#eed6ff"};case g.ColorType.crimson:return{type:"plain",value:"#ea1537",background:"#ffccd5"};case g.ColorType.blueRibbon:return{type:"plain",value:"#1a57ff",background:"#cdf"};case g.ColorType.green:return{type:"plain",value:"#15c39a",background:"#dcf6f6"};case g.ColorType.lightBlue:return{type:"plain",value:"#00bbcc",background:"#ccfbff"};case g.ColorType.orange:return{type:"plain",value:"#ffa600",background:"#fee8b4"};case g.ColorType.neoBlue:return{type:"plain",value:"#4A6EE0",background:"#DBEBFF"};case g.ColorType.white:return{type:"plain",value:"#fff",background:"#fff",backgroundOpacity:.2};default:return Object(i.c)(e)}})(n);if("plain"===M.type)_=M.value,x=_,I=M.outline,j=M.background,T=void 0===M.backgroundOpacity?1:M.backgroundOpacity;else{const e=M.value;this._gradientId=Boolean(this._gradientId)?this._gradientId:"pb-gradient-"+g._nextGradientId++,b.push(a.createElement("linearGradient",Object.assign({id:this._gradientId,key:this._gradientId,gradientUnits:"userSpaceOnUse"},e.coordinates),a.createElement("stop",{stopColor:e.start,offset:"0%"}),a.createElement("stop",{stopColor:e.end,offset:"100%"}))),_=`url(#${this._gradientId})`,x="#2b2d38",I=M.outline,j=M.background,T=void 0===M.backgroundOpacity?1:M.backgroundOpacity}return a.createElement(l.a.Context.Consumer,null,e=>a.createElement(c.e,Object.assign({},Object(r.c)(v.iconWrapper,f.radialProgressBar),{width:h(u),viewBox:"0 0 72 72"}),a.createElement("defs",null,b),a.createElement("g",null,a.createElement("use",{className:v.valueCircle,stroke:C>=94&&Boolean(I)?I:j,strokeOpacity:T,strokeWidth:S,strokeDasharray:p,strokeDashoffset:p-E,transform:"rotate(-90 36 36)",strokeLinecap:"round",xlinkHref:"#circle"}),Boolean(I)?a.createElement("use",{className:v.valueCircle,stroke:I,strokeWidth:S,strokeDasharray:p,strokeDashoffset:A,transform:`rotate(${-90-O} 36 36)`,strokeLinecap:"round",xlinkHref:"#circle"}):null,a.createElement("use",{className:v.valueCircle,stroke:_,strokeDasharray:p,strokeDashoffset:p-k,strokeLinecap:"round",transform:"rotate(-90 36 36)",strokeWidth:S,xlinkHref:"#circle"}),a.createElement("text",Object.assign({className:f.radialProgressText,y:"38",x:"36",fill:x,fontSize:y,fontStyle:"normal",textAnchor:"middle"},o.c.svgVerticalAlignment(e.has(l.a.Flag.supportsSVGDominantBaseline))),C),Boolean(d)?a.createElement("text",{className:f.radialProgressDescription,fill:x,x:"50%",y:"80%",fontStyle:"normal",textAnchor:"middle"},d):null)))}}g._nextGradientId=0,function(e){let t,n,a;!function(e){e.eggBlue="eggBlue",e.dandelion="dandelion",e.radicalRed="radicalRed",e.lightVisteria="lightVisteria",e.royalBlue="royalBlue",e.logan="logan",e.electricViolet="electricViolet",e.crimson="crimson",e.blueRibbon="blueRibbon",e.green="green",e.lightBlue="lightBlue",e.orange="orange",e.white="white",e.neoBlue="neoBlue"}(t=e.ColorType||(e.ColorType={})),function(e){e.normal="normal",e.small="small"}(n=e.FontSize||(e.FontSize={})),function(e){e.normal="normal",e.small="small",e.extraSmall="extraSmall",e.outcome="outcome",e.pdf="pdf"}(a=e.IconSize||(e.IconSize={}))}(g||(g={}));const f={width:u.a.percent(100),height:u.a.percent(100),fontWeight:"bold",fill:s.a.CoreNeutral90},b={fontSize:u.a.rem(2),fill:s.a.CoreNeutral90},y={fontWeight:"normal",fontSize:u.a.px(11),fill:d.ui600},v=u.a.stylesheet({radialProgressBar:[f],radialProgressText:[b],radialProgressDescription:[y],valueCircle:[{transition:"stroke-dashoffset .5s"}],iconWrapper:[{stroke:"none",fill:"none",$nest:{"&[data-hovered='true']":{stroke:"none",fill:"none"}}}]})},"H9T+":function(e,t,n){"use strict";n.d(t,"f",(function(){return ee})),n.d(t,"k",(function(){return te})),n.d(t,"e",(function(){return re})),n.d(t,"q",(function(){return ue})),n.d(t,"g",(function(){return de})),n.d(t,"m",(function(){return pe})),n.d(t,"l",(function(){return he})),n.d(t,"n",(function(){return ge})),n.d(t,"o",(function(){return fe})),n.d(t,"p",(function(){return be})),n.d(t,"i",(function(){return ye})),n.d(t,"h",(function(){return ve})),n.d(t,"v",(function(){return Se})),n.d(t,"c",(function(){return we})),n.d(t,"d",(function(){return ke})),n.d(t,"b",(function(){return Ee})),n.d(t,"a",(function(){return Ae})),n.d(t,"j",(function(){return _e})),n.d(t,"z",(function(){return Fe})),n.d(t,"r",(function(){return De})),n.d(t,"s",(function(){return He})),n.d(t,"u",(function(){return Ve})),n.d(t,"x",(function(){return Ue})),n.d(t,"y",(function(){return We})),n.d(t,"t",(function(){return St})),n.d(t,"w",(function(){return Ct}));var a=n("ERkP"),r=n("OA+g"),i=n("I7vG"),o=n("9NHN"),s=n("vOOZ"),l=n("LNSM"),c=n("94k3"),u=n("D9EC"),d=n("lrqh"),p=n("hoSD"),m=n("ax6a"),h=n("PrA7"),g=n("zI3C"),f=n("rk+4"),b=n("gOzB"),y=n("bO3R"),v=n("N8v8"),S=n("XXDN"),C=n("3rlE"),w=n("Z5Rd"),k=n("H9Bv"),E=n("jAl6"),O=n("7psk"),A=n("26kZ"),_=n("BugA"),x=n("dE97"),I=n("e12y"),j=n("ps/9"),T=n("xEVj"),M=n("zR/0"),N=n("viRF"),P=n("aIes"),L=n("UEGg"),R=n("uqkn"),B=n("IVzZ"),F=n("+w1e"),D=n("E0zP"),H=n("XxrX"),V=n("lRnN"),U=n("9/oM"),W=n("3bJT"),q=n("5z3N"),z=n("0mPX"),$=n("IdhR"),G=n("yZqL"),K=n("eLeT"),Y=n("HTie"),Z=n("cVtq"),X=n("HUX/");const Q=Object(u.l)(h.Monitoring.Logging.getLogger);var J;!function(e){e.actionRegex=/^#([\w\d_-]+)$/,e.parse=t=>Object(i.pipe)(d.g.fromNullable(t.match(e.actionRegex)),d.g.chain(e=>{switch(e[1]){case"set-goals":return d.g.some(F.b.Type.openSetGoals);case"ideas-gallery":return d.g.some(F.b.Type.openIdeasGallery);default:return d.g.none}}))}(J||(J={}));const ee=({description:e,actions:t,layoutDensity:n,className:r})=>{const s=a.useContext(f.a.Context),l=a.useContext(O.a.Context),{ref:c,onMount:u}=T.a.useElWatcher();T.a.useSubscriptionTo(c.pipe(M.b.compact,M.a.switchMap(e=>Array.from(e.getElementsByTagName("a")).reduce((e,n)=>{const a=M.a.fromEvent(n,"click").pipe(M.a.tap(e=>e.preventDefault()));return Object(i.pipe)(d.g.fromNullable(n.getAttribute("href")),d.g.chain(J.parse),d.g.fold(()=>(Q("Description").error("Invalid action",n),e.pipe(M.a.merge(a))),r=>M.a.mergeStatic(e,r in s.card.actionDescription&&r!==F.b.Type.openIdeasGallery?l.getTooltipObservable(n,s.card.actionDescription[r],"auto",d.g.none):M.a.EMPTY,a.pipe(M.a.mapTo({type:r}),M.a.tap(t)))))},M.a.EMPTY))));const p=Object(i.pipe)(n,H.a.Density.matchOrDefault(H.a.Density.minimal)(()=>kt.minimalDescription,()=>kt.description));return a.createElement(_.a,Object.assign({mount:u},Object(o.c)(p,r),z.a.renderToHtml(e,J.actionRegex)))},te=({card:e,isChecking:t})=>x.a.isRated(e.activeAlert)?a.createElement(v.a,{value:R.a.isCardPresuccess(e.visualState)?N.a.MAX:e.meta.percentile,initValue:R.a.isCardPresuccess(e.visualState)?e.meta.percentile:N.a.MIN,isLoading:t}):null,ne=({card:e})=>{const t=Object(v.b)(R.a.isCardPresuccess(e.visualState)?N.a.MAX:e.meta.percentile,R.a.isCardPresuccess(e.visualState)?e.meta.percentile:N.a.MIN);return a.createElement(s.a.Fragment,null,t.pipe(M.a.map(N.a.prism.reverseGet),M.a.map(e=>a.createElement(k.a,{percentage:e,colorType:k.a.ColorType.neoBlue,iconSize:k.a.IconSize.extraSmall,theme:{radialProgressBar:kt.circleProgress,radialProgressText:kt.circleText}}))))},ae=({card:e,feedbackActions:t,onClick:n,disabled:r})=>{const o=a.useContext(f.a.Context);return a.createElement(y.a.Ghost,{name:"ignore",title:o.dismiss,"aria-label":o.dismiss,onClick:P.d.callOnce(()=>{t.next({type:F.b.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:R.a.isEligibleForDismissSurvey(e),drilldownSuggestionIds:D.a.isSynfonyItem(e)?Object(i.pipe)(e.synfonySelection,d.g.getOrElse(()=>[])):void 0}),n&&n()}),disabled:r},a.createElement(C.d.Ignore,null))},re=({card:e,feedbackActions:t,disabled:n,onClickDismissButton:r,alwaysShowWrongAndOffensiveButtons:o})=>a.createElement(a.Fragment,null,a.createElement(ae,{card:e,feedbackActions:t,onClick:r,disabled:n}),a.createElement(le,{id:e.id,activeAlert:e.activeAlert,onMute:Object(i.pipe)(e.muteCategory,d.g.map(n=>P.d.callOnce(()=>t.next({type:F.b.Type.muteAlertCategory,categoryId:n.id,id:e.id,viewType:e.activeAlert.type})))),onWrong:P.d.callOnce(P.d.callOnce(()=>t.next({type:F.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:c.a.AlertFeedbackType.WRONG_SUGGESTION}))),onOffensive:P.d.callOnce(P.d.callOnce(()=>t.next({type:F.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:c.a.AlertFeedbackType.OFFENSIVE_CONTENT}))),onVisibilityChange:e=>t.next({type:F.b.Type.moreActionsButtonToggle,mode:e?"open":"closed"}),disabled:n,alwaysShowWrongAndOffensiveButtons:o})),ie=({onClick:e})=>{const t=a.useContext(f.a.Context);return a.createElement(y.a.Flat,{name:"mute",onClick:e},a.createElement(C.d.Mute,null),t.card.mute)},oe=({onClick:e})=>{const t=a.useContext(f.a.Context);return a.createElement(y.a.Flat,{name:"incorrect",onClick:e},a.createElement(C.d.Report,null),t.card.wrong)},se=({activeAlert:e,onClick:t})=>{const n=a.useContext(f.a.Context);return Object(i.pipe)(e.extraProperties.vox,d.g.mapOrDefault(()=>null,a.createElement(y.a.Flat,{name:"offensive",onClick:t},a.createElement(C.d.Report,null),n.card.offensive)))},le=({id:e,activeAlert:t,onMute:n,onWrong:o,onOffensive:s,onVisibilityChange:l,disabled:c,alwaysShowWrongAndOffensiveButtons:u=!1})=>{const p=a.useContext(f.a.Context),m=d.g.isSome(t.getTransform()),h=d.g.isSome(n),g=a.createElement(a.Fragment,null,h&&a.createElement(S.a.Delimiter,null),a.createElement(oe,{onClick:o}),a.createElement(se,{activeAlert:t,onClick:s}));return h||m||u?a.createElement(S.a,{label:a.createElement(y.a.Ghost,{name:"moreActions","aria-label":p.card.moreActions,disabled:c},a.createElement(C.f.MoreVertical,null)),align:"right",theme:{dropdownContainer:kt.dropdownContainer},id:e,name:"moreActions",onVisibilityChange:l},Object(i.pipe)(n,d.g.map(e=>a.createElement(ie,{onClick:e})),d.g.orNull),Object(i.pipe)(m,d.g.fromPredicate(r.identity),d.g.map(()=>g),d.g.orElse(Object(i.pipe)(u,d.g.fromPredicate(r.identity),d.g.map(()=>g))),d.g.orNull)):null},ce=({card:e,onClick:t,mode:n="default"})=>{const r=a.useContext(f.a.Context),i=a.useContext(g.a.Context),o=a.useCallback(e=>{i.has(g.a.Flag.onlyTrustedEvents)&&!e.isTrusted||t()},[]),s=e.renderOptions.features.has(H.a.Features.showAnonymousUserFooters)?{disabled:!0,title:r.card.disabledForAnonymous}:{title:"mini"===n?r.card.addToDict:""};return e.activeAlert.extraProperties.hasAddToDictionary?a.createElement(y.a.Tertiary,Object.assign({},s,{name:"add-to-dict",onClick:o}),a.createElement(C.d.Dict,null),r.card.addToDict):null},ue=({title:e,checkingInProgress:t,checkingMessage:n,applyMessage:r,onClick:i,disabled:s,className:l,spinnerClassName:c,messageClassName:d})=>a.createElement(y.a.Primary,Object.assign({key:"update-all",name:"update-all",title:e},Object(o.c)(t.pipe(M.a.map(Object(u.c)(K.a.updateAllBtnLoading,K.a.updateAllBtn))),l),{disabled:t.view(e=>e||!0===s),children:t.pipe(M.a.map(Object(u.c)(a.createElement(a.Fragment,{key:"update-all-checking"},a.createElement("span",{className:d},p.f.capitalize(n)),a.createElement(E.a,{size:18,strokeWidth:2,wrapperClassName:Object(o.c)(K.a.updateBtnSpinner,c).className,variation:"white"})),a.createElement(a.Fragment,{key:"update-all-checked"},p.f.capitalize(r))))),onClick:P.d.callOnce(i)})),de=({card:e})=>Object(i.pipe)(Ce(e.activeAlert,e.renderOptions.layoutDensity),d.g.map(t=>a.createElement($.b,{key:"card-actions-details",visualState:e.visualState,className:kt.more},t)),d.g.toNullable),pe=({card:e,actions:t})=>Se(e.activeAlert,e.renderOptions.layoutDensity)?a.createElement($.a,{key:"card-actions-button",mode:"default",actions:t,card:e}):D.a.isDefaultItem(e)?a.createElement(ce,{key:"card-actions-button",card:e,mode:"default",onClick:P.d.callOnce(()=>t.next({type:F.b.Type.alertFeedback,alertId:e.activeAlert.id,feedbackType:c.a.AlertFeedbackType.ADD_TO_DICTIONARY}))}):null,me=e=>{const t=e.isOnboardingGateActive?{title:void 0,message:"Click a suggestion to accept it."}:{title:"Accept a correction",message:"Click on a suggestion to apply it to your text."};return a.createElement(U.b,{alignment:"bottom",eventType:"onclick",stepId:V.a.StepId.Step4,title:t.title,message:t.message,dotPosition:{kind:"findFirstButton",position:U.a.rightTop},themes:{containerWrapperClassName:kt.onboardingNotification}},e.children)},he=({onClick:e,rl:t,layoutDensity:n,a11yContrast:r,demoDocOnboardingCopyV1:i})=>a.createElement(me,{isOnboardingGateActive:i},a.createElement(Z.f,{replacementsLabels:t,onClick:e,layoutDensity:n,a11yContrast:r})),ge=({text:e})=>a.createElement(_.i,Object.assign({className:kt.title},z.a.renderToHtml(e))),fe=({text:e})=>a.createElement(_.i,Object.assign({className:kt.titleMinimal},z.a.renderToHtml(e))),be=({alert:e})=>a.createElement(_.g,Object.assign({className:kt.title},z.a.renderToHtml(e.title))),ye=({alert:e,options:t,children:n,className:r,badge:i})=>{const l=a.useContext(f.a.Context);return a.createElement(s.a.Fragment,null,t.cardVisualMode.pipe(M.a.map(s=>a.createElement(q.a,Object.assign({activeAlert:e,cardVisualMode:s,showCardLabel:t.features.has(H.a.Features.showLabel),premiumAlertLabelHighlight:t.features.has(H.a.Features.showNewPremiumCardLabels)?q.b.new:t.features.has(H.a.Features.showPersistentPremiumCardLabels)?q.b.persistent:q.b.none,layoutDensity:t.layoutDensity},Object(o.c)(kt.label,r),{badge:e.extraProperties.isBeta?a.createElement(b.a.Regular,{a11yContrast:t.features.has(H.a.Features.a11yContrast)},l.beta):i}),n))))},ve=({text:e,layoutDensity:t})=>a.createElement("div",{className:kt.highlightedTextBox},a.createElement(_.a,{className:Object(i.pipe)(t,H.a.Density.matchOrDefault(H.a.Density.minimal)(()=>kt.minimalHighlightedTextInnerBox,()=>kt.highlightedTextInnerBox))},e));function Se(e,t){return!e.extraProperties.hasAddToDictionary&&(!(!d.g.isSome(e.examples)&&!d.g.isSome(e.details))||!(t!==H.a.Density.minimal||!d.g.isSome(e.getTransform())||void 0===e.explanation||null===e.explanation||""===e.explanation))}const Ce=(e,t)=>{if(!Se(e,t))return d.g.empty();const n=Object(i.pipe)(t,H.a.Density.matchOrDefault(H.a.Density.minimal)(()=>kt.minimalDescription,()=>kt.description));return d.g.some(a.createElement(a.Fragment,null,Object(i.pipe)(t,H.a.Density.matchOrDefault(H.a.Density.minimal)(()=>d.g.isNone(e.details)?a.createElement(_.a,Object.assign({className:n},z.a.renderToHtml(e.explanation,J.actionRegex))):null,()=>null)),Object(i.pipe)(e.details,d.g.map(e=>a.createElement(_.a,Object.assign({className:n},z.a.renderToHtml(e)))),d.g.toNullable),Object(i.pipe)(e.examples,d.g.map(e=>a.createElement(Y.a,{layoutDensity:t,examples:e})),d.g.toNullable)))},we=({isChecking:e})=>a.createElement(s.a.Fragment,null,e.pipe(M.a.map(e=>a.createElement(E.a,{className:e?kt.spinner:kt.spinnerInvisible,variation:"blue",isIdle:!e,size:32,strokeWidth:2})))),ke=e=>{const[t,n]=a.useState(!0);return t?a.createElement(xe,{type:e.type,actions:e.actions,onClose:()=>n(!1)}):null},Ee=({card:e,actions:t})=>{if(D.a.isEthicalAIItem(e)||D.a.isSuggestedSnippetItem(e)||D.a.isKnowledgeHubSuggestedTermItem(e))return null;if(!Object(i.pipe)(e.activeAlert.isFree)&&e.renderOptions.features.has(H.a.Features.showYellowFooterForTrialUsers))return a.createElement(Pe,null);if(Object(i.pipe)(e.activeAlert.extraProperties.freePremium,d.g.contains("unlocked")))return a.createElement(Me,null);if(Object(i.pipe)(e.activeAlert.extraProperties.premiumYellowFooterVariant,d.g.isSome))return Object(i.pipe)(e.activeAlert.extraProperties.premiumYellowFooterVariant,d.g.fold(()=>null,e=>a.createElement(Ne,{variant:e})));if(!L.a.isFree(e.activeAlert)&&e.renderOptions.features.has(H.a.Features.showPremiumOnboarding))return a.createElement(Le,null);if(!L.a.isFree(e.activeAlert)&&e.renderOptions.features.has(H.a.Features.showPremiumTrialFooters))return a.createElement(Te,{actions:t});if(e.renderOptions.features.has(H.a.Features.showAnonymousUserFooters))return a.createElement(je,{actions:t,card:e});const n=e.renderOptions.isPremiumOnboarding||l.a.create(!1);return a.createElement(s.a.Fragment,null,n.view(n=>!L.a.isFree(e.activeAlert)&&Boolean(n)?a.createElement(Le,null):Object(i.pipe)(e.renderOptions.layoutDensity,H.a.Density.matchOrDefault(H.a.Density.cozy)(()=>a.createElement(Ie,{card:e,actions:t}),()=>Object(i.pipe)(e.activeAlert.extraProperties.fluencyMessage,d.g.fold(()=>a.createElement(Ie,{card:e,actions:t}),e=>a.createElement(Re,{fluencyLabel:e})))))))};function Oe(e,t,n){n.next({type:F.b.Type.cardMatchesNavigationButtonClick,transitionTo:{kind:"anotherAlert",card:t},direction:e})}const Ae=({card:e,actions:t})=>{const n=a.useContext(f.a.Context).card.matchesNavigation;return a.createElement(s.a.Fragment,null,Object(i.pipe)(e,M.a.map(e=>a.createElement("div",{key:e.activeAlert.id,className:kt.bundleNavWrapper},a.createElement(_.a,{className:kt.bundleTitle},B.a.bundleTitle(e)),a.createElement("div",{className:kt.bundleNavMatchesRow},a.createElement(y.a.Ghost,{title:0!==e.activeAlertIndex?"Previous suggestion":void 0,className:kt.bundleNavButtonGhost,disabled:0===e.activeAlertIndex,name:"left",onClick:()=>Oe("left",e,t)},a.createElement(C.d.Arrow,{className:kt.bundleNavLeftButtonIcon})),a.createElement(_.h,{className:kt.bundleNavCount},n.currentMatchPosition(e.activeAlertIndex+1,e.alerts.length)),a.createElement(y.a.Ghost,{title:e.activeAlertIndex!==e.alerts.length-1?"Next suggestion":void 0,className:kt.bundleNavButtonGhost,disabled:e.activeAlertIndex===e.alerts.length-1,name:"right",onClick:()=>Oe("right",e,t)},a.createElement(C.d.Arrow,{className:kt.bundleNavRightButtonIcon})))))))},_e=({card:e,actions:t,isChecking:n})=>a.createElement(a.Fragment,null,Object(i.pipe)(e.renderOptions.layoutDensity,H.a.Density.matchOrDefault(H.a.Density.minimal)(()=>x.a.isRated(e.activeAlert)?a.createElement(a.Fragment,null,a.createElement(ne,{card:e}),a.createElement(fe,{text:e.activeAlert.miniCardTitle})):a.createElement(ye,{alert:e.activeAlert,options:e.renderOptions},a.createElement(fe,{text:e.activeAlert.miniCardTitle})),()=>a.createElement(a.Fragment,null,a.createElement(ye,{alert:e.activeAlert,options:e.renderOptions}),a.createElement(ge,{text:e.activeAlert.title}),a.createElement(te,{card:e,isChecking:n})))),a.createElement(ee,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),xe=e=>{const t=a.useContext(f.a.Context),{title:n,content:r}=t.card.onboarding[e.type];return a.useLayoutEffect(()=>()=>e.actions.next({type:F.b.Type.onboardingClose,value:e.type})),a.createElement(w.b.AdHoc,{key:"new-notification",title:a.createElement(a.Fragment,null,n,a.createElement(b.a.Regular,{className:kt.newLabel},t.new)),className:kt.newCheckNotification,onClose:e.onClose},r)},Ie=({actions:e,card:t})=>{const n=a.useContext(f.a.Context);return T.a.useEffectOnDidMount(()=>{t.meta.showMuteQuotedAdvice&&e.next({type:F.b.Type.muteQuotedAdviceShow})}),t.meta.showMuteQuotedAdvice?a.createElement(Be.Base,{className:nt},a.createElement("span",null,n.card.muteCitedText(a.createElement("button",{"data-name":"open-preferences-link",onClick:()=>e.next({type:F.b.Type.openPreferences})},n.documentSettings.editorSettings))),a.createElement(y.a,{name:"dismiss-mute-quoted-advice",onClick:()=>e.next({type:F.b.Type.dismissMuteQuotedAdvice})},a.createElement(C.d.Close,null))):null},je=({actions:e,card:t})=>{const n=a.useContext(f.a.Context),r=t.activeAlert.extraProperties.hasAddToDictionary?n.anonymousUserAddToDictionarySignInPrompt:n.anonymousUserGenericSignInPrompt;return a.createElement(Be.Base,{className:kt.anonymousUserNotice},r(()=>{e.next({type:F.b.Type.toSignIn})}))},Te=({actions:e})=>a.createElement(Be.Small,{className:at},a.createElement(C.d.PaidLink,{className:kt.iconWrapper,width:12}),a.useContext(f.a.Context).premiumFreeTrial(()=>{e.next({type:F.b.Type.premiumTrialFooterCtaClick})})),Me=()=>{const{beforeIcon:e,afterIcon:t}=a.useContext(f.a.Context).freePremiumAlertFooter;return a.createElement(Be.Small,{className:it},e,a.createElement(C.d.PaidLink,{width:12}),t)},Ne=({variant:e})=>{const t=a.useContext(f.a.Context).premiumFooter;return a.createElement(Be.Small,{className:ot},a.createElement(C.d.PaidLink,{width:12}),t[e])},Pe=()=>{const{freeTrialAlertFooter:e}=a.useContext(f.a.Context);return a.createElement(Be.Small,{className:it},a.createElement(C.d.PaidLink,{width:12}),e)},Le=()=>{const{premiumOnboardingFooter:e}=a.useContext(f.a.Context);return a.createElement(Be.Small,{className:rt},a.createElement(C.d.PaidLink,{width:12}),e)},Re=({fluencyLabel:e})=>{const t=a.useContext(f.a.Context).card.fluency;return a.createElement(_.l,{className:kt.fluencyNotice},e,a.createElement(A.a,{title:t.tooltip},a.createElement(C.d.Info,{width:10,className:kt.fluencyInfo})))};var Be;!function(e){function t(e){return({children:t,className:n})=>a.createElement(e,Object.assign({},Object(o.c)(kt.cardFooter,n)),t)}e.Small=t(_.l),e.Base=t(_.a)}(Be||(Be={}));function Fe(e){const{transformHidden:t,isMouseInside:n,transformHiddenObservable:a}=T.a.useMemoOnDidMount(()=>{const t=l.a.create(!1),n=new M.a.Subject,a=M.a.mergeStatic(M.a.combineLatestStatic([n,e]).pipe(M.a.map(([e,t])=>e&&t),M.a.filter(e=>!0===e),M.a.tap(()=>t.set(!0))),e.pipe(M.a.skip(1),M.a.filter(e=>!e),M.a.tap(()=>t.set(!1))));return{transformHidden:t,isMouseInside:n,transformHiddenObservable:a}});return T.a.useSubscriptionTo(a),{transformHidden:t,isMouseInside:n}}const De=({card:e,actions:t,isChecking:n,isCheckingGlobal:r,cardTheme:i,cardBody:o,cardFooter:s,mainActions:l,subActions:c,cardExtra:d})=>{const{transformHidden:p,isMouseInside:m}=Fe(n);return a.createElement(G.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:F.b.Type.alertCardShow,cardType:F.b.getCardType(e),alertId:e.activeAlert.id}),onMouseOver:()=>{t.next({type:F.b.Type.hover,kind:"hover",id:e.id}),m.next(!0)},onMouseOut:()=>{t.next({type:F.b.Type.hover,kind:"unhover",id:e.id}),m.next(!1)},theme:Object.assign(Object.assign({content:r.pipe(M.a.map(Object(u.c)(kt.loadingWrapperInvisible,kt.loadingWrapper)))},Object(X.b)(e.renderOptions)),i),extra:a.createElement(a.Fragment,null,a.createElement(we,{isChecking:r}),null==d?void 0:d()),body:o(p),mainActions:null==l?void 0:l(),footer:null==s?void 0:s(p),subActions:null==c?void 0:c()})},He=({card:e,actions:t,isChecking:n,body:r,footer:i,alwaysShowWrongAndOffensiveButtons:o})=>a.createElement(G.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:F.b.Type.alertCardShow,cardType:F.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object(X.b)(e.renderOptions),body:null!=r?r:a.createElement(_e,{card:e,actions:t,isChecking:n}),mainActions:a.createElement(re,{card:e,feedbackActions:t,alwaysShowWrongAndOffensiveButtons:o}),footer:null!=i?i:a.createElement(de,{card:e}),subActions:a.createElement(pe,{card:e,actions:t}),extra:a.createElement(Ee,{card:e,actions:t})}),Ve={wordWrap:"break-word",overflowWrap:"break-word",$nest:{"& a":{borderBottom:"1px solid",display:"inline",textDecoration:"none",$nest:{"&:link, &:visited":{color:m.a.CoreBlue50}}},"& b":{fontStyle:"italic",fontFeatureSettings:`${j.e}, ${j.f}`},"& ul":{margin:I.a.rem(.75)+" 0 0",padding:0,listStyle:"none"},"& li":{position:"relative",paddingLeft:I.a.rem(1.5),$nest:{"&:before":{position:"absolute",left:0,content:"'\\2022'"}}},"& li + li":{marginTop:I.a.rem(.5)}}},Ue={lineHeight:I.a.rem(1.3125),$nest:{"& a":{display:"initial"}}},We={$nest:{"& i":{color:m.a.CoreNeutral50},"& > * + *":{marginTop:I.a.rem(.75)}}},qe={fontWeight:"bold",textTransform:"none",$nest:{"&:first-letter":{textTransform:"uppercase"},"& i":{color:m.a.CoreRed50}}},ze={marginTop:I.a.important(0),lineHeight:I.a.rem(1.125)},$e={fontSize:I.a.rem(m.h.SubheadingSize),lineHeight:I.a.rem(m.h.SubheadingLineHeight)},Ge={width:I.a.rem(2),height:I.a.rem(2)},Ke={position:"absolute",top:`calc(50% - ${I.a.rem(1)})`,left:`calc(50% - ${I.a.rem(1)})`,width:I.a.rem(2),height:I.a.rem(2),transition:"opacity .2s"},Ye={marginLeft:I.a.rem(.5),backgroundColor:m.a.CoreGreen50,color:m.a.CoreNeutral0,fontWeight:600},Ze={position:"absolute",marginTop:I.a.rem(-8.5),marginLeft:I.a.rem(-2),$nest:{"&:after":{position:"absolute",bottom:I.a.rem(-.525),left:I.a.rem(.7),borderTop:`${I.a.rem(.625)} solid ${m.a.BackgroundNotification}`,borderRight:I.a.rem(.5)+" solid transparent",borderLeft:I.a.rem(.5)+" solid transparent",content:"' '"}}},Xe={background:"linear-gradient(269.88deg, rgba(228, 244, 247, .6) .02%, rgba(215, 248, 240, .6) 50.81%, rgba(202, 227, 250, .6) 99.98%)"},Qe={position:"absolute",top:I.a.rem(.75),left:I.a.rem(.4)},Je={color:m.a.CoreNeutral90,$nest:{"& a":{fontWeight:800,color:m.a.CoreBlue50,$nest:{"&:link, &:visited":{color:m.a.CoreBlue50},"&:hover":{borderBottom:"1px solid "+m.a.CoreBlue40,color:m.a.CoreBlue40}}}}},et={display:"flex",borderRadius:`${j.r} ${j.r} ${I.a.rem(j.s)} ${I.a.rem(j.s)}`,color:m.a.CoreNeutral50,padding:`${I.a.rem(.5)} ${I.a.rem(.75)} ${I.a.rem(.5)} ${I.a.rem(1)}`,fontSize:I.a.rem(.6875),lineHeight:I.a.rem(1.125)},tt={padding:"0 "+I.a.rem(.6),minWidth:I.a.rem(.625),minHeight:I.a.rem(.625)},nt=I.a.joinClasses(["muteQuotedAdvice",I.a.style({$nest:{"& button":{border:0,textDecoration:"underline",textUnderlineOffset:2,color:m.a.CoreBlue50,background:"none",padding:0,$nest:{"&:link, &:visited":{color:m.a.CoreBlue50},"&:hover":{color:m.a.CoreBlue40}}},"& i:hover":{strokeWidth:I.a.px(2)}}})]),at=I.a.joinClasses(["premiumFreeTrial",I.a.style({$nest:{"& svg":{fill:m.a.CoreYellow80},"& a":{fontWeight:800,color:m.a.CoreYellow70,$nest:{"&:link, &:visited":{color:m.a.CoreYellow80},"&:hover":{borderBottom:"1px solid "+m.a.CoreYellow60,color:m.a.CoreYellow60}}}}})]),rt=I.a.joinClasses(["premiumAlertFooter",I.a.style({justifyContent:"center"})]),it=I.a.joinClasses(["premiumAlertFooter",I.a.style({justifyContent:"start",padding:I.a.important(`${I.a.rem(.5)} ${I.a.rem(1)}`)})]),ot=I.a.joinClasses(["premiumAlertFooter",I.a.style({justifyContent:"start",padding:I.a.important(`${I.a.rem(.5)} ${I.a.rem(1)} ${I.a.rem(.5)} ${I.a.rem(1.75)}`)})]),st={display:"block",boxSizing:"border-box",padding:`${I.a.rem(1)} ${I.a.rem(1)} ${I.a.rem(1)} ${I.a.rem(1.5)}`,width:I.a.percent(100),borderRadius:`${j.r} ${j.r} ${I.a.rem(j.s)} ${I.a.rem(j.s)}`,$nest:{"& a":{cursor:"pointer",transition:"color .2s"},"&.muteQuotedAdvice":{display:"flex",padding:`${I.a.rem(1)} ${I.a.rem(1)} ${I.a.rem(1)} ${I.a.rem(2)}`,background:m.a.CoreNeutral10,color:m.a.CoreNeutral90,justifyContent:"space-between",alignItems:"center"},"&.premiumFreeTrial":{padding:`${I.a.rem(1)} ${I.a.rem(1)} ${I.a.rem(1)} ${I.a.rem(2)}`,position:"relative",background:m.a.CoreYellow20,color:m.a.CoreNeutral90},"&.premiumAlertFooter":{display:"flex",alignItems:"center",padding:I.a.rem(.5),background:m.a.CoreYellow20,color:m.a.CoreYellow80,$nest:{"& svg":{margin:"0 "+I.a.rem(.25),fill:m.a.CoreYellow80}}}}},lt={position:"absolute",top:I.a.rem(.8),left:I.a.rem(.5),minWidth:I.a.rem(1),minHeight:I.a.rem(1)},ct={fontWeight:"bold",fontSize:I.a.rem(.875),lineHeight:I.a.rem(1.125),flex:2},ut={padding:`${I.a.rem(.625)} 0 ${I.a.rem(.1875)} ${I.a.rem(.5)}`,marginBottom:I.a.rem(.25),display:"flex",justifyContent:"space-between",alignItems:"center"},dt={fontSize:I.a.rem(.75),lineHeight:I.a.rem(1.125),color:m.a.CoreNeutral90},pt={display:"flex",justifyContent:"flex-end",alignItems:"center",height:I.a.rem(1.5),$nest:{"& > * + *":{marginLeft:I.a.rem(.25)},"& > *":{borderRadius:I.a.rem(j.t)}}},mt={height:I.a.rem(2),minHeight:I.a.rem(2),width:I.a.rem(2),fill:m.a.CoreNeutral90,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{cursor:"pointer",fill:m.a.CoreBlue50},"&[data-disabled='true']":{fill:m.a.CoreNeutral30}}},ht={borderRadius:I.a.rem(.75),background:m.a.CoreNeutral20,margin:`${I.a.rem(-.25)} ${I.a.rem(-.25)}`,padding:`${I.a.rem(.25)} ${I.a.rem(.25)}`,$nest:{["& ."+W.b.cozyCardContainerSelector]:{margin:0,boxShadow:"none"},["& ."+W.b.fullCardSelector]:{padding:`${I.a.rem(.75)} ${I.a.rem(.5)} ${I.a.rem(.5)} ${I.a.rem(1)}`},"& [data-role=dropdown-list]":{transform:`translateY(${I.a.rem(-.5)})`}}},gt={paddingTop:I.a.rem(.25),paddingBottom:I.a.rem(.5),paddingLeft:I.a.rem(.5),paddingRight:I.a.rem(.5),fontWeight:"bold",fontSize:I.a.rem(.875),lineHeight:I.a.rem(1.125)};function ft(e,t){return{display:["block","-webkit-box"],maxHeight:I.a.rem(e*t),overflow:"hidden",overflowWrap:"anywhere",whiteSpace:"pre-wrap",textOverflow:"ellipsis","-webkit-line-clamp":t,WebkitBoxOrient:"vertical"}}const bt=Object.assign(Object.assign({},ft(1.5,3)),{lineHeight:I.a.rem(1.5)}),yt=Object.assign(Object.assign({},ft(1.3125,3)),{lineHeight:I.a.rem(1.3125)}),vt={padding:I.a.rem(.5),borderRadius:I.a.rem(j.t),background:m.a.CoreNeutral10,color:m.a.CoreNeutral90,fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${j.e}, ${j.f}`},St=.25,Ct={opacity:0,pointerEvents:"none"},wt={transition:"opacity "+I.a.seconds(St)},kt=I.a.stylesheet({loadingWrapper:[wt],loadingWrapperInvisible:[wt,Ct],description:[Ve],minimalDescription:[Ve,Ue],more:[We],onboardingNotification:[{display:"block"}],title:[qe],titleMinimal:[qe,ze],label:[$e],dropdownContainer:[Ge],spinner:[Ke],spinnerInvisible:[Ke,{opacity:0,pointerEvents:"none"}],newLabel:[Ye],newCheckNotification:[Ze],baseNotice:[Xe],iconWrapper:[Qe],anonymousUserNotice:[Xe,Je],fluencyNotice:[Xe,et],fluencyInfo:[tt],cardFooter:[st],circleProgress:[lt],circleText:[{display:"none"}],bundleTitle:[ct],bundleNavWrapper:[ut],bundleNavCount:[dt],bundleNavMatchesRow:[pt],bundleNavButtonGhost:[{$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:"rgba(198, 203, 222, .5)"}}}],bundleNavButton:[mt],bundleNavLeftButtonIcon:[mt,{transform:"rotate(90deg)"}],bundleNavRightButtonIcon:[mt,{transform:"rotate(270deg)"}],cardWrapper:[ht],cardWrapperTitle:[gt],highlightedTextBox:[vt],highlightedTextInnerBox:[bt],minimalHighlightedTextInnerBox:[yt]})},HDvz:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var a=n("ERkP"),r=n("OA+g"),i=n("I7vG"),o=n("vOOZ"),s=n("9NHN"),l=n("LNSM"),c=n("bYZB"),u=n("rk+4"),d=n("gOzB"),p=n("bO3R"),m=n("8Ioe"),h=n("ZD0N"),g=n("XXDN"),f=n("3rlE"),b=n("8cPE"),y=n("BugA"),v=n("xEVj"),S=n("zR/0"),C=n("mAhp"),w=n("BeBM"),k=n("lRnN"),E=n("9/oM"),O=n("lrqh"),A=n("hoSD"),_=n("D9EC"),x=n("6fbX"),I=n("rmLU"),j=n("aH3e"),T=n("+ukg"),M=n("kbau"),N=n("sv6e"),P=n("GqpD"),L=n("zGI0"),R=n("umZW");function B(e){switch(e){case"chrome":case"firefox":case"edge":case"safari":return e;default:return"other"}}function F(e){switch(e){case"windows":case"mac":case"linux":case"android":case"ios":return e;default:return"other"}}var D=n("jzV5");const H=({documentSettingsViewModel:e,lensState:t,isDemoMode:n,isUkraineMode:r,isDemoDocOnboardingGateActive:i})=>{const{landmark:o}=a.useContext(u.a.Context);return a.createElement("aside",{className:D.leftSidebar,"aria-label":o.documentMenu},a.createElement(V,{viewModel:e}),a.createElement(q,{documentSettingsViewModel:e,lensState:t,isDemoMode:n,isUkraineMode:r,isDemoDocOnboardingGateActive:i}))},V=({viewModel:e})=>{const{ref:t,onMount:n}=v.a.useElWatcher(),r=a.useContext(u.a.Context);v.a.FocusTrap.useFocusTrap(e.visualState.pipe(S.a.filter(Q.isExpanded),S.a.delay(500),S.a.switchMapTo(t)));const s=t.pipe(S.b.compact),l=new S.a.BehaviorSubject(0),c=e.visualState.pipe(S.a.filter(Q.isExpanded),S.a.tap(()=>l.next(0))),d=e.visualState.pipe(S.a.filter(Q.isExpanded),S.a.switchMap(()=>S.a.fromEvent(document,"mousedown").pipe(S.a.map(e=>O.g.fromNullable(e.target)))),S.a.withLatestFrom(s),S.a.filter(([e,t])=>!Object(i.pipe)(e,O.g.exists(e=>A.c.isParent(t,e)))),S.a.tap(()=>e.visualState.set({type:P.a.Collapsed})));v.a.useSubscriptionTo(c.pipe(S.a.merge(d))),v.a.useSubscriptionTo(Object(i.pipe)(s,S.a.switchMap(t=>e.visualState.view(Q.isExpanded).pipe(S.a.tap(e=>e?t.removeAttribute("inert"):t.setAttribute("inert","true"))))));const p=new S.a.Subject;return a.createElement(o.a.Fragment,null,e.visualState.view(t=>{const o=Q.isExpanded(t);return a.createElement("nav",{"aria-label":r.documentSettings.label,className:o?D.documentSettingsExpanded:D.documentSettings,ref:n,onMouseEnter:e.onMenuHovered},a.createElement($,{viewModel:e}),a.createElement("div",{className:D.menuHead}),a.createElement(b.a,{name:"documentSettingsScroll",showWhenScrollable:!0,className:D.scrollableContent,scrollTo:l,key:t.type,onScroll:p},e.items.map((e,n)=>L.a.Item.isViewItem(e)?Q.isHeader(e.name)?a.createElement(z,{item:e,key:n,onScroll:p.pipe(S.a.map(_.e))}):a.createElement("div",{ref:n=>{t.type===P.a.Expanded&&null!==n&&Object(i.pipe)(t.scrollTo,O.g.filter(t=>t.item===e.name),O.g.tap(e=>l.next(n.getBoundingClientRect().bottom-e.positionY)))},className:Q.getItemClassName(e.name),key:n},a.createElement(G,{item:e,onScroll:p.pipe(S.a.map(_.e))})):a.createElement(X,{key:n}))))}))},U=a.memo(N.b.createComponent({component:o.a.div,section:N.b.create(N.b.Id.menu),focusStrategy:C.a.FocusStrategy.focusRootOrLastFocusable}),r.constTrue),W=a.memo(N.b.createComponent({component:p.a,section:N.b.create(N.b.Id.support),behavior:C.a.FocusBehavior.captureTab}),r.constTrue),q=({documentSettingsViewModel:e,lensState:t,isDemoMode:n,isUkraineMode:r,isDemoDocOnboardingGateActive:l})=>{const c=a.useContext(u.a.Context),d=t.view(w.e.isSidebarOpened);return a.createElement(o.a.Fragment,null,e.visualState.view(t=>{const u=Q.isExpanded(t);return a.createElement("nav",{"aria-label":c.documentSettings.toolbarLabel,className:u?D.toolbarCollapsed:D.toolbarExpanded,key:"documentSettings-toolbar"},a.createElement("div",{className:D.expandButtonContainer},a.createElement(o.a.div,Object.assign({"data-name":"documentSettings-toolbarExpand"},Object(s.c)(u?D.expandButtonAnimationWrapperCollapsed:D.expandButtonAnimationWrapperExpanded,n?D.expandButtonSquashed:d.view(Object(_.c)(D.expandButtonSquashedWhenSmall,null)))),a.createElement(U,{className:D.expandButton},n?null:a.createElement(a.Fragment,null,a.createElement(p.a,Object.assign({name:"documentSettings-toolbarExpand-backToMyGrammarlyInline",title:"Grammarly Home","aria-label":"Grammarly Home"},Object(s.c)(D.expandButtonInlineAnimation,d.view(Object(_.c)(D.expandButtonHiddenWhenSmall,null))),{onClick:e.onGoBackToGrammarlyHome}),r?a.createElement(f.d.GrammarlyUkraine,{className:u?D.iconCollapsed:D.iconExpanded}):a.createElement(f.d.Grammarly,{className:u?D.iconCollapsed:D.iconExpanded})),a.createElement(o.a.div,Object.assign({},Object(s.c)(D.expandButtonSeparator,d.view(Object(_.c)(D.expandButtonHiddenWhenSmall,null)))))),a.createElement(E.b,{alignment:"bottom",eventType:"onclick",stepId:k.a.StepId.Step10,title:l?void 0:c.documentSettings.onboarding.title,message:c.documentSettings.onboarding.message,themes:{spotClassName:D.onboardingSpot}},a.createElement(p.a,{name:"documentSettings-toolbarExpand-openToolbar",title:"Menu","aria-label":"Menu",className:D.expandButtonInlineAnimation,onClick:e.onOpenToolbar},a.createElement(f.d.DocumentSettings.ExpandMenu,null)))))),a.createElement(W,{name:"documentSettings-toolbarSupport",className:D.toolbarSupportButton,title:c.documentSettings.supportTitle,"aria-label":c.documentSettings.supportTitle,onClick:t=>{e.visualState.set({type:P.a.Expanded,scrollTo:Object(i.pipe)(Q.getClickEventY(t),O.g.map(e=>({item:P.b.support,positionY:e})))})}},a.createElement(f.d.QuestionMark,null)))}))},z=({item:e,onScroll:t})=>a.createElement("div",{className:Q.getItemClassName(e.name)},a.createElement(y.l,{className:Object(i.pipe)(Q.getTextClassName(e.name),O.g.toUndefined)},e.title),a.createElement(Z,{item:e,onScroll:t})),$=({viewModel:e})=>{const t=Q.isExpanded(e.visualState.get());return a.createElement("div",{className:t?D.closeButtonWrapperExpanded:D.closeButtonWrapperCollapsed},a.createElement(p.a.Flat,{name:"documentSettings-"+e.head.name,active:e.head.active,disabled:e.head.disabled,animationMode:m.a.None,onClick:e.head.onClick,className:t?D.closeButtonExpanded:D.closeButtonCollapsed},a.createElement(f.d.Close,{className:t?D.closeIconExpanded:D.closeIconCollapsed}),a.createElement("span",{className:t?D.closeButtonTitleExpanded:D.closeButtonTitleCollapsed},e.head.title)))},G=({item:e,onScroll:t})=>{const n=a.useContext(I.a.Context),r=a.useContext(j.a.Context),o=Q.getLink(e.name,n,r),s=Q.getUploadModel(e),l=a.useRef(null),c=()=>{e.onClick(),null!==l.current&&l.current.click()},u=a.createElement(a.Fragment,null,Object(i.pipe)(Q.getIcon(e),O.g.fold(()=>a.createElement("span",{id:e.name,className:D.menuText},e.title),t=>a.createElement(a.Fragment,null,a.createElement("div",{"aria-hidden":!0,className:D.icon},t),a.createElement("span",{className:D.menuTitle},e.title)))),a.createElement(Z,{item:e,onScroll:t,mount:e=>l.current=e})),d=Object(i.pipe)(s,O.g.map(e=>a.createElement(M.a,{documentUpload:e,multiple:!1,mount:e=>l.current=e,hideTooltip:!0,ariaHidden:!0})),O.g.toNullable);return a.createElement(a.Fragment,null,Object(i.pipe)(o,O.g.fold(()=>a.createElement(K,{item:e,onClick:c},u),t=>a.createElement(Y,{item:e,link:t,onClick:c},u))),d)},K=({item:e,children:t,onClick:n})=>a.createElement(p.a.Flat,{name:"documentSettings-"+e.name,active:e.active,disabled:e.disabled,onClick:n,className:D.menuButton},t),Y=({item:e,link:t,onClick:n,children:r})=>a.createElement(p.a.Flat,{name:"documentSettings-"+e.name,active:e.active,disabled:e.disabled,className:D.menuButton,onClick:n,href:t,target:"_blank"},r),Z=({item:e,onScroll:t,mount:n})=>{const r=a.useContext(u.a.Context);return Object(i.pipe)(e.nestedItem,O.g.map(O.b.fold(e=>a.createElement(y.l,{className:D.label},e),a=>Q.renderNestedItem(e.name,a,t,r.documentSettings.eduLabel,n))),O.g.toNullable)},X=()=>a.createElement("div",{className:D.separator});var Q;!function(e){function t(e){switch(e){case"american":return a.createElement(f.d.DocumentSettings.USFlag,null);case"british":return a.createElement(f.d.DocumentSettings.GBFlag,null);case"canadian":return a.createElement(f.d.DocumentSettings.CanadianFlag,null);case"australian":return a.createElement(f.d.DocumentSettings.AustralianFlag,null);case"indian":return a.createElement(f.d.DocumentSettings.IndianFlag,null);default:return Object(x.c)(e)}}function n(e){const t=e.getBoundingClientRect();return t.bottom-t.height/2}e.renderNestedItem=(e,n,r,s,c)=>{switch(n.type){case P.c.uploadFile:return a.createElement(y.l,{className:D.label},n.label);case P.c.accountHeaderLabel:return T.g.isPremium(n.denaliUserType)?T.g.isBusiness(n.denaliUserType)?a.createElement(d.a.Business,{className:D.accountHeaderLabel}):T.g.isEdu(n.denaliUserType)?a.createElement(d.a.Regular,{className:D.accountHeaderLabel},s):a.createElement(d.a.Premium,{className:D.accountHeaderLabel}):a.createElement(d.a.Regular,{className:D.freeLabel},"FREE");case P.c.whatsNewUpdates:return a.createElement(a.Fragment,null);case P.c.languageSettings:return function(e,n,r,s){const c=l.a.create("100%"),u=(b=n.dialectSettings,v=n.changeDialect,e=>a.createElement(p.a.Flat,{id:e,tag:h.b.div,name:`documentSettings-${e}DialectButton`,onClick:()=>v(e)},a.createElement(o.a.Fragment,null,t(e),a.createElement("span",{className:D.dialect},e+" English"),b.dialectOrDefault.view(t=>t===e&&a.createElement(f.d.DocumentSettings.Selected,{className:D.selectedLanguageIcon,key:e}))))),d=new S.a.Subject,m=e=>{const t=Object(i.pipe)(O.g.fromNullable(e.target),O.g.map(e=>e.getBoundingClientRect()));return d.pipe(S.a.map(e=>e.offsetHeight),S.a.tap(e=>Object(i.pipe)(t,O.g.tap(t=>{const n=t.top-t.height/2,a=e/4;window.innerHeight<n+e+a?c.set(window.innerHeight-e-a+"px"):c.set(n+"px")})))).toPromise()};var b,v;return a.createElement(g.a,{name:"languageSettingsDropdown",activeDescendantId:n.dialectSettings.dialectOrDefault,label:a.createElement("div",{className:D.languageSettings,onMouseEnter:m,onClick:m,ref:s,"aria-hidden":!0},a.createElement(o.a.div,{className:D.icon},n.dialectSettings.dialectOrDefault.view(e=>t(e))),a.createElement(y.l,{className:D.label},"▶")),showDelay:0,closeDelay:100,theme:D,customPosition:{top:c,left:"18.5rem"},forceHide:r,ariaLabelledBy:e},a.createElement("div",{ref:e=>e&&d.next(e),className:D.languageButtonsWrapper},u("american"),u("british"),u("canadian"),u("australian"),u("indian")))}(e,n,r,c);default:return Object(x.c)(n)}},e.getLink=function(e,t,n){switch(e){case P.b.subscription:return O.g.some(t.account.subscription);case P.b.support:return O.g.some(t.support.mainPage);case P.b.privacyPolicy:return O.g.some(t.privacyPolicy);case P.b.termsOfService:return O.g.some(t.termsOfService);case P.b.reportABug:return O.g.some(function(e,t){return new R.a(e.api.inProductReportUrl).addParams({clientVersion:t.buildVersion.toString(),platformVersion:t.info.parsedVersion.toString(),application:window.location.origin,browser:B(t.info.browser),os:F(t.info.os),userType:"business",team:"editor"}).toString()}(t,n));case P.b.close:case P.b.myGrammarly:case P.b.documentHeader:case P.b.newDocument:case P.b.uploadFile:case P.b.download:case P.b.print:case P.b.editHeader:case P.b.editorSettings:case P.b.accountHeader:case P.b.userName:case P.b.email:case P.b.upgradeToPremium:case P.b.language:case P.b.logout:case P.b.whatsNew:case P.b.feedback:case c.d.undo:case c.d.redo:case c.d.cut:case c.d.copy:case c.d.paste:case c.d.selectAll:return O.g.none;default:return Object(x.c)(e)}},e.getUploadModel=Object(r.flow)(A.e.pick("nestedItem"),O.g.chain(O.g.fromEither),O.g.chain(e=>{switch(e.type){case P.c.uploadFile:return O.g.some(e.uploadViewModel.uploadModel);case P.c.accountHeaderLabel:case P.c.whatsNewUpdates:case P.c.languageSettings:return O.g.none;default:return Object(x.c)(e)}})),e.getIcon=function(e){const t=e.name;switch(t){case P.b.close:return O.g.some(a.createElement(f.d.Close,null));case P.b.myGrammarly:return O.g.some(a.createElement(f.d.DocumentSettings.Home,null));case P.b.newDocument:return O.g.some(a.createElement(f.d.DocumentSettings.NewDocument,null));case P.b.uploadFile:return O.g.some(a.createElement(f.d.DocumentSettings.UploadFile,null));case P.b.download:return O.g.some(a.createElement(f.d.ToolbarDownload,null));case P.b.print:return O.g.some(a.createElement(f.d.DocumentSettings.PrintFile,null));case c.d.undo:return O.g.some(a.createElement(f.d.DocumentSettings.UndoGrey,null));case c.d.redo:return O.g.some(a.createElement(f.d.DocumentSettings.Redo,null));case c.d.cut:return O.g.some(a.createElement(f.d.DocumentSettings.Cut,null));case c.d.copy:return O.g.some(a.createElement(f.d.Copy,null));case c.d.paste:return O.g.some(a.createElement(f.d.DocumentSettings.Paste,null));case P.b.editorSettings:return O.g.some(a.createElement(f.d.Gear,null));case P.b.support:return O.g.some(a.createElement(f.d.QuestionMark,null));case P.b.upgradeToPremium:return O.g.some(a.createElement(f.d.Paid,null));case P.b.documentHeader:case P.b.editHeader:case P.b.accountHeader:case P.b.userName:case P.b.email:case P.b.language:case P.b.subscription:case P.b.logout:case P.b.whatsNew:case P.b.feedback:case P.b.privacyPolicy:case P.b.termsOfService:case P.b.reportABug:case c.d.selectAll:return O.g.none;default:return Object(x.c)(t)}},e.getItemClassName=function(e){switch(e){case P.b.myGrammarly:case P.b.editorSettings:return D.oneItemContainer;case P.b.documentHeader:case P.b.editHeader:case P.b.accountHeader:return D.header;case P.b.userName:return D.userNameHeader;case P.b.email:return D.emailHeader;case P.b.close:case P.b.newDocument:case P.b.uploadFile:case P.b.download:case P.b.print:case P.b.upgradeToPremium:case P.b.language:case P.b.subscription:case P.b.logout:case P.b.support:case P.b.whatsNew:case P.b.feedback:case P.b.privacyPolicy:case P.b.termsOfService:case P.b.reportABug:case c.d.undo:case c.d.redo:case c.d.cut:case c.d.copy:case c.d.paste:case c.d.selectAll:return D.menuButtonWrapper;default:return Object(x.c)(e)}},e.getTextClassName=function(e){switch(e){case P.b.userName:return O.g.some(D.userName);case P.b.email:return O.g.some(D.email);case P.b.documentHeader:case P.b.editHeader:case P.b.accountHeader:return O.g.some(D.headerText);case P.b.close:case P.b.myGrammarly:case P.b.newDocument:case P.b.uploadFile:case P.b.download:case P.b.print:case P.b.editorSettings:case P.b.upgradeToPremium:case P.b.language:case P.b.subscription:case P.b.logout:case P.b.support:case P.b.whatsNew:case P.b.feedback:case P.b.privacyPolicy:case P.b.termsOfService:case P.b.reportABug:case c.d.undo:case c.d.redo:case c.d.cut:case c.d.copy:case c.d.paste:case c.d.selectAll:return O.g.none;default:return Object(x.c)(e)}},e.isHeader=function(e){switch(e){case P.b.documentHeader:case P.b.editHeader:case P.b.accountHeader:case P.b.userName:case P.b.email:return!0;case P.b.close:case P.b.myGrammarly:case P.b.newDocument:case P.b.uploadFile:case P.b.download:case P.b.print:case P.b.editorSettings:case P.b.upgradeToPremium:case P.b.language:case P.b.subscription:case P.b.logout:case P.b.support:case P.b.whatsNew:case P.b.feedback:case P.b.privacyPolicy:case P.b.termsOfService:case P.b.reportABug:case c.d.undo:case c.d.redo:case c.d.cut:case c.d.copy:case c.d.paste:case c.d.selectAll:return!1;default:return Object(x.c)(e)}},e.getClickEventY=function(e){return Object(i.pipe)(O.g.fromNullable(void 0!==e&&e.target),O.g.map(n))},e.getElementCenter=n,e.isExpanded=function(e){return e.type===P.a.Expanded}}(Q||(Q={}))},HQ1c:function(e,t,n){"use strict";function a(e){return function(t){return function(n){return e.chain(n,(function(n){return e.map(t(n),(function(){return n}))}))}}}function r(e){return function(t,n){return function(a){return e.chain(a,(function(a){return e.map(n(a),(function(e){var n;return Object.assign({},a,((n={})[t]=e,n))}))}))}}}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}))},HTie:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("ERkP"),r=n("I7vG"),i=n("lrqh"),o=n("ax6a"),s=n("Q8bi"),l=n("EOGW"),c=n("e12y"),u=n("ps/9"),d=n("aIes"),p=n("XxrX");const m=({examples:e,layoutDensity:t})=>a.createElement(s.Typography,{nodeType:"table",styleType:s.Typography.Type.Base,className:E.wrapper},e.map((e,n)=>a.createElement("tbody",{key:n,className:E.group},e.map(({text:e,title:n,color:o,hasItalic:s},c)=>a.createElement("tr",{key:c,className:Object(r.pipe)(t,p.a.Density.matchL(()=>E.item,()=>E.itemCompact,()=>E.itemMinimal))},Object(r.pipe)(n,i.g.map(e=>a.createElement("td",{className:l.a.colorMatch(o)(E)},(e=>e.split("/").reduce((e,t,n)=>(0!==n&&e.push(a.createElement("br",{key:n})),e.push(t),e),[]))(e))),i.g.toNullable),a.createElement("td",Object.assign({colSpan:i.g.isNone(n)?2:void 0,className:s?E.content:E.contentItalic},d.d.setInnerHTML(e)))))))),h={$nest:{"&:not(:last-child):after":{display:"block",height:c.a.rem(1.75),content:"''"}}},g={$nest:{"&:not(:last-child)":{borderBottom:c.a.rem(.5)+" solid transparent"}}},f={display:"flex",flexDirection:"column",lineHeight:c.a.rem(1.3125)},b={padding:0,verticalAlign:"top",lineHeight:c.a.rem(1.25)},y={paddingRight:c.a.rem(2),verticalAlign:"top",whiteSpace:"nowrap"},v={color:o.a.CoreNeutral50,fontFeatureSettings:`${u.e}, ${u.f}`},S={color:o.a.CoreRed50},C={color:o.a.CoreGreen70},w={color:o.a.CoreNeutral90},k={color:o.a.CoreNeutral90},E=c.a.stylesheet({wrapper:[{borderCollapse:"collapse",userSelect:"initial"}],group:[h],item:[g],itemCompact:[g,{display:"flex",flexDirection:"column"}],itemMinimal:[g,f],baseBlock:[b],title:[b,y],content:[b,v],contentItalic:[b,v,{fontStyle:"italic"}],red:[b,y,S],green:[b,y,C],yellow:[b,y,w],fallback:[b,y,k]})},"HUX/":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n("I7vG"),r=n("ax6a"),i=n("e12y"),o=n("ps/9"),s=n("XxrX"),l=n("3bJT"),c=n("qZUR");const u=e=>({container:Object(a.pipe)(e,s.a.Density.matchOrDefault(s.a.Density.cozy)(()=>b.cozyCardContainer,()=>b.compactCardContainer))}),d=e=>Object.assign(Object.assign({},e.hasOwnProperty("features")&&e.features.has(s.a.Features.a11yContrast)?(e=>({container:Object(a.pipe)(e.layoutDensity,s.a.Density.matchOrDefault(s.a.Density.cozy)(()=>e.features.has(s.a.Features.sduiContainerStyle)?b.cozyCardContainerContrastSdui:b.cozyCardContainerContrast,()=>b.compactCardContainer))}))(e):u(e.layoutDensity)),{wrapper:Object(a.pipe)(e.layoutDensity,s.a.Density.matchOrDefault(s.a.Density.minimal)(()=>b.minimalCardWrapper,()=>{}))}),p={padding:`${i.a.rem(.75)} ${i.a.rem(.5)} ${i.a.rem(.5)} ${i.a.rem(1)}`},m={margin:`${i.a.rem(1)} 0 ${i.a.rem(1.5)}`,borderRadius:i.a.rem(o.s),background:r.a.CoreNeutral0,boxShadow:`0 ${i.a.rem(.625)} ${i.a.rem(o.a)} 0 rgba(198, 203, 222, .45)`},h={margin:`${i.a.rem(1)} 0 ${i.a.rem(1.5)}`,borderRadius:i.a.rem(o.s),background:r.a.CoreNeutral0,boxShadow:c.a.z300},g={boxShadow:c.b.llamaShadowToken},f={boxShadow:"0 1px 8px rgba(109, 117, 141, .18)",borderRadius:i.a.rem(o.s),background:r.a.CoreNeutral0},b=Object.assign(Object.assign({},i.a.stylesheet({minimalCardWrapper:[p],compactCardContainer:[f]})),{cozyCardContainer:i.a.joinClasses([l.b.cozyCardContainerSelector,i.a.style(m)]),cozyCardContainerContrast:i.a.joinClasses([l.b.cozyCardContainerSelector,i.a.style(h)]),cozyCardContainerContrastSdui:i.a.joinClasses([l.b.cozyCardContainerSelector,i.a.style(h),i.a.style(g)])})},HqKA:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return y}));var a,r=n("a5W6"),i=n("rbBt"),o=n("LTbp"),s=n("GRZr"),l=n("U75S"),c=n("OA+g"),u=n("I7vG"),d=n("94k3"),p=n("WOlp"),m=n("lrqh"),h=n("tn8Q"),g=n("PrA7"),f=n("dE97"),b=n("GUi3");!function(e){e.getSubTypeFromLens=e=>b.a.isPriority(e)||b.a.isPriorityOutcomeId(e)?d.a.FeedbackSubtype.SidebarPriority:d.a.FeedbackSubtype.Sidebar}(a||(a={}));class y{constructor(e,t){this._alertsReader=e,this._ops=t,this._log=g.Monitoring.Logging.getLogger("AlertsServiceImpl"),this._findAlert=e=>Object(u.pipe)(e,this._alertsReader.getById,m.b.fromOption(()=>new Error(`alert ${e} not found in the repo`))),this.undoBulk=Object(c.flow)(l.P(Object(c.flow)(this._alertsReader.getById,m.g.filter(f.a.isBulkApplied))),e=>this._ops.undoApplied(e,f.a.State.Applied.Method.Bulk)(),m.b.getOrElse(e=>{throw this._log.error("Could not undo bulk-applied alerts",e),e})),this.getHighlightRanges=Object(c.flow)(this._findAlert,m.b.map(e=>e.getHighlightRanges())),this.hasNewRangesForUpdate=Object(c.flow)(this._findAlert,m.b.map(e=>e.hasNewRangesForUpdate)),this.applyPendingRangesUpdate=Object(c.flow)(this._findAlert,m.b.map(e=>e.applyPendingRangesUpdate())),this.getAppliedRanges=Object(c.flow)(this._alertsReader.getById,m.b.fromOption(()=>new Error("alert not found in the repo")),m.b.filterOrElse(f.a.isApplicableAlert,e=>new Error("alert is not applicable: "+e.alertType)),m.b.map(e=>e.getAppliedRanges()))}apply(e,t){const{alternativeIndex:n,source:a}=t;return this._log.trace("apply",e),Object(u.pipe)(this._findAlert(e),m.b.chain(m.b.fromPredicate(f.a.isApplicableAlert,()=>new Error("cannot apply not applicable alert"))),m.b.chain(e=>Object(u.pipe)(m.b.tryCatchError(()=>e.apply(t)),m.b.mapLeft(t=>(this._log.error("apply single alert error",{error:t,alert:e.toLiteAlert(),alternativeIndex:n,source:a}),t)))))}applyBulk(e,t){this._log.trace("applyBulk",e),this.sendBatchFeedback(e,d.a.AlertsBatchFeedbackType.BULK_ACCEPTED,t);const n=Object(u.pipe)(e,h.a.fromArray(e=>Object(u.pipe)(this._findAlert(e),m.b.mapLeft(t=>Object(c.tuple)(t,{id:e})),m.b.chain(m.b.fromPredicate(f.a.isRegisteredApplicableAlert,e=>Object(c.tuple)(new Error("cannot apply not applicable or non-registered alert"),e.toLiteAlert()))),m.b.chain(m.b.fromPredicate(e=>p.B.withTransformJson(e._raw),e=>Object(c.tuple)(new Error("Only alerts with transformJSON can be bulk applied"),e.toLiteAlert()))),m.b.mapLeft(([e,t])=>(this._log.error(e.message,t),e)))));return Object(u.pipe)(n,h.a.flatMap(r.getMonoid(),e=>Object(u.pipe)(this._ops._applyTransformJson({alerts:e.map(e=>({alert:e,alternative:f.a.getApplicableAlternative(e,0)})),source:f.b.api,method:f.a.State.Applied.Method.Bulk,feedbackSubtype:t}),o.f(t=>()=>(this._log.error("applyBulk error",t),h.a.of([],e.map(e=>e.id))),()=>()=>h.a.of(e.map(e=>e.id))))()))}confirmApplied(e){return this._log.trace("commitApplied",e),Object(u.pipe)(e,h.a.fromArray(Object(c.flow)(this._findAlert,m.b.map(f.e.castApplied))),m.b.mapLeft(e=>new Error("Error on trying to confirm applied alerts: "+e.rejected.join(","))),m.b.chain(e=>this._ops._confirmApplied(e)()))}dismissBatch(e,t){return this._log.trace("dismissBatch",e),Object(u.pipe)(e.map(Object(c.flow)(this._findAlert,m.b.map(e=>[e]))),Object(s.fold)(S),m.b.chain(e=>this._ops._dismissBatch(e,t)()))}applyFeedback(e,t,n){return this._log.trace("sendFeedback",{alertId:e,type:t.kind}),Object(u.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._alertFeedback(e,t,n)()))}sendBatchFeedback(e,t,n){return this._log.trace("sendBatchFeedback",{alertIds:e,type:t}),Object(u.pipe)(e,h.a.fromArray(this._findAlert),h.a.tapFailure(e=>this._log.error("Cannot send batch feedback for alerts",e.rejected)),h.a.foldSuccess(e=>m.b.right(this._ops._alertBatchFeedback(e,t,n)())))}takeReference(e,t){return this._log.trace("takeReference",{alertId:e.id,from:t}),Object(u.pipe)(this._findAlert(e.id),m.b.chain(e=>e.takeReference(t)))}changeMuteState(e,t){return this._log.trace("changeMuteState",e),Object(u.pipe)(e,h.a.fromArray(e=>this._findAlert(e.id)),h.a.flatMap(r.getMonoid(),e=>Object(u.pipe)(this._ops._changeMuteState(e,t)(),m.b.mapLeft(e=>(this._log.error("Can not change mute state",e),e)),m.b.unsafeGet)))}changeGapValue(e,t){return Object(u.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._changeGapValue(e,t)()))}changeTakeawayFeedback(e,t){return Object(u.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._changeTakeawayFeedback(e,t)()))}shortenItSummaryNotFound(e){return Object(u.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._shortenItSummaryNotFound(e)()))}sendShortenItSummaryRequest(e){return Object(u.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._commitShortenItSummaryRequest(e)()))}dismissShortenItTransformGroup(e,t){return Object(u.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._dismissShortenItTransformGroup(e,t)()))}changeToneAIToneAlternative(e,t){return Object(u.pipe)(this._findAlert(e),m.b.chain(e=>this._ops._changeToneAIToneAlternative(e,t)()))}}const v=r.getMonoid(),S=Object(i.getApplyMonoid)(v)},Hr9Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return v}));var a=n("u/VI"),r=n("hoSD"),i=n("QxMx"),o=n("GUi3"),s=n("viRF");function l(e){return`${e} ${r.f.pluralize(e,"alert","alerts")}`}const c=e=>(t,n,a,r,i)=>t?l(n.count):e(n,a,r,i),u=(e,t)=>(n,a,r,i)=>{const o=i?n.count:n.priorityCount;return o>0?l(o):r&y.IsDocumentEmpty?e:t},d={description:"Improves spelling, grammar, and punctuation.",stateMessage:c(u("No alerts","Looking good"))},p={description:"Helps make your writing easier to understand.",stateMessage:c((e,t,n)=>{const r=Object(i.a)(a.lt(s.a.ord))(t);if(n&y.IsDocumentEmpty)return"So far so good";if(e.count>0){if(s.a.isMin(t))return l(e.count);if(r(s.a.fromNumber(20)))return"Unclear";if(r(s.a.fromNumber(70)))return"A bit unclear";if(r(s.a.fromNumber(85)))return"Mostly clear";if(r(s.a.fromNumber(95)))return"Clear"}return"Very clear"})},m={description:"Helps make your writing more interesting and effective.",stateMessage:c((e,t,n)=>{const r=n&y.IsFreeUser,o=s.a.isMin(t),c=Object(i.a)(a.lt(s.a.ord))(t);if(n&y.IsDocumentEmpty||r&&o)return"Nothing yet";if(r||e.count>0){if(o)return l(e.count);if(c(s.a.fromNumber(20)))return"Bland";if(c(s.a.fromNumber(80)))return"A bit bland";if(c(s.a.fromNumber(95)))return"Engaging"}return"Very engaging"})},h={description:"Helps you make the right impression on your reader.",stateMessage:c((e,t,n)=>{const r=n&y.IsFreeUser,o=s.a.isMin(t),c=Object(i.a)(a.lt(s.a.ord))(t);if(n&y.IsDocumentEmpty||r&&o)return"Nothing yet";if(r||e.count>0){if(o)return l(e.count);if(c(s.a.fromNumber(20)))return"Serious issues";if(c(s.a.fromNumber(40)))return"Very off";if(c(s.a.fromNumber(95)))return"Slightly off"}return"Just right"})},g={description:"Your organization’s writing guidelines.",stateMessage:c(u("Nothing yet","All good"))},f={description:"Details on terms",stateMessage:c(u("Nothing yet","All good"))},b={[o.a.SpecialId.Correctness]:d,[o.a.SpecialId.CorrectnessPriority]:d,[o.a.SpecialId.Clarity]:p,[o.a.SpecialId.ClarityPriority]:p,[o.a.SpecialId.Engagement]:m,[o.a.SpecialId.EngagementPriority]:m,[o.a.SpecialId.Delivery]:h,[o.a.SpecialId.DeliveryPriority]:h,[o.a.SpecialId.Vox]:g,[o.a.SpecialId.VoxPriority]:g,[o.a.SpecialId.KnowledgeHub]:f,[o.a.SpecialId.KnowledgeHubPriority]:f,[o.a.SpecialId.Plagiarism]:{description:"Checks for similarities to published writing.",stateMessage:c((e,t,n)=>n&y.IsLensVisited&&!(n&y.IsDocumentEmpty)?n&y.IsLensActive?s.a.isMin(t)?"100% original":t+"% unoriginal":"Recheck":"Not checked yet")},[o.a.SpecialId.Premium]:{description:"Offers more suggestions on how to improve your writing.",stateMessage:c((e,t,n)=>n&y.IsDocumentEmpty?"Advanced checks":`${e.count} more ${r.f.pluralize(e.count,"alert","alerts")}`)},[o.a.SpecialId.FreePremiumAlerts]:{description:"Offers more suggestions on how to improve your writing.",stateMessage:c((e,t,n)=>n&y.IsDocumentEmpty?"Advanced checks":`${e.count} more ${r.f.pluralize(e.count,"alert","alerts")}`)}};var y;function v(e){return b[e]}!function(e){e[e.IsDocumentEmpty=1]="IsDocumentEmpty",e[e.IsLensActive=2]="IsLensActive",e[e.IsLensVisited=4]="IsLensVisited",e[e.IsFreeUser=8]="IsFreeUser"}(y||(y={}))},HvFA:function(e,t,n){"use strict";n.d(t,"a",(function(){return me}));var a=n("PzR3"),r=n("mHcA"),i=n("I7vG"),o=n("6fbX"),s=n("lrqh"),l=n("PrA7");class c{constructor(){this._log=l.Monitoring.Logging.getLogger("AlertManager.repository",l.Logging.LogLevel.DEBUG),this._allAlerts=new Map,this._capiAlertsIdMapping=new Map,this.add=e=>{this._allAlerts.set(e.id,e)},this.remove=e=>{this._log.trace("AllAlerts: Clean alert from all alerts",e.toLiteString()),Object(o.f)(0===e.references,"can not dispose alert in use",()=>e.toString()),Object(o.f)(!1===e.isValid,"can not dispose valid alert",()=>e.toString()),Object(o.f)(this._allAlerts.delete(e.id),"alert should exist in alerts list",()=>e.toString()),e.dispose()},this.addToCapiMapping=e=>{e.isValid||Object(i.pipe)(e.rawId,s.g.fold(()=>this._log.debug("skip register of local alert in capi mapping",e),t=>{this._log.trace("register alert in capi mapping",e.toLiteString()),Object(o.f)(void 0===this._capiAlertsIdMapping.get(t),"unexpected overlap of rawid alert",()=>e.toString()),e.validate(),this._capiAlertsIdMapping.set(t,e.id)}))},this.removeFromCapiMapping=e=>{e.isValid&&(Object(i.pipe)(e.rawId,s.g.tap(t=>{this._log.trace("clean valid alert capi mapping for: "+e.toLiteString()),Object(o.f)(this._capiAlertsIdMapping.delete(t),"valid alert should had valid raw id",()=>e.toString())})),e.invalidate())},this.getByAlertId=e=>s.g.fromNullable(this._allAlerts.get(e)),this.getByRawAlertId=e=>Object(i.pipe)(s.g.fromNullable(this._capiAlertsIdMapping.get(e)),s.g.chain(this.getByAlertId)),this.swapRaw=(e,t)=>{const n=Object(i.pipe)(e.rawId,s.g.exists(e=>this._capiAlertsIdMapping.has(e))),a=Object(i.pipe)(e.rawId,s.g.exists(e=>this._capiAlertsIdMapping.has(e)));Object(o.f)(n||a,"At least one of the swapped alerts should be registered in the system");const r=e._raw;e.silentPatchWithRawAlert(t._raw),t.silentPatchWithRawAlert(r),n&&this._capiAlertsIdMapping.set(s.g.unsafeGet(e.rawId),e.id),a&&this._capiAlertsIdMapping.set(s.g.unsafeGet(t.rawId),t.id)},this.toArray=()=>Array.from(this._allAlerts.values()),this.toMap=()=>this._allAlerts,this.toJSON=()=>({allAlerts:Array.from(this._allAlerts.entries()),idMapping:Array.from(this._capiAlertsIdMapping.entries())})}}var u,d=n("8Js9"),p=n("OA+g"),m=n("LNSM"),h=n("94k3"),g=n("hoSD"),f=n("tn8Q"),b=n("D9EC"),y=n("PBHX"),v=n("zR/0"),S=n("aIes"),C=n("gy42"),w=n("yA7V"),k=n("Xo/A"),E=n("lSTv"),O=n("7b34"),A=n("QxMx"),_=n("+X10"),x=n("QshB");!function(e){function t(t){return o=>Object(i.pipe)(t,O.a.foldMap(e.group)(a,r,n),Object(A.a)(e.group.concat)(o))}e.group=x.b.group,e.eq=x.b.eq,e.applyDiff=t,e.fromAlerts=function(e){const n=l.Monitoring.Logging.getLogger("DocumentCounters");return e.pipe(v.a.scan((e,n)=>({alerts:n,counters:t(w.a.Diff.toRegistered(w.a.diff(e.alerts,n)))(e.counters)}),{alerts:w.a.empty,counters:x.b.group.empty}),v.a.tap(({counters:e})=>{x.b.isValid(e)||n.error("Counters can not be below zero",x.b.show.show(e))}),v.a.map(({counters:e})=>e))};const n=e=>_.a.toUnmutedOnly(e.counters),a=Object(p.flow)(n,e.group.inverse),r=(t,r)=>e.group.concat(n(r),a(t))}(u||(u={}));var I,j=n("93Qa"),T=n("5p8x"),M=n("viRF"),N=n("GUi3");!function(e){function t(e){const{left:t,right:n}=Object(i.pipe)(e,T.d(s.g.fromNullable),T.e(e=>"GeneralScore"!==e),T.k((e,t)=>{return{lensId:(n=e,n===N.a.SpecialId.Plagiarism?s.b.right(N.a.SpecialId.Plagiarism):N.a.OutcomeId.toOutcomeId(n)),score:M.b.fromNumber(t)};var n}),T.l(Object(j.sequenceS)(s.b.either))),a=Object(i.pipe)(n,T.j(({lensId:e,score:t})=>Object(p.tuple)(e,t)),e=>new Map(Object.values(e)));return Object(i.pipe)(s.m.fromOptions(s.g.fromPredicate(Object(p.not)(T.i))(t),s.g.fromPredicate(Object(p.not)(s.e.isEmpty))(a)),s.g.getOrElse(()=>s.m.right(new Map)))}e.empty=new Map,e.eq=s.e.getEq(N.a.Id.ord,M.b.ord),e.fromCapi=function(e){return e.pipe(v.a.filter(Object(b.p)(h.a.CAPIEvent.is("finish"),h.a.CAPIEvent.is("async_check_finished"),h.a.CAPIEvent.is("feedback_ack"))),v.a.map(e=>e.outcomeScores),v.a.filter(b.i),v.a.map(t),v.a.tap(s.m.mapLeft(e=>{T.i(e)||l.Monitoring.Logging.getLogger("LensesScores").error("failed to parse capi scores",e)})),v.a.filter(Object(b.p)(s.m.isBoth,s.m.isRight)),v.a.map(e=>e.right))}}(I||(I={}));var P=n("kMag"),L=n("7qGb"),R=n("LTbp"),B=n("FiSa"),F=n("4ae2"),D=n("WOlp"),H=n("SGhz"),V=n("qE82"),U=n("v0pb"),W=n("U75S"),q=n("24uI"),z=n("dE97");const $=Object(b.l)(l.Monitoring.Logging.getLogger),G=Object(p.flow)(W.ub(({beingAppliedAlert:e,undo:t,reversedAlternative:n})=>R.o(()=>{const a={action:h.a.AlertFeedbackType.ACCEPTED,commit:()=>$("AlertManager.ops").debug(`_applyTransformJson(${e.toLiteString()}):commit()`),undo:t,reversedAlternative:e.registerReversedAlternative(n)},r=e.switchToApplied(a),i=z.q.create(r.state.from,U.a.create(e));return[r.id,i]},s.b.toError)),R.l);function K(e){const t=h.a.Alternative.compose(e.alternatives.map(d.c(e=>e.alternative)),e.currentFullText);return Object(i.pipe)(q.a.nonEmpty(t.composedDelta)?s.g.some(t):s.g.none,s.g.map(({composedDelta:t,reversedAlternatives:n})=>({changeWithFormatting:Object(i.pipe)(t,V.a.getEnrichedWithFormattingDelta(e.currentFullText),t=>B.a.delta(t,e.originalTextLength)),correctRevAlternatives:Object(i.pipe)(n,f.a.tapFailure(({rejected:e})=>l.Monitoring.Logging.getLogger("AlertManager.ops").error("failed to generate reverse alternative",e)),f.a.foldSuccess(s.a.map(t=>({reversedAlternative:t.reversedAlternative,alternative:d.b(e.alternatives[t.alternativeIndex]),alert:e.alerts[t.alternativeIndex].alert}))))})))}var Y;!function(e){const t=Object(p.flow)((e,t)=>s.b.tryCatch(()=>z.q.create(e,t),s.b.toError),s.b.map(e=>Object(p.tuple)(e[0].id,e)),L.of);e.prepare=L.chain(Object(p.tupled)(t)),e.prepareFromAlert=R.d(e=>t(e.state.from,U.a.create(e)))}(Y||(Y={}));function Z(e,t,n){return s.b.fromPredicate(e,e=>{const a=new o.b(t,e.toString());return l.Monitoring.Logging.getLogger("AlertManager.ops").error(t,{error:a,extra:n}),a})}const X=(e,t)=>Z(z.a.isNotDisposed,e,t);function Q(e){return R.d(s.g.fold(Object(p.constant)(R.j(void 0)),e))}var J;(J||(J={})).mock={undoApplied:()=>R.j(void 0)};class ee{constructor(e,t,n,a){this._positionManager=e,this._getContent=t,this._capiClient=n,this._alertsRepo=a,this._log=l.Monitoring.Logging.getLogger("AlertManager.ops"),this._sendUpdate=e=>R.o(()=>this.events.next({updated:new Map(e)}),s.b.toError),this._sendSingleUpdate=R.d(e=>this._sendUpdate([e])),this._flushChanges=R.o(()=>this.changes.next(B.a.flush()),s.b.toError),this.changes=new v.a.Subject,this.events=new v.a.Subject,this.undoApplied=(e,t)=>{return Object(i.pipe)(()=>this._positionManager.getTextLength(),L.chain(t=>{const a={alertsToUpdate:[],reversedDelta:new F.a,undo:p.constVoid},r=e.filter(z.a.isApplied).reduce((e,t)=>{const a=t.state.undoable;return z.p.isWithAlternative(a)?Object(i.pipe)(a.reversedAlternative,s.g.fold(()=>{D.B.withTransformJson(t._raw)&&this._log.error("No reversed delta registered for alert",{alert:t.toLiteString()}),n(e,t)},Object(p.flow)(e=>e(),s.b.map(e=>e.delta),s.b.fold(e=>{this._log.error("Could not retrieve reversed delta",{e,alert:t.toLiteString()})},a=>{n(e,t),Object(i.pipe)(a,h.a.Alternative.fromRawDelta,t=>t.rebase(e.reversedDelta),s.g.fold(()=>{e.reversedDelta=e.reversedDelta.compose(a)},({delta:t})=>{e.reversedDelta=e.reversedDelta.compose(t)}))})))):n(e,t),e},a);return r.alertsToUpdate.length>0?Object(i.pipe)(R.o(()=>{const e=Object(i.pipe)(r.reversedDelta,V.a.getEnrichedWithFormattingDelta(this._getContent()));this.changes.next(B.a.delta(e,t))},s.b.toError),R.a(this._flushChanges),R.a(Object(i.pipe)(r.undo,L.map(s.b.right))),R.b(Object(i.pipe)(r.alertsToUpdate,R.l,R.d(this._sendUpdate)))):R.j(void 0)}));function n(e,n){e.undo=Object(p.flow)(e.undo,n.state.undoable.undo),e.alertsToUpdate.push(Y.prepare(()=>[U.a.create(n),U.a.create(n.changeState(t===z.a.State.Applied.Method.ByCard?z.a.State.init:z.a.State.Removed.create(z.a.State.Removed.Reason.bulkAcceptUserResponse)))]))}},this._dismissBatch=(e,t)=>Object(i.pipe)(this._flushChanges,R.b(Object(i.pipe)(e,s.a.map(Object(p.flow)(L.of,L.map(X("_dismissBatch: Cannot send feedback for already disposed",t)),R.d(e=>this._applyFeedbackToAlert(e,h.a.AlertFeedbackType.IGNORE,z.b.sidebar,this._commitFeedbackToCapi(e,{kind:h.a.AlertFeedbackType.IGNORE,subtype:t}))),Y.prepareFromAlert)),R.l,R.d(this._sendUpdate)))),this._applyAlert=({alert:e,replacementText:t,source:n,method:a,feedbackSubtype:r,reason:o,gbPrompt:s})=>Object(i.pipe)(e,Z(z.a.isRegistered,"can not apply alert in non registered state"),L.of,R.a(this._flushChanges),R.d(e=>this._switchToBeingApplied(e,n,a)),R.d(({beingAppliedAlert:e,undo:n})=>Object(i.pipe)(e.getReplaceEither.bind(e),R.m,R.c(()=>new Error("Cannot apply alert with tJSON"),a=>{this._log.debug(`_applyAlert(${e.toLiteString()}, rrange: ${a})`);const i=a.start,l=a.end-a.start,c=(new F.a).retain(i).delete(t.length).insert(e.replaceText);return{alert:e,undo:n,reverseDelta:c,replacementText:t,removeLen:l,feedbackSubtype:r,pos:i,reason:o,gbPrompt:s}}))),R.d(this._applyAlertData)),this._applyTransformJson=({alerts:e,source:t,method:n,feedbackSubtype:a,drilldownSuggestionIds:r,reason:o,gbPrompt:l})=>Object(i.pipe)(this._flushChanges,R.b(Object(i.pipe)(e,R.n(e=>Object(i.pipe)(e.alternative,R.i(t=>Object(p.tuple)(t,function(e){switch(e._raw.point){case"AllCapsBoldification":return h.a.AlternativeReversed.fromAlternativeBoldified;case"Lists":return h.a.AlternativeReversed.fromAlternativeListified;default:return h.a.AlternativeReversed.fromAlternative}}(e.alert))))))),R.d(t=>R.o(()=>({alternatives:t,alerts:e,originalTextLength:this._positionManager.getTextLength(),currentFullText:this._getContent()}),s.b.toError)),R.i(K),Q(e=>Object(i.pipe)(e.correctRevAlternatives,s.a.map(({alert:e,alternative:s,reversedAlternative:c})=>Object(i.pipe)(this._switchToBeingApplied(e,t,n),R.e(e=>R.k(this._sendApplyTransformJsonFeedback(e.beingAppliedAlert,s.alternativeIndex,a,r,o,l))),R.i(e=>Object.assign(Object.assign({},e),{reversedAlternative:c})))),R.l,R.d(t=>Object(i.pipe)(R.o(()=>this.changes.next(e.changeWithFormatting),s.b.toError),R.a(this._flushChanges),L.apSecond(Object(i.pipe)(G(t),R.d(this._sendUpdate)))))))),this._alertFeedback=(e,t,n)=>{this._log.debug(`_alertFeedback(${e.toLiteString()}, feedbackType: ${t.kind}, source: ${n})`),z.a.isHidden(e)&&this._log.error("Sending feedback for a hidden alert",{alert:e,feedbackType:t.kind});const a=this._commitFeedbackToCapi(e,t);return Object(i.pipe)(e,X("_alertFeedback: Cannot send feedback for already disposed",t),L.of,R.d(e=>t.kind!==h.a.AlertFeedbackType.LOOKED||e.isRead?h.a.FeedbackType.willRemoveAlert(t.kind)?Object(i.pipe)(this._flushChanges,R.b(this._applyFeedbackToAlert(e,t.kind,n,a)),Y.prepareFromAlert,this._sendSingleUpdate):Object(i.pipe)(a,R.k):Object(i.pipe)(Y.prepare(()=>[U.a.create(e),(e.isRead=!0,U.a.create(e))]),this._sendSingleUpdate,L.apFirst(a))))},this._alertBatchFeedback=(e,t,n)=>Object(i.pipe)(e,s.a.filterMap(e=>e.rawId),s.f.fromArray,s.g.fold(Object(p.constant)(p.constVoid),e=>this._sendFeedback({kind:t,alertIds:e,subtype:n}))),this._notifyAlertUpdated=Object(p.flow)(e=>[[e[0].id,e]],this._sendUpdate),this._releaseRef=(e,t)=>Object(i.pipe)(R.o(()=>{this._log.debug(`_releaseRef ${e} on (${t.toLiteString()}) refs: ${t._refNames}`,{shouldBeRemoved:z.a.shouldBeRemoved(t)}),z.a.shouldBeRemoved(t)&&this.events.next({removed:new Map([[t.id,U.a.create(t)]])})},s.b.toError)),this._changeMuteState=(e,t)=>{const n=Object(i.pipe)(e,f.a.fromArray(Object(p.flow)(X("_changeMuteState: Cannot send Mute feedback for already disposed",t),s.b.chain(Z(e=>s.g.isSome(e.muteCategory)||z.a.belongsToAnySpecialCategory(e),"Alert is not muting")))));return Object(i.pipe)(n,f.a.foldSuccess(s.a.map(e=>Y.prepare(()=>[U.a.create(e),(e.mute=t,U.a.create(e))]))),R.l,R.i(s.f.fromArray),Q(this._sendUpdate),R.i(Object(p.constant)(n)))},this._changeGapValue=(e,t)=>Object(i.pipe)(e,Z(z.a.isOneGap,"can not change gap value for a non one gap alert"),L.of,R.d(e=>Y.prepare(()=>[U.a.create(e),U.a.create(e.changeGapValue(t))])),this._sendSingleUpdate),this._confirmApplied=Object(p.flow)(s.a.map(e=>Y.prepare(()=>[U.a.create(e),U.a.create(e.changeState(z.a.State.Removed.create(z.a.State.Removed.Reason.bulkAcceptUserResponse)))])),R.l,R.d(this._sendUpdate)),this._changeTakeawayFeedback=(e,t)=>Object(i.pipe)(e,Z(z.a.isTakeaway,"can not change feedback for non-takeaway alert"),L.of,R.d(e=>{const n=U.a.create(e),a=e.setFeedback(t),r=U.a.create(a);return Object(i.pipe)(Y.prepare(()=>[n,r]),this._sendSingleUpdate,R.i(()=>a))})),this._shortenItSummaryNotFound=e=>Object(i.pipe)(e,X("_shortenItSummaryNotFound: Cannot change state to not-found for already disposed"),s.b.chain(Z(z.a.isShortenIt,"cannot change state to not-found for a non shorten-it alert")),L.of,R.d(e=>{const t=U.a.create(e),n=e.changeSummaryState("notFound"),a=U.a.create(n);return Object(i.pipe)(Y.prepare(()=>[t,a]),this._sendSingleUpdate,R.i(()=>n))})),this._commitShortenItSummaryRequest=e=>Object(i.pipe)(e,X("_commitShortenItSummaryRequest: Cannot send shorten_it_submit message for already disposed"),s.b.chain(Z(z.a.isShortenIt,"cannot send shorten_it_submit for a non shorten-it alert")),L.of,R.d(e=>{const t=U.a.create(e),n=e.changeSummaryState("requestSent"),a=U.a.create(n);return Object(i.pipe)(Y.prepare(()=>[t,a]),this._sendSingleUpdate,R.i(()=>n),L.apFirst(this._commitShortenItSubmitToCapi(e)))})),this._dismissShortenItTransformGroup=(e,t)=>Object(i.pipe)(e,X("_dismissShortenItTransformGroup: Cannot dismiss transform group for already disposed",t),s.b.chain(Z(z.a.isShortenIt,"cannot dismiss transform group for a non shorten-it alert")),L.of,R.d(e=>{const n=U.a.create(e),a=e.dismissTransformGroup(t),r=U.a.create(a);return Object(i.pipe)(Y.prepare(()=>[n,r]),this._sendSingleUpdate,R.i(()=>a))})),this._changeToneAIToneAlternative=(e,t)=>Object(i.pipe)(e,Z(z.a.isToneAI,"Cannot change tone for a non-ToneAI alert."),L.of,R.d(e=>R.o(()=>{const n=[Object(p.tuple)(e.id,z.q.create(U.a.create(e),U.a.create(e.setSelectedToneAlternativeIdx(t))))];return this.events.next({updated:new Map(n)}),e},s.b.toError))),this._handleCapiError=e=>t=>{H.a.isDroppedError(t)?this._log.debug(`Stopped listening for ${e} message acknowledge`,t):H.b.isNotConnectedError(t)?this._log.warn(`Failed to send ${e} as CAPI was not connected`,t):this._log.error("Failed to send "+e,t)},this._applyAlertData=({pos:e,removeLen:t,reverseDelta:n,undo:a,replacementText:r,alert:o,feedbackSubtype:l,reason:c,gbPrompt:u})=>Object(i.pipe)(R.o(()=>{let i=this._positionManager.getTextLength(),d=!1;const p={action:h.a.AlertFeedbackType.ACCEPTED,replacement:r,commit:()=>{d||this._log.debug(`_applyAlert(${o.toLiteString()}):commit()`)},reversedAlternative:s.g.none,undo:()=>{d=!0,this._log.debug(`_applyAlert(${o.toLiteString()}):undo()`);const e=this._positionManager.getTextLength();e!==i&&this._log.error(`Text has changed while uncommitted apply is present. Expected: ${i}, actual: ${e}`);const t=B.a.delta(n,e);this.changes.next(t),this.changes.next(B.a.flush()),a()}};return this._sendApplyTextFeedback(o,r,l,c,u)(),this.changes.next(B.a.delta((new F.a).retain(e).delete(t).insert(r),i)),this.changes.next(B.a.flush()),i=this._positionManager.getTextLength(),p},s.b.toError),R.d(e=>R.o(()=>o.switchToApplied(e),s.b.toError)),Y.prepareFromAlert,this._sendSingleUpdate),this._sendApplyFeedback=(e,t)=>e.state.method===z.a.State.Applied.Method.ByCard?this._commitFeedbackToCapi(e,t):p.constVoid,this._sendApplyTextFeedback=(e,t,n,a,r)=>this._sendApplyFeedback(e,{kind:h.a.AlertFeedbackType.ACCEPTED,replacementText:t,subtype:n,reason:a,gbPrompt:r}),this._sendApplyTransformJsonFeedback=(e,t,n,a,r,i)=>{const o={kind:h.a.AlertFeedbackType.ACCEPTED,alternativeIndex:t,subtype:n,drilldownSuggestionIds:a,reason:r,gbPrompt:i},s=z.a.isOneGap(e)?Object.assign(Object.assign({},o),{gapValue:e.gapValue}):z.a.isShortenIt(e)?Object.assign(Object.assign({},o),{dismissedTransformGroups:Array.from(e.dismissedTransformGroups)}):o;return this._sendApplyFeedback(e,s)}}_applyFeedbackToAlert(e,t,n,a){return R.o(()=>{this._alertsRepo.removeFromCapiMapping(e);const r=this._createFeedbackUndoable(e,t,a);return e.changeState(z.a.State.Applied.create(r,n,z.a.State.Applied.Method.ByCard,U.a.create(e)))},s.b.toError)}_createFeedbackUndoable(e,t,n){return{action:t,replacement:e.replaceText,commit:n,undo:()=>this._alertsRepo.addToCapiMapping(e)}}_commitFeedbackToCapi(e,t){return Object(i.pipe)(e.rawId,s.g.fold(Object(p.constant)(()=>this._log.debug("skip feedback for local alert",e)),e=>this._sendFeedback(Object.assign({id:e},t))))}_sendFeedback(e){return()=>{s.l.toPromise(this._capiClient.sendFeedback(e)).catch(this._handleCapiError("alert feedback"))}}_commitShortenItSubmitToCapi(e){return Object(i.pipe)(e.rawId,s.g.fold(Object(p.constant)(()=>this._log.debug("skip shorten-it-submit for local alert",e)),e=>this._shortenItSubmit(e)))}_shortenItSubmit(e){return()=>{s.l.toPromise(this._capiClient.shortenItSubmit(e)).catch(this._handleCapiError("shorten-it-submit"))}}_switchToBeingApplied(e,t,n){return R.o(()=>(this._alertsRepo.removeFromCapiMapping(e),e.switchToBeingAppliedState(t,n)),s.b.toError)}}var te,ne,ae,re,ie,oe=n("a5W6");(te||(te={})).toString=s.b.fold(({id:e})=>"rid:"+e,e=>"aid:"+e.toString()),(ne||(ne={})).match=function(e){return t=>t instanceof z.e?e.alertAddOrUpdate(t):t instanceof Map?e.rangeChange(t):"_tag"in t?e.alertRemove(t):e.alertChange(t)},(ae||(ae={})).defaultValidator=z.a.isDuplicatedBy;class se{constructor(e,t,n){this._positionManager=e,this._alertsRepo=t,this._alertDuplicateValidator=n,this._log=l.Monitoring.Logging.getLogger("AlertManager.pipeline",l.Logging.LogLevel.DEBUG),this._heuristicallyRemovedAlerts=new Map,this.process=e=>(this._log.trace("process, to process = "+e.length),this._collectChanges(this._processAlertsBatch(e))),this.reset=e=>(this._cleanupPendingAlerts(e),this._finishAlertsChecking()),this._processAlertsBatch=e=>{const{toAdd:t,toUpdate:n,toAddOrUpdate:a,toRemoveUnfiltered:r,toChangeUnfiltered:l,toDispose:c,rangeChanges:u}=this._processBatch(e),d=e=>Object(i.pipe)(this._alertsRepo.getByAlertId(e),s.g.getOrElse(()=>t.get(e)||n.get(e)||c.get(e)));l.forEach(e=>Object(i.pipe)(s.g.fromNullable(a.get(e.id)),s.g.fold(()=>Object(i.pipe)(this._alertsRepo.getByRawAlertId(e.id),s.g.map(t=>{const r=t.copy(!1),i=se._prepareUpdate(r,e);s.g.isSome(e.transformJson)?r.updateAlertWithManagedData(i):r.patchWithRawAlert(i),n.set(r.id,r),a.set(e.id,r)}),s.g.getOrElse(()=>this._log.info("Change from CAPI: Cannot find internal AlertId."))),t=>{const a=se._prepareUpdate(t,e);n.has(t.id)?t.patchWithRawAlert(a):t.updateAlertWithManagedData(a)})));const m=r.reduce((e,r)=>{const l=Object(i.pipe)(r,s.b.fold(({id:e})=>Object(i.pipe)(this._alertsRepo.getByRawAlertId(e),s.g.map(e=>z.a.isRegistered(e)?e:void 0),s.g.getOrElse(()=>this._heuristicallyRemovedAlerts.has(e)?void this._heuristicallyRemovedAlerts.delete(e):a.get(e))),d));return void 0===l?(s.b.isLeft(r)?this._log.debug("Remove from CAPI: Cannot find internal AlertId. capiId: #"+JSON.stringify(r.left)):this._log.error("Cannot find existing alert by id",r.right),e):(Object(i.pipe)(this._getMergeTarget(r,a),s.g.filter(le(e=>e.lensId!==l.lensId?(this._log.warn("Trying to merge alerts from different lenses",{source:l,target:e}),!1):s.g.isNone(l.rawId)?(this._log.warn("Trying to merge into local alert",{source:l,target:e}),!1):l.references>e.references)),s.g.fold(()=>{e.set(l.id,{alert:l,reason:Object(i.pipe)(r,s.b.swap,s.g.fromEither,s.g.chain(e=>e.hint),s.g.chain(e=>e===h.a.AlertRemoveHint.NotFixed?s.g.some(z.a.State.Removed.Reason.capiDismiss):s.g.none),s.g.getOrElse(()=>z.a.State.Removed.Reason.capiDone))})},s.b.fold(e=>{this._log.debug("swap raw alerts with new alert",{source:l.toString(),newTarget:e.toString()}),this._alertsRepo.swapRaw(l,e);const r=s.g.unsafeGet(l.rawId);Object(o.f)(void 0===n.get(e.id),"Added alert should not be present in the updated alerts map",()=>n.get(e.id).toString());const i=l.copy();n.set(i.id,i),a.set(r,i),t.delete(e.id),c.set(e.id,e)},t=>{this._log.debug("swap raw alerts with existing alert",{source:l.toString(),existingTarget:t.toString()}),this._alertsRepo.swapRaw(l,t),e.set(t.id,{alert:t,reason:z.a.State.Removed.Reason.capiDismiss})}))),e)},new Map),g=new Map;return u&&u.forEach((e,t)=>{Object(i.pipe)(t,d,s.g.fromPredicate(a=>a?z.a.isInteractable(a)?!n.has(a.id)||(this._log.debug("skip range change on updateHolder alert",a.toLiteString()),!1):(this._log.debug("skip range change on non-interactable alert",a.toLiteString()),!1):(this._log.warn("got range changes for unknown alert",{alertId:t,alertRanges:e}),!1)),s.g.chain(n=>Object(i.pipe)(n.onRangeChange(e),s.g.map(e=>{switch(e.state){case z.a.Transition.State.Pending:return g.set(n.id,[n,e.removedRanges]);case z.a.Transition.State.Dispose:return Object(i.pipe)(n.rawId,s.g.fold(()=>this._log.debug("dispose by range change on unknown rid",n.id),e=>this._heuristicallyRemovedAlerts.set(e,n))),m.set(t,{alert:n,reason:z.a.State.Removed.Reason.textChange});default:return Object(o.c)(e)}}))))}),m.forEach(({alert:e})=>{this._log.trace("check cancellations from toRemove: "+e.toLiteString()),Object(i.pipe)(e.rawId,s.g.fold(()=>{t.get(e.id)&&(this._log.debug("cancel add local alert for: "+e.toLiteString()),t.delete(e.id),m.delete(e.id),c.set(e.id,e)),Object(o.f)(!1===n.has(e.id),"Added local alert should not be present in the updated alerts map",()=>n.get(e.id).toString())},r=>{const i=a.get(r);i&&(a.delete(r),t.delete(i.id)?(this._log.debug("cancel add for: "+i.toLiteString()),this._log.debug("cancel remove for: "+e.toLiteString()),m.delete(e.id),c.set(e.id,e),c.set(i.id,i)):n.delete(i.id)?(this._log.debug("cancel update for: "+i.toLiteString()),i.id!==e.id&&(this._log.debug("marking update to dispose: "+i.toLiteString()),c.set(i.id,i))):this._log.error("_addOrUpdateAlert toAdd || toUpdate mapping in unsync state!",i))})),this._log.trace("check if local orphan toRemove: "+e.toLiteString()),Object(i.pipe)(this._alertsRepo.getByAlertId(e.id),s.g.fold(()=>{this._log.debug("cancel delete for: "+e.toLiteString()),m.delete(e.id)},p.constVoid))}),c.size>0&&this._log.debug("_cancelAlerts, to cancel = "+c.size,{alerts:Array.from(c.values()).map(e=>e.toLiteString())}),c.forEach(e=>{g.delete(e.id)&&this._log.debug("cancel startChecking for: "+e.toLiteString());try{e.dispose()}catch(t){this._log.warn("unexpected error on disposing canceled alert",t,e)}}),{toAdd:t,toUpdate:n,toRemove:m,toStartChecking:g}},this._collectChanges=({toAdd:e,toUpdate:t,toRemove:n,toStartChecking:a})=>{const{alertsToAdd:r,alertsToUpdate:i,alertsToRemove:o}=this._addAlerts(Array.from(e.values()),n);return t.size>0&&this._updateAlerts(Array.from(t.values()),i),a.size>0&&this._startAlertsChecking(Array.from(a.values()),i,r),o.size>0&&this._removeAlerts(o,i),{added:r,updated:i}},this._validateAlertAdd=e=>{try{const t=!z.a.isPremium(e)||void 0!==e.categoryHuman;return e._raw.impact!==D.B.Impact.Critical&&e._raw.impact!==D.B.Impact.Advanced&&s.g.isSome(e.rawId)&&this._log.warn("CAPI provides corrupted impact prop",{alert:e,raw:D.B.clearUserTextFields(e._raw)}),t||(this._log.error("CAPI provides corrupted alert",{alert:e,raw:D.B.clearUserTextFields(e._raw)}),e.dispose()),Object(i.pipe)(e.rawId,s.g.exists(e=>s.g.isSome(this._alertsRepo.getByRawAlertId(e))))?(this._log.warn("unexpected overlap on rawId for non-updatable alert",{alert:e,raw:D.B.clearUserTextFields(e._raw)}),e.dispose(),!1):e.lensType===N.a.Type.Plagiarism&&M.b.isMax(e.progress)?(this._log.info("CAPI provides a Plagiarism alert with an invalid progress",{alert:e,raw:D.B.clearUserTextFields(e._raw)}),e.dispose(),!1):t}catch(t){this._log.error("Cannot validate alert",t);try{e.dispose()}catch(e){this._log.warn("Cannot dispose invalid alert",e)}return!1}},this._recheckedAlerts=new Set,this._terminateAlertChecking=({id:e})=>{this._recheckedAlerts.delete(e)&&this._log.debug("Stopped watching checking state for alert",e)},this._applyRemoveToAlert=({alert:e,reason:t})=>(this._alertsRepo.removeFromCapiMapping(e),t!==z.a.State.Removed.Reason.textChange&&t!==z.a.State.Removed.Reason.duplicated&&e.clearCapiId(),e.changeState(z.a.State.Removed.create(t))),this._finishAlertChecking=e=>{Object(o.f)(this._recheckedAlerts.delete(e.id),"tried to finish checking on alert which had not been marked as checking"),this._log.debug("Stopped watching checking state for alert",e.id);const t=U.a.create(e);return z.q.create(t,U.a.create(e.changeState(z.a.State.Registered.create(z.a.CheckingState.IDLE))))}}static _prepareUpdate(e,t){const n=Object.assign(Object.assign({},e.toRawAlert()),{rev:t.rev});return D.B.withTransformJson(n)&&Object(i.pipe)(t.transformJson,s.g.tap(e=>n.transformJson=e)),Object(i.pipe)(t.extraProperties,s.g.tap(e=>n.extra_properties=e)),Object(i.pipe)(t.muted,s.g.tap(e=>n.muted=e)),n}_processBatch(e){return e.reduce((e,t)=>(ne.match({alertAddOrUpdate:t=>{Object(i.pipe)(t.rawId,s.g.fold(()=>{e.toAdd.set(t.id,t)},n=>{Object(i.pipe)(this._alertsRepo.getByRawAlertId(n),s.g.filter(e=>e.allowUpdate),s.g.map(()=>{Object(i.pipe)(s.g.fromNullable(e.toAddOrUpdate.get(n)),s.g.map(t=>{this._log.debug("got overlap in batch on update"),e.toUpdate.delete(t.id),e.toDispose.set(t.id,t)})),e.toUpdate.set(t.id,t)}),s.g.getOrElse(()=>{Object(i.pipe)(s.g.fromNullable(e.toAddOrUpdate.get(n)),s.g.map(t=>{this._log.info("got overlap in batch on add"),e.toAdd.delete(t.id),e.toDispose.set(t.id,t)})),e.toAdd.set(t.id,t)})),e.toAddOrUpdate.set(n,t)}))},rangeChange:t=>{Object(o.f)(void 0===e.rangeChanges,"unexpected rangeChanges duplicate"),e.rangeChanges=t},alertRemove:t=>{e.toRemoveUnfiltered.push(t)},alertChange:t=>{e.toChangeUnfiltered.push(t)}})(t),e),{toAdd:new Map,toRemoveUnfiltered:[],toChangeUnfiltered:[],toUpdate:new Map,toAddOrUpdate:new Map,rangeChanges:void 0,toDispose:new Map})}_getMergeTarget(e,t){return Object(i.pipe)(e,s.b.swap,s.g.fromEither,s.g.chain(e=>e.mergedIn),s.g.chain(e=>{const n=Object(i.pipe)(this._alertsRepo.getByRawAlertId(e),s.g.map(e=>s.b.right(e)),s.g.alt(()=>Object(i.pipe)(s.g.fromNullable(t.get(e)),s.g.map(e=>s.b.left(e)))));return s.g.isNone(n)&&this._log.warn("Merge from CAPI: Cannot find alert to merge into.",{capiId:e}),n}),s.g.filter(le(e=>!!e.allowUpdate||(this._log.warn("Merge from CAPI: Trying to merge in a non-updatable alert, skipping. ",{target:e.toLiteString()}),!1))))}_addAlerts(e,t){return e.length>0&&this._log.debug("_addAlerts, count = "+e.length,{alerts:e.map(e=>e.toLiteString())}),Object(i.pipe)(e,oe.filter(this._validateAlertAdd),oe.reduce({alertsToAdd:new Map,alertsToUpdate:new Map,alertsToRemove:t},(e,t)=>{this._log.trace("Adding alert: "+t.toLiteString());const n=this._getAlertsWithMatchingRanges(t.getNotEnclosingHighlightRanges()[0]),a=this._tryToMatchInvalid(t,n);switch(this._log.trace("Adding alert match result",{inc:t.id,match:a}),a.type){case re.Type.Merged:{const n=a.result[1];z.a.isNotRegistered(n.alert)?z.a.isRemoved(n.alert)&&this._log.warn("unexpected merge into removed alert",{alert:n,newAlert:t}):this._alertsRepo.addToCapiMapping(n.alert),e.alertsToUpdate.set(n.id,a.result);break}case re.Type.Restored:{const t=a.result[1];Object(o.f)(!e.alertsToRemove.has(t.id),"can't update alert which we wanted to remove earlier"),this._alertsRepo.addToCapiMapping(t.alert),e.alertsToUpdate.set(t.id,a.result);break}case re.Type.Unmatched:{const t=a.result,r=n.filter(n=>z.a.isDuplicateCandidate(n,s.g.isNone(n.rawId))&&this._alertDuplicateValidator(t,n)&&!e.alertsToRemove.has(n.id));Object(o.f)(t.allowDuplicates||z.a.isApplicableAlert(t),"BaseAlertImpl must allow duplicates or be an ApplicableAlert type");const l=t.allowDuplicates?{result:ie.Add,toRemove:s.g.none}:this._tryAddAlert(t,r);switch(l.result){case ie.Add:case ie.OverwriteExisting:this._log.debug("AllAlerts: Append alert to all alerts",t.toLiteString()),this._alertsRepo.addToCapiMapping(t),Object(o.f)(!e.alertsToRemove.has(t.id),"can't add alert which we wanted to remove earlier",()=>t.toLiteString()),this._alertsRepo.add(t),e.alertsToAdd.set(t.id,U.a.create(t)),Object(i.pipe)(l.toRemove,s.g.tap(t=>{if(e.alertsToAdd.has(t.id)){this._alertsRepo.removeFromCapiMapping(t);const e=t.changeState(z.a.State.Removed.create(z.a.State.Removed.Reason.canceled));this._terminateAlertChecking(e),this._alertsRepo.remove(e)}else this._log.debug("schedule to remove duplicate",t.toLiteString()),e.alertsToRemove.set(t.id,{alert:t,reason:z.a.State.Removed.Reason.duplicated});e.alertsToAdd.delete(t.id),e.alertsToUpdate.delete(t.id)}));break;case ie.Skip:this._log.debug("Skip alert with low priority",t.id);break;default:Object(o.c)(l.result)}break}default:Object(o.c)(a)}return e}))}_updateAlerts(e,t){this._log.debug("_updateAlerts, to update = "+e.length,{alerts:e.map(e=>e.toLiteString())}),Object(i.pipe)(e,oe.reduce(t,(e,t)=>(this._log.trace("Updating alert: "+t.toLiteString()),Object(i.pipe)(this._alertsRepo.getByRawAlertId(s.g.unsafeGet(t.rawId)),s.g.fold(()=>this._log.warn("tried to update unknown alert",t),n=>{const a=t._raw;t.dispose();const r=e.has(n.id)?e.get(n.id)[0]:U.a.create(n);n.enqueueRawAlertForUpdate(a),e.set(n.id,z.q.create(r,U.a.create(n)))})),e)))}_startAlertsChecking(e,t,n){this._log.debug("_startAlertsChecking, to update = "+e.length,{alerts:e.map(([e,t])=>[e.toLiteString(),t])});const a=(e,t)=>{const n=e.changeState(z.a.State.Registered.create(z.a.CheckingState.CHECKING));return this._recheckedAlerts.add(e.id),U.a.create(t.size>0?n.enqueueRangesRemove(t):n)};Object(i.pipe)(e,oe.reduce({updatedAlerts:t,addedAlerts:n},(e,[t,n])=>(Object(i.pipe)(this._alertsRepo.getByAlertId(t.id),s.g.fold(()=>{this._log.warn("tried to start checking unknown alert",{alert:t,ranges:n})},()=>{if(e.addedAlerts.has(t.id))e.addedAlerts.set(t.id,a(t,n));else{const r=e.updatedAlerts.has(t.id)?e.updatedAlerts.get(t.id)[0]:U.a.create(t);e.updatedAlerts.set(t.id,z.q.create(r,a(t,n)))}})),e)))}_removeAlerts(e,t){e.forEach((e,n)=>{Object(i.pipe)(this._alertsRepo.getByAlertId(n),s.g.fold(()=>{this._log.warn("tried to remove unknown alert",e)},()=>Object(i.pipe)(t.get(n),s.g.fromNullable,s.g.map(d.b),s.g.filter(e=>z.a.isNotDisposed(e.alert)),s.g.alt(()=>Object(i.pipe)(e.alert,s.g.fromPredicate(z.a.isNotDisposed),s.g.map(U.a.create))),s.g.tap(a=>{const r=this._applyRemoveToAlert(e);this._terminateAlertChecking(r),t.set(n,z.q.create(a,U.a.create(r)))}))))})}_getAlertsWithMatchingRanges(e){return Object(i.pipe)(this._positionManager.findIntersections(e),oe.filter(Object(b.b)(P.a.is,P.b.isVisible)),oe.filter(Object(b.m)(P.b.isEnclosingView)),oe.filterMap(e=>this._alertsRepo.getByAlertId(e.meta.alertId)),oe.filter(e=>!(z.a.isApplied(e)&&e.getAppliedRanges().length>0)))}_tryToMatchInvalid(e,t){return Object(o.f)(!e.isValid,"added alert should be invalid"),Object(o.f)(z.a.isRegistered(e),"added alert should be in registered state",()=>e.toString()),Object(i.pipe)(s.g.fromNullable(t.find(t=>!t.isValid&&t.canBeMergedWith(e))),s.g.fold(()=>({result:e,type:re.Type.Unmatched}),t=>{Object(o.f)(Object(i.pipe)(t.rawId,s.g.forAll(Object(p.flow)(this._alertsRepo.getByRawAlertId,s.g.isNone))),"CAPI mapping should not contain invalid alerts"),this._log.debug(`Merging new alert (${e}) into the existing one aid(${t})`);const n=U.a.create(t);return t.patchWithRawAlert(e._raw),e.dispose(),t.allowUpdate&&z.a.isCapiDone(t)?{result:z.q.create(n,U.a.create(t.changeState(z.a.State.init))),type:re.Type.Restored}:{result:z.q.create(n,U.a.create(t)),type:re.Type.Merged}}))}_tryAddAlert(e,t){return Object(i.pipe)(s.f.fromArray(t),s.g.map(t=>{Object(o.f)(1===t.length,"Only one visible alert to one range is expected while _tryEnqueueAlert",`got ${t.map(e=>e.toString())} with input (${e.toString()})`);const n=t[0];return n.extraProperties.priority<=e.extraProperties.priority?{result:ie.OverwriteExisting,toRemove:s.g.some(n)}:(e.dispose(),{result:ie.Skip,toRemove:s.g.none})}),s.g.getOrElse(()=>({result:ie.Add,toRemove:s.g.none})))}_cleanupPendingAlerts(e){e.removed.forEach(e=>{this._heuristicallyRemovedAlerts.delete(e)&&this._log.info("unexpected alert remove from finish msg",e)}),this._heuristicallyRemovedAlerts.size>0&&this._log.debug("we had heuristically removed alerts which were not confirmed by capi",{size:this._heuristicallyRemovedAlerts.size}),this._heuristicallyRemovedAlerts.clear()}_finishAlertsChecking(){return Object(i.pipe)(Array.from(this._recheckedAlerts.values()),oe.filterMap(e=>{const t=this._alertsRepo.getByAlertId(e);s.g.isNone(t)&&(this._log.error("tried to finish checking on missing alert",e),this._recheckedAlerts.delete(e));const n=Object(i.pipe)(t,s.g.filter(e=>z.a.isRegistered(e)),s.g.map(e=>Object(p.tuple)(e.id,this._finishAlertChecking(e))));return s.g.isNone(n)&&this._log.error("tried to update checking state on non-registered alert",e),n}),e=>({updated:new Map(e)}))}}function le(e){return s.b.fold(e,e)}!function(e){let t;!function(e){e.Unmatched="Unmatched",e.Merged="Merged",e.Restored="Restored"}(t=e.Type||(e.Type={}))}(re||(re={})),function(e){e.Skip="Skip",e.Add="Add",e.OverwriteExisting="OverwriteExisting"}(ie||(ie={}));var ce=n("4Gi8");class ue{constructor(e,t,n,a,r,o,O,A=ae.defaultValidator,_=new c,x=e.rangeChanged){this._positionManager=e,this._alternativeManager=t,this._getContent=n,this._capiEvents=a,this._capiClient=r,this._documentCounters=o,this._transformRawAlert=O,this._alertDuplicateValidator=A,this._alertsRepository=_,this.rangeChanged=x,this._state=m.a.create(E.a.empty),this.state=this._state.view(E.a.toCheckingResult),this.lensesScores=m.a.create(I.empty),this._log=l.Monitoring.Logging.getLogger(ue.loggerName,l.Logging.LogLevel.TRACE,l.Logging.LogColor.Manager.getColor()),this._subs=[],this._addAlerts=new v.a.Subject,this._removeAlerts=new v.a.Subject,this._changeAlerts=new v.a.Subject,this._freePremiumAlerts=new v.a.Subject,this._flush=new v.a.Subject,this._alertsPerRevision=0,this._pipeline=new se(this._positionManager,this._alertsRepository,this._alertDuplicateValidator),this._invalidateAlerts=()=>{this.flushAlerts();const[e,t]=g.a.partition(this._getAllAlertsAsArray(),e=>e.isValid);this._log.debug("Invalidate alerts...",{valid:e.length,invalid:t.length}),e.forEach(e=>{this._alertsRepository.removeFromCapiMapping(e),e.clearCapiId()}),t.forEach(e=>e.clearCapiId())},this._removeInvalidAlerts=e=>{this._log.debug(`Removing invalid alerts by type '${e}'...`);const t=this._getTypeFilter(e),n=this._getAllAlertsAsArray().filter(e=>!e.isValid&&z.a.isNotDisposed(e)&&z.a.isRegistered(e)&&t(e));n.forEach(e=>this._removeAlertBuffered(s.b.right(e.id))),this._log.debug(n.length+" invalid alerts removed"),this.flushAlerts(),this._log.isEnabled(l.Logging.LogLevel.TRACE)&&this._log.trace("Removed alerts",n.map(e=>e.toString()))},this._onCapiEvent=e=>{try{switch("alert_received"===e.kind&&this._alertsPerRevision++,e.kind){case"alert_received":case"plagiarism_alert_received":if(!1===e.alert.hidden&&void 0===e.alert.cardLayout)return void this._log.warn("got alert with empty mapping",{pname:e.alert.pname});"unlocked"===e.alert.extra_properties.free_premium?this._handleFreePremium(e.alert):this._addAlertBuffered(z.a.create(this._transformRawAlert(e.alert),this._ops,this._positionManager,this._alternativeManager));break;case"alert_removed":this._log.debug(`Remove from capi #${e.alertId}, merged in #${s.g.getOrElse(()=>"None")(e.mergedIn)}, hint: ${s.g.getOrElse(()=>"None")(e.hint)}`);Object(i.pipe)(this._alertsRepository.getByRawAlertId(e.alertId),s.g.exists(z.a.isBulkApplied))||this._removeAlertBuffered(s.b.left({id:e.alertId,mergedIn:e.mergedIn,hint:e.hint}));break;case"alert_changed":this._log.debug("Alert change from capi #"+e.alertId),this._changeAlertBuffered({id:e.alertId,rev:e.rev,extraProperties:s.g.fromNullable(e.extraProperties),transformJson:s.g.fromNullable(e.transformJson),muted:s.g.fromNullable(e.muted)});break;case"finish":this._log.debug(`Alerts per revision (#${e.revision}): ${this._alertsPerRevision}`),this._alertsPerRevision=0,"idle"===this._capiClient.checkingState&&this._emitDomainEvent(this._pipeline.reset(e))}}catch(t){y.a.isErrorLike(t)?this._log.error("Cannot handle CAPI event.",t,{capiEvent:e}):this._log.error("Cannot handle CAPI event.",{capiEvent:e,error:t})}},this._emitDomainEvent=e=>{Object(i.pipe)(e,this._prepareDiff,k.a.createDiff,f.a.recover(e=>this._log.error("conflicts on diff creating",e)),e=>(this._log.debug("_emitDomainEvent",w.a.Diff.show.show(e)),e),E.a.applyDiff,s.j.map(f.a.recover(e=>this._log.error("conflicts on diff apply",e))),e=>this._state.modify(e))},this._prepareDiff=({added:e,updated:t=new Map,removed:n=new Map})=>(t.forEach((e,a)=>{Object(i.pipe)(e,d.d,z.a.fromAlertModel,z.a.shouldBeRemoved)&&(t.delete(a),n.set(a,e[0]))}),n.forEach(Object(p.flow)(z.a.fromAlertModel,this._disposeAlert)),{added:e,updated:t,removed:n}),this._disposeAlert=e=>{if(z.a.isApplied(e)&&e.state.undoable.commit(),z.a.isNotRegistered(e))try{this._alertsRepository.remove(e)}catch(t){this._log.error("Cannot remove alert.",t),z.a.isNotDisposed(e)&&e.dispose()}else this._log.error("unexpected remove of registered alert",e.toString())},this._ops=new ee(this._positionManager,this._getContent,this._capiClient,this._alertsRepository),this.loadScores=e=>{this.lensesScores.set(e)},this.undoApplied=this._ops.undoApplied,this.changes=this._ops.changes;const j=this.rangeChanged.pipe(v.a.map(({affected:e})=>e),v.a.filter(e=>e.length>0),v.a.map(e=>S.a.groupBy(e=>e.meta.alertId,e.filter(P.a.is))),v.a.filter(e=>e.size>0),v.a.tap(e=>this._log.debug("Range[s] changed",e)),v.a.share()),T=v.a.interval(250).pipe(v.a.startWith(0),v.a.merge(this._flush)),M=C.b.createIgnoreErrorsSubscriber(this._log);this._subs.push(M("_alertsInvalidation",this._capiEvents.pipe(v.a.filter(e=>h.a.CAPIEvent.is("session_started")(e)&&e.isNewSession),v.a.tap(this._invalidateAlerts),v.a.switchMapTo(v.a.mergeStatic(this._capiEvents.pipe(v.a.filter(h.a.CAPIEvent.is("finish")),v.a.take(1),v.a.mapTo("alert")),this._capiEvents.pipe(v.a.filter(h.a.CAPIEvent.is("async_check_finished")),v.a.take(1),v.a.mapTo("plagiarism")))),v.a.tap(this._removeInvalidAlerts))),M("_capiEvents",this._capiEvents.pipe(v.a.tap(this._onCapiEvent))),M("_alertsProccesing",this._addAlerts.pipe(v.a.merge(this._freePremiumAlerts),v.a.merge(this._removeAlerts),v.a.merge(this._changeAlerts),v.a.merge(j),v.a.buffer(T),v.a.filter(b.n),v.a.map(this._pipeline.process),v.a.tap(this._emitDomainEvent))),M("_alertsBuffer",j.pipe(v.a.merge(this._capiEvents.pipe(v.a.filter(h.a.CAPIEvent.is("before_finish","before_async_check_finish","async_check_finished")))),v.a.mapTo(C.b.voidValue),v.a.tap(this._flush))),M("_alertOpsAlertChanges",this._ops.events.pipe(v.a.tap(this._emitDomainEvent))),M("_lensesScoresChanges",I.fromCapi(this._capiEvents).pipe(v.a.tap(C.b.toAtom(this.lensesScores)))),M("documentCountersChanges",u.fromAlerts(this._state.view(k.a.iso.wrap)).pipe(v.a.tap(C.b.toAtom(this._documentCounters))))),Object(b.r)("alerts",()=>this.toString()),Object(b.r)("triggerRemove",e=>{this._removeAlertBuffered(s.b.right(e))})}flushAlerts(){this._flush.next()}loadAlerts(e){const t=new Map;return Object(b.n)(e)&&(this._log.debug(e.length+" external alert(s) where loaded"),e.map(ce.a.splitById).map(({id:e,local:t})=>({id:e,alert:z.a.create(Object(i.pipe)(t,h.a.RawAlert.matchBy(p.identity,e=>Object.assign(Object.assign({},e),{transformJson:{highlights:e.transformJson.highlights,alternatives:Object(i.pipe)(e.transformJson.alternatives,s.g.map(h.a.Alternative.Group.fromSerialized))}}),p.identity),this._transformRawAlert),this._ops,this._positionManager,this._alternativeManager)})).forEach(({id:e,alert:n})=>{this._addAlertBuffered(n),e&&t.set(e,n.id)})),t}toString(){return JSON.stringify(this,void 0,2)}toJSON(){return{repo:this._alertsRepository}}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_getTypeFilter(e){switch(e){case"alert":return e=>!z.a.isPlagiarism(e);case"plagiarism":return e=>z.a.isPlagiarism(e);default:return Object(o.c)(e)}}_addAlertBuffered(e){this._log.trace(`_addAlert(${e.toLiteString()})`),this._addAlerts.next(e)}_handleFreePremium(e){this._log.trace(`_handleFreePremium(${e.id})`),Boolean(e.updatable)&&Object(i.pipe)(this._alertsRepository.getByRawAlertId(e.id),s.g.filter(z.a.isNotDisposed),s.g.tap(()=>this._removeAlertBuffered(s.b.left({id:e.id,mergedIn:s.g.none,hint:s.g.none}))));const t=z.a.create(this._transformRawAlert(e),this._ops,this._positionManager,this._alternativeManager);this.flushAlerts(),this._freePremiumAlerts.next(t)}_changeAlertBuffered(e){this._log.trace(`_changeAlert(${e.id})`),this._changeAlerts.next(e)}_removeAlertBuffered(e){this._log.trace(`_removeAlert(${te.toString(e)})`),this._removeAlerts.next(e)}_getAllAlertsAsArray(){return this._alertsRepository.toArray().filter(z.a.isNotRemoved)}}ue.loggerName="AlertManager";var de=n("cA63"),pe=n("HqKA");function me(e,t,n,i,o){const s=new r.a,l=new a.a,u=new c,d=new ue(s,l,e,i,n,o,t,void 0,u),p=de.a.create(d.state);return{positionManager:s,altManager:l,alertManager:d,alertsRepository:u,alertsReader:p,alertsService:new pe.a(p,d._ops)}}},I4nd:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("KCID"),r=n("Z1nV"),i=n("UMB3");function o(e,t){let n,{elementType:o="button",isDisabled:s,onPress:l,onPressStart:c,onPressEnd:u,onPressChange:d,preventFocusOnPress:p,allowFocusWhenDisabled:m,onClick:h,href:g,target:f,rel:b,type:y="button"}=e;n="button"===o?{type:y,disabled:s}:{role:"button",tabIndex:s?void 0:0,href:"a"===o&&s?void 0:g,target:"a"===o?f:void 0,type:"input"===o?y:void 0,disabled:"input"===o?s:void 0,"aria-disabled":s&&"input"!==o?s:void 0,rel:"a"===o?b:void 0};let{pressProps:v,isPressed:S}=(0,i.l)({onPressStart:c,onPressEnd:u,onPressChange:d,onPress:l,isDisabled:s,preventFocusOnPress:p,ref:t}),{focusableProps:C}=(0,r.f)(e,t);m&&(C.tabIndex=s?-1:C.tabIndex);let w=(0,a.l)(C,v,(0,a.b)(e,{labelable:!0}));return{isPressed:S,buttonProps:(0,a.l)(n,w,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:e=>{h&&(h(e),console.warn("onClick is deprecated, please use onPress"))}})}}},IL1e:function(e,t,n){"use strict";n.d(t,"y",(function(){return p})),n.d(t,"z",(function(){return m})),n.d(t,"B",(function(){return b})),n.d(t,"w",(function(){return y})),n.d(t,"A",(function(){return v})),n.d(t,"m",(function(){return S})),n.d(t,"k",(function(){return C})),n.d(t,"l",(function(){return w})),n.d(t,"n",(function(){return k})),n.d(t,"p",(function(){return E})),n.d(t,"o",(function(){return O})),n.d(t,"f",(function(){return A})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return I})),n.d(t,"c",(function(){return M})),n.d(t,"q",(function(){return N})),n.d(t,"C",(function(){return P})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return B})),n.d(t,"D",(function(){return F})),n.d(t,"s",(function(){return V})),n.d(t,"E",(function(){return U})),n.d(t,"r",(function(){return W})),n.d(t,"H",(function(){return q})),n.d(t,"F",(function(){return z})),n.d(t,"G",(function(){return $})),n.d(t,"K",(function(){return G})),n.d(t,"I",(function(){return K})),n.d(t,"v",(function(){return Z})),n.d(t,"t",(function(){return X})),n.d(t,"u",(function(){return Q})),n.d(t,"e",(function(){return J})),n.d(t,"d",(function(){return ee})),n.d(t,"J",(function(){return te})),n.d(t,"g",(function(){return ne})),n.d(t,"h",(function(){return ae})),n.d(t,"x",(function(){return re}));n("Y4t5"),n("HQ1c");var a=n("GXGe"),r=(n("AKgc"),n("h6df")),i=(n("5C44"),n("mvgW")),o={equals:function(e,t){return e===t}},s={equals:o.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},l=n("DFfw"),c=n("hO7h"),u=n("vuzl"),d=(n("FzYa"),n("Osoa"),function(e,t){for(var n=0,a=t.length,r=e.length;n<a;n++,r++)e[r]=t[n];return e}),p=function(e){return 0===e.length},m=c.u,h=(c.C,c.E,c.a);c.b;var g=function(e,t){return function(n){return m(n)?t(n):e()}},f=c.v;function b(e,t){return void 0===t?function(t){return b(e,t)}:f(e,t)?i.k:i.n(t[e])}var y=function(e){return m(e)?i.n(c.q(e)):i.k},v=function(e){return m(e)?i.n(c.w(e)):i.k};var S=function(e){return function(t){for(var n=0;n<t.length;n++)if(e(t[n]))return i.n(n);return i.k}};function C(e){return function(t){for(var n=0;n<t.length;n++)if(e(t[n]))return i.n(t[n]);return i.k}}var w=function(e){return function(t){for(var n=0;n<t.length;n++){var a=e(t[n]);if(i.i(a))return a}return i.k}};function k(e){return function(t){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return i.n(t[n]);return i.k}}var E=function(e){return function(t){for(var n=t.length-1;n>=0;n--){var a=e(t[n]);if(i.i(a))return a}return i.k}},O=function(e){return function(t){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return i.n(n);return i.k}};function A(e){return function(t,n){if(void 0===n){var a=A(e);return function(e){return a(t,e)}}for(var r,i=0;i<n.length;i++)if(r=n[i],e.equals(r,t))return!0;return!1}}var _=function(e,t,n){return Object(r.m)(e,U(t,n))},x=function(e,t){return Object(r.m)(e,J(t))},I=function(e,t){return Object(r.m)(e,ee(t))},j=c.B,T=function(){return ne},M=function(e){return function(t){return Object(r.m)(t,function(e){return function(t){if(p(t))return ne;for(var n=[],a=0;a<t.length;a++)n.push.apply(n,e(a,t[a]));return n}}((function(t,n){return e(n)})))}},N=M(r.k),P=function(e){return function(t){return t.map((function(t){return e(t)}))}},L=function(e){return function(t){return t.filter(e)}},R=function(e){return function(t){for(var n=[],a=0;a<t.length;a++){var r=e(a,t[a]);i.i(r)&&n.push(r.value)}return n}},B=function(e){return R((function(t,n){return e(n)}))},F=(r.k,function(e){return D((function(t,n){return e(n)}))}),D=function(e){return function(t){for(var n=[],a=[],r=0;r<t.length;r++){var i=t[r];e(r,i)?a.push(i):n.push(i)}return Object(u.a)(n,a)}},H=function(e){return function(t){return t.map((function(n,a){return e(t.slice(a))}))}},V=(r.k,function(e){return function(t){return function(n){return n.reduce((function(n,a,r){return e.concat(n,t(r,a))}),e.empty)}}}),U=function(e,t){return q(e,(function(e,n,a){return t(n,a)}))},W=function(e){var t=V(e);return function(e){return t((function(t,n){return e(n)}))}},q=function(e,t){return function(n){for(var a=n.length,r=e,i=0;i<a;i++)r=t(i,r,n[i]);return r}},z=function(e,t){return $(e,(function(e,n,a){return t(n,a)}))},$=function(e,t){return function(n){return n.reduceRight((function(e,n,a){return t(a,n,e)}),e)}},G=function(e){var t=Y(e);return function(e){return t((function(t,n){return e(n)}))}},K=function(e){return function(t){return _(t,e.of(T()),(function(t,n){return e.ap(e.map(t,(function(e){return function(t){return Object(r.m)(e,h(t))}})),n)}))}},Y=function(e){return function(t){return q(e.of(T()),(function(n,a,i){return e.ap(e.map(a,(function(e){return function(t){return Object(r.m)(e,h(t))}})),t(n,i))}))}},Z=function(e){return{show:function(t){return"["+t.map(e.show).join(", ")+"]"}}},X=function(e){return Object(a.b)((function(t,n){return t.length===n.length&&t.every((function(t,a){return e.equals(t,n[a])}))}))},Q=function(e){return Object(l.a)((function(t,n){for(var a=t.length,r=n.length,i=Math.min(a,r),o=0;o<i;o++){var l=e.compare(t[o],n[o]);if(0!==l)return l}return s.compare(a,r)}))},J=function(e){return function(t){for(var n=d([],e(t)),a=[];n.length>0;){var r=n.shift();i.f(r)?n.unshift.apply(n,e(r.left)):a.push(r.right)}return a}},ee=function(e){return function(t){var n=e(t),a=[],r=[];function o(t){i.f(t)?e(t.left).forEach((function(e){return a.push(e)})):r.push(t.right)}for(var s=0,l=n;s<l.length;s++){o(l[s])}for(;a.length>0;)o(a.shift());return r}},te=(c.R,function(e){return e.slice()}),ne=c.g;function ae(e){return function(t){return t.every(e)}}var re=function(e){var t=c.s(e);return function(n){return g((function(){return e.empty}),t(n))}};i.b,c.F,c.f,c.L},IVzZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("OA+g"),i=n("I7vG"),o=n("lrqh"),s=n("6fbX"),l=n("dE97"),c=n("UEGg"),u=n("uqkn"),d=n("O6HF"),p=n("YJiV"),m=n("E0zP"),h=n("TC4P");!function(e){let t;e.Kind="AlertsBundle",e.getId=function(e){return e.id},e.bundleTitle=function(e){return e.bundleInfo.title},e.ord=Object(i.pipe)(o.h.ordNumber,o.h.contramap(Object(r.flow)(e=>e.activeAlert.bundleInfo,o.g.fold(()=>Number.MAX_SAFE_INTEGER,e=>e.rank)))),e.isExtendableWithAlerts=e=>{switch(e.visualState.transition.type){case"added":case"expanded":case"focused":case"hidden":case"rendered":return!0;case"feedback_form":case"removed":case"presuccess":case"success":case"muted":return!1;default:return Object(s.c)(e.visualState.transition.type)}},e.getAlertOutcomeBundle=e=>Object(i.pipe)(e.bundleInfo,o.g.fold(()=>({id:"other",title:"Other"}),e=>({id:e.title.toLowerCase().split(" ").join("_"),title:e.title}))),e.eq={equals:(e,t)=>m.a.eq.equals(e,t)&&o.g.getEq(o.c.eqString).equals(e.lensId,t.lensId)},function(t){const a=t=>(n,a)=>Object.assign({id:n,kind:e.Kind,bundleInfo:t,activeAlert:m.a.getAlertByIndex(a.activeAlertIndex,a.alerts),transform:Object(i.pipe)(a.cachedTransform,o.g.map(e=>e.labels)),equals(t){return e.eq.equals(this,t)},hashCode(){return m.a.hashCode(this)}},a);t.create=function(t,r,u,d){const g=f.getAnimatable(t).changeVisualState,b=e=>p.a.getCreate(a(e),r,g,d,u),y=n(u);return{create:e=>(t,n,a,r,i,s,l)=>b(i)(t,n,a,r,p.a.getApplicableCardMeta(n[a],s,u),e,o.g.some(s),l),createAdded:e=>(t,n,a,r)=>{const i=h.a.VisualState.initial({type:"added",clockwise:!0},!0);return b(n)(t,a,0,0,p.a.getApplicableCardMeta(a[0],i,u),e,o.g.some(i),r)},createFocused:e=>(t,n,a,r,i)=>{const s=h.a.VisualState.initial({type:"focused",clockwise:!0},!0);return b(n)(t,a,r,0,p.a.getApplicableCardMeta(a[r],s,u),e,o.g.some(s),i)},createRendered:e=>(t,n,a,r)=>{const i=h.a.VisualState.initial({type:"rendered",clockwise:!0},!1);return b(n)(t,a,0,0,p.a.getApplicableCardMeta(a[0],i,u),e,o.g.some(i),r)},updateWith:(n,a)=>r=>{Object(s.f)(n.every(e=>l.a.isRegistered(e)),"cannot add non registered alerts");const o=new Set(n.map(e=>e.id)),u=new Set(r.removedAlertsIds);o.forEach(e=>{u.delete(e)});const d=r.alerts.filter(e=>!o.has(e.id)).concat(n.map(c.a.fromModel)).sort(a.compare);return Object(i.pipe)(r,y(d,u,m.a.getIndexByAlert(r.activeAlert.id,d)),e.getCardHydrator(t))}}}}(t=e.ItemFactory||(e.ItemFactory={}));const n=e=>(t,n,a)=>r=>{const i=m.a.getAlertByIndex(a,t),o=c.a.isApplicableAlert(i)?p.a.getApplicableCardMeta(i,r.visualState,e):d.a.empty(void 0);return Object.assign(Object.assign({},r),{alerts:t,activeAlert:i,meta:o,removedAlertsIds:n,activeAlertIndex:a})};e.changePosition=e=>t=>Object.assign(Object.assign({},t),{positionState:e}),e.updateVisualState=e=>t=>Object.assign(Object.assign({},t),{visualState:e}),e.getCardHydrator=e=>p.a.getCardHydrator(e=>e.cachedTransform,u.a.canHydrate,a,e),e.changeUserInput=e=>t=>Object.assign(Object.assign({},t),{userInput:e});const a=e=>t=>Object.assign(Object.assign({},t),{cachedTransform:e,transform:Object(i.pipe)(e,o.g.map(e=>e.labels))}),g=e=>t=>Object.assign(Object.assign({},t),{meta:e});let f;e.unselect=p.a.getUnselectItem(e.updateVisualState,e.changePosition),e.getSelectByAlert=(t,a,r)=>p.a.getSelectByAlert(n(a),e.changeUserInput,e.updateVisualState,e.changePosition,g,r,t,a),e.getSelect=(t,n,a)=>p.a.getSelectFirstAlert(e.getSelectByAlert(t,n,a)),function(t){function a(t){const n=p.a.getChangeVisualState(e.updateVisualState,e.getCardHydrator(t));return{completeTransition:e=>t=>n(h.a.VisualState.complete(t.visualState,e))(t),transitionTo:p.a.getTransitionTo(n,e.changePosition),changeVisualState:n}}t.getAnimatable=a,t.getRemove=(e,t)=>p.a.getRemove(n(e),a(t).transitionTo),t.getUpdatableWithAlertsCapability=(t,n)=>i=>Object(r.flow)(t.updateWith(i,l.d.ord),t=>e.isExtendableWithAlerts(t)?t:a(n).transitionTo({type:"added",clockwise:!0})(t)),t.getRemoveAlertsCapability=(n,a,s,l)=>(c,u)=>{const d=e.getSelectByAlert(n,a,e.getCardHydrator(s)),h=p.a.getSelectNextAlert(p.a.getCardSelections(n),d);return e=>{const n=new Set(c.map(e=>e.id));if(!m.a.hasAnyOfAlerts(n)(e))return e;const d=t.getRemove(a,s)(c,Object(i.pipe)(u,o.g.map(t=>l.compare(e,t)>0),o.g.getOrElse(r.constTrue)))(e);return Object(i.pipe)(u,o.g.exists(t=>t.id===e.id))?h(l)(d):d}}}(f=e.Capabilities||(e.Capabilities={}))}(a||(a={}))},IdhR:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return h}));var a=n("ERkP"),r=n("94k3"),i=n("rk+4"),o=n("bO3R"),s=n("3rlE"),l=n("aIes"),c=n("uqkn"),u=n("+w1e"),d=n("es5d");const p=({card:{activeAlert:e,id:t,visualState:n},actions:p,mode:m,className:g,disabled:f})=>{const b=a.useContext(i.a.Context),y="mini"===m?h(n,b):"";return a.createElement(o.a.Tertiary,{key:"toggle-more",name:h(n,b),title:y,"aria-label":y,className:g,disabled:f,onClick:l.d.callOnce(()=>{const a=c.a.isCardOpen(n);p.next({type:u.a.Kind.startTransitionTo,id:t,transition:{type:a?"focused":"expanded",clockwise:!0}}),a||p.next({type:u.b.Type.alertFeedback,alertId:e.id,feedbackType:r.a.AlertFeedbackType.EXPANDED})})},c.a.isCardOpen(n)?a.createElement(s.d.Arrow,{key:"more",className:d.a.lessIcon}):a.createElement(s.d.QuestionMark,{key:"expand"}),"default"===m&&h(n,b))},m=({visualState:e,children:t,className:n})=>a.createElement("div",{className:(c.a.isCardOpen(e)?d.a.more:d.a.moreHidden)+" "+n},t);function h(e,t){const n=t.card;return c.a.isCardOpen(e)?n.less:n.more}},IqZr:function(e,t,n){"use strict";n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return L})),n.d(t,"d",(function(){return R}));var a=n("ERkP"),r="top",i="bottom",o="right",s=[r,i,o,"left"];function l(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function c(e){return e instanceof l(e).Element||e instanceof Element}function u(e){return e instanceof l(e).HTMLElement||e instanceof HTMLElement}function d(e){return"undefined"!=typeof ShadowRoot&&(e instanceof l(e).ShadowRoot||e instanceof ShadowRoot)}function p(e){return((c(e)?e.ownerDocument:e.document)||window.document).documentElement}var m=Math.max,h=Math.min,g=Math.round;function f(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function b(){return!/^((?!chrome|android).)*safari/i.test(f())}function y(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),r=1,i=1;t&&u(e)&&(r=e.offsetWidth>0&&g(a.width)/e.offsetWidth||1,i=e.offsetHeight>0&&g(a.height)/e.offsetHeight||1);var o=(c(e)?l(e):window).visualViewport,s=!b()&&n,d=(a.left+(s&&o?o.offsetLeft:0))/r,p=(a.top+(s&&o?o.offsetTop:0))/i,m=a.width/r,h=a.height/i;return{width:m,height:h,top:p,right:d+m,bottom:p+h,left:d,x:d,y:p}}function v(e){var t=l(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function S(e){return y(p(e)).left+v(e).scrollLeft}function C(e){return l(e).getComputedStyle(e)}function w(e){return e?(e.nodeName||"").toLowerCase():null}function k(e){return"html"===w(e)?e:e.assignedSlot||e.parentNode||(d(e)?e.host:null)||p(e)}function E(e){var t=C(e),n=t.overflow,a=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+a)}function O(e,t){var n;void 0===t&&(t=[]);var a=function e(t){return["html","body","#document"].indexOf(w(t))>=0?t.ownerDocument.body:u(t)&&E(t)?t:e(k(t))}(e),r=a===(null==(n=e.ownerDocument)?void 0:n.body),i=l(a),o=r?[i].concat(i.visualViewport||[],E(a)?a:[]):a,s=t.concat(o);return r?s:s.concat(O(k(o)))}function A(e){return["table","td","th"].indexOf(w(e))>=0}function _(e){return u(e)&&"fixed"!==C(e).position?e.offsetParent:null}function x(e){for(var t=l(e),n=_(e);n&&A(n)&&"static"===C(n).position;)n=_(n);return n&&("html"===w(n)||"body"===w(n)&&"static"===C(n).position)?t:n||function(e){var t=/firefox/i.test(f());if(/Trident/i.test(f())&&u(e)&&"fixed"===C(e).position)return null;var n=k(e);for(d(n)&&(n=n.host);u(n)&&["html","body"].indexOf(w(n))<0;){var a=C(n);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return n;n=n.parentNode}return null}(e)||t}function I(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function j(e,t,n){return"viewport"===t?I(function(e,t){var n=l(e),a=p(e),r=n.visualViewport,i=a.clientWidth,o=a.clientHeight,s=0,c=0;if(r){i=r.width,o=r.height;var u=b();(u||!u&&"fixed"===t)&&(s=r.offsetLeft,c=r.offsetTop)}return{width:i,height:o,x:s+S(e),y:c}}(e,n)):c(t)?function(e,t){var n=y(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):I(function(e){var t,n=p(e),a=v(e),r=null==(t=e.ownerDocument)?void 0:t.body,i=m(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=m(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-a.scrollLeft+S(e),l=-a.scrollTop;return"rtl"===C(r||n).direction&&(s+=m(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:s,y:l}}(p(e)))}function T(e){var t=O(k(e)),n=["absolute","fixed"].indexOf(C(e).position)>=0&&u(e)?x(e):e;return c(n)?t.filter((function(e){return c(e)&&function(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&d(n)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}(e,n)&&"body"!==w(e)})):[]}function M(e,t){void 0===t&&(t={});var n,a=t,l=a.placement,u=void 0===l?e.placement:l,d=a.strategy,g=void 0===d?e.strategy:d,f=a.boundary,b=void 0===f?"clippingParents":f,v=a.rootBoundary,S=void 0===v?"viewport":v,C=a.elementContext,w=void 0===C?"popper":C,k=a.altBoundary,E=void 0!==k&&k,O=a.padding,A=void 0===O?0:O,_=function(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}("number"!=typeof A?A:(n=A,s.reduce((function(e,t){return e[t]=n,e}),{}))),x="popper"===w?"reference":"popper",M=e.rects.popper,N=e.elements[E?x:w],P=function(e,t,n,a){var r="clippingParents"===t?T(e):[].concat(t),i=[].concat(r,[n]),o=i[0],s=i.reduce((function(t,n){var r=j(e,n,a);return t.top=m(r.top,t.top),t.right=h(r.right,t.right),t.bottom=h(r.bottom,t.bottom),t.left=m(r.left,t.left),t}),j(e,o,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(c(N)?N:N.contextElement||p(e.elements.popper),b,S,g),L=y(e.elements.reference),R=function(e){var t,n=e.reference,a=e.element,s=e.placement,l=s?function(e){return e.split("-")[0]}(s):null,c=s?function(e){return e.split("-")[1]}(s):null,u=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2;switch(l){case r:t={x:u,y:n.y-a.height};break;case i:t={x:u,y:n.y+n.height};break;case o:t={x:n.x+n.width,y:d};break;case"left":t={x:n.x-a.width,y:d};break;default:t={x:n.x,y:n.y}}var p=l?function(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}(l):null;if(null!=p){var m="y"===p?"height":"width";switch(c){case"start":t[p]=t[p]-(n[m]/2-a[m]/2);break;case"end":t[p]=t[p]+(n[m]/2-a[m]/2)}}return t}({reference:L,element:M,strategy:"absolute",placement:u}),B=I(Object.assign({},M,R)),F="popper"===w?B:L,D={top:P.top-F.top+_.top,bottom:F.bottom-P.bottom+_.bottom,left:P.left-F.left+_.left,right:F.right-P.right+_.right},H=e.modifiersData.offset;if("popper"===w&&H){var V=H[u];Object.keys(D).forEach((function(e){var t=[o,i].indexOf(e)>=0?1:-1,n=[r,i].indexOf(e)>=0?"y":"x";D[e]+=V[n]*t}))}return D}function N(e){return a.useMemo(()=>({name:"maxSize",phase:"main",enabled:!0,requiresIfExists:["offset","preventOverflow","flip"],fn({state:t,name:n}){const a=M(t),{x:r,y:i}=t.modifiersData.preventOverflow||{x:0,y:0},{width:o,height:s}=t.rects.popper,[l]=t.placement.split("-"),c="top"===l?"top":"bottom",u={width:o-a["left"===l?"left":"right"]-r,height:s-a[c]-i};t.modifiersData[n]=u,null==e||e(u)}}),[])}function P(){return a.useMemo(()=>({name:"forcePopperUpdateEffect",phase:"afterMain",enabled:!0,fn:()=>{},effect:({instance:e})=>{const t=setTimeout(()=>e.forceUpdate(),0);return()=>clearTimeout(t)}}),[])}const L=P;function R(e,t){var n,r;const[i,o]=Object(a.useState)(void 0);return Object(a.useEffect)(()=>{e.current&&e.current.scrollWidth>e.current.clientWidth&&o(t)},[null===(n=e.current)||void 0===n?void 0:n.scrollWidth,null===(r=e.current)||void 0===r?void 0:r.clientWidth,t]),i}},IyPE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("I7vG"),i=n("lrqh");!function(e){e.group=function(e){return Object.values(e.reduce((e,{group:t,category:n,categoryHuman:a,cost:r})=>(void 0===e[n]&&(e[n]={group:t,category:n,categoryHuman:a,count:0,lensName:"",bundleInfo:i.g.none}),e[n].count+=r,e),{})).sort((e,t)=>t.count-e.count)},e.groupByGroup=function(e){return Object.values(e.reduce((e,{group:t,category:n,categoryHuman:a,cost:r,lensName:o="",bundleInfo:s=i.g.none})=>(void 0===e[o]&&(e[o]={group:t,category:n,categoryHuman:a,count:0,lensName:o,bundleInfo:s}),e[o].count+=r,e),{})).sort((e,t)=>t.count-e.count)},e.groupByBundleInfo=function(e){return Object.values(e.reduce((e,{group:t,category:n,categoryHuman:a,cost:o,lensName:s="",bundleInfo:l=i.g.none})=>{const c=Object(r.pipe)(l,i.g.getOrElse(()=>a));return void 0===e[c]&&(e[c]={group:t,category:n,categoryHuman:a,count:0,lensName:s,bundleInfo:l}),e[c].count+=o,e},{})).sort((e,t)=>t.count-e.count)}}(a||(a={}))},"J/IC":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("ERkP"),r=n("I7vG"),i=n("vOOZ"),o=n("9NHN"),s=n("zR/0"),l=n("gy42"),c=n("lrqh"),u=n("ax6a"),d=n("H37f"),p=n("e12y"),m=n("xEVj");const h=({toneAlternatives:e,onSelectToneAlternative:t})=>{const n=new s.a.Subject,u=new s.a.Subject,h=new s.a.Subject,g=new s.a.Subject,f=new s.a.Subject,b=new s.a.Subject,{ref:y,onMount:v}=m.a.useElWatcher(),S=s.a.mergeStatic(f.pipe(s.a.mapTo(!0)),h.pipe(s.a.mapTo(!1)),g.pipe(s.a.mapTo(!1))).pipe(s.a.startWith(!1)),C=s.a.mergeStatic(f,u).pipe(s.a.withLatestFrom(S),s.a.filter(([e,t])=>t),s.a.map(([e,t])=>e),s.a.withLatestFrom(y),s.a.map(([e,t])=>Object(r.pipe)(t,c.g.map(e=>e.getBoundingClientRect()),c.g.bindTo("sliderClientRect"),c.g.apS("containerMouseEventVal",c.g.some(e)))),s.b.compact,s.a.map(({containerMouseEventVal:e,sliderClientRect:t})=>{const n=t.x,a=t.x+t.width;let r=0;return r=e.clientX<=n?0:e.clientX>=a?100:(e.clientX-n)/(a-n)*100,r})),w=s.a.mergeStatic(C.pipe(s.a.distinctUntilChanged()),S.pipe(s.a.distinctUntilChanged(),s.a.filter(e=>!e),s.a.withLatestFrom(C),s.a.map(([e,t])=>t),s.a.map(e=>e>=50?100:0)),n.pipe(s.a.filter(e=>"ArrowRight"===e.key||"ArrowLeft"===e.key),s.a.tap(e=>{e.preventDefault(),e.stopPropagation()}),s.a.map(e=>e.key),s.a.filter(e=>"ArrowRight"===e||"ArrowLeft"===e),s.a.map(e=>"ArrowRight"===e?100:0)),b.pipe(s.a.map(e=>1===e?100:0))).pipe(s.a.startWith(100)),k=w.pipe(s.a.distinctUntilChanged(),s.a.map(e=>e>=50?1:0)),E=s.a.combineLatestStatic([k,l.b.toObservable(e)]).pipe(s.a.map(([e,t])=>t[e]));return m.a.useSubscriptionTo(k.pipe(s.a.distinctUntilChanged(),s.a.tap(t))),a.createElement(i.a.div,{className:z.outerContainer,onKeyDown:e=>n.next(e)},a.createElement(i.a.div,{className:z.label},E.pipe(s.a.map(e=>e.name))),a.createElement(i.a.div,{className:z.container,onMouseMove:e=>u.next(e),onMouseUp:e=>h.next(e),onMouseLeave:e=>g.next(e)},a.createElement(i.a.div,Object.assign({},Object(o.c)(z.slider,S.pipe(s.a.map(e=>e?z.sliderDragging:null))),{mount:v}),a.createElement(i.a.div,Object.assign({},Object(o.c)(z.sliderInner,S.pipe(s.a.map(e=>e?z.sliderInnerDragging:null))),{style:{width:w.pipe(s.a.map(p.a.percent))}}),a.createElement(i.a.div,Object.assign({},Object(o.c)(z.knob,S.pipe(s.a.map(e=>e?z.knobDragging:null))),{onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),f.next(e)},tabIndex:0}),E.pipe(s.a.map(e=>a.createElement(d.c,{id:e.emojiID,className:z.knobEmoji}))))),s.a.combineLatestStatic([k,S]).pipe(s.a.map(([e,t])=>a.createElement(a.Fragment,null,a.createElement("div",Object.assign({},Object(o.c)(z.sliderDivisionPoint,z.sliderDivisionPointLeft))),0===e||t?null:a.createElement(i.a.div,Object.assign({},Object(o.c)(z.sliderDivisionPointHoverArea,z.sliderDivisionPointHoverAreaLeft),{onClick:()=>b.next(0)})),a.createElement("div",Object.assign({},Object(o.c)(z.sliderDivisionPoint,z.sliderDivisionPointRight))),1===e||t?null:a.createElement(i.a.div,Object.assign({},Object(o.c)(z.sliderDivisionPointHoverArea,z.sliderDivisionPointHoverAreaRight),{onClick:()=>b.next(1)}))))))))},g="toneSliderOuterContainer",f="toneSliderLabel",b="toneSliderContainer",y="toneSlider",v="toneSliderDragging",S="toneSliderSliderDivisionPoint",C="toneSliderDivisionPointLeft",w="toneSliderDivisionPointRight",k="toneSliderDivisionPointHoverArea",E="toneSliderDivisionPointHoverAreaLeft",O="toneSliderDivisionPointHoverAreaRight",A="toneSliderInner",_="toneSliderInnerDragging",x="toneSliderKnob",I="toneSliderKnobDragging",j="toneSliderKnobEmoji",T={fontWeight:700,fontSize:p.a.rem(.875),lineHeight:p.a.rem(1),width:p.a.rem(7.5)},M={width:p.a.rem(5.375),height:p.a.rem(1.75),display:"flex",flexDirection:"column",justifyContent:"center"},N={position:"relative",width:p.a.percent(100),backgroundColor:u.a.CoreNeutral40,height:p.a.rem(.125),borderRadius:p.a.rem(.375),transition:"all 0.15s ease-in-out",$nest:{"&:hover":{height:p.a.rem(.5)},["&:hover ."+S]:{visibility:"visible"}}},P={height:p.a.rem(.5),$nest:{["& ."+S]:{visibility:"visible"}}},L={position:"absolute",width:p.a.rem(.25),height:p.a.rem(.25),backgroundColor:u.a.CoreNeutral0,top:p.a.rem(.125),bottom:p.a.rem(.125),borderRadius:p.a.percent(100),visibility:"hidden"},R={left:p.a.rem(.125)},B={right:p.a.rem(.125)},F={background:u.a.CoreNeutral90,opacity:0,width:p.a.rem(1.5),height:p.a.rem(1.5),position:"absolute",borderRadius:p.a.percent(100),cursor:"pointer",top:p.a.rem(-.5),zIndex:1,transition:"all 0.15s ease-in-out",$nest:{"&:hover":{opacity:.1}}},D={left:p.a.rem(-.5)},H={right:p.a.rem(-.5)},V={position:"relative",display:"flex",alignItems:"center",backgroundColor:u.a.CorePurple40,height:p.a.percent(100),borderRadius:p.a.rem(.375),transition:"all 0.15s ease-in-out"},U={position:"absolute",right:p.a.rem(-.875),display:"flex",justifyContent:"center",alignItems:"center",width:p.a.rem(1.75),height:p.a.rem(1.75),backgroundColor:u.a.CoreNeutral0,boxShadow:"0px 0px 1px rgba(109, 117, 141, 0.8), 0px 1px 8px rgba(109, 117, 141, 0.28)",borderRadius:p.a.rem(1.875),cursor:"ew-resize",transition:"all 0.15s ease-in-out",zIndex:1,$nest:{"&:hover":{width:p.a.rem(2),height:p.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"}}},W={width:p.a.rem(2),height:p.a.rem(2),boxShadow:"0px 0px 1.14286px rgba(109, 117, 141, 0.8), 0px 4px 12px rgba(109, 117, 141, 0.3)"},q={width:p.a.rem(.9375),height:p.a.rem(.9375),pointerEvents:"none"},z={outerContainer:p.a.joinClasses([g,p.a.style({display:"flex",alignItems:"center"})]),label:p.a.joinClasses([f,p.a.style(T)]),container:p.a.joinClasses([b,p.a.style(M)]),slider:p.a.joinClasses([y,p.a.style(N)]),sliderDragging:p.a.joinClasses([v,p.a.style(P)]),sliderDivisionPoint:p.a.joinClasses([S,p.a.style(L)]),sliderDivisionPointLeft:p.a.joinClasses([C,p.a.style(R)]),sliderDivisionPointRight:p.a.joinClasses([w,p.a.style(B)]),sliderDivisionPointHoverArea:p.a.joinClasses([k,p.a.style(F)]),sliderDivisionPointHoverAreaLeft:p.a.joinClasses([E,p.a.style(D)]),sliderDivisionPointHoverAreaRight:p.a.joinClasses([O,p.a.style(H)]),sliderInner:p.a.joinClasses([A,p.a.style(V)]),sliderInnerDragging:p.a.joinClasses([_,p.a.style({transition:"none"})]),knob:p.a.joinClasses([x,p.a.style(U)]),knobDragging:p.a.joinClasses([I,p.a.style(W)]),knobEmoji:p.a.joinClasses([j,p.a.style(q)])}},JSVy:function(e,t,n){"use strict";var a,r,i,o;n.d(t,"a",(function(){return a})),r=a||(a={}),((i=r.RawSduiItem||(r.RawSduiItem={})).Id||(i.Id={})).create=function(e){return e.toString()},function(e){e.Add="sdui_add",e.Remove="sdui_remove",e.Update="sdui_update"}(o=r.SduiEventKind||(r.SduiEventKind={})),r.isSduiEvent=function(e){return e.kind===o.Add||e.kind===o.Remove||e.kind===o.Update}},JSz4:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("OA+g"),r=n("I7vG"),i=n("lrqh"),o=n("6fbX"),s=n("f3nf"),l=n("W0xG"),c=n("wOnQ");const u=e=>t=>Object(r.pipe)(t.content,i.b.fold(e=>i.b.right(Object(l.a)(e,t.todo)),Object(a.flow)(e,i.b.bimap(e=>({kind:"default",error:e}),e=>function(e,t){switch(e.type){case s.a.Type.Drilldown:return c.d.create(e.remove,e.inserts,t);case s.a.Type.Substitution:return c.a.create(e.remove,e.inserts,t);case s.a.Type.Insert:return 2===e.inserts.length?c.i.create(e.inserts[0],e.inserts[1],t):c.g.create(e.inserts,t);case s.a.Type.Remove:return c.b.create([e.remove],t);case s.a.Type.RemoveOr:return c.c.create(e.removes,t);case s.a.Type.FullSentence:return function(e,t){switch(e.kind){case c.f.WithFormatting:return c.e.createWithFormatting(e.ops,t);case c.f.PlainText:return c.e.createPlainText(e.ops,t);default:return Object(o.c)(e)}}(e,t);case s.a.Type.Citation:return function(e,t){return{type:c.j.Type.Citation,tooltipText:t,labels:e.ops}}(e,t);case s.a.Type.OneGap:return c.h.create(e,t);case s.a.Type.ShortenIt:return function(e,t){return{type:c.j.Type.ShortenIt,tooltipText:t,labels:e.ops}}(e,t);case s.a.Type.ToneAI:return function(e,t){return{type:c.j.Type.ToneAI,tooltipText:t,labels:e.transformParts}}(e,t);default:return Object(o.c)(e)}}(e,t.todo)))))},JbXn:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("ERkP"),r=n("rk+4"),i=n("bO3R"),o=n("BugA"),s=n("XaD9"),l=n("Fgeo"),c=n("vOOZ"),u=n("3rlE"),d=n("cIor");const p=({children:e,icon:t,onClose:n,className:r,onTransitionEnd:o})=>a.createElement(c.a.div,{className:r,onTransitionEnd:o},a.createElement(i.a,{name:"survey-close",className:d.closeIcon,onClick:n},a.createElement(u.d.Close,null)),a.createElement("section",{className:d.imageSection},t),e);var m=n("YUkS");const h={[l.p.FreeClarityAlertsControl]:"https://www.surveymonkey.com/r/3ZCHBMP",[l.p.FreeClarityAlertsEnabled]:"https://www.surveymonkey.com/r/3ZHVKTS",[l.p.MostActiveUsers]:"https://grammarly.qualtrics.com/jfe/form/SV_82Lkzx9EQX37nFA",[l.j.SuperScrollWithAutoJump]:"https://www.surveymonkey.com/r/H6TH28M",[l.j.SuperScrollWithoutAutoJump]:"https://www.surveymonkey.com/r/H62KVPC"},g=({surveyType:e,onClose:t,onRemindLater:n})=>{const l=a.useContext(r.a.Context).survey.newUser,{gnarSpec:c,pageId:u}=a.useContext(s.a.Context);return a.useEffect(()=>{c.surveyPopupShow(u,e)},[c,u,e]),a.createElement(p,{className:m.notification,onClose:()=>{t(),c.closeSurveyButtonClick(u,e)},icon:a.createElement("div",{className:m.designerAvatar})},a.createElement("section",{className:m.contentSection},a.createElement(o.g,{className:m.title},l.title),a.createElement(o.a,{className:m.content},l.content),a.createElement(i.a.Group,{className:m.btnGroup},a.createElement(i.a.Primary,{name:"take-survey",className:m.surveyBtn,onClick:()=>{t(),c.takeSurveyButtonClick(u,e)},href:h[e],target:"_blank"},l.takeSurvey),a.createElement(i.a.Caps,{name:"remind-later",onClick:()=>{n(),c.remindLaterButtonClick(u,e)}},l.remindLater))))}},JniT:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("LNSM"),r=n("zR/0"),i=n("CvSs"),o=n("gy42"),s=n("ERkP");const l={NothingToCheck:()=>s.createElement(s.Fragment,null),NothingToNoIssueFound:()=>s.createElement(s.Fragment,null),NoIssueFoundToNothingToCheck:()=>s.createElement(s.Fragment,null),NoIssuesFound:()=>s.createElement(s.Fragment,null),EverythingIsClear:()=>s.createElement(s.Fragment,null),Birthday:()=>s.createElement(s.Fragment,null)};function c(e){const t=a.a.create(l);return r.a.from(e?n.e(34).then(n.bind(null,"tpg2")):Promise.all([n.e(0),n.e(3),n.e(26)]).then(n.bind(null,"fOmg"))).pipe(r.a.retryWhen(i.a.OperationRetrier.RetryStrategy.linear(3,1e3)),r.a.first(),r.a.map(e=>e.Illustration)).subscribe(o.b.toAtom(t)),t}},K4Sz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("I7vG"),i=n("lrqh");!function(e){e.update=function(e,t,n){return e.update(t,n)},e.filter=function(e,t){return e.filter(t)},e.get=function(e,t,n){return Object(r.pipe)(e.get(t),i.g.filter(e=>n(e.value)))},e.find=function(e,t){return e.find(t)}}(a||(a={}))},KBak:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("lrqh");!function(e){let t,n;!function(e){e.Retain="retain",e.Delete="delete",e.Insert="insert"}(t=e.Type||(e.Type={})),e.isDelete=function(t){return t.type===e.Type.Delete},e.isInsert=function(t){return t.type===e.Type.Insert},function(e){e.eq=r.c.getStructEq({type:r.c.eqString,textChunk:r.c.eqString})}(n=e.NoInvert||(e.NoInvert={}))}(a||(a={}))},KCID:function(e,t,n){"use strict";n.d(t,"u",(function(){return u})),n.d(t,"y",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"l",(function(){return h})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"m",(function(){return E})),n.d(t,"t",(function(){return O})),n.d(t,"v",(function(){return A})),n.d(t,"A",(function(){return _})),n.d(t,"w",(function(){return s})),n.d(t,"x",(function(){return x})),n.d(t,"z",(function(){return I})),n.d(t,"d",(function(){return j})),n.d(t,"h",(function(){return T})),n.d(t,"q",(function(){return P})),n.d(t,"g",(function(){return B})),n.d(t,"f",(function(){return F})),n.d(t,"e",(function(){return D})),n.d(t,"k",(function(){return H})),n.d(t,"s",(function(){return U})),n.d(t,"n",(function(){return W})),n.d(t,"o",(function(){return z})),n.d(t,"i",(function(){return $})),n.d(t,"j",(function(){return G})),n.d(t,"r",(function(){return V})),n.d(t,"p",(function(){return K}));var a=n("ERkP"),r=n.n(a),i=n("EanR"),o=n("7O4Y");const s="undefined"!=typeof window?r.a.useLayoutEffect:()=>{};function l(e){let[t,n]=(0,a.useState)(e),r=(0,a.useRef)(t),i=(0,a.useRef)(null),o=(0,a.useCallback)(()=>{let e=i.current.next();for(;!e.done&&r.current===e.value;)e=i.current.next();e.done?i.current=null:(n(e.value),r.current=e.value)},[n,r,i]);return s(()=>{i.current&&o()}),[t,(0,a.useCallback)(e=>{i.current=e(r.current),o()},[o,i,r])]}let c=new Map;function u(e){let[t,n]=(0,a.useState)(e),r=(0,a.useRef)(null),o=(0,i.b)(t),l=(0,a.useCallback)(e=>{r.current=e},[]);return c.set(o,l),s(()=>{let e=o;return()=>{c.delete(e)}},[o]),(0,a.useEffect)(()=>{let e=r.current;e&&(r.current=null,n(e))}),o}function d(e,t){if(e===t)return e;let n=c.get(e);if(n)return n(t),t;let a=c.get(t);return a?(a(e),e):t}function p(e=[]){let t=u(),[n,r]=l(t),i=(0,a.useCallback)(()=>{r((function*(){yield t,yield document.getElementById(t)?t:void 0}))},[t,r]);return s(i,[t,i,...e]),n}function m(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}function h(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let a=e[n];for(let e in a){let n=t[e],r=a[e];"function"==typeof n&&"function"==typeof r&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=m(n,r):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof n||"string"!=typeof r?"id"===e&&n&&r?t.id=d(n,r):t[e]=void 0!==r?r:n:t[e]=(0,o.a)(n,r)}}return t}const g=new Set(["id"]),f=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),b=/^(data-.*)$/;function y(e,t={}){let{labelable:n,propNames:a}=t,r={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(g.has(t)||n&&f.has(t)||(null==a?void 0:a.has(t))||b.test(t))&&(r[t]=e[t]);return r}function v(e){if(function(){if(null==S){S=!1;try{document.createElement("div").focus({get preventScroll(){return S=!0,!0}})}catch(e){}}return S}())e.focus({preventScroll:!0});else{let t=function(e){var t=e.parentNode,n=[],a=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==a;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;a instanceof HTMLElement&&n.push({element:a,scrollTop:a.scrollTop,scrollLeft:a.scrollLeft});return n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:a}of e)t.scrollTop=n,t.scrollLeft=a}(t)}}let S=null;let C=new Map,w=new Set;function k(){if("undefined"==typeof window)return;let e=t=>{let n=C.get(t.target);if(n&&(n.delete(t.propertyName),0===n.size&&(t.target.removeEventListener("transitioncancel",e),C.delete(t.target)),0===C.size)){for(let e of w)e();w.clear()}};document.body.addEventListener("transitionrun",t=>{let n=C.get(t.target);n||(n=new Set,C.set(t.target,n),t.target.addEventListener("transitioncancel",e)),n.add(t.propertyName)}),document.body.addEventListener("transitionend",e)}function E(e){requestAnimationFrame(()=>{0===C.size?e():w.add(e)})}"undefined"!=typeof document&&("loading"!==document.readyState?k():document.addEventListener("DOMContentLoaded",k));function O(){let e=(0,a.useRef)(new Map),t=(0,a.useCallback)((t,n,a,r)=>{let i=(null==r?void 0:r.once)?(...t)=>{e.current.delete(a),a(...t)}:a;e.current.set(a,{type:n,eventTarget:t,fn:i,options:r}),t.addEventListener(n,a,r)},[]),n=(0,a.useCallback)((t,n,a,r)=>{var i;let o=(null===(i=e.current.get(a))||void 0===i?void 0:i.fn)||a;t.removeEventListener(n,o,r),e.current.delete(a)},[]),r=(0,a.useCallback)(()=>{e.current.forEach((e,t)=>{n(e.eventTarget,e.type,t,e.options)})},[n]);return(0,a.useEffect)(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function A(e,t){let{id:n,"aria-label":a,"aria-labelledby":r}=e;if(n=u(n),r&&a){let e=new Set([n,...r.trim().split(/\s+/)]);r=[...e].join(" ")}else r&&(r=r.trim().split(/\s+/).join(" "));return a||r||!t||(a=t),{id:n,"aria-label":a,"aria-labelledby":r}}function _(e,t){const n=(0,a.useRef)(!0),r=(0,a.useRef)(null);(0,a.useEffect)(()=>(n.current=!0,()=>{n.current=!1}),[]),(0,a.useEffect)(()=>{n.current?n.current=!1:r.current&&!t.some((e,t)=>!Object.is(e,r[t]))||e(),r.current=t},t)}function x(e){const{ref:t,onResize:n}=e;(0,a.useEffect)(()=>{let e=null==t?void 0:t.current;if(e){if(void 0===window.ResizeObserver)return window.addEventListener("resize",n,!1),()=>{window.removeEventListener("resize",n,!1)};{const t=new window.ResizeObserver(e=>{e.length&&n()});return t.observe(e),()=>{e&&t.unobserve(e)}}}},[n,t])}function I(e,t){s(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref.current=null}},[e,t])}function j(e){for(T(e)&&(e=e.parentElement);e&&!T(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}function T(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}"undefined"!=typeof window&&window.visualViewport;let M=0;const N=new Map;function P(e){let[t,n]=(0,a.useState)(void 0);return s(()=>{if(!e)return;let t=N.get(e);if(t)n(t.element.id);else{let a="react-aria-description-"+M++;n(a);let r=document.createElement("div");r.id=a,r.style.display="none",r.textContent=e,document.body.appendChild(r),t={refCount:0,element:r},N.set(e,t)}return t.refCount++,()=>{0==--t.refCount&&(t.element.remove(),N.delete(e))}},[e]),{"aria-describedby":e?t:void 0}}function L(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent))}function R(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function B(){return R(/^Mac/i)}function F(){return R(/^iPhone/i)||R(/^iPad/i)||B()&&navigator.maxTouchPoints>1}function D(){return B()||F()}function H(){return L(/AppleWebKit/i)&&!L(/Chrome/i)}function V(e){const t=(0,a.useRef)(null);return s(()=>{t.current=e},[e]),(0,a.useCallback)((...e)=>(0,t.current)(...e),[])}function U(e,t,n,r){let i=V(n),o=null==n;(0,a.useEffect)(()=>{if(o)return;let n=e.current;return n.addEventListener(t,i,r),()=>{n.removeEventListener(t,i,r)}},[e,t,r,o,i])}function W(e,t){let n=q(e,t,"left"),a=q(e,t,"top"),r=t.offsetWidth,i=t.offsetHeight,o=e.scrollLeft,s=e.scrollTop,{borderTopWidth:l,borderLeftWidth:c}=getComputedStyle(e),u=e.scrollLeft+parseInt(c,10),d=e.scrollTop+parseInt(l,10),p=u+e.clientWidth,m=d+e.clientHeight;n<=o?o=n-parseInt(c,10):n+r>p&&(o+=n+r-p),a<=d?s=a-parseInt(l,10):a+i>m&&(s+=a+i-m),e.scrollLeft=o,e.scrollTop=s}function q(e,t,n){const a="left"===n?"offsetLeft":"offsetTop";let r=0;for(;t.offsetParent&&(r+=t[a],t.offsetParent!==e);){if(t.offsetParent.contains(e)){r-=e[a];break}t=t.offsetParent}return r}function z(e,t){if(document.contains(e)){let o=document.scrollingElement||document.documentElement;if("hidden"===window.getComputedStyle(o).overflow){let t=j(e);for(;e&&t&&e!==o&&t!==o;)W(t,e),t=j(e=t)}else{var n;let{left:o,top:s}=e.getBoundingClientRect();null==e||null===(n=e.scrollIntoView)||void 0===n||n.call(e,{block:"nearest"});let{left:l,top:c}=e.getBoundingClientRect();var a,r,i;if(Math.abs(o-l)>1||Math.abs(s-c)>1)null==t||null===(a=t.containingElement)||void 0===a||null===(r=a.scrollIntoView)||void 0===r||r.call(a,{block:"center",inline:"center"}),null===(i=e.scrollIntoView)||void 0===i||i.call(e,{block:"nearest"})}}}function $(e){return!(0!==e.mozInputSource||!e.isTrusted)||(L(/Android/i)&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function G(e){return 0===e.width&&0===e.height||1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType}function K(e,t){let n=(0,a.useRef)(null);return e&&n.current&&t(e,n.current)&&(e=n.current),n.current=e,e}},Kt6o:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a="https://assets.grammarly.com/emoji/v1/",r="https://assets.grammarly.com/animations/v1/"},"L9r+":function(e,t,n){e.exports=n.p+"files/ebef654642ae42ba62e081cb7c9799d1/inter-bolditalic.woff"},LOBD:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("e12y"),r=n("0Hf4"),i=n("ax6a");const o=e=>({["&-"+e]:{marginLeft:a.a.rem(3+1.5*e)}}),s=(e,t)=>({counterIncrement:"list"+e,counterReset:t}),l=(e,t)=>({"&:before":{content:`counter(list${e}, ${t}) '. '`}}),c=(e,t,n)=>({["&-"+e]:Object.assign(Object.assign({},s(e,n)),{$nest:l(e,t)})}),u={editorContainer:"editor-editorContainer",rtfLink:"editor-rtfLink",bigSize:"editor-bigSize"},d="0 0 "+a.a.rem(.5),p=(e,t,n)=>({margin:d,fontSize:a.a.rem(e),lineHeight:a.a.rem(t),$nest:{"&:not(:first-child)":{marginTop:a.a.rem(n)}}}),m={position:"relative",overflow:"hidden",minHeight:a.a.rem(5),outline:"none",border:"none",resize:"none",$nest:{"& p":{margin:0,padding:0},"& h1":p(1.375,2,2),"& h2":p(1.125,1.7,1),"& ol, & ul":{margin:"0 0 "+a.a.rem(.5),paddingLeft:0},"& ol:not(:first-child), & ul:not(:first-child)":{marginTop:a.a.rem(.5)},"& li":{margin:"0 0 0 "+a.a.rem(3),paddingRight:0,listStyleType:"none",$nest:{"&:before":{display:"inline-block",marginRight:a.a.rem(.5),marginLeft:a.a.rem(-3),width:a.a.rem(2.5),textAlign:"right",whiteSpace:"nowrap",lineHeight:a.a.rem(1.375)},[`.${u.bigSize} &`]:{$nest:{"&:before":{lineHeight:a.a.rem(1.65)}}}}},"& .ql-indent":{$nest:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o(1)),o(2)),o(3)),o(4)),o(5)),o(6)),o(7)),o(8))},"& ul li":{$nest:{"&:before":{content:"'\\2022'"}}},"& ul[data-type='dashed'] li":{$nest:{"&:before":{content:"'-'"}}},"& ol li":Object.assign(Object.assign({},s(0,"list1 list2 list3 list4 list5 list6 list7 list8")),{listStyleType:"none",$nest:Object.assign(Object.assign({},l(0,"decimal")),{"&.ql-indent":{$nest:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},c(1,"lower-alpha","list2 list3 list4 list5 list6 list7 list8")),c(2,"lower-roman","list3 list4 list5 list6 list7 list8")),c(3,"decimal","list4 list5 list6 list7 list8")),c(4,"lower-alpha","list5 list6 list7 list8")),c(5,"lower-roman","list6 list7 list8")),c(6,"decimal","list7 list8")),c(7,"lower-alpha","list8")),c(8,"lower-roman","none"))}})}),["& ."+u.rtfLink]:{color:i.a.CoreBlue50,$nest:{"&:visited":{color:i.a.CoreBlue50}}}}},h={fontSize:a.a.rem(1.375),lineHeight:a.a.rem(2.5),$nest:{"& h1":{fontSize:a.a.rem(1.65),lineHeight:a.a.rem(3)},"& h2":{fontSize:a.a.rem(1.375),lineHeight:a.a.rem(2.5)}}},g={editorContainer:a.a.joinClasses([u.editorContainer,a.a.style(m),a.a.style({paddingBottom:"40vh"}),r.a.style(m)]),bigSize:a.a.joinClasses([u.bigSize,a.a.style(h),r.a.style(h)]),rtfLink:a.a.joinClasses([u.rtfLink])}},LRn5:function(e,t,n){e.exports=n.p+"files/1700cc5c5c65844ddc63026a84773cab/grammarlyproductbeta1_8-regular.woff2"},LXcl:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("OA+g"),r=n("LNSM"),i=n("zR/0"),o=n("PrA7"),s=n("hnW1");class l{constructor(){this.completionTrigger=r.a.create(!1),this._steps={},this.getFirstTargetRect=()=>i.a.EMPTY}isStepEnabled(e){return void 0!==this._steps[e]}relaunchAllSteps(){o.Monitoring.Logging.getLogger("OnboardingViewModelImpl").error("Not implemented")}setState(e,t){this.subscribeForStep(e).state.set(t)}subscribeForStep(e){const t=r.a.create(s.a.Hidden);return Boolean(this._steps[e])?this._steps[e]:this._steps[e]={id:e,state:t,dotShown:a.constVoid,dotClicked:()=>t.set(s.a.Popup),popupClosed:()=>t.set(s.a.Passed),popupIgnored:()=>t.set(s.a.Hidden),actionTaken:()=>t.set(s.a.Passed)}}getStepCompletionCallback(e){throw new Error("Method not implemented.")}changeState(e){}}},Lmm7:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return i}));var a,r,i,o=n("D57K"),s=n("I7vG"),l=n("LNSM"),c=n("4ae2"),u=n("FiSa"),d=n("94k3"),p=n("qE82"),m=n("zR/0"),h=n("lrqh"),g=n("hoSD"),f=n("PrA7");!function(e){e.Querying="querying",e.SynonymsReady="ready",e.SynonymsEmpty="empty",e.SynonymApplied="applied",e.SynonymsError="error",e.SynonymsNone="none"}(a||(a={})),function(e){e.isReady=function(e){return null!==e&&e.kind===a.SynonymsReady},e.isEmpty=function(e){return null!==e&&e.kind===a.SynonymsEmpty},e.isQuerying=function(e){return null!==e&&e.kind===a.Querying},e.isApplied=function(e){return null!==e&&e.kind===a.SynonymApplied},e.defaultState={kind:a.SynonymsNone,query:{id:-1,start:-1,word:""}}}(r||(r={}));class b{constructor(e,t,n,a){this.positionManager=e,this._getContent=t,this._capi=n,this._ded=a,this.state=l.a.create(r.defaultState),this.changes=new m.a.Subject,this._log=f.Monitoring.Logging.getLogger("editor.SynonymsModelImpl")}query(e){return Object(o.__awaiter)(this,void 0,void 0,(function*(){return this._log.trace("SynonymsQuery: "+e.word),this.state.set({kind:a.Querying,query:e}),h.l.toPromise(this._capi.requestSynonyms(e.start,e.word)).then(t=>{const n=g.d.Local.Timestamp.now(),r=Object(s.pipe)(t.synonymsOrGroups,h.g.fold(()=>({kind:a.SynonymsEmpty,query:e,synonyms:{id:t.id},readyAt:n,stats:i.emptySynonymsStats,pname:t.pname}),r=>({kind:a.SynonymsReady,query:e,synonyms:Object.assign(Object.assign({},t),{synonymsOrGroups:r}),readyAt:n,stats:i.getSynonymsStats(r),pname:t.pname})));return this._onResponse(r),r}).catch(t=>(this.abortQuery(),Boolean(t.message)&&-1!==t.message.indexOf("Timeout")?this._log.info("Synonyms timeout",t):this._log.warn("Error getting synonyms",t),{kind:a.SynonymsError,query:e}))}))}abortQuery(){const e=this.state.get();r.isQuerying(e)&&this.state.set(r.defaultState)}_onResponse(e){const t=window.SQT;setTimeout(()=>{this._log.trace("_onResponse() newState: "+e);const t=this.state.get();r.isQuerying(t)&&t.query.word===e.query.word?this.state.set(e):this._log.trace("Discarding result for "+e.query.word)},t)}applySynonym(e,t){this._log.debug(`_applySynonym(#${e.id})`);const n=e.range,r=n.start,i=n.end-n.start;this._ded.flushChanges();let o=this.positionManager.getTextLength();const l=Object(s.pipe)((new c.a).retain(r).delete(i).insert(t),p.a.getEnrichedWithFormattingDelta(this._getContent())),m=u.a.delta(l,o),g=l.invert(this._getContent());return this.changes.next(m),h.b.getOrElse(e=>this._log.error("Failed to set cursor on synonym apply.",e,{position:r}))(this._ded.setCursor(r,0)),this.state.set({kind:a.SynonymApplied,target:e}),this._capi.sendFeedback({id:e.id,kind:d.a.SynonymFeedbackType.SYNONYM_ACCEPTED,replacementText:t})(),this._ded.flushChanges(),o=this.positionManager.getTextLength(),{action:d.a.SynonymFeedbackType.SYNONYM_ACCEPTED,replacement:t,commit:()=>{this._log.debug(`_applySynonym(#${e.id}):commit()`),e.dispose()},undo:()=>{this._log.debug(`_applySynonym(#${e.id}):undo()`);const t=this.positionManager.getTextLength();if(t===o){const e=u.a.delta(g,t);this.changes.next(e)}else this._log.error("Text has changed while uncommitted apply is present");return e.dispose(),[]}}}ignore(e){const t=this.state.get();(r.isEmpty(t)||r.isReady(t))&&t.synonyms.id===e?this._capi.sendFeedback({id:e,kind:d.a.SynonymFeedbackType.SYNONYM_DISMISSED})():this._log.error("Tried to report ignore for an unknown synonyms id",{reportedId:e,currentState:t})}}!function(e){e.emptySynonymsStats={numberOfMeanings:0,numberOfSynonymsByMeanings:[],numberOfSynonymsTotal:0};const t=e=>({numberOfMeanings:1,numberOfSynonymsByMeanings:[e.length],numberOfSynonymsTotal:e.length}),n=t=>t.reduce((e,t)=>({numberOfMeanings:e.numberOfMeanings+1,numberOfSynonymsByMeanings:[...e.numberOfSynonymsByMeanings,t.words.length],numberOfSynonymsTotal:e.numberOfSynonymsTotal+t.words.length}),e.emptySynonymsStats);e.getSynonymsStats=e=>Object(s.pipe)(e,h.b.fold(t,n));const a=(e,t)=>{const n=t.findIndex(t=>t===e);return{meaningIndex:0,synonymIndexInGroup:n,synonymIndexAbs:n}},r={meaningIndex:-1,synonymIndexInGroup:-1,synonymIndexAbs:-1};e.getSynonymStats=(e,t)=>Object(s.pipe)(t,h.b.fold(t=>a(e,t),t=>((e,t)=>t.reduce(({result:t,numberOfLookedSynonyms:n},r,i)=>{const o=a(e,r.words).synonymIndexInGroup;return o>-1?{result:{meaningIndex:i,synonymIndexInGroup:o,synonymIndexAbs:n+o},numberOfLookedSynonyms:n}:{result:t,numberOfLookedSynonyms:n+r.words.length}},{result:r,numberOfLookedSynonyms:0}).result)(e,t))),e.getTimeToClose=e=>Object(s.pipe)(e,e=>g.d.Local.Timestamp.subtract(g.d.Local.Timestamp.now(),e),e=>e/1e3)}(i||(i={}))},M0yq:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var a=n("D57K"),r=n("ERkP"),i=n("KCID"),o=n("k+B8");let s="undefined"!=typeof window?window.performance:null,l=s&&(s.now||s.webkitNow||s.msNow||s.mozNow);l&&l.bind(s);var c=n("rGmV"),u=n("Z1nV"),d=n("nxLo");let p=null;function m(e,t="assertive",n=7e3){p||(p=new h),p.announce(e,t,n)}class h{createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",n=7e3){if(!this.node)return;let a=document.createElement("div");a.textContent=e,"assertive"===t?this.assertiveLog.appendChild(a):this.politeLog.appendChild(a),""!==e&&setTimeout(()=>{a.remove()},n)}clear(e){this.node&&(e&&"assertive"!==e||(this.assertiveLog.innerHTML=""),e&&"polite"!==e||(this.politeLog.innerHTML=""))}constructor(){this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node)}}var g=n("UMB3");function f(e){return e&&e.__esModule?e.default:e}new WeakMap;var b;function y(e,t){var n;let{getRowText:a=(e=>{var a,r,i;return null!==(n=null===(r=(a=t.collection).getTextValue)||void 0===r?void 0:r.call(a,e))&&void 0!==n?n:null===(i=t.collection.getItem(e))||void 0===i?void 0:i.textValue})}=e,o=(0,c.c)(f(b)),s=t.selectionManager.rawSelection,l=(0,r.useRef)(s);(0,i.A)(()=>{var e;if(!t.selectionManager.isFocused)return void(l.current=s);let n=v(s,l.current),r=v(l.current,s),i="replace"===t.selectionManager.selectionBehavior,c=[];if(1===t.selectionManager.selectedKeys.size&&i){if(t.collection.getItem(t.selectionManager.selectedKeys.keys().next().value)){let e=a(t.selectionManager.selectedKeys.keys().next().value);e&&c.push(o.format("selectedItem",{item:e}))}}else if(1===n.size&&0===r.size){let e=a(n.keys().next().value);e&&c.push(o.format("selectedItem",{item:e}))}else if(1===r.size&&0===n.size&&t.collection.getItem(r.keys().next().value)){let e=a(r.keys().next().value);e&&c.push(o.format("deselectedItem",{item:e}))}"multiple"===t.selectionManager.selectionMode&&(0===c.length||"all"===s||s.size>1||"all"===l.current||(null===(e=l.current)||void 0===e?void 0:e.size)>1)&&c.push("all"===s?o.format("selectedAll"):o.format("selectedCount",{count:s.size})),c.length>0&&m(c.join(" ")),l.current=s},[s])}function v(e,t){let n=new Set;if("all"===e||"all"===t)return n;for(let a of e.keys())t.has(a)||n.add(a);return n}function S(e){let t=(0,c.c)(f(b)),n=(0,g.i)(),a=("pointer"===n||"virtual"===n||null==n)&&"undefined"!=typeof window&&"ontouchstart"in window,o=(0,r.useMemo)(()=>{let n=e.selectionManager.selectionMode,r=e.selectionManager.selectionBehavior,i=void 0;return a&&(i=t.format("longPressToSelect")),"replace"===r&&"none"!==n&&e.hasItemActions?i:void 0},[e.selectionManager.selectionMode,e.selectionManager.selectionBehavior,e.hasItemActions,t,a]);return(0,i.q)(o)}function C(e,t){let{key:n}=e,a=t.selectionManager,r=(0,i.u)(),o=!t.selectionManager.canSelectItem(n),s=t.selectionManager.isSelected(n);return{checkboxProps:{id:r,"aria-label":(0,c.c)(f(b)).format("select"),isSelected:s,isDisabled:o,onChange:()=>a.select(n)}}}b={"ar-AE":{deselectedItem:e=>e.item+" غير المحدد",longPressToSelect:"اضغط مطولًا للدخول إلى وضع التحديد.",select:"تحديد",selectedAll:"جميع العناصر المحددة.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"لم يتم تحديد عناصر",one:()=>t.number(e.count)+" عنصر محدد",other:()=>t.number(e.count)+" عنصر محدد"})+".",selectedItem:e=>e.item+" المحدد"},"bg-BG":{deselectedItem:e=>e.item+" не е избран.",longPressToSelect:"Натиснете и задръжте за да влезете в избирателен режим.",select:"Изберете",selectedAll:"Всички елементи са избрани.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Няма избрани елементи",one:()=>t.number(e.count)+" избран елемент",other:()=>t.number(e.count)+" избрани елементи"})+".",selectedItem:e=>e.item+" избран."},"cs-CZ":{deselectedItem:e=>`Položka ${e.item} není vybrána.`,longPressToSelect:"Dlouhým stisknutím přejdete do režimu výběru.",select:"Vybrat",selectedAll:"Vybrány všechny položky.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nevybrány žádné položky",one:()=>`Vybrána ${t.number(e.count)} položka`,other:()=>`Vybráno ${t.number(e.count)} položek`})+".",selectedItem:e=>`Vybrána položka ${e.item}.`},"da-DK":{deselectedItem:e=>e.item+" ikke valgt.",longPressToSelect:"Lav et langt tryk for at aktivere valgtilstand.",select:"Vælg",selectedAll:"Alle elementer valgt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ingen elementer valgt",one:()=>t.number(e.count)+" element valgt",other:()=>t.number(e.count)+" elementer valgt"})+".",selectedItem:e=>e.item+" valgt."},"de-DE":{deselectedItem:e=>e.item+" nicht ausgewählt.",longPressToSelect:"Gedrückt halten, um Auswahlmodus zu öffnen.",select:"Auswählen",selectedAll:"Alle Elemente ausgewählt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Keine Elemente ausgewählt",one:()=>t.number(e.count)+" Element ausgewählt",other:()=>t.number(e.count)+" Elemente ausgewählt"})+".",selectedItem:e=>e.item+" ausgewählt."},"el-GR":{deselectedItem:e=>`Δεν επιλέχθηκε το στοιχείο ${e.item}.`,longPressToSelect:"Πατήστε παρατεταμένα για να μπείτε σε λειτουργία επιλογής.",select:"Επιλογή",selectedAll:"Επιλέχθηκαν όλα τα στοιχεία.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Δεν επιλέχθηκαν στοιχεία",one:()=>`Επιλέχθηκε ${t.number(e.count)} στοιχείο`,other:()=>`Επιλέχθηκαν ${t.number(e.count)} στοιχεία`})+".",selectedItem:e=>`Επιλέχθηκε το στοιχείο ${e.item}.`},"en-US":{deselectedItem:e=>e.item+" not selected.",select:"Select",selectedCount:(e,t)=>t.plural(e.count,{"=0":"No items selected",one:()=>t.number(e.count)+" item selected",other:()=>t.number(e.count)+" items selected"})+".",selectedAll:"All items selected.",selectedItem:e=>e.item+" selected.",longPressToSelect:"Long press to enter selection mode."},"es-ES":{deselectedItem:e=>e.item+" no seleccionado.",longPressToSelect:"Mantenga pulsado para abrir el modo de selección.",select:"Seleccionar",selectedAll:"Todos los elementos seleccionados.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ningún elemento seleccionado",one:()=>t.number(e.count)+" elemento seleccionado",other:()=>t.number(e.count)+" elementos seleccionados"})+".",selectedItem:e=>e.item+" seleccionado."},"et-EE":{deselectedItem:e=>e.item+" pole valitud.",longPressToSelect:"Valikurežiimi sisenemiseks vajutage pikalt.",select:"Vali",selectedAll:"Kõik üksused valitud.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Üksusi pole valitud",one:()=>t.number(e.count)+" üksus valitud",other:()=>t.number(e.count)+" üksust valitud"})+".",selectedItem:e=>e.item+" valitud."},"fi-FI":{deselectedItem:e=>`Kohdetta ${e.item} ei valittu.`,longPressToSelect:"Siirry valintatilaan painamalla pitkään.",select:"Valitse",selectedAll:"Kaikki kohteet valittu.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ei yhtään kohdetta valittu",one:()=>t.number(e.count)+" kohde valittu",other:()=>t.number(e.count)+" kohdetta valittu"})+".",selectedItem:e=>e.item+" valittu."},"fr-FR":{deselectedItem:e=>e.item+" non sélectionné.",longPressToSelect:"Appuyez de manière prolongée pour passer en mode de sélection.",select:"Sélectionner",selectedAll:"Tous les éléments sélectionnés.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Aucun élément sélectionné",one:()=>t.number(e.count)+" élément sélectionné",other:()=>t.number(e.count)+" éléments sélectionnés"})+".",selectedItem:e=>e.item+" sélectionné."},"he-IL":{deselectedItem:e=>e.item+" לא נבחר.",longPressToSelect:"הקשה ארוכה לכניסה למצב בחירה.",select:"בחר",selectedAll:"כל הפריטים נבחרו.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"לא נבחרו פריטים",one:()=>`פריט ${t.number(e.count)} נבחר`,other:()=>t.number(e.count)+" פריטים נבחרו"})+".",selectedItem:e=>e.item+" נבחר."},"hr-HR":{deselectedItem:e=>`Stavka ${e.item} nije odabrana.`,longPressToSelect:"Dugo pritisnite za ulazak u način odabira.",select:"Odaberite",selectedAll:"Odabrane su sve stavke.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nije odabrana nijedna stavka",one:()=>`Odabrana je ${t.number(e.count)} stavka`,other:()=>`Odabrano je ${t.number(e.count)} stavki`})+".",selectedItem:e=>`Stavka ${e.item} je odabrana.`},"hu-HU":{deselectedItem:e=>e.item+" nincs kijelölve.",longPressToSelect:"Nyomja hosszan a kijelöléshez.",select:"Kijelölés",selectedAll:"Az összes elem kijelölve.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Egy elem sincs kijelölve",one:()=>t.number(e.count)+" elem kijelölve",other:()=>t.number(e.count)+" elem kijelölve"})+".",selectedItem:e=>e.item+" kijelölve."},"it-IT":{deselectedItem:e=>e.item+" non selezionato.",longPressToSelect:"Premi a lungo per passare alla modalità di selezione.",select:"Seleziona",selectedAll:"Tutti gli elementi selezionati.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nessun elemento selezionato",one:()=>t.number(e.count)+" elemento selezionato",other:()=>t.number(e.count)+" elementi selezionati"})+".",selectedItem:e=>e.item+" selezionato."},"ja-JP":{deselectedItem:e=>e.item+" が選択されていません。",longPressToSelect:"長押しして選択モードを開きます。",select:"選択",selectedAll:"すべての項目を選択しました。",selectedCount:(e,t)=>t.plural(e.count,{"=0":"項目が選択されていません",one:()=>t.number(e.count)+" 項目を選択しました",other:()=>t.number(e.count)+" 項目を選択しました"})+"。",selectedItem:e=>e.item+" を選択しました。"},"ko-KR":{deselectedItem:e=>e.item+"이(가) 선택되지 않았습니다.",longPressToSelect:"선택 모드로 들어가려면 길게 누르십시오.",select:"선택",selectedAll:"모든 항목이 선택되었습니다.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"선택된 항목이 없습니다",one:()=>t.number(e.count)+"개 항목이 선택되었습니다",other:()=>t.number(e.count)+"개 항목이 선택되었습니다"})+".",selectedItem:e=>e.item+"이(가) 선택되었습니다."},"lt-LT":{deselectedItem:e=>e.item+" nepasirinkta.",longPressToSelect:"Norėdami įjungti pasirinkimo režimą, paspauskite ir palaikykite.",select:"Pasirinkti",selectedAll:"Pasirinkti visi elementai.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nepasirinktas nė vienas elementas",one:()=>`Pasirinktas ${t.number(e.count)} elementas`,other:()=>"Pasirinkta elementų: "+t.number(e.count)})+".",selectedItem:e=>`Pasirinkta: ${e.item}.`},"lv-LV":{deselectedItem:e=>`Vienums ${e.item} nav atlasīts.`,longPressToSelect:"Ilgi turiet nospiestu. lai ieslēgtu atlases režīmu.",select:"Atlasīt",selectedAll:"Atlasīti visi vienumi.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nav atlasīts neviens vienums",one:()=>"Atlasīto vienumu skaits: "+t.number(e.count),other:()=>"Atlasīto vienumu skaits: "+t.number(e.count)})+".",selectedItem:e=>`Atlasīts vienums ${e.item}.`},"nb-NO":{deselectedItem:e=>e.item+" er ikke valgt.",longPressToSelect:"Bruk et langt trykk for å gå inn i valgmodus.",select:"Velg",selectedAll:"Alle elementer er valgt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Ingen elementer er valgt",one:()=>t.number(e.count)+" element er valgt",other:()=>t.number(e.count)+" elementer er valgt"})+".",selectedItem:e=>e.item+" er valgt."},"nl-NL":{deselectedItem:e=>e.item+" niet geselecteerd.",longPressToSelect:"Druk lang om de selectiemodus te openen.",select:"Selecteren",selectedAll:"Alle items geselecteerd.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Geen items geselecteerd",one:()=>t.number(e.count)+" item geselecteerd",other:()=>t.number(e.count)+" items geselecteerd"})+".",selectedItem:e=>e.item+" geselecteerd."},"pl-PL":{deselectedItem:e=>`Nie zaznaczono ${e.item}.`,longPressToSelect:"Naciśnij i przytrzymaj, aby wejść do trybu wyboru.",select:"Zaznacz",selectedAll:"Wszystkie zaznaczone elementy.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nie zaznaczono żadnych elementów",one:()=>t.number(e.count)+" zaznaczony element",other:()=>t.number(e.count)+" zaznaczonych elementów"})+".",selectedItem:e=>`Zaznaczono ${e.item}.`},"pt-BR":{deselectedItem:e=>e.item+" não selecionado.",longPressToSelect:"Mantenha pressionado para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>t.number(e.count)+" item selecionado",other:()=>t.number(e.count)+" itens selecionados"})+".",selectedItem:e=>e.item+" selecionado."},"pt-PT":{deselectedItem:e=>e.item+" não selecionado.",longPressToSelect:"Prima continuamente para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>t.number(e.count)+" item selecionado",other:()=>t.number(e.count)+" itens selecionados"})+".",selectedItem:e=>e.item+" selecionado."},"ro-RO":{deselectedItem:e=>e.item+" neselectat.",longPressToSelect:"Apăsați lung pentru a intra în modul de selectare.",select:"Selectare",selectedAll:"Toate elementele selectate.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Niciun element selectat",one:()=>t.number(e.count)+" element selectat",other:()=>t.number(e.count)+" elemente selectate"})+".",selectedItem:e=>e.item+" selectat."},"ru-RU":{deselectedItem:e=>e.item+" не выбрано.",longPressToSelect:"Нажмите и удерживайте для входа в режим выбора.",select:"Выбрать",selectedAll:"Выбраны все элементы.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Нет выбранных элементов",one:()=>t.number(e.count)+" элемент выбран",other:()=>t.number(e.count)+" элементов выбрано"})+".",selectedItem:e=>e.item+" выбрано."},"sk-SK":{deselectedItem:e=>`Nevybraté položky: ${e.item}.`,longPressToSelect:"Dlhším stlačením prejdite do režimu výberu.",select:"Vybrať",selectedAll:"Všetky vybraté položky.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Žiadne vybraté položky",one:()=>t.number(e.count)+" vybratá položka",other:()=>"Počet vybratých položiek:"+t.number(e.count)})+".",selectedItem:e=>`Vybraté položky: ${e.item}.`},"sl-SI":{deselectedItem:e=>`Element ${e.item} ni izbran.`,longPressToSelect:"Za izbirni način pritisnite in dlje časa držite.",select:"Izberite",selectedAll:"Vsi elementi so izbrani.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Noben element ni izbran",one:()=>t.number(e.count)+" element je izbran",other:()=>t.number(e.count)+" elementov je izbranih"})+".",selectedItem:e=>`Element ${e.item} je izbran.`},"sr-SP":{deselectedItem:e=>e.item+" nije izabrano.",longPressToSelect:"Dugo pritisnite za ulazak u režim biranja.",select:"Izaberite",selectedAll:"Izabrane su sve stavke.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Nije izabrana nijedna stavka",one:()=>`Izabrana je ${t.number(e.count)} stavka`,other:()=>`Izabrano je ${t.number(e.count)} stavki`})+".",selectedItem:e=>e.item+" je izabrano."},"sv-SE":{deselectedItem:e=>e.item+" ej markerat.",longPressToSelect:"Tryck länge när du vill öppna väljarläge.",select:"Markera",selectedAll:"Alla markerade objekt.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Inga markerade objekt",one:()=>t.number(e.count)+" markerat objekt",other:()=>t.number(e.count)+" markerade objekt"})+".",selectedItem:e=>e.item+" markerat."},"tr-TR":{deselectedItem:e=>e.item+" seçilmedi.",longPressToSelect:"Seçim moduna girmek için uzun basın.",select:"Seç",selectedAll:"Tüm ögeler seçildi.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Hiçbir öge seçilmedi",one:()=>t.number(e.count)+" öge seçildi",other:()=>t.number(e.count)+" öge seçildi"})+".",selectedItem:e=>e.item+" seçildi."},"uk-UA":{deselectedItem:e=>e.item+" не вибрано.",longPressToSelect:"Виконайте довге натиснення, щоб перейти в режим вибору.",select:"Вибрати",selectedAll:"Усі елементи вибрано.",selectedCount:(e,t)=>t.plural(e.count,{"=0":"Жодних елементів не вибрано",one:()=>t.number(e.count)+" елемент вибрано",other:()=>"Вибрано елементів: "+t.number(e.count)})+".",selectedItem:e=>e.item+" вибрано."},"zh-CN":{deselectedItem:e=>`未选择 ${e.item}。`,longPressToSelect:"长按以进入选择模式。",select:"选择",selectedAll:"已选择所有项目。",selectedCount:(e,t)=>t.plural(e.count,{"=0":"未选择项目",one:()=>`已选择 ${t.number(e.count)} 个项目`,other:()=>`已选择 ${t.number(e.count)} 个项目`})+"。",selectedItem:e=>`已选择 ${e.item}。`},"zh-TW":{deselectedItem:e=>`未選取「${e.item}」。`,longPressToSelect:"長按以進入選擇模式。",select:"選取",selectedAll:"已選取所有項目。",selectedCount:(e,t)=>t.plural(e.count,{"=0":"未選取任何項目",one:()=>`已選取 ${t.number(e.count)} 個項目`,other:()=>`已選取 ${t.number(e.count)} 個項目`})+"。",selectedItem:e=>`已選取「${e.item}」。`}};const w=new WeakMap;function k(e,t){let{id:n}=w.get(e);if(!n)throw new Error("Unknown list");return`${n}-${function(e){return"string"==typeof e?e.replace(/\s*/g,""):""+e}(t)}`}function E(e){let t,n;do{n=e.lastChild(),n&&(t=n)}while(n);return t}function O(e,t){let{key:n}=e;const{checkboxProps:a}=C(e,t);return{checkboxProps:{...a,"aria-labelledby":`${a.id} ${k(t,n)}`}}}var A,_=n("pwLq"),x=n("ZTXN"),I=n("9NHN"),j=n("LNSM"),T=n("zR/0"),M=n("hoSD"),N=n("NmGF"),P=n("8Ioe"),L=n("e12y"),R=n("xEVj");!function(e){function t(e){var{theme:t={},itemAnimationMode:o,assistiveScroll:s=!1,onClick:l}=e,c=Object(a.__rest)(e,["theme","itemAnimationMode","assistiveScroll","onClick"]);const m=Object(_.a)(c),h=r.useRef(null),{gridProps:g}=function(e,t,n){let{isVirtualized:a,keyboardDelegate:r,onAction:o}=e;e["aria-label"]||e["aria-labelledby"]||console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let{listProps:s}=(0,d.d)({selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,ref:n,keyboardDelegate:r,isVirtualized:a,selectOnFocus:"replace"===t.selectionManager.selectionBehavior,shouldFocusWrap:e.shouldFocusWrap}),l=(0,i.u)(e.id);w.set(t,{id:l,onAction:o});let c=S({selectionManager:t.selectionManager,hasItemActions:!!o}),p=(0,u.g)(n,{isDisabled:0!==t.collection.size}),m=(0,i.b)(e,{labelable:!0}),h=(0,i.l)(m,{role:"grid",id:l,"aria-multiselectable":"multiple"===t.selectionManager.selectionMode?"true":void 0},0===t.collection.size?{tabIndex:p?-1:0}:s,c);return a&&(h["aria-rowcount"]=t.collection.size,h["aria-colcount"]=1),y({},t),{gridProps:h}}(c,m,h);return r.createElement("ul",Object.assign({},g,{ref:h},Object(I.c)(p.list,t.list)),Array.from(m.collection).map(e=>r.createElement(n,{key:e.key,item:e,state:m,theme:t.item,animationMode:o,assistiveScroll:s,onClick:l})))}function n({item:e,state:t,animationMode:n,assistiveScroll:o,onClick:l,showCheckbox:m=!1,theme:h={}}){const f=r.useRef(null),{rowProps:b,gridCellProps:y,isPressed:v}=function(e,t,n){let{node:a,isVirtualized:o,shouldSelectOnPressUp:s}=e,{direction:l}=(0,c.b)(),{onAction:p}=w.get(t),m=(0,i.y)(),h=(0,r.useRef)(null),{itemProps:f,...b}=(0,d.c)({selectionManager:t.selectionManager,key:a.key,ref:n,isVirtualized:o,shouldSelectOnPressUp:s,onAction:p?()=>p(a.key):void 0,focus:()=>{(null!=h.current&&a.key!==h.current||!n.current.contains(document.activeElement))&&(0,u.b)(n.current)}}),y=(0,i.l)(f,{role:"row",onKeyDownCapture:e=>{if(!e.currentTarget.contains(e.target))return;let t=(0,u.c)(n.current);switch(t.currentNode=document.activeElement,e.key){case"ArrowLeft":{let a="rtl"===l?t.nextNode():t.previousNode();if(a)e.preventDefault(),e.stopPropagation(),(0,u.b)(a),(0,i.o)(a,{containingElement:(0,i.d)(n.current)});else if(e.preventDefault(),e.stopPropagation(),"rtl"===l)(0,u.b)(n.current),(0,i.o)(n.current,{containingElement:(0,i.d)(n.current)});else{t.currentNode=n.current;let e=E(t);e&&((0,u.b)(e),(0,i.o)(e,{containingElement:(0,i.d)(n.current)}))}break}case"ArrowRight":{let a="rtl"===l?t.previousNode():t.nextNode();if(a)e.preventDefault(),e.stopPropagation(),(0,u.b)(a),(0,i.o)(a,{containingElement:(0,i.d)(n.current)});else if(e.preventDefault(),e.stopPropagation(),"ltr"===l)(0,u.b)(n.current),(0,i.o)(n.current,{containingElement:(0,i.d)(n.current)});else{t.currentNode=n.current;let e=E(t);e&&((0,u.b)(e),(0,i.o)(e,{containingElement:(0,i.d)(n.current)}))}break}case"ArrowUp":case"ArrowDown":!e.altKey&&n.current.contains(e.target)&&(e.stopPropagation(),e.preventDefault(),n.current.parentElement.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent)))}},onFocus:e=>{h.current=a.key,e.target===n.current||(0,g.b)()||t.selectionManager.setFocusedKey(a.key)},"aria-label":a.textValue||void 0,"aria-selected":t.selectionManager.canSelectItem(a.key)?t.selectionManager.isSelected(a.key):void 0,"aria-disabled":t.selectionManager.isDisabled(a.key)||void 0,"aria-labelledby":m&&a.textValue?`${k(t,a.key)} ${m}`:void 0,id:k(t,a.key)});return o&&(y["aria-rowindex"]=a.index+1),{rowProps:y,gridCellProps:{role:"gridcell","aria-colindex":1},descriptionProps:{id:m},...b}}({node:e},t,f),{isFocusVisible:S,focusProps:C}=Object(u.e)(),O=r.useMemo(()=>new x.a,[]),A=r.useCallback(()=>null!=n&&r.createElement(P.b,{mouseDownEvents:O,animationMode:n,className:h.ripple}),[O,n,h.ripple]);r.useEffect(()=>{var e;o&&S&&(null===(e=f.current)||void 0===e||e.scrollIntoView({block:"nearest"}))},[S,o]);const _=m&&"none"!==t.selectionManager.selectionMode&&"toggle"===t.selectionManager.selectionBehavior,{onPointerDown:j}=b,N=Object(a.__rest)(b,["onPointerDown"]),L=Object(i.l)(N,C,{onPointerDown:e=>{O.next({pageX:e.pageX,pageY:e.pageY}),null==j||j(e)}});return R.a.useEffectOnDidMount(()=>{var e;f.current&&(e=f.current,M.c.findAll(M.c.Guardians.isButtonLike)(e).forEach(e=>{var t;const n=null===(t=e.onpointerdown)||void 0===t?void 0:t.bind(e);e.onpointerdown=e=>{e.stopPropagation(),null==n||n(e)}}))}),R.a.useSubscriptionTo(O.pipe(T.a.map(t=>null==l?void 0:l({key:e.key,clickPoint:{x:Math.floor(t.pageX),y:Math.floor(t.pageY)}})))),r.createElement("li",Object.assign({},L,{ref:f},Object(I.c)("none"!==t.selectionManager.selectionMode?p.selectableItem:p.item,v?h.pressed:void 0,S?h.focused:void 0,h.base)),r.createElement("div",Object.assign({},y),_&&r.createElement(s,{item:e,state:t}),e.rendered),A())}function s({item:e,state:t}){const{checkboxProps:n}=O({key:e.key},t);return r.createElement(N.a,Object.assign({name:e.textValue+"-checkbox"},n,{checked:j.a.create(Boolean(n.isSelected))}))}e.List=t,e.LiftedList=function(e){return Object(I.d)(t)(e)},e.Item=o.a;const l={position:"relative",overflow:"hidden",$nest:{'& > [role="gridcell"]':{display:"flex",justifyContent:"space-between",alignItems:"center",width:L.a.percent(100)}}},p=L.a.stylesheet({list:[{listStyle:"none",overflow:"auto",padding:0}],item:[l],selectableItem:[l,{cursor:"pointer"}]})}(A||(A={}))},"MD/T":function(e,t,n){"use strict";n.d(t,"a",(function(){return qe})),n.d(t,"b",(function(){return ze}));var a=n("ERkP"),r=n("OA+g"),i=n("9NHN"),o=n("vOOZ"),s=n("lrqh"),l=n("hoSD"),c=n("1w6p"),u=n("zR/0"),d=n("+w1e"),p=n("C7EH"),m=n("HUX/"),h=n("U75S"),g=n("I7vG"),f=n("rk+4"),b=n("bO3R"),y=n("D9EC"),v=n("KBak"),S=n("cVtq"),C=n("BT8e"),w=n("StFb"),k=n("ax6a"),E=n("e12y");const O=E.a.style({display:"flex",flexGrow:2,lineHeight:E.a.rem(1.315),flexWrap:"wrap"}),A={padding:0,whiteSpace:"pre-wrap"},_=E.a.style(A),x=E.a.style(Object.assign({color:k.a.CoreGreen60},A)),I=E.a.style(Object.assign({color:k.a.CoreBlue50},A)),j=E.a.style(Object.assign(Object.assign({},A),{color:k.a.CoreRed50,textDecoration:"line-through",$nest:{["& + ."+x]:{marginLeft:E.a.rem(.25)},["& + ."+I]:{marginLeft:E.a.rem(.25)}}})),T=E.a.style({fontWeight:"bolder",textDecoration:"none",paddingLeft:"1px",paddingRight:"1px",$nest:{["&."+x]:{backgroundColor:k.a.CoreGreen10},["&."+j]:{backgroundColor:k.a.CoreRed10}}}),M=e=>a.createElement("div",{className:O},Object(g.pipe)(e.diff,s.a.mapWithIndex((t,n)=>Object(y.o)(v.a.isDelete(n),v.a.isInsert(n))?a.createElement("div",Object.assign({key:t},Object(i.c)(v.a.isDelete(n)?j:Boolean(e.a11yContrast)?I:x,Object(y.o)(Object(w.c)(n.textChunk),Object(w.d)(n.textChunk))&&T)),a.createElement(S.a,{newText:n.textChunk,oldText:n.invertedChunk,theme:Boolean(e.a11yContrast)?C.a:C.b})):a.createElement("div",{key:t,className:_},n.textChunk))));var N=n("3rlE"),P=n("jAl6"),L=n("26kZ"),R=n("Q8bi"),B=n("aIes"),F=n("UEGg"),D=n("+Zgs"),H=n("q4n/"),V=n("iVSA"),U=n("ps/9");const W=E.a.keyframes({from:{opacity:0,width:0},to:{opacity:1,width:E.a.rem(1.5)}}),q=E.a.keyframes({from:{opacity:1,width:E.a.rem(1.5)},to:{opacity:0,width:0}}),z=E.a.keyframes({from:{opacity:1},to:{opacity:0}}),$=E.a.keyframes({from:{opacity:0},to:{opacity:1}}),G=(e,t="linear",n=".3s")=>({animation:`${e} ${n} ${t} forwards`}),K=e=>Object.assign(Object.assign({},G(e,"ease-out")),{display:"flex",alignItems:"center",justifyContent:"center",marginLeft:E.a.rem(V.g.Space1)}),Y=e=>Object.assign(Object.assign({},G(e)),{position:"absolute"}),Z=E.a.style(K(W)),X=E.a.style(K(q)),Q=E.a.style(G(z)),J=E.a.style(Y($)),ee=E.a.style(Object.assign(Object.assign({},Y($)),{top:0})),te=E.a.style(Object.assign(Object.assign({},Y(z)),{top:0})),ne=E.a.style({marginLeft:E.a.rem(-.5)}),ae=E.a.style({position:"relative",display:"flex",boxSizing:"border-box",padding:"0 "+E.a.rem(1),alignItems:"center",justifyContent:"space-between",userSelect:"none",transform:"translateY(0)"}),re=(E.a.style({display:"flex",flexFlow:"column",alignItems:"center",alignSelf:"center"}),E.a.style({height:E.a.rem(3),cursor:"pointer",borderRadius:E.a.rem(U.t),boxShadow:"0px 1px 8px rgb(109 117 141 / 18%)"})),ie=E.a.style({stroke:"none"}),oe=(E.a.style({position:E.a.important("static"),padding:E.a.important("0 "+E.a.rem(.25)),width:E.a.important(E.a.rem(1.75)),background:E.a.important(k.a.CoreGreen50),color:E.a.important(k.a.CoreNeutral0)}),E.a.style({display:"flex",flexFlow:"column"})),se=E.a.style({position:"relative",display:"flex",flexWrap:"wrap"}),le={marginRight:E.a.rem(.75),textTransform:"none",letterSpacing:E.a.rem(k.h.BodyLetterSpacing),fontSize:E.a.rem(k.h.BodySize)},ce=E.a.style({height:E.a.rem(1.5)}),ue=E.a.style(Object.assign(Object.assign({},le),{padding:"0 "+E.a.rem(.5),display:"flex",justifyContent:"center",alignItems:"center",minWidth:E.a.rem(6)})),de=E.a.style(Object.assign(Object.assign({},le),{color:k.a.CoreNeutral50,fontWeight:k.h.BodyWeight,padding:"0 "+E.a.rem(.5),$nest:{i:{marginLeft:E.a.rem(-.25)},"&[data-textpos='everywhere']":{padding:"0 "+E.a.rem(.5)}}})),pe=E.a.style({fontSize:E.a.rem(k.h.BodySize)}),me=E.a.style({display:"flex",alignItems:"center",marginLeft:E.a.rem(-1)}),he=E.a.style({maxHeight:E.a.rem(17)}),ge=E.a.style({justifyContent:"space-between",height:E.a.percent(100),width:E.a.percent(100),padding:`${E.a.rem(1)} 0 ${E.a.rem(1)} ${E.a.rem(1)}`,$nest:{["& ."+me]:{marginLeft:E.a.rem(-2)}}}),fe=E.a.style({maxHeight:E.a.rem(10),position:"relative",margin:`0 ${E.a.rem(-.725)} 0 0`,padding:`0 ${E.a.rem(.875)} ${E.a.rem(.5)} 0`,listStyle:"none"}),be=E.a.style({display:"flex",alignItems:"center",justifyContent:"space-between",$nest:{"&:hover":{background:k.a.CoreNeutral10,cursor:"pointer"}}}),ye=E.a.style({overflowY:"auto",paddingBottom:E.a.rem(2)}),ve=E.a.style({position:"absolute",top:E.a.rem(-3),left:0,right:0,height:E.a.rem(3),width:E.a.percent(100),background:`linear-gradient(0deg, ${k.a.CoreNeutral0} 0%, ${k.a.CoreNeutral0} 10%, rgba(255,255,255,0) 100%)`,pointerEvents:"none"}),Se=E.a.style({overflow:"hidden",flexWrap:"nowrap",width:E.a.percent(100),height:E.a.rem(2),display:"flex",justifyContent:"flex-start",alignItems:"center",fontSize:E.a.rem(.875),fontFeatureSettings:"'ss03' on, 'ss02' on",padding:"0 "+E.a.rem(.25)}),Ce=E.a.style({flexShrink:0}),we=E.a.style({$nest:{'&:not([data-disabled="true"])[data-hovered="true"],&:not([data-disabled="true"])[data-active="true"]':{backgroundColor:"transparent"}}}),ke=E.a.style({$nest:{g:{stroke:k.a.CoreNeutral50}}}),Ee=E.a.style({minWidth:E.a.rem(1.5),minHeight:E.a.rem(1.5)}),Oe=({className:e,children:t,alertCount:n,onClick:r})=>{const s=a.useContext(f.a.Context);return a.createElement(o.a.div,Object.assign({role:"button"},Object(i.c)(ae,e),{onClick:r,"aria-label":n.pipe(u.a.map(s.bulkAccept.title)),onKeyDown:e=>{[H.a.ENTER_CODE,H.a.SPACE_CODE].includes(e.keyCode)&&(e.preventDefault(),r())},tabIndex:0}),t)},Ae=({className:e,children:t,onMount:n})=>a.createElement(o.a.div,Object.assign({},Object(i.c)(ae,e),{mount:n}),t),_e=c.b.Transition.make({fadeIn:J},{fadeOut:Q}),xe=c.b.Transition.make({fadeIn:ee},{fadeOut:te}),Ie=c.b.Transition.make({visible:Z},{invisible:X}),je=c.b.Knot.make(c.b.Grid.make(({notify:e,slots:t,state:n})=>a.createElement(o.a.Fragment,null,n.pipe(u.a.map(n=>a.createElement(b.a.Primary,{name:"bulk-accept-apply",className:ue,disabled:p.a.isInUndoneState(n),onClick:B.d.callOnce(e({type:p.a.isInInitialState(n)?d.b.Type.bulkApply:d.b.Type.bulkLooksGood,alertIds:n.alerts.map(e=>e.id)}))},p.a.isInUndoneState(n)?a.createElement(P.a,{wrapperClassName:ce,size:20,variation:"white"}):t.content))))),{content:((e,t)=>c.b.Animated.make(t,c.b.Union.asOption(c.b.Node.make(({state:t})=>a.createElement(o.a.Fragment,null,t.pipe(u.a.map(t=>a.createElement(e,Object.assign({},t)))))))))(e=>{const t=a.useContext(f.a.Context);return a.createElement(a.Fragment,null,p.a.isInAppliedState(e)?t.bulkAccept.confirm:t.bulkAccept.apply(e.alerts.length))},xe)}),Te=()=>{const e=a.useContext(f.a.Context);return a.createElement(a.Fragment,null,e.dismiss)},Me=e=>c.b.Node.make(({notify:t})=>a.createElement(b.a.Ghost,{className:de,name:"bulk-accept-dismiss-button",onClick:B.d.callOnce(t({type:d.b.Type.bulkDismiss}))},Object(g.pipe)(e,s.g.map(e=>a.createElement("div",{className:e},a.createElement(N.d.Undo,Object.assign({width:16},Object(i.c)(Ee,ke))))),s.g.toNullable),a.createElement(Te,null))),Ne=c.b.Node.make(({view:e,notify:t})=>{const n=a.useContext(f.a.Context);return a.createElement(o.a.Fragment,null,e("alerts").pipe(u.a.map(e=>a.createElement(b.a.Ghost,{className:de,name:"bulk-accept-undo-button",onClick:B.d.callOnce(t({type:d.b.Type.bulkUndo,alertIds:e.map(e=>e.id)}))},a.createElement("div",{className:Z},a.createElement(N.d.Undo,Object.assign({width:16},Object(i.c)(Ee,ke)))),n.bulkAccept.undoAll))))}),Pe=c.b.Union.make("visibilityState",{visible:Me(s.g.none),applied:Ne,beingApplied:Me(s.g.none),dismissed:c.b.Node.empty,undone:Me(s.g.some(X))}),Le=c.b.Group.make({apply:je,dismiss:Pe}),Re=({onClick:e})=>{const t=a.useContext(f.a.Context);return a.createElement("div",{className:Ce},a.createElement(b.a.Ghost,{name:"rejectAlertInBulk",onClick:B.d.callOnce(e),className:we,title:t.dismiss,"aria-label":t.dismiss},a.createElement(N.d.Ignore,{className:Ee})))},Be=c.b.Animated.make(Ie,c.b.Union.asOption(c.b.Node.make(()=>a.createElement(N.d.NotificationInfo,{className:ne,width:16})))),Fe=c.b.Node.make(({state:e,notify:t})=>a.createElement(o.a.Fragment,null,e.pipe(u.a.map(e=>{return a.createElement("li",{className:be},a.createElement(L.a,{align:"topCenter",title:(n=e.title,a.createElement("span",{dangerouslySetInnerHTML:{__html:n}}))},a.createElement("div",Object.assign({className:Se,"data-name":"bulk-accept-alert-row"},B.d.createAccessibleClickHandler(((e,t)=>n=>t({type:d.b.Type.bulkHighlight,alert:e,clickPoint:"clientX"in n?{x:n.clientX,y:n.clientY}:n.currentTarget.getBoundingClientRect()})())(e,t)),{role:"button",tabIndex:0}),c.b.mount(Be,Object(D.b)(e)),Object(g.pipe)(e.diff,s.g.map(t=>a.createElement(M,{diff:t,a11yContrast:e.a11yContrast})),s.g.toNullable))),F.a.isBulkApplied(e)?a.createElement(a.Fragment,null):e.ignoreAllowed&&a.createElement(Re,{onClick:t({type:d.b.Type.bulkIgnore,alertId:e.id})}));var n})))),De=c.b.List.make(h.Eb,Fe),He=({variant:e,state:t})=>{const n=a.useContext(f.a.Context);return a.createElement(R.Typography,{nodeType:"h3",styleType:"expanded"===e?R.Typography.Type.H4:R.Typography.Type.Base,className:pe},t.pipe(u.a.map(({alerts:e,visibilityState:t})=>"applied"===t?n.bulkAccept.appliedTitle(e.length):n.bulkAccept.title(e.length))))},Ve=e=>c.b.Animated.make(_e,c.b.Union.asOption(c.b.Node.make(({state:t})=>a.createElement("div",{className:me},a.createElement(N.d.Sparkles,{className:ie,width:20}),a.createElement(He,{state:t,variant:e}))))),Ue=c.b.Grid.make(({slots:e,notify:t,state:n})=>a.createElement(Oe,{className:re,alertCount:n.pipe(u.a.map(e=>e.alerts.length)),onClick:t({type:d.b.Type.miniItemClick,id:p.a.id})},e.title)),We=c.b.Grid.make(({state:e,slots:t,notify:n,view:c})=>{const p=e.pipe(u.a.map(Object(r.flow)(e=>e.alerts.length,s.g.fromPredicate(e=>e>4))));return a.createElement(Ae,Object.assign({},Object(i.c)(he,c("renderOptions").pipe(u.a.map(m.b),u.a.map(l.e.pick("container")))),{alertCount:e.pipe(u.a.map(e=>e.alerts.length)),onMount:n({type:d.b.Type.bulkAcceptItemShow})}),a.createElement("div",Object.assign({},Object(i.c)(oe,ge)),t.title,a.createElement(o.a.ul,Object.assign({},Object(i.c)(fe,p.pipe(u.a.map(Object(r.flow)(s.g.map(()=>ye),s.g.orNull))))),t.suggestions),a.createElement("div",{className:se},a.createElement(o.a.Fragment,null,p.pipe(u.a.map(Object(r.flow)(s.g.map(()=>a.createElement("div",{className:ve})),s.g.orNull)))),t.controls)))}),qe=c.b.Knot.make(We,{title:Ve("expanded"),suggestions:De,controls:Le}),ze=c.b.Knot.make(Ue,{title:Ve("mini")})},Mi01:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a=n("D57K"),r=n("ERkP"),i=n("Uv6s"),o=n("KCID");var s=n("k+B8"),l=n("8F7C"),c=n("en1W"),u=n("wfm3");class d{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}constructor(e,{expandedKeys:t}={}){this.keyMap=new Map,this.iterable=e,t=t||new Set;let n,a=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&("section"===e.type||t.has(e.key)))for(let t of e.childNodes)a(t)};for(let t of e)a(t);let r=0;for(let[e,t]of this.keyMap)n?(n.nextKey=e,t.prevKey=n.key):(this.firstKey=e,t.prevKey=void 0),"item"===t.type&&(t.index=r++),n=t,n.nextKey=void 0;this.lastKey=null==n?void 0:n.key}}function p(e){let[t,n]=(0,u.b)(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,e.onExpandedChange),a=(0,c.b)(e),i=(0,r.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),o=(0,s.i)(e,(0,r.useCallback)(e=>new d(e,{expandedKeys:t}),[t]),null);(0,r.useEffect)(()=>{null==a.focusedKey||o.getItem(a.focusedKey)||a.setFocusedKey(null)},[o,a.focusedKey]);return{collection:o,expandedKeys:t,disabledKeys:i,toggleKey:e=>{n(function(e,t){let n=new Set(e);n.has(t)?n.delete(t):n.add(t);return n}(t,e))},setExpandedKeys:n,selectionManager:new(0,c.a)(o,a)}}var m=n("ZTXN"),h=n("9NHN"),g=n("gOzB"),f=n("bO3R"),b=n("/NN6"),y=n("8Ioe"),v=n("Q8bi"),S=n("xEVj"),C=n("iVSA"),w=n("e12y");const k={borderTop:"1px solid "+C.f.Base.Boundaries.Secondary.Default,margin:`${w.a.rem(C.g.Space2)} ${w.a.rem(-C.g.Space4)}`},E={listStyle:"none",margin:0,padding:0,outline:w.a.important("none")},O={position:"relative",overflow:"hidden",padding:`${w.a.rem(C.g.Space1)} ${w.a.rem(C.g.Space4)}`,borderRadius:w.a.rem(C.e.Radius1),cursor:"pointer",$nest:{"&:hover":{background:C.b.CoreBlue1},"&:focus, &:focus-visible":{boxShadow:`0 0 0 1px ${C.b.CoreNeutral0}, 0 0 0 3px ${C.b.CoreBlue40}`,outline:w.a.important("none"),background:C.b.CoreBlue1,zIndex:w.d.level1},"& i":{marginLeft:w.a.rem(-C.g.Space2),marginRight:w.a.rem(C.g.Space2)}}},A={color:C.f.Base.Content.Secondary.Default},_={margin:"0 "+w.a.rem(C.g.Space2)},x={display:"flex",alignItems:"center"},I={justifyContent:"space-between",width:w.a.percent(100)},j={padding:"0 "+w.a.rem(C.g.Space4)},T={background:C.b.CoreBlue1,$nest:{"& span":{fontWeight:700}}},M={padding:`${w.a.rem(C.g.Space2)} ${w.a.rem(C.g.Space4)}`},N={fontSize:w.a.rem(.625),letterSpacing:w.a.rem(.04),lineHeight:w.a.rem(1),color:C.f.Base.Content.Secondary.Default,padding:`${w.a.rem(C.g.Space2)} ${w.a.rem(C.g.Space6)} ${w.a.rem(C.g.Space2)} ${w.a.rem(C.g.Space4)}`},P={$nest:{'&[data-active="true"]':{background:C.b.CoreNeutral1,color:C.b.CoreBlue50}}},L=w.a.stylesheet({triggerButton:[P],separator:[k],itemList:[E],mainItemsList:[E,M],menuItem:[O],menuItemContentWrapper:[x],menuItemContent:[x,I],menuItemDisabled:[j],menuItemSelected:[T],sectionHeading:[N],section:[{padding:0}],label:[A],tag:[_]});var R;!function(e){function t(e){var{name:t,className:s,itemAnimationMode:l=y.a.FromClickPoint,theme:u={},onMouseOver:d,onMouseLeave:m}=e,g=Object(a.__rest)(e,["name","className","itemAnimationMode","theme","onMouseOver","onMouseLeave"]);const f=r.useMemo(()=>Boolean(t)?t+"-list":"dropdown-menu-list",[t]),b=p(g),v=r.useRef(null),{menuProps:S}=Object(i.a)(g,b,v),C=Object(o.l)(S,{onMouseOver:d,onMouseLeave:m});return r.createElement("ul",Object.assign({"data-name":f},C,{ref:v},Object(h.c)(L.mainItemsList,u.list,s)),Array.from(b.collection).map(e=>"section"===e.type?r.createElement(c,{key:e.key,section:e,state:b,theme:u}):r.createElement(n,{key:e.key,name:t,item:e,state:b,animationMode:l,className:u.item})))}function n({item:e,state:t,animationMode:n,className:s,name:l}){const c=r.useMemo(()=>Boolean(l)?l+"-item":"dropdown-menu-item",[l]),u=r.useRef(null),{menuItemProps:d,isDisabled:p,isSelected:g}=Object(i.b)({key:e.key},t,u),f=r.useMemo(()=>new m.a,[]),b=r.useCallback(()=>null!=n&&r.createElement(y.b,{mouseDownEvents:f,animationMode:n}),[f,n]),{onPointerDown:C}=d,w=Object(a.__rest)(d,["onPointerDown"]),k=Object(o.l)(w,{onPointerDown:e=>{f.next({pageX:e.pageX,pageY:e.pageY}),null==C||C(e)}});return S.a.useEffectOnDidMount(()=>{if(null!=u.current)try{const e=u.current.focus.bind(u.current);u.current.focus=t=>{var n;Boolean(null===(n=u.current)||void 0===n?void 0:n.matches(":hover"))||e(t)}}catch(e){}}),r.createElement("li",Object.assign({"data-name":c},k,{ref:u},Object(h.c)(L.menuItem,s,p?L.menuItemDisabled:void 0,g?L.menuItemSelected:void 0)),r.createElement(v.Typography,{nodeType:"span",styleType:v.Typography.Type.Base,className:L.menuItemContentWrapper},e.rendered),b())}function c({name:e,section:t,state:a,onAction:s,theme:l={},itemAnimationMode:c=y.a.FromClickPoint}){const u=r.useMemo(()=>Boolean(e)?e+"-section":"dropdown-menu-section",[e]),{itemProps:d,headingProps:p,groupProps:m}=Object(i.c)({heading:t.rendered,"aria-label":t["aria-label"]}),{separatorProps:g}=function(e){let t,n=(0,o.b)(e,{labelable:!0});return"vertical"===e.orientation&&(t="vertical"),"hr"!==e.elementType?{separatorProps:{...n,role:"separator","aria-orientation":t}}:{separatorProps:n}}({elementType:"li"});return r.createElement(r.Fragment,null,t.key!==a.collection.getFirstKey()&&r.createElement("li",Object.assign({},g,{className:L.separator})),r.createElement("li",Object.assign({"data-name":u},d,Object(h.c)(L.section,l.section)),Boolean(t.rendered)&&r.createElement(v.Typography.H5,Object.assign({},p,{className:L.sectionHeading}),t.rendered),r.createElement("ul",Object.assign({},m,{className:L.itemList}),Array.from(t.childNodes).map(t=>r.createElement(n,{key:t.key,item:t,state:a,onAction:s,animationMode:c,className:l.item,name:e})))))}e.Item=s.a,e.Section=s.b,e.Dropdown=function(e){var{placement:n="bottom start",theme:o={},name:s,portalContainer:c,title:u}=e,d=Object(a.__rest)(e,["placement","theme","name","portalContainer","title"]);const p=r.useMemo(()=>Boolean(s)?s+"-trigger":"dropdown-menu-trigger",[s]),m=Object(l.a)(d),g=r.useRef(null),y=Object(i.d)({},m,g),v=y.menuTriggerProps,{onPress:S,onPressStart:C}=v,w=Object(a.__rest)(v,["onPress","onPressStart"]),{menuProps:k}=y;return r.createElement(r.Fragment,null,r.createElement(f.a.Tertiary,Object.assign({},w,{name:p},Object(h.c)(L.triggerButton,o.button),{onClick:()=>m.open(),mount:e=>g.current=e,"aria-label":d["aria-label"],title:null!=u?u:d["aria-label"],active:m.isOpen}),d.label),r.createElement(b.a,{state:m,triggerRef:g,placement:n,portalContainer:c},r.createElement(t,Object.assign({},d,k,{theme:o,onAction:e=>{var t;null===(t=d.onAction)||void 0===t||t.call(d,e)}}))))},e.List=t,e.ItemContent=({children:e,label:t,tag:n})=>r.createElement("span",{className:L.menuItemContent},r.createElement("span",null,e,Boolean(n)&&r.createElement(g.a.Regular,{className:L.tag},n)),Boolean(t)&&r.createElement(v.Typography.Small,{className:L.label},t))}(R||(R={}))},My8q:function(e,t,n){e.exports=n.p+"files/8c35c38451d802f149fcbc7e9004193e/inter-lightitalic.woff"},N19O:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var a,r=n("ERkP"),i=n("OA+g"),o=n("lrqh"),s=n("MsKq"),l=n("zR/0"),c=n("xEVj");function u(e=12){const{ref:t,onMount:n}=c.a.useElWatcher(),{cardHeight:u,cardVisibleViewportHeight:d}=r.useContext(a.Context),p=r.useContext(s.a.Context);return{onMount:n,maxHeight:r.useRef(t.pipe(l.a.switchMap(o.g.fold(Object(i.constant)(l.a.of(o.g.none)),e=>u.pipe(l.a.take(1),l.a.withLatestFrom(d),l.a.map(([t,n])=>Object(i.pipe)(n,o.g.map(n=>e.offsetHeight+Math.max(0,n-t))))))),l.a.startWith(o.g.none),l.a.withLatestFrom(p.pipe(l.a.startWith(void 0),l.a.map(o.g.fromNullable))),l.a.map(([t,n])=>Object(i.pipe)(t,o.g.alt(()=>Object(i.pipe)(n,o.g.map(t=>e*t))))),l.a.distinctUntilChanged(o.g.getEq(o.c.eqNumber).equals))).current,ref:t}}!function(e){e.Context=r.createContext({cardHeight:l.a.EMPTY,cardVisibleViewportHeight:l.a.of(o.g.none)}),e.Provider=t=>{const{ref:n,onMount:a}=c.a.useElWatcher(),i=r.useRef({cardHeight:t.card.pipe(l.a.switchMapTo(n.pipe(l.b.compact,l.a.map(e=>e.offsetHeight))),l.a.distinctUntilChanged(),l.a.shareReplay({bufferSize:1,refCount:!0})),cardVisibleViewportHeight:t.cardVisibleViewportHeight.pipe(l.a.distinctUntilChanged(o.g.getEq(o.c.eqNumber).equals),l.a.shareReplay({bufferSize:1,refCount:!0}))});return r.createElement(e.Context.Provider,{value:i.current},t.children(a))}}(a||(a={}))},N8v8:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f}));var a=n("ERkP"),r=n("vOOZ"),i=n("9NHN"),o=n("LNSM"),s=n("zR/0"),l=n("gy42"),c=n("D9EC"),u=n("ax6a"),d=n("e12y"),p=n("SD38"),m=n("PnD2"),h=n("viRF");function g({value:e,initValue:t=h.a.MIN,wrapperClass:n,progressClass:o,borderClass:c,isLoading:u=s.a.of(!1)}){const d=f(e,t);return a.createElement(r.a.div,Object.assign({role:"progressbar","aria-label":"Progress","aria-valuenow":l.b.toObservable(e).pipe(s.a.map(h.a.iso.unwrap))},Object(i.c)(A.wrapper,n)),a.createElement(b,{width:d,progressClass:o,borderClass:c,isLoading:u}))}function f(e,t=h.a.MIN){const n=o.a.create(!1);return requestAnimationFrame(()=>requestAnimationFrame(()=>n.set(!0))),s.a.combineLatestStatic(l.b.toObservable(e),n,(e,n)=>n?e:t)}function b({width:e,progressClass:t,isLoading:n,borderClass:o}){const l=e.pipe(s.a.map(e=>e+"%")),u=e.pipe(s.a.map(h.a.prism.reverseGet),s.a.map(e=>e>0?e+.75+"%":0),s.a.startWith(0)),d=n.pipe(s.a.switchMap(e=>e?l:"0")),p=e.pipe(s.a.map(h.a.isMin),s.a.shareReplay({bufferSize:1,refCount:!0}));return a.createElement(a.Fragment,null,a.createElement(r.a.div,Object.assign({},Object(i.c)(A.borderContainer,p.pipe(s.a.map(Object(c.c)(A.borderContainerZeroWidth,A.borderContainerWithMinWidth))),o),{style:{width:u}})),a.createElement(r.a.div,Object.assign({},Object(i.c)(Boolean(t)?t:A.defaultProgress,A.progressBar,p.pipe(s.a.map(Object(c.c)(A.progressBarZeroWidth,A.progressBarWithMinWidth)))),{style:{width:l}})),a.createElement(r.a.div,{className:A.loading,style:{width:d}}))}const y=d.a.keyframes({"0%":{backgroundPosition:"0 0"},"100%":{backgroundPosition:"20px 20px"}}),v={position:"relative",width:d.a.percent(100),height:d.a.rem(.25),borderRadius:d.a.rem(m.radius1),backgroundColor:p.ui300},S={position:"relative",top:0,height:d.a.percent(100),borderRadius:d.a.rem(m.radius1),backgroundPosition:"center",transition:"width .8s ease-in-out 0s"},C={minWidth:d.a.px(4)},w={position:"absolute",backgroundColor:u.a.CoreNeutral0},k={minWidth:d.a.px(6)},E={position:"absolute",minWidth:0,backgroundImage:p.progressLoadingGradient,backgroundSize:"20px 20px",transition:"none",animation:y+" 1s linear infinite"},O={backgroundImage:p.rightProgressGradient},A=d.a.stylesheet({wrapper:[v,v],progressBar:[S],progressBarZeroWidth:[{minWidth:0}],progressBarWithMinWidth:[C],borderContainer:[S,w],borderContainerZeroWidth:[{minWidth:0}],borderContainerWithMinWidth:[k],loading:[S,E],defaultProgress:[O]})},NNUY:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return a}));var a,r=n("OA+g"),i=n("I7vG"),o=n("kgbq"),s=n("94k3"),l=n("lrqh"),c=n("6fbX"),u=n("PrA7"),d=n("zR/0"),p=n("qSni");class m{constructor(e,t,n,a,r){this._capi=e,this.events=t,this._documentContextHolder=n,this._dialectSettings=a,this._log=u.Monitoring.Logging.getLogger("ObservableCAPIClientImpl"),this._subs=[],this.pushChanges=e=>Object(i.pipe)(this._capi.pushChanges(e),l.l.mapLeft(e=>(this._log.warn("Failed to push changes",e),e))),this._warnOnCommandFail=e=>Object(i.pipe)(e,l.l.fold(e=>(this._log.warn("CAPI command failed",e),l.l.left(e)),e=>l.l.right(e))),this.setSessionOption=e=>Object(i.pipe)(this._capi.setSessionOption(e),this._warnOnCommandFail),this.resetReconnectInfo=()=>this._capi.resetReconnectInfo(),this.sendFeedback=e=>Object(i.pipe)(this._capi.sendFeedback(e),this._warnOnCommandFail),this.requestDocStats=Object(i.pipe)(this._capi.requestDocStats,this._warnOnCommandFail),this.requestSynonyms=(e,t)=>Object(i.pipe)(this._capi.requestSynonyms(e,t),this._warnOnCommandFail),this.requestSnippets=e=>Object(i.pipe)(this._capi.requestSnippets(e),this._warnOnCommandFail),this.shortenItSubmit=e=>Object(i.pipe)(this._capi.shortenItSubmit(e),this._warnOnCommandFail),this.enablePlagiarismSearch=Object(i.pipe)(this._capi.enablePlagiarismSearch,this._warnOnCommandFail),this.disablePlagiarismSearch=Object(i.pipe)(this._capi.disablePlagiarismSearch,this._warnOnCommandFail),this.realtimeProofitSubmit=e=>Object(i.pipe)(this._capi.realtimeProofitSubmit(e),this._warnOnCommandFail),this.realtimeProofitCancel=Object(i.pipe)(this._capi.realtimeProofitCancel,this._warnOnCommandFail),this.submitRecipients=e=>Object(i.pipe)(this._capi.submitRecipients(e),this._warnOnCommandFail),this.submitScoreSurveyResult=(e,t)=>Object(i.pipe)(this._capi.submitScoreSurveyResult(e,t),this._warnOnCommandFail),this.submitSurvey=e=>Object(i.pipe)(this._capi.submitSurvey(e),this._warnOnCommandFail),this.sendUserAction=(e,t)=>Object(i.pipe)(this._capi.sendUserAction(e,t),this._warnOnCommandFail),this.sendDebugReport=(e,t)=>Object(i.pipe)(this._capi.sendDebugReport(e,t),this._warnOnCommandFail),this.ping=()=>this._capi.ping(),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.updateContextInfo=e=>Object(i.pipe)(this._capi.updateContextInfo(e),this._warnOnCommandFail),this.setContext=e=>Object(i.pipe)(this._capi.setContext(e),this._warnOnCommandFail),this.published=()=>Object(i.pipe)(this._capi.published(),this._warnOnCommandFail),this.cheetahStartSession=e=>this._capi.cheetahStartSession(e),this.cheetahAction=e=>this._capi.cheetahAction(e),this.cheetahInterrupt=e=>this._capi.cheetahInterrupt(e),this.cheetahSetVoice=e=>this._capi.cheetahSetVoice(e),this.cheetahSetVoiceProfile=e=>this._capi.cheetahSetVoiceProfile(e),this.cheetahSearchReferences=e=>this._capi.cheetahSearchReferences(e),this.cheetahEndSession=()=>this._capi.cheetahEndSession(),this.cheetahGetState=()=>this._capi.cheetahGetState(),this.enqueueExternalCommand=e=>this._capi.enqueueExternalCommand(e),this.registerExternalMessageHandler=e=>this._capi.registerExternalMessageHandler(e),this._subs.push(this._dialectSettings.dialectOrDefault.subscribe(e=>this._documentContextHolder.updateContext(Object.assign(Object.assign({},this._documentContextHolder.context.get()),{dialect:l.g.some(e)}))),this._documentContextHolder.context.pipe(d.a.skip(1)).subscribe(t=>{l.l.toPromise(e.setSessionOption({kind:s.a.CAPISessionOptionType.Context,context:t}))})),this._subs.push(this.events.subscribe(t=>{"finish"===t.kind?l.g.isNone(this._dialectSettings.dialect.get())&&p.a.isDialectString(t.dialect)&&this._dialectSettings.setDialectWeak(t.dialect):"session_started"===t.kind&&(this._documentContextHolder.updateDefaultContext(t.defaultDocumentContext),r.getContainerId().then(t=>{setTimeout(()=>l.l.toPromise(e.setSessionOption({kind:s.a.CAPISessionOptionType.GnarContainerId,id:t})).catch(e=>{this._log.warn("Can not send user container id",e)}),5e3)}).catch(e=>{this._log.warn("Can not get container id",e)}))}))}get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}dispose(){this._subs.forEach(e=>e.unsubscribe())}}!function(e){const t=l.l.rightIO(o.a);e.Mock=class{constructor(e=!1){this._sduiV2=e,this.events=new d.a.Subject,this.feedbacks=new d.a.Subject,this.capi={pushChanges:e=>l.l.right(l.g.none),sendFeedback:e=>{switch(e.kind){case s.a.AlertFeedbackType.IGNORE:case s.a.AlertFeedbackType.ADD_TO_DICTIONARY:case s.a.AlertFeedbackType.LOOKED:case s.a.AlertFeedbackType.CLOSED:case s.a.AlertFeedbackType.LIKE:case s.a.AlertFeedbackType.DISLIKE:case s.a.AlertFeedbackType.WRONG_SUGGESTION:case s.a.AlertFeedbackType.OFFENSIVE_CONTENT:case s.a.AlertFeedbackType.EXPANDED:return Object(i.pipe)(l.l.rightIO(()=>this.feedbacks.next({type:"feedback",args:[e.id,e.kind]})));case s.a.AlertFeedbackType.ACCEPTED:return Object(i.pipe)(l.l.rightIO(()=>"replacementText"in e?this.feedbacks.next({type:"feedback",args:[e.id,e.kind,e.replacementText,e.reason]}):"alternativeIndex"in e?this.feedbacks.next({type:"feedback",args:[e.id,e.kind,e.alternativeIndex,e.gapValue,e.reason]}):Object(c.c)(e)));default:return t}},enablePlagiarismSearch:t,disablePlagiarismSearch:t},this.activeAlerts=new Set,this.activeLensIds=new Set,this.fireSDUIAdd=(e,t)=>{this.events.next({kind:"sdui_add",sdui:e,sduiRootId:t,rev:0})},this.fireSDUIRemove=e=>{this.events.next({kind:"sdui_remove",sduiRootId:e,rev:0})},this.fireAdd=(e,t)=>{const n=this._sduiV2&&null!=t?{kind:"sdui_add",sdui:{type:"strongAlertRef",alertIds:[e.id],child:t,onEmpty:[{type:"openLink",url:"test_for_"+e.id}],id:"strongAlertRef#"+Math.random().toString(36).substring(2,15)},sduiRootId:s.a.RawSduiItem.Id.create(e.id),rev:0}:void 0;return this.activeAlerts.add(e),this.activeLensIds.add(e.cardLayout.outcome),void 0!==n?this.events.next(n):Object(r.constVoid)(),this.events.next({kind:"before_alert"}),this.events.next({kind:"alert_received",alert:e}),n},this.fireRemove=(e,t=l.g.none,n=l.g.none)=>{this.activeAlerts.delete(e),this.activeLensIds.delete(e.cardLayout.outcome),this._sduiV2?this.events.next({kind:"sdui_remove",sduiRootId:s.a.RawSduiItem.Id.create(e.id),rev:0}):Object(r.constVoid)(),this.events.next({kind:"alert_removed",alertId:e.id,mergedIn:t,hint:n})},this.sendUserAction=()=>l.l.rightIO(r.constVoid),this.sendDebugReport=()=>l.l.rightIO(r.constVoid)}}}(a||(a={}))},NW9S:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a,r,i=n("m6JR"),o=n("66iv"),s=n("PK5a");!function(e){let t;!function(e){e.ISO=Object(s.iso)()}(t=e.FromWindowTop||(e.FromWindowTop={}))}(a||(a={})),function(e){let t,n,a;!function(e){e.ISO=Object(s.iso)(),e.equals=Object(s.getEq)(i.eqNumber).equals}(t=e.FromViewportTop||(e.FromViewportTop={})),function(e){e.ISO=Object(s.iso)()}(n=e.AbsTop||(e.AbsTop={})),function(e){e.ISO=Object(s.iso)()}(a=e.CardTop||(e.CardTop={})),e.concatC=e=>t=>e+t;const r=e=>new o.a(e);e.converters=function(t,n,a){const i=r(e.concatC(a)).get,o=r(e.concatC(-t)).get;return{windowToViewport:r(e.concatC(-n)).get,viewportToWindow:r(e.concatC(n)).get,cardTopToViewport:o,viewportToCardTop:r(e.concatC(t)).get,absTopToViewportTop:e=>o(i(e)),absTopToCardTop:i}}}(r||(r={}))},NbEL:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));var a,r,i,o=n("m6JR"),s=n("NW9S");!function(e){e.above="above",e.below="below",e.hidden="hidden"}(a||(a={})),function(e){e.Impl=class{constructor(e,t,n){this.scrollTop=e,this.viewport=t,this.converters=s.a.converters(e,s.b.FromWindowTop.ISO.unwrap(t.top),n)}}}(r||(r={})),function(e){const t=Object(o.getStructEq)({top:o.eqNumber,height:o.eqNumber});e.eqDimensionsTuple=Object(o.getTupleEq)(t,t)}(i||(i={}))},NfPf:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a,r,i,o,s,l=n("IL1e"),c=n("h6df"),u=n("0UWf"),d=n("AS+/"),p=n("lrqh"),m=n("f9Xq"),h=n("6fbX");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){g(e,t,n[t])}))}return e}(a||(a={})).getSduiSingleCardTransitions=function(e,t,n){var a=Object(c.m)(e,p.g.fold((function(){return-1}),(function(e){return n.compare(e,t)})));switch(a){case-1:return[r.Actions.slideContentLeft,r.Actions.slideTitleLeft];case 1:case 0:return[r.Actions.slideContentRight,r.Actions.slideTitleRight];default:Object(h.c)(a)}},i=r||(r={}),(o=i.Actions||(i.Actions={})).slideContentLeft={type:"transition",fromName:"content",toName:"content",animateFrom:m.a.AnimationName.SlideLeft,animateTo:m.a.AnimationName.SlideLeft},o.slideTitleLeft={type:"transition",fromName:"title",toName:"title",animateFrom:m.a.AnimationName.SlideLeft,animateTo:m.a.AnimationName.SlideLeft},o.slideContentRight={type:"transition",fromName:"content",toName:"content",animateFrom:m.a.AnimationName.SlideRight,animateTo:m.a.AnimationName.SlideRight},o.slideTitleRight={type:"transition",fromName:"title",toName:"title",animateFrom:m.a.AnimationName.SlideRight,animateTo:m.a.AnimationName.SlideRight},function(e){var t=function(e){return"cardDSL"in e&&"prevCardDSL"in e&&"transitions"in e};e.isSDUIItem=t;var n,r=d.a(u.a)(m.b.Content),i=d.a(u.a)(m.b.Action);e.eq=p.c.fromEquals((function(e,n){return t(e)&&t(n)&&p.g.getEq(r).equals(e.cardDSL,n.cardDSL)&&p.g.getEq(r).equals(e.prevCardDSL,n.prevCardDSL)&&l.t(i).equals(e.transitions,n.transitions)})),e.getOrd=Object(c.h)(p.g.getOrd,p.h.contramap((function(e){return e.cardDSL})));(n=e.Capabilities||(e.Capabilities={})).getPojoUpdates=function(){return{setSDUIState:function(e,t,n){return function(a){return f({},a,{cardDSL:e,prevCardDSL:t,transitions:n})}},setDSL:function(e){return function(t){return f({},t,{cardDSL:e,transitions:[]})}}}},n.getSelect=function(e){return function(n,r){return function(i){return Object(c.m)(n,p.g.filter(t),p.g.filter((function(e){return p.g.isSome(i.cardDSL)||p.g.isSome(e.cardDSL)})),p.g.map((function(t){return e(i.cardDSL,t.cardDSL,a.getSduiSingleCardTransitions(p.g.some(t),i,r))(i)})),p.g.getOrElse((function(){return i})))}}},n.getCompleteTransition=function(e){return function(n){return t(n)?e(n.cardDSL,p.g.none,[])(n):n}}}(s||(s={}))},Ni70:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a,r,i=n("D57K"),o=n("I7vG"),s=n("lrqh"),l=n("hoSD");!function(e){var t=function(){function e(){}return e.prototype.getRect=function(){return s.b.right({rootClientRect:l.c.Rect.empty,clientRects:[l.c.Rect.empty]})},e}();e.Mock=t}(a||(a={})),function(e){e.relativeToViewport=function(e){var t,n=e.clientRects,a=n[0],r=n.slice(1);return Object(o.pipe)((t=l.c.Rect).join.apply(t,Object(i.__spreadArray)([a],r,!1)),s.b.getOrElse((function(){return l.c.Rect.empty})))},e.relativeToRoot=function(t){return l.c.absToRelative(e.relativeToViewport(t),t.rootClientRect)},e.relativeToRootFirst=function(e){return l.c.absToRelative(e.clientRects[0],e.rootClientRect)},e.relativeAndAbs=function(t){var n=e.relativeToViewport(t);return{abs:n,relative:l.c.absToRelative(n,t.rootClientRect)}}}(r||(r={}))},"OI/H":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("OA+g"),o=n("I7vG"),s=n("vOOZ"),l=n("zR/0"),c=n("lrqh"),u=n("D9EC"),d=n("ax6a"),p=n("PrA7"),m=n("6lhv"),h=n("e12y"),g=n("ps/9"),f=n("uqkn"),b=n("E0zP"),y=n("3bJT"),v=n("H9T+"),S=n("jSKJ"),C=n("oWeJ"),w=n("S3HV"),k=n("CxAE");!function(e){e.Mini=({card:e,actions:t})=>r.createElement(s.a.Fragment,null,e.pipe(l.a.map(e=>b.a.isToneAIItem(e)?r.createElement(k.a.BundleMini,{card:e,actions:t}):b.a.isEthicalAIItem(e)?r.createElement(w.a.Mini,{card:e,actions:t,useBundleContainer:!0}):r.createElement(C.a.Bundle,{card:e,actions:t})))),e.Full=({card:e,actions:n,renderCard:c})=>{const{isChecking:u,isCheckingGlobal:p,transform:h}=f.a.useCardStates(e),g=e=>(d("CardBundle").error("card type not supported:",e),null),y=e.pipe(e=>e.lift(new l.d.SplitByOperator(e=>e.activeAlert.id)),l.a.switchMap(e=>e.pipe(l.a.distinctUntilChanged((e,t)=>e.activeAlertIndex===t.activeAlertIndex),l.a.map(t=>({activeAlertIndex:t.activeAlertIndex,activeAlertId:t.activeAlert.id,card:Object(o.pipe)(e,l.a.distinctUntilChanged((e,t)=>e.hashCode()===t.hashCode()&&e.visualState.transitionId===t.visualState.transitionId),l.a.shareReplay({bufferSize:1,refCount:!0}))}))))),v=(e,t)=>{const a=t.alerts.length,i=1===a?z.bundleInnerContainer:2===a?z.bundleInnerContainer2Cards:z.bundleInnerContainerNCards;return r.createElement(s.a.div,{className:i},c?c({card:t,actions:n,isChecking:u,isCheckingGlobal:p,transform:e}):r.createElement(S.a,{card:t,actions:n,isChecking:u,transform:e,isCheckingGlobal:p}))};return r.createElement(s.a.Fragment,null,e.pipe(l.a.map(c=>b.a.isIndependentBundleItem(c)?v(h,c):r.createElement(a,{card:e,actions:n},r.createElement(t,{state:y,stateToClassMapper:(e,t)=>{if(!e)return{prev:Object(m.c)(""),next:Object(m.c)("")};if(e.activeAlertId===t.activeAlertId)return{prev:Object(m.c)(z.inBundleToUpdatedCardOld),next:Object(m.c)(z.inBundleToUpdatedCardNew)};if(e.activeAlertIndex===t.activeAlertIndex)return{prev:Object(m.c)(z.inBundleToUpdatedCardOld),next:Object(m.c)(z.inBundleToUpdatedCardNew)};return e.activeAlertIndex<t.activeAlertIndex?{prev:Object(m.c)(z.inBundleToNextCardOld),next:Object(m.c)(z.inBundleToNextCardNew)}:{prev:Object(m.c)(z.inBundleToPrevCardOld),next:Object(m.c)(z.inBundleToPrevCardNew)}}},e=>r.createElement(s.a.div,{className:e.view,onAnimationEnd:"prev"===e.type?e.done:i.constVoid},Object(o.pipe)(e.state.card,l.a.map(Object(i.flow)(b.a.match({super:g,ethicalAI:g,takeaway:t=>v("prev"===e.type?l.a.of(t.transform):h,t),synfony:t=>v("prev"===e.type?l.a.of(t.transform):h,t),shortenIt:t=>v("prev"===e.type?l.a.of(t.transform):h,t),toneAI:t=>v("prev"===e.type?l.a.of(t.transform):h,t),suggestedSnippet:t=>v("prev"===e.type?l.a.of(t.transform):h,t),knowledgeHubSuggestedTerm:t=>v("prev"===e.type?l.a.of(t.transform):h,t),default:t=>v("prev"===e.type?l.a.of(t.transform):h,t)}),f.a.foldCard)))))))))};class t extends m.a{}const n=({alertCount:e})=>1===e?r.createElement(r.Fragment,null):2===e?r.createElement("div",{className:z.bundleFakeCard1}):r.createElement(r.Fragment,null,r.createElement("div",{className:z.bundleFakeCard1}),r.createElement("div",{className:z.bundleFakeCard2})),a=({children:e,card:t,actions:a})=>r.createElement(s.a.div,{className:z.bundleCardWrapper},r.createElement(v.a,{card:t,actions:a}),r.createElement(s.a.div,{className:z.cardBundleContainer},e,Object(o.pipe)((e=>Object(o.pipe)(e,l.a.map(e=>c.g.some(e.alerts.length))))(t),l.a.map(c.g.map(e=>r.createElement(n,{key:e,alertCount:e}))),l.a.map(c.g.toNullable)))),d=Object(u.l)(p.Monitoring.Logging.getLogger)}(a||(a={}));const E="0 1px 8px rgba(109, 117, 141, .18)",O=h.a.keyframes({"0%":{transform:"scale(1)"},"100%":{transform:"scale(1)"}}),A=h.a.keyframes({from:{transform:"translateX(0)",opacity:1},to:{transform:"translateX(-100px)",opacity:0}}),_=h.a.keyframes({from:{transform:"translateX(-100px)",opacity:0},to:{transform:"translateX(0)",opacity:1}}),x=h.a.keyframes({from:{opacity:0,transform:"scale(.95) translateY(-15px)"},to:{opacity:1,transform:"scale(1) translateY(0)"}}),I=h.a.keyframes({from:{opacity:1,transform:"scale(1) translateY(0)"},to:{opacity:0,transform:"scale(.95) translateY(-15px)"}}),j={position:"relative",borderRadius:h.a.rem(g.s),background:d.a.CoreNeutral0,boxShadow:E,zIndex:2},T={marginTop:h.a.rem(.75)},M={marginTop:h.a.rem(1.25)},N={position:"absolute",top:h.a.px(-5),right:h.a.rem(.5),left:h.a.rem(.5),zIndex:-1,display:"block",height:h.a.percent(100),borderRadius:h.a.rem(g.s),backgroundColor:d.a.CoreNeutral1,boxShadow:E,content:"' '"},P={position:"absolute",top:h.a.px(-10),right:h.a.rem(1),left:h.a.rem(1),zIndex:-2,display:"block",height:h.a.rem(2),borderRadius:h.a.rem(g.s),backgroundColor:d.a.CoreNeutral10,boxShadow:E,content:"' '"},L={borderRadius:h.a.rem(.75),background:d.a.CoreNeutral20,margin:`${h.a.rem(-.25)} ${h.a.rem(-.25)}`,padding:`${h.a.rem(.25)} ${h.a.rem(.25)}`,$nest:{["& ."+y.b.cozyCardContainerSelector]:{margin:0,boxShadow:"none"},["& ."+y.b.fullCardSelector]:{padding:`${h.a.rem(.75)} ${h.a.rem(.5)} ${h.a.rem(.5)} ${h.a.rem(1)}`},"& [data-role=dropdown-list]":{transform:`translateY(${h.a.rem(-.5)})`}}},R={position:"absolute",top:h.a.rem(.8),right:h.a.rem(1),margin:0},B={borderRadius:h.a.rem(g.s),background:d.a.CoreNeutral0,boxShadow:E},F={display:"block",position:"absolute",top:0,$nest:{["& ."+y.b.bundleInnerContainerSelector]:{margin:0}}},D={animation:`${I} ${h.a.seconds(.25)} ease-out`},H={animation:`${_} ${h.a.seconds(.25)} ease-out`},V={animation:`${A} ${h.a.seconds(.25)} ease-in`},U={animation:`${x} ${h.a.seconds(.25)} ease-in`},W={display:"none",animation:`${O} ${h.a.seconds(.25)} ease-in`},q={animation:`${O} ${h.a.seconds(.25)} ease-in`},z=Object.assign(Object.assign({},h.a.stylesheet({bundleInnerContainer:[j],bundleCardWrapper:[L],minimalBetaLabel:[R],compactCardContainer:[B],cardBundleContainer:[{position:"relative",zIndex:2}],inBundleMovingCard:[F],inBundleToPrevCardOld:[F,D],inBundleToPrevCardNew:[H],inBundleToNextCardOld:[F,V],inBundleToNextCardNew:[U],inBundleToUpdatedCardOld:[W],inBundleToUpdatedCardNew:[q]})),{bundleInnerContainer:h.a.joinClasses([y.b.bundleInnerContainerSelector,h.a.style(j)]),bundleInnerContainer2Cards:h.a.joinClasses([y.b.bundleInnerContainerSelector,h.a.style(j,T)]),bundleInnerContainerNCards:h.a.joinClasses([y.b.bundleInnerContainerSelector,h.a.style(j,M)]),bundleFakeCard1:h.a.joinClasses([y.b.bundleFakeCard1Selector,h.a.style(N)]),bundleFakeCard2:h.a.joinClasses([y.b.bundleFakeCard2Selector,h.a.style(P)])})},OOrw:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("GRZr"),i=n("OA+g"),o=n("lrqh"),s=n("6fbX"),l=n("PrA7"),c=n("dE97"),u=n("GUi3"),d=n("zR/0"),p=n("viRF"),m=n("UEGg"),h=n("O6HF"),g=n("YJiV"),f=n("TC4P"),b=n("E0zP");!function(e){let t,n;e.Kind="PlagiarismCard",function(e){const t=e=>t=>Object.assign(Object.assign({},t),{positionState:e});e.changeVisualState=e=>t=>Object.assign(Object.assign({},t),{visualState:e});const n=g.a.getTransitionTo(e.changeVisualState,t);e.getChangePosition=function(){return{changePosition:t}},e.getAnimatable=function(){return{completeTransition:t=>n=>e.changeVisualState(f.a.VisualState.complete(n.visualState,t))(n),transitionTo:n,changeVisualState:e.changeVisualState}};const a=(e,t,n)=>a=>Object.assign(Object.assign({},a),{alerts:e,activeAlert:b.a.getAlertByIndex(n,e),removedAlertsIds:t,activeAlertIndex:n});function r(t,a,r){Object(s.f)(1===a.length,"PlagiarismCard can only handle update with a single alert");const i=a[0];Object(s.f)(void 0!==t.alerts.find(e=>e.id===i.id),"can not receive updates for unknown alert",()=>i.toString());const o=function(e,t,n){const a=g.a.getApplicableCardMeta(t,e.visualState,n);return Object.assign(Object.assign({},e),{activeHighlightIndex:g.a.getAHI(e,a),meta:a})}(t,i,r);switch(i.state.type){case c.a.State.Type.REGISTERED:return"success"===o.visualState.transition.type||"presuccess"===o.visualState.transition.type?n({type:"focused",clockwise:o.visualState.transition.clockwise})(o):o;case c.a.State.Type.REMOVED:return"focused"!==o.visualState.transition.type&&"expanded"!==o.visualState.transition.type||!o.alerts.every(e=>c.a.isCapiDone(e)&&e.allowUpdate&&c.a.isRated(o.activeAlert))?e.remove(a,!0)(o):n({type:"presuccess",clockwise:o.visualState.transition.clockwise})(o);case c.a.State.Type.APPLIED:case c.a.State.Type.BEING_APPLIED:return e.remove(a,!0)(o);default:return Object(s.c)(i.state)}}e.select=(n,r)=>g.a.getSelectByAlert(a,e=>i.identity,e.changeVisualState,t,e=>i.identity,i.identity,n,r),e.getSelect=function(n,a){const r=e.select(n,a);return{select:g.a.getSelectFirstAlert(r),selectByAlert:(e,t,n)=>r(t,e,n),unselect:g.a.getUnselectItem(e.changeVisualState,t)}},e.remove=g.a.getRemove(a,n),e.getRemoveAlert=function(t,n){return{removeAlertFromItem:(a,r)=>s=>{const l=new Set(a.map(e=>e.id));return b.a.hasAnyOfAlerts(l)(s)?e.remove(a,Object(i.pipe)(t(r),o.g.map(e=>n.compare(s,e)>0),o.g.getOrElse(i.constTrue)))(s):s}}},e.getUpdateWithAlert=function(e){return{updateWithAlerts:t=>n=>r(n,t,e)}}}(t=e.Capabilities||(e.Capabilities={})),e.eq=b.a.eq,function(n){function a(t,n){const a=n.alerts;return Object.assign(Object.assign({id:t,kind:e.Kind,activeAlert:b.a.getAlertByIndex(n.activeAlertIndex,a),equals(t){return e.eq.equals(this,t)},hashCode(){return b.a.hashCode(Object.assign(Object.assign({},this),{userInput:o.g.none}))}},n),{alerts:a})}function s(e){const t=e.map(e=>e.getHighlightRanges()[0]),n=Object(i.pipe)(e.map(e=>p.b.groupSum.concat(p.b.MAX,p.b.groupSum.inverse(e.progress))),Object(r.fold)(p.b.groupSum),e=>p.b.monoidMin.concat(e,p.b.MAX),p.a.fromRatio);return new h.a.Impl(n,"",h.a.CheckingState.Idle,t,!1)}n.create=function(e,n){const r=l.Monitoring.Logging.getLogger("PlagiarismCardFactory"),p=(e,r,l,c)=>g.a.getCreate(a,o.g.none,g.a.getChangeVisualState(t.changeVisualState,i.identity),()=>d.a.EMPTY,n)(e,r,l,0,s(r),u.a.SpecialId.Plagiarism,c),h=g.a.getSelectNextAlert(g.a.getCardSelections(e),t.select(e,n)),y=(e,t)=>Object.assign(Object.assign({},e),{meta:s(t)});return{createRendered:(e,t)=>p(e,t,0,o.g.some(f.a.VisualState.initial({type:"rendered",clockwise:!0},!1))),createAdded:(e,t)=>p(e,t,0,o.g.some(f.a.VisualState.initial({type:"added",clockwise:!0},!0))),createFocused:(e,t,n)=>p(e,t,n,o.g.some(f.a.VisualState.initial({type:"focused",clockwise:!0},!0))),changePlagiarismMetaWithAlerts:y,addPlagiarismAlerts:(e,t)=>{const n=e.alerts.concat(t.map(e=>m.a.fromModel(e))).sort(c.d.ord.compare).filter(t=>{const n=m.a.isPlagiarism(t);return n||r.error("Encountered non-plagiarism alert in plagiarism card",{alert:t,cardId:e.id}),n});return y(Object.assign(Object.assign({},e),{alerts:n,activeAlertIndex:b.a.getIndexByAlert(e.activeAlert.id,n)}),n)},remove:(e,n,a)=>t.remove(n,a)(e),selectNextAlert:(e,t)=>h(t)(e),shouldAnimateAlertApply:n.shouldAnimateAlertApply}},n.getPlagiarismCardMeta=s}(n=e.ItemFactory||(e.ItemFactory={}))}(a||(a={}))},Od5a:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("I7vG"),o=n("vOOZ"),s=n("9NHN"),l=n("Ntm9"),c=n("rk+4"),u=n("bO3R"),d=n("GUi3"),p=n("zR/0"),m=n("ZvPX"),h=n("zTZn"),g=n("lrqh"),f=n("aH3e"),b=n("0REP");!function(e){e.View=({lens:n,transition:a,successLensViewModel:l,preventAnimation:c,illustrations:u,onTransitionEnd:y,title:v,showTitle:S,scoreStatus:C})=>{const w=r.useContext(f.a.Context).platform===f.a.Platform.IPAD,k=!d.a.isMainLens(n.id);return r.createElement(m.b.FixedContent,{label:n.title},r.createElement(o.a.div,Object.assign({onTransitionEnd:y},Object(s.c)(w?b.a.successLensIPad:b.a.successLens,a.pipe(p.a.map(e=>e.base)))),S&&r.createElement(o.a.div,Object.assign({},Object(s.c)(b.a.successLensHeader,a.pipe(p.a.map(e=>e.title)))),v),r.createElement("div",{className:w?b.a.successLensContentIPad:b.a.successLensContent},r.createElement(h.a,{state:l.successState,preventAnimation:c,illustrations:u,alertsListType:"all",scoreStatus:C},k&&r.createElement(t,null),Object(i.pipe)(l.mutedAlerts,g.g.map(t=>r.createElement(e.MutedSuggestions,{count:t.mutedSuggestionsCount,onReview:t.reviewMutedSuggestions})),g.g.orNull)))))},e.MutedSuggestions=({count:e,onReview:t})=>{const n=r.useContext(c.a.Context);return r.createElement(o.a.Fragment,null,e.view(e=>e?r.createElement(o.a.span,{className:b.a.mutedSuggestions},n.successLens.mutedSuggestions(e),r.createElement(u.a.Ghost,Object.assign({name:"review-muted"},Object(s.c)(l.button,b.a.reviewButton),{onClick:t}),n.review)):null))};const t=()=>{const e=r.useContext(c.a.Context),{navigateToAllAlerts:t}=r.useContext(m.c);return r.createElement(u.a.Ghost,{name:"to-all-alerts",onClick:t,className:b.a.toAllAlerts},e.goBackToAllAlerts)}}(a||(a={}))},Osoa:function(e,t,n){"use strict";function a(e,t){return function(n){return n?t.of(void 0):e.zero()}}n.d(t,"a",(function(){return a}))},"Ov/9":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=1.7},P79j:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n("ERkP"),r=n("vOOZ"),i=n("D9EC"),o=n("1w6p"),s=n("e12y"),l=n("zR/0"),c=n("AK7F"),u=n("3hQ2"),d=n("ax6a"),p=n("rk+4"),m=n("bO3R"),h=n("BugA"),g=n("ps/9");const f=({onClick:e,collapsed:t})=>{const n=a.useContext(p.a.Context).priorityList;return a.createElement(m.a.Tertiary,{name:"card-list-more",className:C.toggleNonPriority,title:a.createElement("div",{className:C.tooltip},n.toggleButtonTooltip(t)),onClick:e},t?n.expand:n.collapse)},b=()=>{const e=a.useContext(p.a.Context).priorityList;return a.createElement("div",{className:C.toggleNonPriorityHint},a.createElement(h.l,null,e.hint))},y={padding:`${s.a.rem(.5)} ${s.a.rem(.25)}`,width:s.a.rem(12.75),whiteSpace:"normal",lineHeight:s.a.rem(1)},v={padding:s.a.rem(.5),borderRadius:s.a.rem(g.t),backgroundColor:d.a.CoreNeutral10},S={$nest:{"&[data-textpos='everywhere']":{marginTop:s.a.rem(1),padding:"0 "+s.a.rem(2)},"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:d.a.CoreNeutral10}}},C=s.a.stylesheet({tooltip:[y],toggleNonPriority:[S],toggleNonPriorityHint:[v]});var w;!function(e){e.Toggle=o.b.Node.make(({view:e,notify:t})=>a.createElement(r.a.Fragment,null,e("view").pipe(l.a.map(e=>{const r=c.a.isCollapsed(e);return a.createElement(a.Fragment,null,!c.a.isHidden(e)&&a.createElement("div",{className:n.moreBtnContainer},a.createElement(f,{collapsed:r,onClick:t({kind:u.a.Event.Kind.toggleNonPriorityCards,nextState:r?u.a.Event.ToggleNonPriorityCards.NextState.expanded:u.a.Event.ToggleNonPriorityCards.NextState.collapsed})})))})))),e.Hint=o.b.Node.make(({view:e})=>a.createElement(r.a.Fragment,null,e("view").pipe(l.a.map(c.b.isVisible),l.a.map(Object(i.c)(a.createElement(b,null),null)))));const t={display:"flex",height:s.a.rem(3),alignItems:"center",justifyContent:"center"},n=s.a.stylesheet({moreBtnContainer:[t]})}(w||(w={}))},PDIG:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c}));var a,r=n("iVSA");!function(e){const t=e=>"@media "+e;e.screenXS=t("only screen"),e.screenS=t("only screen and (min-width: 600px)"),e.screenM=t("only screen and (min-width: 800px)"),e.screenL=t("only screen and (min-width: 1270px)"),e.screenXL=t("only screen and (min-width: 1360px)"),e.screenHD=t("only screen and (min-width: 1430px)"),e.threeColumnsMax=t("only screen and (max-width: 1100px)"),e.fourColumnsMax=t("only screen and (max-width: 1250px)"),e.xss=t("(max-width: 700px)"),e.xssUpper=t("(max-width: 780px)"),e.xsLower=t("(max-width: 960px)"),e.xs=t("(max-width: 1024px)"),e.tiny=t("(max-width: 1279px)"),e.small=t("(max-width: 1359px)"),e.normal=t("(min-width: 1360px) and (max-width: 1599px)"),e.big=t("(min-width: 1600px)"),e.bigUpper=t("(min-width: 1920px)"),e.retina=t("(min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)"),e.smallHeight=t("(max-height: 760px)"),e.xssHeight=t("(max-height: 520px)"),e.print=t("print"),e.collapsedSidebarQuery="((min-width: 1600px) and (max-height: 750px)), ((min-width: 1360px) and (max-width: 1599px) and (max-height: 680px)), ((max-width: 1359px) and (max-height: 590px))",e.compactSidebarQuery="((min-width: 1600px) and (max-height: 900px)), ((min-width: 1360px) and (max-width: 1599px) and (max-height: 800px)), ((max-width: 1359px) and (max-height: 710px))",e.compactSidebar=t(e.compactSidebarQuery),e.collapsedSidebar=t(e.collapsedSidebarQuery),e.normalLower=t("(min-width: 1360px) and (max-width: 1471px)"),e.bigHigher=t("(min-width: 1600px) and (max-width: 1647px)"),e.maxWidth=e=>t(`(max-width: ${e}px)`),e.minWidth=e=>t(`(min-width: ${e}px)`),e.maxHeight=e=>t(`(max-height: ${e}px)`),e.minHeight=e=>t(`(min-height: ${e}px)`)}(a||(a={}));const i=()=>({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),o=(e,t="png")=>{const n={backgroundImage:`url(${`./img/${e}.${t}`})`,backgroundSize:"contain",backgroundRepeat:"no-repeat"};if("png"!==t)return n;const r=`./img/${e}@2x.${t}`;return Object.assign(Object.assign({},n),{$nest:{[a.retina]:{backgroundImage:`url(${r})`}}})},s={boxShadow:`0 0 0 1px ${r.a.White}, 0 0 0 3px ${r.a.Blue40}`,zIndex:1,outline:"none"},l=(e={})=>({$nest:{"&:focus":Object.assign(Object.assign({},s),e),"&:focus:not(:focus-visible)":{boxShadow:"none",$unique:!0},"&:focus-visible":Object.assign(Object.assign(Object.assign({},s),e),{$unique:!0})}}),c={position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0,0,0,0)",whiteSpace:"nowrap",border:0}},PDwX:function(e,t,n){e.exports=n.p+"files/2fdff5731e4f939b623f3e6d82b7eacf/mutedAlerts.mp4"},PPsJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return A}));var a=n("OA+g"),r=n("I7vG"),i=n("1aGC"),o=n("4ae2"),s=n("24uI"),l=n("bYZB"),c=n("zR/0"),u=n("GGUR"),d=n("2yqA"),p=n("hoSD"),m=n("lrqh"),h=n("D9EC"),g=n("6fbX"),f=n("PrA7");const b=i.import("modules/clipboard");var y,v,S,C;!function(e){e.normalizeSpacesInDelta=e=>e.reduce((e,t)=>e.push(s.a.isInsert(t)&&"string"==typeof t.insert?Object.assign(Object.assign({},t),{insert:t.insert.replace(/\s/g,e=>"\n"===e||"\r"===e||"\t"===e?e:" ")}):t),new o.a);let t,n;e.getConverter=(t,n,i=[],o)=>{const s=((e,t,n)=>m.b.tryCatchError(()=>{const a={root:document.createElement("div"),scroll:e.scroll,addContainer:(t,a)=>{const r=e.addContainer(t,a);return null!=n&&n&&r.classList.add(n),r},setContents:h.e,setSelection:h.e,getFormat:()=>[],selection:{savedRange:{index:0,length:0}}},r=new b(a,{matchVisual:!1,matchers:t});return e=>{r.container.innerHTML="",r.container.appendChild(e);const t=r.convert();return r.container.innerHTML="",Object(d.y)(t)}}))(t,i,o);return t=>Object(r.pipe)(p.f.sanitize(t,{allowedAttrs:["href","style","class",C.TrailingSpaces.dataPreserveSpaces],forbidTags:["script","style","meta","img","video","embed","frame","iframe","area","source","track","template","canvas","audio"],allowDataAttrs:!1,returnHTML:!0}),e=>Object(r.pipe)(p.c.traverseMutate(e,e=>p.c.Guardians.isHTMLElement(e)||p.c.Guardians.isDocumentFragment(e),Object(a.flow)(C.normalizeBold,C.TrailingSpaces.decodeTrailingSpaces,C.cleanupStyles(["whiteSpace","fontWeight","fontStyle","white-space","font-weight","font-style","mso-list"]))),m.b.fold(e=>(f.Monitoring.Logging.getLogger("HTML2Delta").warn("Cannot normalize html on paste",e),m.g.none),e=>m.g.some(e))),m.g.chain(e=>Object(r.pipe)(s,m.b.bimap(f.Monitoring.Logging.getLogger("HTML2Delta").handler("Cannot convert given text to html").error,t=>t(e)),m.g.fromEither)),m.g.map(n),m.g.map(e.normalizeSpacesInDelta))},function(e){let t;!function(e){e.and=(...e)=>t=>e.every(e=>e(t)),e.or=(...e)=>t=>e.some(e=>e(t)),e.includes=e=>t=>t.includes(e)}(t=e.Test||(e.Test={})),e.checks=[{name:l.f.MSOutlook,test:t.and(t.includes('xmlns:w="urn:schemas-microsoft-com:office:word'),t.includes("span.EmailStyle15"))},{name:l.f.MSWord,test:t.includes('xmlns:w="urn:schemas-microsoft-com:office:word')},{name:l.f.MSExcel,test:t.includes('xmlns:x="urn:schemas-microsoft-com:office:excel')},{name:l.f.MSOffice,test:t.includes('xmlns:o="urn:schemas-microsoft-com:office:office')},{name:l.f.MSWordOnline,test:t.and(t.includes('xml:lang="EN-US"'),t.includes("TextRun"),t.includes("SCX"))},{name:l.f.GDocs,test:t.includes('id="docs-internal-guid-')},{name:l.f.GSheets,test:t.includes('<meta name="generator" content="Sheets"/>')},{name:l.f.DropboxPaper,test:t.includes('class=" author-d-')},{name:l.f.CocoaHTMLWriter,test:t.includes('<meta name="Generator" content="Cocoa HTML Writer">')},{name:l.f.ProbablyMSOutlookOnline,test:t.or(t.includes("color: rgb(0, 0, 0); font-family: Calibri, Helvetica, sans-serif;"),t.includes("color: rgb(0, 0, 0); font-family: Calibri,Helvetica,sans-serif;"))},{name:l.f.ProbablyGMail,test:t.or(t.includes("color: rgb(34, 34, 34); font-family: Arial, Helvetica, sans-serif;"),t.includes("color: rgb(34, 34, 34); direction: ltr; font-family: Arial,Helvetica,sans-serif;"))}],e.detectSource=(e,t)=>{const n=t.find(t=>t.test(e));return n?n.name:l.f.Unknown}}(t=e.SourceDetector||(e.SourceDetector={})),function(e){function t(e,t){return p.c.Guardians.isP(e)&&"MsoNormal"===e.className&&1===e.childNodes.length&&e.firstChild&&e.firstChild.textContent===C.nbsp?(new o.a).insert("\n"):t}function n(e,t){var n;let a=(new o.a).compose(t);if(0===t.ops.length)return m.b.right(a);const r=a.ops[0];if(!p.c.Guardians.isHTMLElement(e))return m.b.left(new Error("Cannot parse non-html element"));if(!s.a.isInsertString(r))return m.b.left(new Error("The first operation is not a string insert"));const i=r.insert.match(/^\s*?(\.|·|o|§|Ø)\s+/),l=r.insert.match(/^\s*?(\d+|[a-zA-Z]+)?[\.\)][\ \t\u202F\u00A0]+/);if(null===i&&null===l||l&&r.insert.length-1===l[0].length&&1===a.ops.length)return m.b.right(a);const c=null!==i?"bullet":"ordered",u=null!==i?i:l;a=(new o.a).insert(r.insert.substring(u[0].length,r.insert.length),r.attributes).concat(new o.a(a.ops.slice(1)));const d=a.ops[a.ops.length-1];s.a.isInsertString(d)&&(a=new o.a(a.ops.slice(0,-1)).push({insert:d.insert.substring(0,d.insert.length-1),attributes:d.attributes}));const h=(null!==(n=e.getAttribute("style"))&&void 0!==n?n:"").replace(/\n+/g,"").match(/level(\d+)/),g=h?Number(h[1])-1:0;return a.push({insert:"\n",attributes:{list:c,indent:g}}),m.b.right(a)}e.fancyTable=[["tr",(e,t)=>t.insert("\n")],["td",(e,t)=>{const n=Number(e.getAttribute("colspan"))||1;return e.nextSibling?t.insert("\t".repeat(n)):t}]],e.matchOutlookEmptyLine=t,e.outlookEmptyLine=[["p.MsoNormal",t]],e.matchMsWordList=n;const i=e=>(t,i)=>Object(r.pipe)(n(t,i),m.b.fold(t=>(e.info("Cannot parse MS Word List",t),i),a.identity));e.getMSWordList=e=>{const t=i(e.getLogger("MSWordListMatcher"));return[["p.MsoListParagraph",t],["p.MsoListParagraphCxSpFirst",t],["p.MsoListParagraphCxSpMiddle",t],["p.MsoListParagraphCxSpLast",t],["p.MsoNoSpacing",t],["h1",t],["h2",t],["h3",t],["h4",t],["h5",t],["h6",t],["p.MsoHeading7",t],["p.MsoHeading8",t],["p.MsoHeading9",t],["p.MsoTitle",t],["p.MsoSubtitle",t],["p.MsoQuote",t],["p.MsoIntenseQuote",t]]}}(n=e.Matchers||(e.Matchers={}))}(y||(y={})),(S=v||(v={})).byActiveSelection=(e,t)=>{const n=[`color: ${window.getComputedStyle(e).color};`,"background: transparent;","margin-top:0pt;","margin-bottom:0pt;"].join(" "),i=(e,t)=>{e.setAttribute("style",t.join("; "))};return Object(r.pipe)(S.getSelectedHTMLForCopy(e),m.g.chain(Object(a.flow)(C.removeAllSpans,m.b.chain(C.TrailingSpaces.normalizeTrailingSpaces),m.b.map(C.normalizeNestedListsUnsafe(e=>t(e)[0])),m.b.chain(e=>p.c.traverseMutate(e,p.c.Guardians.isHTMLElement,e=>(p.c.Guardians.isSPAN(e)?i(e,[n,e.parentNode&&p.c.Guardians.isLink(e.parentNode)?"color: #4a6ee0;":""]):p.c.Guardians.isBR(e)||(p.c.Guardians.isLink(e)?i(e,[n,"color: #4a6ee0;"]):p.c.Guardians.isH1(e)||p.c.Guardians.isH2(e)?i(e,[n,"font-weight: normal;"]):p.c.Guardians.isLI(e)&&e.parentNode?p.c.Guardians.isOL(e.parentNode)?i(e,[n,`list-style-type:${t(e)[1]};`]):p.c.Guardians.isUL(e.parentNode)&&i(e,[n,"list-style-type:disc"]):p.c.Guardians.isHTMLElement(e)&&i(e,[n])),e))),m.b.map(e=>p.f.sanitize(e,{allowedAttrs:["class","href","style","target",C.TrailingSpaces.dataPreserveSpaces],allowDataAttrs:!1})),m.b.map(e=>"<meta charset='utf-8'>"+e),m.b.fold(e=>(f.Monitoring.Logging.getLogger("HTML4Copy").error("Cannot get html for copy",e),m.g.none),m.g.some))))},S.getSelectedHTMLForCopy=e=>Object(r.pipe)(p.c.getFirstSelectionRange(),m.g.chain(t=>{if(t.commonAncestorContainer===e){const e=document.createDocumentFragment();return e.appendChild(t.cloneContents()),m.g.some(e)}if(p.c.isParent(e,t.commonAncestorContainer)){const n=Object(r.pipe)(p.c.getTreeBetween(e,t.commonAncestorContainer,p.c.Guardians.isP),m.g.fold(()=>t.cloneContents(),e=>(p.c.appendTo(p.c.getLastChild(e),t.cloneContents()),e))),a=document.createDocumentFragment();return a.appendChild(n),m.g.some(a)}return m.g.none})),function(e){e.removeAllSpans=e=>Object(r.pipe)(p.c.traverseMutate(e,p.c.Guardians.isHTMLElement,e=>{if(p.c.Guardians.isSPAN(e)){const t=p.c.moveChildrenTo(document.createDocumentFragment(),e);return t.normalize(),t}return e}),m.b.map(e=>(e.normalize(),e))),e.space=" ",e.nbsp=" ";const t=t=>{if(0===t)return"";if(1===t)return e.nbsp;const n=t-1,a=(n-n%2)/2;return`${e.nbsp}${`${e.space}${e.nbsp}`.repeat(a)}${2*a===n?"":e.nbsp}`};let n;!function(e){e.dataPreserveSpaces="data-preserver-spaces";const n=/mso-spacerun:\s*yes/;e.decodeTrailingSpaces=t=>{var a;return p.c.Guardians.isSPAN(t)&&(t.hasAttribute(e.dataPreserveSpaces)||n.test(null!==(a=t.getAttribute("style"))&&void 0!==a?a:""))&&t.setAttribute("style","white-space: pre-wrap"),t},e.normalizeTrailingSpaces=n=>p.c.traverseMutate(n,e=>p.c.Guardians.isHTMLElement(e),n=>{if(n.nodeType!==Node.TEXT_NODE||null==n.textContent||n.parentNode&&p.c.Guardians.isSPAN(n.parentNode)&&n.parentNode.hasAttribute(e.dataPreserveSpaces))return n;{const a=n.textContent.match(/^( *)(.*?)( *)$/);if(a){const n=document.createElement("span");return n.appendChild(document.createTextNode(`${t(a[1].length)}${a[2]}${t(a[3].length)}`)),n.setAttribute(e.dataPreserveSpaces,"true"),n}throw new g.b("Cannot parse textContent")}})}(n=e.TrailingSpaces||(e.TrailingSpaces={})),e.normalizeBold=e=>!p.c.Guardians.isHTMLElement(e)||"B"!==e.nodeName&&"STRONG"!==e.nodeName||"normal"!==e.style.fontWeight?e:p.c.moveChildrenTo(document.createElement("span"),e),e.cleanupStyles=e=>t=>{var n;if(!p.c.Guardians.isHTMLElement(t))return t;const a=(null!==(n=t.getAttribute("style"))&&void 0!==n?n:"").split(";").map(e=>e.split(":")).filter(([t])=>e.includes(t)).map(([e,t])=>`${e}:${t}`).join(";");return t.setAttribute("style",a),t},e.normalizeNestedListsUnsafe=function(e){return t=>(p.c.findAll(e=>p.c.Guardians.isOL(e)||p.c.Guardians.isUL(e))(t).forEach(t=>Array.from(t.childNodes).reduce(([n,a],i)=>{if(p.c.Guardians.isLI(i)){const o=e(i);if(o>0){let e;return e=n>o?p.c.getParentAt(a,n-o):n===o?m.b.right(a):Object(r.pipe)(p.c.createNested(a.nodeName,o-n),m.b.map(e=>(a===t?a.insertBefore(e,i):a.appendChild(e),e)),m.b.map(p.c.getLastChild)),Object(r.pipe)(e,m.b.map(e=>{e.appendChild(i)})),Object(r.pipe)(e,m.b.fold(()=>[n,a],e=>[o,e]))}return[0,t]}return[n,a]},[0,t])),t)}}(C||(C={}));const w=i.import("core/module");class k extends w{constructor(e,t){super(e,t),this.quill=e,this._options=t,this._uuid=p.f.alphanumeric(12),this._sourceChecks=[{name:l.f.DenaliSameDocSession,test:y.SourceDetector.Test.includes(this._uuid)},{name:l.f.DenaliOtherDocSession,test:y.SourceDetector.Test.includes("<meta name='uuid' content='uuid")}],this._log=f.Monitoring.Logging.getLogger("DEd.Clipboard"),this._html2Delta=y.getConverter(this.quill,this._options.deltaFilter,[...y.Matchers.fancyTable,...y.Matchers.getMSWordList(this._log),...y.Matchers.outlookEmptyLine],this._options.className),this.textChangedAfterPaste=new c.a.Subject,this.clipboardShortcutUsed=new c.a.Subject,this._subs=new u.a.Keeper,this.syntheticPaste=e=>{this._options.flush(),this._onPaste({delta:(new o.a).insert(e),source:l.f.Synthetic})},this._onPaste=({delta:e,source:t})=>{const n=s.a.calcAmountLength(e),a=Boolean(this.quill.getSelection())?this.quill.getSelection():{index:0,length:0};this.quill.getLength()-a.length+n>this._maxAllowedTextLength?this._lengthExceededCallback():this._flushHistory(()=>this._doPaste([e,n],a,t))},this._doPaste=([e,t],n,a)=>{const r=this.quill.getText(),s=r.length-1,l=r.trim().length,c=(new o.a).retain(n.index).delete(n.length),u=(new o.a).retain(n.index).concat(e);Boolean(c.ops)&&c.ops.length>0&&this.quill.updateContents(Object(d.z)(c),i.sources.USER),this._options.flush(),this.quill.updateContents(Object(d.z)(u),i.sources.USER),this._options.flush();const p=0===l?"initial":n.length===s?"reset":"partial";this.quill.setSelection("initial"===p||"reset"===p?0:n.index+t,0),this.quill.focus(),this.textChangedAfterPaste.next({type:p,source:a,len:t,tags:this._fetchTagsAmount(e)})},this._getNonEmptyRange=()=>Object(r.pipe)(m.g.fromNullable(this.quill.getSelection()),m.g.filter(l.g.nonEmpty)),this._deleteRange=e=>{const t=(new o.a).retain(e.index).delete(e.length);this.quill.updateContents(Object(d.z)(t),i.sources.USER),this.quill.setSelection(e.index,0),this._options.flush()},this._getHTMLByRange=e=>(this.quill.setSelection(e.index,e.length),Object(r.pipe)(v.byActiveSelection(this.quill.root,k.getListLevel),m.g.map(e=>`<meta name='uuid' content='uuid${this._uuid}'>${e}`))),this._copyRangeToClipboard=e=>t=>this.rtfSupport&&this._rangeHasFormatting(t)?this._copyHTMLByRange(e,t):this._copyPlainTextByRange(e,t),this._onClipboardShortcutUsed=e=>(this.clipboardShortcutUsed.next(),e),this._getRTFContentFromClipboardEvent=e=>t=>Object(r.pipe)(E.getFromEvent(t,"html"),m.g.filter(e=>e.length>0),m.g.map(e=>({source:y.SourceDetector.detectSource(e,[...this._sourceChecks,...y.SourceDetector.checks]),originalHTML:e})),m.g.map(n=>Object(r.pipe)(e.some(e=>e===n.source)?this._getPlainTextFromClipboard(t):this._html2Delta(n.originalHTML),m.g.map(e=>({source:n.source,delta:e})))),m.g.getOrElse(()=>Object(r.pipe)(this._getPlainTextFromClipboard(t),m.g.map(e=>({source:l.f.PlainText,delta:e}))))),this._getPlainTextFromClipboard=e=>Object(r.pipe)(E.getFromEvent(e,"text"),m.g.map(e=>(new o.a).insert(e))),this._fetchTagsAmount=e=>Array.from(e.reduce((e,t)=>(s.a.match(t=>Object.keys(t.attributes||{}).forEach(t=>e.add(t)),h.e,t=>Object.keys(t.attributes||{}).forEach(t=>e.add(t)))(t),e),new Set)),this._maxAllowedTextLength=Boolean(t.maxAllowedTextLength)?t.maxAllowedTextLength:k.DEFAULTS.maxAllowedTextLength,this._lengthExceededCallback=t.lengthExceededCallback||k.DEFAULTS.lengthExceededCallback;const n=c.a.mergeStatic(c.a.fromEvent(this.quill.root,"keydown"),c.a.fromEvent(this.quill.root,"keyup")).pipe(c.a.map(e=>(Boolean(e.metaKey)||e.ctrlKey)&&!0===e.shiftKey&&"v"===e.key.toLowerCase()),c.a.distinctUntilChanged(),c.a.startWith(!1),c.a.shareReplay({bufferSize:1,refCount:!0}));this._subs.push(c.a.fromEvent(this.quill.root,"paste").pipe(c.a.withLatestFrom(n)).subscribe(([e,t])=>Object(r.pipe)(e,p.c.preventDefault,this._onClipboardShortcutUsed,this.rtfSupport&&!Boolean(t)?this._getRTFContentFromClipboardEvent(this.plainTextSources):Object(a.flow)(this._getPlainTextFromClipboard,m.g.map(e=>({source:l.f.Unknown,delta:e}))),m.g.map(this._onPaste))),c.a.fromEvent(this.quill.root,"copy").subscribe(Object(a.flow)(p.c.preventDefault,this._onClipboardShortcutUsed,e=>Object(r.pipe)(this._getNonEmptyRange(),m.g.map(this._copyRangeToClipboard(e))))),c.a.fromEvent(this.quill.root,"cut").subscribe(Object(a.flow)(p.c.preventDefault,this._onClipboardShortcutUsed,e=>Object(r.pipe)(this._getNonEmptyRange(),m.g.map(this._copyRangeToClipboard(e)),m.g.map(m.b.map(this._deleteRange)))))),this.container=this.quill.addContainer("ql-clipboard"),Boolean(t.className)&&this.container.classList.add(t.className),this.container.setAttribute("contenteditable","true"),this.container.setAttribute("tabindex","-1")}get rtfSupport(){return!1}get plainTextSources(){return[]}_rangeHasFormatting(e){return(e=>Object(d.y)(this.quill.getContents(e.index,e.length)).ops.some(e=>m.g.isSome(s.a.getAttr(e,d.c.QuillFormatNames.is))))(e)||(e=>this.quill.scroll.path(e.index+e.length).some(([e])=>p.c.Guardians.isLI(e.domNode)||p.c.Guardians.isH1(e.domNode)||p.c.Guardians.isH2(e.domNode)))(e)}_copyHTMLByRange(e,t){return Object(r.pipe)(this._getHTMLByRange(t),m.b.fromOption(()=>new Error("empty html in range")),m.b.chain(t=>E.setToEvent(e,{type:"html",value:t})),m.b.chainLeft(e=>(this._log.warn("HTML: Cannot copy html to clipboard",e),m.b.right(void 0))),m.b.chain(()=>E.setToEvent(e,{type:"text",value:this.quill.getText(t.index,t.length)})),m.b.bimap(e=>(this._log.error("HTML: Cannot copy plain text to clipboard",e),e),()=>t))}_copyPlainTextByRange(e,t){return Object(r.pipe)(E.setToEvent(e,{type:"text",value:this.quill.getText(t.index,t.length)}),m.b.bimap(e=>(this._log.error("Plain text: Cannot set range to clipboard",e),e),()=>t))}_flushHistory(e){this.quill.history.cutoff(),e(),this.quill.history.cutoff()}convert(){return(new o.a).insert("\n")}dangerouslyPasteHTML(){throw new Error("dangerouslyPasteHTML is not implemented")}}var E,O;k.getListLevel=e=>{const t=Number((e.className||"").split("-").pop())||0;return[t,(t+1)%3==0?"lower-roman":(t+1)%2==0?"lower-alpha":"decimal"]},k.DEFAULTS={maxAllowedTextLength:1e5,lengthExceededCallback:h.e},(O=E||(E={})).setToEvent=(e,t)=>m.b.tryCatch(()=>{switch(t.type){case"text":e.clipboardData.setData("text/plain",t.value);break;case"html":e.clipboardData.setData("text/html",t.value);break;default:Object(g.c)(t.type)}},m.b.toError),O.getFromEvent=(e,t)=>{switch(t){case"text":return e.clipboardData?m.g.some(e.clipboardData.getData("text/plain")):m.g.none;case"html":return e.clipboardData?m.g.some(e.clipboardData.getData("text/html")):m.g.none;default:return Object(g.c)(t)}};const A=(e,t)=>class extends k{get rtfSupport(){return e}get plainTextSources(){return t}}},PyeZ:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a,r,i=n("D9EC");!function(e){let t;function n(t){return t.type===e.Type.confirmed}function a(t){return t.type===e.Type.undone}!function(e){e.mounted="mounted",e.opened="opened",e.closed="closed",e.hovered="hovered",e.unhovered="unhovered",e.applied="applied",e.addedToDictionary="added_to_dictionary",e.ignored="ignored",e.confirmed="confirmed",e.undone="undone",e.looked="looked"}(t=e.Type||(e.Type={})),e.isAlertApplyAction=function(t){return t.type===e.Type.applied},e.isAlertOpenAction=function(t){return t.type===e.Type.opened},e.isAlertIgnoreAction=function(t){return t.type===e.Type.ignored},e.isAlertAddToDictionaryAction=function(t){return t.type===e.Type.addedToDictionary},e.isConfirmAction=n,e.isUndoAction=a,e.isMountAction=function(t){return t.type===e.Type.mounted},e.isLookedAction=function(t){return t.type===e.Type.looked},e.isBulkAction=Object(i.p)(n,a)}(a||(a={})),function(e){let t;!function(e){e.Up="Up",e.Down="Down"}(t=e.Direction||(e.Direction={}))}(r||(r={}))},PzR3:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return r}));var a,r,i=n("I7vG"),o=n("94k3"),s=n("FiSa"),l=n("lrqh"),c=n("D9EC"),u=n("6fbX"),d=n("PrA7");!function(e){e.show={show:e=>`A(#${e.alternativeId})`},e.eq=l.c.getStructEq({alternative:o.a.Alternative.eq,alternativeId:l.c.eqString,alertId:l.c.eqString})}(a||(a={}));class p{constructor(){this._log=d.Monitoring.Logging.getLogger("alternative_manager",d.Logging.LogLevel.DEBUG),this._alternatives=new Map,this.getAlternative=e=>{const t=this._alternatives.get(e);if(t)return l.b.right(t);{const t="Tried to retrieve non-registered alternative: "+e;return this._log.error(t),l.b.left(new Error(t))}}}pushChanges(e){s.a.isDelta(e)&&this._alternatives.forEach(t=>{Object(i.pipe)(t.alternative.rebase(e.delta),l.g.fold(c.e,e=>t.alternative=e))})}registerAlternative(e,t){const n=p.getAlternativeId(t),a={alternative:e,alternativeId:n,alertId:t};return this._alternatives.set(n,a),a}deregisterAlternative(e){return Object(i.pipe)(this.getAlternative(e),l.b.chain(({alternative:e,alternativeId:t})=>l.b.tryCatchError(()=>(Object(u.f)(this._alternatives.delete(t),"alternative should exist before deletion"),e))))}}p._alternativeCounter=0,p.getAlternativeId=e=>`alt-${e}-${p._alternativeCounter++}`,function(e){e.mock={registerAlternative:(e,t)=>({alternative:e,alternativeId:p.getAlternativeId(t),alertId:t}),getAlternative:()=>l.b.left(new Error("Not implemented in mock")),deregisterAlternative:()=>l.b.right(o.a.Alternative.create([]))}}(r||(r={}))},Q4mH:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("vOOZ"),o=n("1w6p"),s=n("zR/0"),l=n("8uad"),c=n("0A/6"),u=n("N19O"),d=n("rq0W"),p=n("OI/H");!function(e){e.Card=e=>o.b.Node.make(({view:t})=>{const n=t("view");return r.createElement(i.a.Fragment,null,n.pipe(s.a.distinctUntilChanged((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),s.a.map(a=>r.createElement(u.a.Provider,{card:n,cardVisibleViewportHeight:t("visibleViewportHeight")},i=>r.createElement(c.a.Card,{mount:i,miniCard:r.createElement(p.a.Mini,{card:n,actions:e}),fullCard:r.createElement(p.a.Full,{card:n,actions:e}),successCard:r.createElement(l.a.Success,{cardData:a,isLastCard:t("isLastCard"),actions:e}),feedbackForm:r.createElement(l.a.FeedbackForm,{cardData:a,actions:e}),mutedCard:r.createElement(l.a.MutedAlert,{cardData:a,actions:e}),actions:e,card:a,transitionClassMapper:d.b})))))})}(a||(a={}))},QshB:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));var a,r,i,o,s=n("m6JR"),l=n("BbAu"),c=n("I7vG"),u=n("LNSM"),d=n("prnJ"),p=n("lrqh");!function(e){e.group=p.d.getStructGroup({critical:p.d.groupSum,advanced:p.d.groupSum,free:p.d.groupSum,freePremium:p.d.groupSum,paid:p.d.groupSum,criticalPriority:p.d.groupSum,advancedPriority:p.d.groupSum,freePriority:p.d.groupSum,paidPriority:p.d.groupSum,unread:p.d.groupSum,muted:p.d.groupSum}),e.eq=s.getStructEq({critical:s.eqNumber,advanced:s.eqNumber,free:s.eqNumber,freePremium:s.eqNumber,paid:s.eqNumber,unread:s.eqNumber,criticalPriority:s.eqNumber,advancedPriority:s.eqNumber,freePriority:s.eqNumber,paidPriority:s.eqNumber,muted:s.eqNumber}),e.show=l.a({critical:l.d,advanced:l.d,free:l.d,paid:l.d,criticalPriority:l.d,advancedPriority:l.d,freePriority:l.d,paidPriority:l.d,unread:l.d,muted:l.d}),e.isValid=function(e){return e.critical>=0&&e.advanced>=0&&e.unread>=0},e.isEmpty=function(t){return e.eq.equals(t,e.group.empty)}}(a||(a={})),function(e){e.MIN_GOALS=3,e.TOTAL_GOALS=e.MIN_GOALS+1,e.calculateCompleteness=function(t){const n=Object(c.pipe)(t.goals,p.g.exists(e=>e.size>0));return d.a.eq.equals(t,d.a.unset)||Object(c.pipe)(t.domain,p.g.forAll(e=>"general"===e))&&!(p.g.isSome(t.audience)||p.g.isSome(t.style)||n)?0:Number(n||0)+e.MIN_GOALS}}(r||(r={})),function(e){e.zero={full:0,trimmed:0}}(i||(i={})),function(e){let t;!function(e){e[e.Document=0]="Document",e[e.Plagiarism=1]="Plagiarism"}(t=e.CheckingKind||(e.CheckingKind={})),e.Mock={getCheckingForState:()=>u.a.create({kind:e.CheckingKind.Document,type:"idle"})}}(o||(o={}))},RC7t:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("I7vG"),o=n("LNSM"),s=n("gy42"),l=n("zR/0"),c=n("lrqh"),u=n("xEVj");!function(e){e.Manager=({children:t,cardWidth:n})=>{const a=s.b.toObservable(n).pipe(l.a.shareReplay({refCount:!0,bufferSize:1}));return u.a.useSingleton("CardWidth.Manager"),u.a.useSubscriptionTo(a),r.createElement(e.Context.Provider,{value:a},t)},e.DefaultManager=({children:t})=>(u.a.useSingleton("CardWidth.DefaultManager"),r.createElement(e.Manager,{cardWidth:e.withCardWidthEffect(e.defaultSizeObserver)},t)),e.withCardWidthEffect=(t,n=e.defaultCardWidthSetter)=>t.pipe(l.a.tap(e=>n(c.g.some(e))),l.a.finalize(n.bind(null,c.g.none)),l.a.shareReplay({refCount:!0,bufferSize:1})),e.defaultCardWidthSetter=t=>{e.setRootCssVar(document.documentElement,t)},e.defaultSizeObserver=o.a.create(400),e.Context=r.createContext(e.defaultSizeObserver),e.setRootCssVar=(e,t)=>{e.style.setProperty("--cardWidth",Object(i.pipe)(t,c.g.map(String),c.g.orNull))}}(a||(a={}))},RCgc:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n("iVSA"),r=n("ax6a"),i=n("e12y"),o=n("ps/9");const s={position:"relative",borderRadius:i.a.rem(o.t),boxShadow:"0 1px 7px 0 rgba(129, 137, 169, .2)",userSelect:"none",backgroundColor:r.a.CoreNeutral0},l={padding:`${i.a.rem(1)} ${i.a.rem(2)}`},c={position:"absolute",top:i.a.rem(.75),left:i.a.rem(.5)},u={display:"flex",boxSizing:"border-box",padding:i.a.rem(.5),height:i.a.rem(2.5),cursor:"pointer",justifyContent:"flex-start",alignItems:"center"},d={marginLeft:i.a.rem(.8),fontSize:i.a.rem(.85),lineHeight:i.a.rem(1)},p={display:"flex",width:i.a.percent(100),alignItems:"center",justifyContent:"space-between"},m={position:"absolute",top:i.a.rem(.2),right:i.a.rem(.3),cursor:"pointer"},h={paddingRight:i.a.rem(1),textAlign:"left",fontSize:i.a.rem(.75),lineHeight:i.a.rem(1.15)},g={marginTop:i.a.rem(.6),fontSize:i.a.rem(.875),flexShrink:0},f={display:"flex",marginBottom:i.a.rem(.6),justifyContent:"flex-end",flexShrink:0},b={marginRight:"auto",lineHeight:i.a.rem(1.3125)},y={marginTop:i.a.rem(.21),minWidth:i.a.rem(1.5),flexShrink:0},v={marginTop:i.a.rem(1)},S={display:"flex",justifyContent:"center",alignItems:"center",height:i.a.rem(2),backgroundColor:r.a.CoreGreen60,borderRadius:i.a.rem(.25),fontSize:i.a.rem(.875),fontWeight:700,color:r.a.CoreNeutral0,lineHeight:i.a.rem(2),padding:i.a.rem(a.g.Space4),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:i.a.color(r.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:i.a.color(r.a.CoreGreen60).tint(.2).toRGBA().toString()}}},C=i.a.stylesheet({wrapper:[s],maximizedWrapper:[l],minimizedWrapper:[u],maximizedWrapperIcon:[c],shadowWrapper:[{position:"relative",zIndex:1}],minimizedText:[d],minimizedContent:[p],maximizedCloseButtonContainer:[m],maximizedHeader:[h],alertCategoryContainer:[g],alertCategory:[f],categoryHumanContainer:[b],alertCounterContainer:[y],premiumButtonContainer:[v],premiumButton:[S]})},RNks:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h}));var a=n("OA+g"),r=n("I7vG"),i=n("lrqh"),o=n("1w6p"),s=n("zR/0"),l=n("uqkn"),c=n("TC4P"),u=n("BeBM"),d=n("bFfh"),p=n("EiZq");const m=(e,t,n,a,r,i)=>o.a.composeKnot({content:g(e,t,r,i),root:b(t,n,a)});function h(e){return(t,n,a,r,i,s)=>o.a.composeKnot({content:o.a.fromSideEffect(n=>{f(t)(n);const a=n.action.action;"item"===a.key&&e(a.action)},y(n,i,s)),root:b(n,a,r)})}const g=(e,t,n,a)=>o.a.fromSideEffect(f(e),y(t,n,a));function f(e){return t=>{switch(t.action.action.action.kind){case p.a.ActionKind.changePosition:e.changePosition.next({id:t.key,height:t.action.action.action.height});break;case p.a.ActionKind.completePositionAnimation:e.completePositionAnimation.next(t.key)}}}const b=(e,t,n)=>o.a.fromSideEffect(e=>{t.next(e.element)},s.a.combineLatestStatic([n,e.view("cardsHeight")]).pipe(s.a.map(([e,t])=>({disableUserActions:e,height:t})),s.a.startWith({disableUserActions:!1,height:0}))),y=(e,t,n)=>{const o=e.view(d.a.Prism.items),m=e.pipe(s.a.map(e=>e.itemsOrd)),h=e.pipe(s.a.map(Object(a.flow)(u.k.getActiveItem,i.g.map(l.a.getId)),s.a.distinctUntilChanged())),g=e.view(t.getActiveAlertsCount).view(e=>0===e);return s.a.combineLatestStatic([o,h,g,m]).pipe(s.a.map(([e,a,o,s])=>{const l=Object(r.pipe)(e.find(e=>e.positionState.watched),i.g.map(e=>e.value)),u=e.getAt(e.size-1);return e.filter(e=>e.positionState.visible||e.positionState.watched&&((e,t)=>!!Object(r.pipe)(t,i.g.exists(t=>t.id===e.id))||Object(r.pipe)(t,i.g.exists(e=>e.positionState.isHeightValid)))(e,l)).map(e=>function(e){return(t,n,a,o)=>s=>{const l=Object(r.pipe)(t,i.g.exists(e=>e===s.id));return{cell:{item:e.viewState(n,a)(s),root:{height:{value:s.positionState.height,watched:s.positionState.watched&&!e.isScheduledToDispose(s),isValid:s.positionState.isHeightValid},position:{top:s.positionState.absTop,animationInProgress:s.positionState.animationInProgress},layer:l||c.a.isAnimatable(s)&&s.visualState.incomplete&&!Object(r.pipe)(s.visualState.from,i.g.exists(e=>"focused"===e))?p.a.Layer.front:p.a.Layer.back}},root:s.id,hashCode:s.hashCode.bind(s),equals:e=>s.equals(e.cell.item.view),compare:e=>o.compare(s,e.cell.item.view)}}}(t)(a,o,Object(r.pipe)(u,i.g.exists(t=>t.id===e.id)),s)(e),n(s))}))}},RWgj:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return M}));var a=n("ax6a"),r=n("e12y"),i=n("WIwS"),o=n("ps/9");const s="0 1px 8px rgba(109, 117, 141, .18)",l={$nest:{"&:before":{top:r.a.rem(.85),left:0}}},c=r.a.joinClasses(["miniTwoLinedHighlightedText",r.a.style({overflow:"hidden",marginTop:r.a.rem(-.25),color:a.a.CoreNeutral90,textOverflow:"ellipsis"})]),u={height:r.a.rem(3.25),borderRadius:r.a.rem(o.s),boxShadow:s,$nest:{"&:hover":{boxShadow:s},"&:hover .miniTwoLinedHighlightedText":{borderColor:"transparent"}}},d={top:r.a.rem(.7)},p={top:r.a.rem(.1)},m={fontWeight:r.a.important(400),fontSize:r.a.rem(.75)},h={position:"absolute",left:r.a.rem(.5),minWidth:"initial",minHeight:"initial",background:a.a.CoreNeutral0},g=Object.assign(Object.assign({},h),{top:r.a.rem(.6)}),f=r.a.stylesheet({dot:[l],invisibleDot:[l,{$nest:{"&:before":{visibility:"hidden"}}}],wrapper:[u],miniContainer:[{flexDirection:"column"}],cardLogo:[d],lensIcon:[p],subTitle:[m],ctaText:[{overflow:"hidden",textOverflow:"ellipsis"}],takeawayIconMini:[g],takeawayIconStandard:[h]}),b={height:r.a.rem(3),$nest:{"&:hover .highlightText":{borderColor:"transparent"}}},y={$nest:{"&:before":{top:r.a.px(1),bottom:0,left:0}}},v={$nest:{"&:before":{top:r.a.px(1),bottom:0,left:0,visibility:"hidden"}}},S={height:r.a.important(r.a.rem(2.5)),borderRadius:r.a.rem(o.s)},C={color:a.a.CoreNeutral50,display:"flex",width:r.a.rem(2),height:r.a.percent(100),justifyContent:"center",alignItems:"center"},w={overflow:"hidden",color:a.a.CoreNeutral90,textOverflow:"ellipsis"},k={display:"inline-block",padding:"0 "+r.a.rem(.5)},E={top:0,bottom:0,left:r.a.rem(.5),margin:"auto"},O=r.a.stylesheet({wrapper:[b],dot:[y],invisibleDot:[y,v],miniContainer:[{display:"flex",justifyContent:"flex-end",alignItems:"center"}],bundleContainer:[S],alertsCounter:[C],highlightedText:[w],middleDot:[k],cardLogo:[E]}),A={color:a.a.CoreNeutral50,fontWeight:300},_={position:"absolute",left:r.a.rem(.5),width:r.a.rem(1),height:r.a.rem(1),background:i.e},x={left:r.a.rem(0)},I={marginLeft:r.a.rem(.5)},j={marginLeft:r.a.rem(-.5)},T={minHeight:"auto",left:r.a.rem(.4)},M=r.a.stylesheet({ctaText:[{$nest:{"&:first-letter":{textTransform:"uppercase"}}}],cta:[A],cardLogo:[_],lensIcon:[j],outcomesCardLogo:[_,x],newLabel:[I],diamondIcon:[T]})},RfT4:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n("ERkP"),r=n("vOOZ"),i=n("LNSM"),o=n("dE97"),s=n("XaD9"),l=n("1Y2u"),c=n("rk+4"),u=n("bO3R"),d=n("yB2L"),p=n("Q8bi"),m=n("6fbX"),h=n("+ukg"),g=n("4XP+"),f=n("j1Ag");const b=({switchToCritical:e,switchToAdvanced:t,counters:n,features:i})=>{const o=a.useContext(c.a.Context),{pageId:l,gnarSpec:b}=a.useContext(s.a.Context),y=i.denali.alertGroupNames===h.a.CRITICAL_ADVANCED?{critical:o.sidebar.critical,advanced:o.sidebar.advanced,criticalLabel:o.sidebar.criticalLabel,advancedLabel:o.sidebar.advancedLabel}:{critical:o.sidebar.free,advanced:o.sidebar.premium,criticalLabel:o.sidebar.freeLabel,advancedLabel:o.sidebar.premiumLabel},v=n.view(function(e){switch(e){case h.a.CRITICAL_ADVANCED:return"critical";case h.a.FREE_PREMIUM:return"free";default:return Object(m.c)(e)}}(i.denali.alertGroupNames)),S=n.view(function(e){switch(e){case h.a.CRITICAL_ADVANCED:return"advanced";case h.a.FREE_PREMIUM:return"paid";default:return Object(m.c)(e)}}(i.denali.alertGroupNames));return a.createElement(r.a.div,{className:g.counters},v.view(t=>t>0?a.createElement(u.a,{key:"critical-issues",name:"critical-issues","aria-label":y.criticalLabel(t),styleType:p.Typography.Type.H3Legacy,className:f.issuesWrapper,onClick:()=>{e(),b.assistantOpenButtonClick(l,"critical")}},a.createElement(d.a.OutcomeCounter,{theme:{counterWrapper:f.criticalCounterWrapper,counterContent:f.criticalCounterContent},count:t}),a.createElement("span",null," ",y.critical(t))):null),S.view(e=>e>0?a.createElement(u.a,{key:"advanced-issues",name:"advanced-issues","aria-label":y.advancedLabel(e),styleType:p.Typography.Type.H3Legacy,className:f.issuesWrapper,onClick:()=>{t(),b.assistantOpenButtonClick(l,"advanced")}},a.createElement(d.a.OutcomeCounter,{theme:{counterWrapper:f.advancedCounterWrapper,counterContent:f.advancedCounterContent},count:e}),a.createElement("span",null," ",y.advanced(e))):null))};const y=({features:e,documentModel:t,navigationViewModel:n})=>{const{gnarSpec:c,pageId:u}=a.useContext(s.a.Context);return a.createElement(r.a.section,{className:g.wrapper},a.createElement(b,{features:e,switchToCritical:()=>n.events.next({type:"switchToCritical",actionSource:o.b.sidebar}),switchToAdvanced:()=>n.events.next({type:"switchToAdvanced",actionSource:o.b.sidebar}),counters:t.counters}),a.createElement(l.a,{checking:t.checkingState.view(e=>"idle"!==e),hasErrors:i.a.combine(t.counters.view("critical"),t.counters.view("advanced"),(e,t)=>e>0||t>0),onClick:()=>{n.events.next({type:"toggleSidebar",actionSource:o.b.sidebar}),c.assistantOpenButtonClick(u,"default")}}))}},S3HV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("9NHN"),o=n("vOOZ"),s=n("LNSM"),l=n("zR/0"),c=n("hoSD"),u=n("ax6a"),d=n("rk+4"),p=n("bO3R"),m=n("H37f"),h=n("3rlE"),g=n("e12y"),f=n("ps/9"),b=n("xEVj"),y=n("+w1e"),v=n("0A/6"),S=n("H9T+");!function(e){e.Mini=({card:e,actions:t,twoLined:n,useBundleContainer:a})=>r.createElement(v.a.Mini,Object.assign({},Object(i.c)(!0===n?A.twoLinedWrapper:A.standardWrapper,!0===a?A.bundleContainer:null),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],inert:e.positionState.inert,hideDot:!0}),r.createElement(o.a.div,{className:A.content},void 0!==e.activeAlert.emojiID?r.createElement(m.c,{id:e.activeAlert.emojiID,className:A.icon}):r.createElement(h.d.EthicalAI.Heart,{className:A.icon}),r.createElement("div",{className:A.highlightedText},e.activeAlert.miniCardTitle))),e.Full=({card:e,actions:t,isChecking:n})=>{const a=r.useContext(d.a.Context),i=s.a.create(!1);return b.a.useSubscriptionTo(n.pipe(l.a.tap(e=>i.set(e)))),r.createElement(S.s,{card:e,actions:t,isChecking:n,body:r.createElement(r.Fragment,null,r.createElement(S.i,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(S.n,{text:e.activeAlert.title}),void 0!==e.activeAlert.bannerColors?r.createElement("div",null,e.activeAlert.bannerColors.map(e=>r.createElement("div",{className:T.bannerStripe,style:{backgroundColor:e}}))):null,r.createElement(S.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})),footer:r.createElement(r.Fragment,null,r.createElement(S.g,{card:e}),r.createElement(p.a.Primary,{key:"ethical-ai-external-link",name:"ethical-ai-external-link",href:e.activeAlert.externalLink,target:"_blank",rel:"noopener noreferrer",title:a.card.todoAction(e.activeAlert.todoAction),onClick:()=>{t.next({type:y.b.Type.ethicalAIOpenExternalLink,alertId:e.activeAlert.id,itemId:e.id,externalLink:e.activeAlert.externalLink}),e.activeAlert.shouldDismissAfterOpeningLink&&t.next({type:y.b.Type.alertResolve,id:e.id,alertId:e.activeAlert.id})},className:T.externalLinkButton},r.createElement("div",{className:T.externalLinkButtonContent},c.f.capitalize(e.activeAlert.todoAction),r.createElement(h.d.EthicalAI.ExternalLink,{className:T.externalLinkButtonContentIcon})))),alwaysShowWrongAndOffensiveButtons:e.activeAlert.isFlaggable})}}(a||(a={}));const C={height:g.a.rem(3.25),borderRadius:g.a.rem(f.s),boxShadow:"0 1px 8px rgba(109, 117, 141, .18)"},w={height:g.a.rem(3)},k={height:g.a.important(g.a.rem(2.5)),borderRadius:g.a.rem(f.s)},E={width:g.a.rem(1),height:g.a.rem(1),marginRight:g.a.rem(.5)},O={overflow:"hidden",color:u.a.CoreNeutral90,textOverflow:"ellipsis"},A=g.a.stylesheet({twoLinedWrapper:[C],standardWrapper:[w],bundleContainer:[k],content:[{display:"flex",alignItems:"center"}],icon:[E],highlightedText:[O]}),_={width:g.a.percent(100),$nest:{a:{color:u.a.CoreNeutral0,textDecoration:"none"}}},x={width:g.a.percent(100),position:"relative",textAlign:"center"},I={position:"absolute",top:g.a.rem(.25),right:g.a.rem(.25)},j={width:g.a.percent(100),height:g.a.rem(.5)},T=g.a.stylesheet({externalLinkButton:[_],externalLinkButtonContent:[x],externalLinkButtonContentIcon:[I],bannerStripe:[j]})},SGQG:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n("iVSA"),r=n("ax6a"),i=n("e12y"),o=n("WIwS"),s=n("ps/9");const l=r.a.BackgroundTooltip,c=i.a.keyframes({"0%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, .65)"},"70%":{boxShadow:`0 0 0 ${i.a.rem(1)} rgba(95, 139, 250, 0)`},"100%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, 0)"}}),u={width:i.a.rem(1),height:i.a.rem(1),borderRadius:i.a.percent(50),background:"rgba(95, 139, 250, .65)",boxShadow:"0 0 0 rgba(95, 139, 250, .65)",animation:c+" 2s infinite",$nest:{"&:hover":{animation:"none"},"@media print":{visibility:"hidden"}}},d=i.a.keyframes({"0%":{opacity:1,transform:"scale(1)"},"100%":{opacity:0,transform:"scale(3)"}}),p={width:i.a.rem(1),height:i.a.rem(1),borderRadius:i.a.percent(50),background:"rgba(95, 139, 250, .65)",willChange:"transform",$nest:{"@media print":{visibility:"hidden"},"&:before":{position:"absolute",top:0,left:0,zIndex:-1,width:i.a.rem(1),height:i.a.rem(1),borderRadius:i.a.percent(100),backgroundColor:"rgba(95, 139, 250, .65)",content:"''",animation:d+" 2s infinite",willChange:"transform"},"&:hover:before":{animation:"none"}}},m={margin:`${i.a.rem(-1.5)} 0 0 ${i.a.rem(-1.5)}`,padding:i.a.rem(1),borderRadius:i.a.percent(50),cursor:"pointer",pointerEvents:"all"},h={margin:"0 0 "+i.a.rem(.5),color:r.a.CoreNeutral0,fontWeight:"bold"},g={color:r.a.CoreNeutral0,lineHeight:i.a.rem(1.25)},f={display:"flex",padding:`${i.a.rem(1)} ${i.a.rem(1.5)} ${i.a.rem(1.25)} ${i.a.rem(2)}`,width:i.a.rem(20),borderRadius:i.a.rem(s.t),background:l,color:r.a.CoreNeutral0,textAlign:"left",letterSpacing:0,pointerEvents:"all",alignItems:"flex-start"},b={display:"inline-block",marginRight:i.a.rem(a.g.Space2)},y={marginRight:i.a.rem(2),width:i.a.rem(2),flexShrink:0,alignSelf:"center"},v={stroke:o.i,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{stroke:r.a.CoreNeutral0,fill:r.a.CoreNeutral0}}},S={position:"absolute",top:i.a.percent(50),left:i.a.percent(50),zIndex:s.k},C={position:"relative",zIndex:s.i},w={zIndex:s.q},k={position:"absolute",zIndex:s.q},E=i.a.prefixedStylesheet("onboarding",{pulse:[u],pulseWrapper:[m],header:[h],description:[g],stepWrapper:[f],content:[b],alertIcon:[y],closeIconWrapper:[{position:"absolute",top:0,right:0}],closeIcon:[v],containerWrapper:[{position:"relative",display:"inline-block"}],onboardingSpot:[S],containerDiv:[{}],editor:[C],onboardingPopup:[w],notificationContainer:[k],pulseOptimized:[p]})},SIsI:function(e,t,n){"use strict";n.r(t),n.d(t,"min",(function(){return o})),n.d(t,"max",(function(){return s})),n.d(t,"constant",(function(){return l})),n.d(t,"reverse",(function(){return c})),n.d(t,"struct",(function(){return u})),n.d(t,"tuple",(function(){return d})),n.d(t,"intercalate",(function(){return p})),n.d(t,"first",(function(){return m})),n.d(t,"last",(function(){return h})),n.d(t,"concatAll",(function(){return g})),n.d(t,"semigroupVoid",(function(){return f})),n.d(t,"getObjectSemigroup",(function(){return b})),n.d(t,"getLastSemigroup",(function(){return y})),n.d(t,"getFirstSemigroup",(function(){return v})),n.d(t,"getTupleSemigroup",(function(){return S})),n.d(t,"getStructSemigroup",(function(){return C})),n.d(t,"getDualSemigroup",(function(){return w})),n.d(t,"getJoinSemigroup",(function(){return k})),n.d(t,"getMeetSemigroup",(function(){return E})),n.d(t,"getIntercalateSemigroup",(function(){return O})),n.d(t,"fold",(function(){return A})),n.d(t,"semigroupAll",(function(){return _})),n.d(t,"semigroupAny",(function(){return x})),n.d(t,"getFunctionSemigroup",(function(){return I})),n.d(t,"semigroupString",(function(){return j})),n.d(t,"semigroupSum",(function(){return T})),n.d(t,"semigroupProduct",(function(){return M}));var a=n("h6df"),r=n("mvgW"),i=n("DFfw"),o=function(e){return{concat:i.d(e)}},s=function(e){return{concat:i.c(e)}},l=function(e){return{concat:function(){return e}}},c=function(e){return{concat:function(t,n){return e.concat(n,t)}}},u=function(e){return{concat:function(t,n){var a={};for(var i in e)r.d.call(e,i)&&(a[i]=e[i].concat(t[i],n[i]));return a}}},d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{concat:function(t,n){return e.map((function(e,a){return e.concat(t[a],n[a])}))}}},p=function(e){return function(t){return{concat:function(n,a){return t.concat(n,t.concat(e,a))}}}},m=function(){return{concat:a.k}},h=function(){return{concat:function(e,t){return t}}},g=function(e){return function(t){return function(n){return n.reduce((function(t,n){return e.concat(t,n)}),t)}}},f=l(void 0),b=function(){return{concat:function(e,t){return Object.assign({},e,t)}}},y=h,v=m,S=d,C=u,w=c,k=s,E=o,O=p;function A(e){var t=g(e);return function(e,n){return void 0===n?t(e):t(e)(n)}}var _={concat:function(e,t){return e&&t}},x={concat:function(e,t){return e||t}},I=a.j,j={concat:function(e,t){return e+t}},T={concat:function(e,t){return e+t}},M={concat:function(e,t){return e*t}}},Sk6A:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("zR/0");!function(e){e.listen=e=>r.a.fromEvent(document,"keydown").pipe(r.a.filter(t=>t.key.toLowerCase()===e&&!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)))}(a||(a={}))},StFb:function(e,t,n){"use strict";var a;function r(e){const t=e.replace(/\s/g,"");return null!==e&&null!==t.match(/^["'”“.,;:!?\\\/…\-—()]+$/)}function i(e){return null!==e&&null!==e.match(/^\s+$/)}function o(e,t){if(e.length<=4)return null;const n=s(e,t);if(void 0===n)return null;const{from:a,to:r,oldFragment:i,newFragment:o}=n,l=1===o.length&&a>0&&e[a-1]===o,c=1===i.length&&0===o.length&&t[a-1]===i;let u=a,d=o;return(l||c)&&(u=a-1),l&&(d=o+o),c&&(d=i),d.length>3?null:[e.substring(0,u),d,e.substring(r)]}function s(e,t){if(e===t)return;const n=e.length,a=t.length;if(a>n){if(t.substr(0,n)===e)return{from:n,to:n,oldFragment:"",newFragment:t.substr(n)};if(t.substr(a-n)===e)return{from:0,to:0,oldFragment:"",newFragment:t.substr(0,a-n)}}if(a<n){if(e.substr(n-a)===t)return{from:0,to:n-a,oldFragment:e.substr(0,n-a),newFragment:""};if(e.substr(0,a)===t)return{from:a,to:n,oldFragment:e.substr(a),newFragment:""}}const r=a<n?a:n,i=function(e,t,n){let a=0;for(;e[a]===t[a]&&a<n;)a+=1;return a}(e,t,r);let o=function(e,t,n,a,r){let i=0;for(;e[n-i-1]===t[a-i-1]&&r-i>=0;)i+=1;return i}(e,t,n,a,r);return i+o>n&&(o-=i+o-n),i+o>a&&(o-=i+o-a),{from:i,to:n-o,oldFragment:e.substr(i,n-o-i),newFragment:t.substr(i,a-o-i)}}n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return s})),function(e){e.getClass=function(e,t){return null!==(n=t)&&1===n.length&&/["'”’]/.test(n)?e.deleteApostrophe:function(e){return null!==e&&null!==e.match(/["'”][.,;]/)}(t)?e.deleteQuote:r(t)?e.deletePunctuation:function(e){return null!==e&&null!==e.match(/,,/)}(t)?e.deleteDoubleComma:function(e){return null!==e&&1===e.length&&null!==e.match(/[a-z]/i)}(t)?e.deleteLetter:Boolean(function(e){return null!==e&&e.match(/[.,;:!?\\\/-]\s*[a-z]/i)}(t))?e.deletePunctuationBeforeLetter:e.deleteAll;var n}}(a||(a={}))},SwwS:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("D57K"),r=n("ERkP");const i=n("e12y").a.style({position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0,0,0,0)",whiteSpace:"nowrap",border:0}),o=e=>{var{children:t}=e,n=Object(a.__rest)(e,["children"]);return r.createElement("div",Object.assign({},n,{className:i}),t)}},SxAM:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return f}));var a=n("ERkP"),r=n("OA+g"),i=n("vOOZ"),o=n("9NHN"),s=n("bO3R"),l=n("3rlE"),c=n("zR/0"),u=n("6fbX"),d=n("lrqh"),p=n("q4n/"),m=n("fT1+"),h=n("2Xcb");class g extends a.Component{constructor(){super(...arguments),this._subs=[]}componentDidMount(){this._title&&(this._title.focus(),this._subs.push(this.props.searchViewModel.hotkeysActions.subscribe(e=>{switch(e){case m.a.focus:this._title&&(this._title.focus(),this._title.select());break;case m.a.next:this._resultFunctionOrSelect(e=>e.next());break;case m.a.previous:this._resultFunctionOrSelect(e=>e.prev());break;default:Object(u.c)(e)}}),this.props.searchViewModel.visible.pipe(c.a.filter(Boolean)).subscribe(()=>{requestAnimationFrame(()=>{this._title&&(this._title.focus(),this._title.select())})})))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_resultFunctionOrSelect(e){Object(r.pipe)(this.props.searchViewModel.result.get(),d.g.fold(this.props.searchViewModel.select,e))}render(){const e=this.props.searchViewModel;return a.createElement("div",{className:h.view},a.createElement(i.a.div,{className:h.searchInputWrapper},a.createElement(l.d.SearchQuestion,{className:h.searchIcon}),a.createElement(i.a.input,Object.assign({name:m.b.SEARCH_INPUT_NAME,spellCheck:!1,mount:e=>this._title=e,placeholder:"Find in document",className:h.searchInput,autoFocus:!0},Object(o.b)({value:e.term}),{onKeyDown:e=>e.keyCode===p.a.ENTER_CODE&&this._resultFunctionOrSelect(e=>e.next())})),e.result.view(d.g.getOrElse(()=>({count:0,current:0}))).view(({count:e,current:t})=>e>0&&a.createElement("span",{className:h.counter,key:"count"},t,"/",e))),a.createElement(s.a.Ghost,{className:h.roundButton,name:"search-prev",disabled:e.result.view(d.g.forAll(e=>1===e.current)),onClick:()=>this._resultFunctionOrSelect(e=>e.prev())},a.createElement(l.d.Arrow,{className:h.lessIconUp})),a.createElement(s.a.Ghost,{className:h.roundButton,name:"search-next",disabled:e.result.view(d.g.forAll(e=>e.current===e.count)),onClick:()=>this._resultFunctionOrSelect(e=>e.next())},a.createElement(l.d.Arrow,{className:h.lessIcon})),a.createElement(s.a.Ghost,{className:h.closeButton,name:"search-close",onClick:()=>e.visible.set(!1)},a.createElement(l.d.Close,null)))}}const f=({searchViewModel:e})=>a.createElement(i.a.div,{className:h.wrapper},e.visible.view(t=>t&&a.createElement(g,{searchViewModel:e})))},TA71:function(e,t,n){"use strict";n.d(t,"d",(function(){return M})),n.d(t,"f",(function(){return F})),n.d(t,"e",(function(){return D})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return R})),n.d(t,"b",(function(){return B}));var a=n("hO7h"),r=n("IL1e"),i=(n("GXGe"),n("h6df")),o=(n("5C44"),n("mvgW"),n("vuzl"),{equals:function(e,t){return e===t},compare:function(e,t){return e<t?-1:e>t?1:0}}),s=(n("FzYa"),function(e){return function(t){return Object.keys(t).sort(e.compare)}});function l(e){if("function"==typeof e)return l(o)(e);var t=s(e);return function(e){return function(n){for(var a=[],r=0,i=t(n);r<i.length;r++){var o=i[r];a.push(e(o,n[o]))}return a}}}var c=l(o)((function(e,t){return[e,t]}));var u,d,p,m,h,g,f=n("lrqh"),b=n("zR/0"),y=n("JSVy"),v=n("AHUR"),S=n("uIDj"),C=n("3Wty"),w=n("PK5a"),k=n("91hE");function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}d=u||(u={}),(p=d.EmptyMessage||(d.EmptyMessage={})).fromItem=function(e){return e.alertIds,A(e,["alertIds"])},p.show={show:function(e){var t=e.sduiId,n=e.sduiRootId;return JSON.stringify({sduiId:t,sduiRootId:n})}},(d.EmptyItem||(d.EmptyItem={})).isRootItem=function(e){return e.sduiId===e.sduiRootId},function(e){e.fromSDUI=function(e){return function(a){return v.a.reduce(a.content,(function(r,o){return Object(i.m)(r,f.g.chain((function(t){return Object(i.m)(o,v.a.getAlertIds,f.g.chain(e),f.g.map(n(t)),f.g.alt((function(){return r})))})),f.g.alt((function(){return Object(i.m)(o,v.a.getAlertRefs,f.g.chain(t(a.id,e)))})))}),v.a.TreeTraversal.PreOrder,f.g.none)}};var t=function(e,t){return function(a){return a.reduce((function(a,r){return Object(i.m)(a,f.g.map((function(e){return Object(i.m)(r.alertIds,t,f.g.fold((function(){return e}),n(e)))})),f.g.alt((function(){return f.g.some({emptyStrongAlertRef:r,sduiId:e,sduiRootId:e,alertIds:new Set(Object(i.m)(r.alertIds,t,f.g.getOrElse(Object(i.g)(f.a.empty))))})})))}),f.g.none)}},n=(e.fromStrongAlertRef=function(e){return function(t,n){return Object(i.m)(e(t.alertIds),f.g.map((function(e){return{sduiRootId:n,sduiId:S.a.Item.Id.from(t.id),emptyStrongAlertRef:t,alertIds:new Set(e)}})))}},e.fromStrongAlertRefBehavior=function(e){return function(t,n,a){return Object(i.m)(e(t.alertIds),f.g.map((function(e){return{sduiRootId:a,sduiId:n,emptyStrongAlertRef:t,alertIds:new Set(e)}})))}},e.show={show:function(e){return"StrAlertRef.Item: { sduiId: ".concat(e.sduiId,", sduiRootId: ").concat(e.sduiRootId,", alertIds: [").concat(Array.from(e.alertIds.values()).join(", "),"]}")}},e.addAlertIds=function(e){return function(t){return t.forEach((function(t){return e.alertIds.add(t)})),e}})}(m=d.Item||(d.Item={})),function(e){e.iso=w.iso(),e.empty=function(){return{alertRefMapping:new Map}},e.size=function(e){return e.alertRefMapping.size},e.show={show:function(e){return Array.from(e.alertRefMapping.entries()).map((function(e){var t=_(e,2),n=t[0],a=t[1];return"".concat(n,": [\n").concat(a.map(m.show.show).join("\n"),"\n]")})).join("\n")}};var t=function(e){return function(t){return Object(i.m)(t.alertRefMapping.get(e),f.g.fromNullable)}},n=(e.get=function(e){return function(n){return Object(i.m)(t(e)(n),f.g.map(f.a.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){O(e,t,n[t])}))}return e}({},e,{alertIds:new Set(e.alertIds)})}))))}},e.updateWithRemovedAlerts=function(e){return function(n){return Object(i.m)(e,r.c((function(e){return Object(i.m)(n,t(e),f.g.map(f.a.filter((function(t){return t.alertIds.delete(e)&&0===t.alertIds.size}))),f.g.fold((function(){return[]}),(function(t){return n.alertRefMapping.delete(e),t.map(u.EmptyMessage.fromItem)})))})))}},e.add=function(e,t){return function(a){k.a.isStrongAlertRefBehavior(e.emptyStrongAlertRef)?Object(i.m)(m.fromStrongAlertRefBehavior(t)(e.emptyStrongAlertRef,e.sduiId,e.sduiRootId),f.g.tap(n(a))):v.a.forEach(e.emptyStrongAlertRef,Object(i.h)(function(e,t){return function(n){return Object(i.m)(n,v.a.getAlertRefs,f.g.fold(Object(i.g)(r.g),r.j((function(a){return k.a.isStrongAlertRefBehavior(a)?m.fromStrongAlertRefBehavior(t)(a,S.a.Item.Id.from(n.id),e):m.fromStrongAlertRef(t)(a,e)}))))}}(e.sduiRootId,t),f.a.map(n(a))),v.a.TreeTraversal.PostOrder)}},function(e){var t=a(e);return function(e){e.alertIds.forEach((function(n){return t(n,[e])}))}}),a=function(e){return function(t,n){var a=e.alertRefMapping.get(t);e.alertRefMapping.set(t,null!=a?a.concat(n):n)}};e.remove=function(e){return function(n){return Object(i.m)(Array.from(e.alertIds.keys()),f.a.reduce(new Array,(function(r,o){return Object(i.m)(n,t(o),f.g.map(f.a.filter((function(t){return t.sduiRootId!==e.sduiRootId}))),f.g.fold((function(){r.push("failed to remove SDUI by alertId ".concat(o,", alertRefMapping doesn't contain alertId ").concat(o))}),(function(e){return function(e){return function(t,n){0===n.length?e.alertRefMapping.delete(t):a(e)(t,n)}}(n)(o,e)}))),r})))}}}(h||(h={})),(g=d.Collection||(d.Collection={})).empty=function(){return h.iso.wrap(h.empty())},g.size=function(e){return Object(i.m)(h.iso.unwrap(e),h.size)},g.show={show:function(e){return Object(i.m)(h.iso.unwrap(e),h.show.show)}},g.get=function(e){return function(t){return Object(i.m)(h.iso.unwrap(t),h.get(e))}},g.add=function(e,t){return function(n){return Object(i.m)(h.iso.unwrap(n),h.add(e,t))}},g.remove=function(e){return function(t){return Object(i.m)(h.iso.unwrap(e),h.remove(t))}},g.updateWithRemovedAlerts=function(e){return function(t){return Object(i.m)(h.iso.unwrap(t),h.updateWithRemovedAlerts(e))}};var T=Object(i.h)(f.a.map(S.a.AlertId.from),f.g.some),M=function(e,t,n,o,s,l,d){var p=e.pipe(b.a.withLatestFrom(n),b.a.tap((function(e){var t=j(e,1),n=j(t[0],2),a=n[0],r=n[1];l.trace("[Optimistic update] emptyAlertsRefReasonTuple > Removed alerts. Reason: ".concat(r,", removedAlertIds: [").concat(a.join(", "),"]"))})),b.a.map((function(e){var t=j(e,2),n=j(t[0],2),a=n[0],r=n[1],o=t[1];return[Object(i.m)(o,N(l),u.Collection.updateWithRemovedAlerts(a)),r]})),b.a.tap((function(e){var t=j(e,2),n=t[0],a=t[1];return l.trace("[Optimistic update] emptyAlertsRefReasonTuple > Reason: ".concat(a," found emptyAlertsRef: [").concat(n.map(u.EmptyMessage.show.show).join(", "),"]"))})),b.a.switchMap((function(e){var t=j(e,2),n=t[0],a=t[1];return Object(i.m)(n,r.C((function(e){return[e,a]})),(function(e){return b.a.from(e)}))})),b.a.share()),m=p.pipe(b.a.filter((function(e){var t=j(e,1)[0];return u.EmptyItem.isRootItem(t)})),b.a.map((function(e){var t=j(e,2),n=t[0],a=t[1];return P.toRemovedEvent(a)(y.a.RawSduiItem.Id.create(n.sduiRootId))}))),h=t.pipe(b.a.map((function(e){var t=j(e,2),n=t[0],a=t[1];return P.toRemovedEvent(a)(y.a.RawSduiItem.Id.create(n))}))),g=b.a.mergeStatic(m,h),w=p.pipe(b.a.filter((function(e){var t=j(e,1)[0];return!u.EmptyItem.isRootItem(t)})),b.a.withLatestFrom(n),b.a.map((function(e){var t=j(e,2),n=j(t[0],2),a=n[0],r=n[1],o=t[1],s=y.a.RawSduiItem.Id.create(a.sduiRootId);return Object(i.m)(C.a.get(S.a.Item.Id.from(a.sduiRootId))(o),f.g.chain((function(e){return v.a.removeStrongAlertRef(e.content)([a.emptyStrongAlertRef])})),f.g.fold((function(){return P.toRemovedEvent(r)(y.a.RawSduiItem.Id.create(a.sduiRootId))}),(function(e){return P.toUpdatedEvent(r)(e,s)})))})));return{emptyAlertsRefReasonTuple:p,optimisticRemoveSDUIEvent:g,emptyStrongAlertRefUpdate:w,viewStackUpdates:o.pipe(b.a.buffer(d),b.a.filter(f.a.isNonEmpty),b.a.map(Object(i.h)(a.p((function(e){return e.sduiRootId})),c,r.C((function(e){var t=j(e,2),n=t[0],a=t[1];return a.forEach((function(e){return s.switchView(e)})),B.of(n,R.SwitchView)(f.g.chain((function(e){return Object(i.m)(v.a.bulkSwitchView(e,a.map((function(e){return{where:e.where,selected:e.selected,type:"switchView"}}))),f.g.some)})))}))))),activePopoverUpdates:b.a.combineLatestStatic([s.activePopoverView,n.pipe(b.a.map(C.a.sduiRoots()))]).pipe(b.a.map((function(e){var t=j(e,2),n=t[0];return t[1].map((function(e){return B.of(e,R.SwitchView)(f.g.chain((function(e){return v.a.setPopoverView(e,n)})))}))})))}};function N(e){return C.a.reduce(u.Collection.empty(),(function(t,n){return Object(i.m)(u.Item.fromSDUI(T)(n),f.g.fold((function(){return e.trace("SDUI item ".concat(S.a.Item.show.show(n)," does not contain AlertRef, skipping it"))}),(function(e){return u.Collection.add(e,T)(t)})),(function(e){return t}))}))}var P,L,R,B,F=function(e){return e.kind==y.a.SduiEventKind.Update},D=function(e){return e.kind==y.a.SduiEventKind.Remove};(L=P||(P={})).fromSource=function(e){return function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){I(e,t,n[t])}))}return e}({},t,{source:e})}},L.toRemovedEvent=function(e){return function(t){return{kind:y.a.SduiEventKind.Remove,sduiRootId:t,source:e,rev:0}}},L.toUpdatedEvent=function(e){return function(t,n){return{kind:y.a.SduiEventKind.Update,sdui:t,sduiRootId:n,source:e,rev:0}}},L.show={show:function(e){return"SduiRootId: ".concat(e.sduiRootId,", Kind: ").concat(e.kind,", Source: ").concat(e.source)}},function(e){e.CAPI="capi",e.TextChange="textChange",e.RemoveAlertsSDUIAction="removeAlerts",e.RemoveRootSDUIAction="removeRoot",e.RemoveDuplicate="removeDuplicate",e.SwitchView="switchView"}(R||(R={})),(B||(B={})).of=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(a){return{kind:"sdui_lazy_update",toContent:a,sduiRootId:S.a.Item.Id.from(e),rev:n,source:t}}}},TTz4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("h6df"),r=(n("mvgW"),n("SIsI")),i=(r.semigroupVoid.concat,function(e){return r.concatAll(e)(e.empty)});r.semigroupAll.concat,r.semigroupAny.concat,a.i,r.semigroupString.concat,r.semigroupSum.concat,r.semigroupProduct.concat},UMB3:function(e,t,n){"use strict";n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return H})),n.d(t,"c",(function(){return V})),n.d(t,"i",(function(){return U})),n.d(t,"e",(function(){return W})),n.d(t,"f",(function(){return q})),n.d(t,"g",(function(){return Z})),n.d(t,"h",(function(){return X})),n.d(t,"j",(function(){return ee})),n.d(t,"l",(function(){return m})),n.d(t,"k",(function(){return ne}));var a=n("KCID"),r=n("ERkP"),i=n.n(r),o=n("EanR");let s="default",l="",c=new WeakMap;function u(e){(0,a.f)()?("default"===s&&(l=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),s="disabled"):(e instanceof HTMLElement||e instanceof SVGElement)&&(c.set(e,e.style.userSelect),e.style.userSelect="none")}function d(e){if((0,a.f)()){if("disabled"!==s)return;s="restoring",setTimeout(()=>{(0,a.m)(()=>{"restoring"===s&&("none"===document.documentElement.style.webkitUserSelect&&(document.documentElement.style.webkitUserSelect=l||""),l="",s="default")})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&c.has(e)){let t=c.get(e);"none"===e.style.userSelect&&(e.style.userSelect=t),""===e.getAttribute("style")&&e.removeAttribute("style"),c.delete(e)}}const p=i.a.createContext(null);function m(e){let{onPress:t,onPressChange:n,onPressStart:i,onPressEnd:o,onPressUp:s,isDisabled:l,isPressed:c,preventFocusOnPress:m,shouldCancelOnPointerExit:C,allowTextSelectionOnPress:w,ref:k,...E}=function(e){let t=(0,r.useContext)(p);if(t){let{register:n,...r}=t;e=(0,a.l)(r,e),n()}return(0,a.z)(t,e.ref),e}(e),[O,A]=(0,r.useState)(!1),_=(0,r.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:x,removeAllGlobalListeners:I}=(0,a.t)(),j=(0,a.r)((e,t)=>{let a=_.current;l||a.didFirePressStart||(i&&i({type:"pressstart",pointerType:t,target:e.currentTarget,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey}),n&&n(!0),a.didFirePressStart=!0,A(!0))}),T=(0,a.r)((e,a,r=!0)=>{let i=_.current;i.didFirePressStart&&(i.ignoreClickAfterPress=!0,i.didFirePressStart=!1,o&&o({type:"pressend",pointerType:a,target:e.currentTarget,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey}),n&&n(!1),A(!1),t&&r&&!l&&t({type:"press",pointerType:a,target:e.currentTarget,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey}))}),M=(0,a.r)((e,t)=>{l||s&&s({type:"pressup",pointerType:t,target:e.currentTarget,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey})}),N=(0,a.r)(e=>{let t=_.current;t.isPressed&&(t.isOverTarget&&T(b(t.target,e),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,I(),w||d(t.target))}),P=(0,a.r)(e=>{C&&N(e)}),L=(0,r.useMemo)(()=>{let e=_.current,t={onKeyDown(t){g(t.nativeEvent,t.currentTarget)&&t.currentTarget.contains(t.target)?(S(t.target,t.key)&&t.preventDefault(),t.stopPropagation(),e.isPressed||t.repeat||(e.target=t.currentTarget,e.isPressed=!0,j(t,"keyboard"),x(document,"keyup",n,!1))):"Enter"===t.key&&h(t.currentTarget)&&t.stopPropagation()},onKeyUp(t){g(t.nativeEvent,t.currentTarget)&&!t.repeat&&t.currentTarget.contains(t.target)&&M(b(e.target,t),"keyboard")},onClick(t){t&&!t.currentTarget.contains(t.target)||t&&0===t.button&&(t.stopPropagation(),l&&t.preventDefault(),e.ignoreClickAfterPress||e.ignoreEmulatedMouseEvents||"virtual"!==e.pointerType&&!(0,a.i)(t.nativeEvent)||(l||m||(0,a.c)(t.currentTarget),j(t,"virtual"),M(t,"virtual"),T(t,"virtual")),e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1)}},n=t=>{if(e.isPressed&&g(t,e.target)){S(t.target,t.key)&&t.preventDefault(),t.stopPropagation(),e.isPressed=!1;let n=t.target;T(b(e.target,t),"keyboard",e.target.contains(n)),I(),e.target instanceof HTMLElement&&e.target.contains(n)&&(h(e.target)||"link"===e.target.getAttribute("role"))&&e.target.click()}};if("undefined"!=typeof PointerEvent){t.onPointerDown=t=>{0===t.button&&t.currentTarget.contains(t.target)&&((0,a.j)(t.nativeEvent)?e.pointerType="virtual":(v(t.currentTarget)&&t.preventDefault(),e.pointerType=t.pointerType,t.stopPropagation(),e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=t.pointerId,e.target=t.currentTarget,l||m||(0,a.c)(t.currentTarget),w||u(e.target),j(t,e.pointerType),x(document,"pointermove",n,!1),x(document,"pointerup",r,!1),x(document,"pointercancel",i,!1))))},t.onMouseDown=e=>{e.currentTarget.contains(e.target)&&0===e.button&&(v(e.currentTarget)&&e.preventDefault(),e.stopPropagation())},t.onPointerUp=t=>{t.currentTarget.contains(t.target)&&"virtual"!==e.pointerType&&0===t.button&&y(t,t.currentTarget)&&M(t,e.pointerType||t.pointerType)};let n=t=>{t.pointerId===e.activePointerId&&(y(t,e.target)?e.isOverTarget||(e.isOverTarget=!0,j(b(e.target,t),e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,T(b(e.target,t),e.pointerType,!1),P(t)))},r=t=>{t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&(y(t,e.target)?T(b(e.target,t),e.pointerType):e.isOverTarget&&T(b(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,I(),w||d(e.target))},i=e=>{N(e)};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&N(e)}}else{t.onMouseDown=t=>{0===t.button&&t.currentTarget.contains(t.target)&&(v(t.currentTarget)&&t.preventDefault(),t.stopPropagation(),e.ignoreEmulatedMouseEvents||(e.isPressed=!0,e.isOverTarget=!0,e.target=t.currentTarget,e.pointerType=(0,a.i)(t.nativeEvent)?"virtual":"mouse",l||m||(0,a.c)(t.currentTarget),j(t,e.pointerType),x(document,"mouseup",n,!1)))},t.onMouseEnter=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!0,j(t,e.pointerType)))},t.onMouseLeave=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!1,T(t,e.pointerType,!1),P(t)))},t.onMouseUp=t=>{t.currentTarget.contains(t.target)&&(e.ignoreEmulatedMouseEvents||0!==t.button||M(t,e.pointerType))};let n=t=>{0===t.button&&(e.isPressed=!1,I(),e.ignoreEmulatedMouseEvents?e.ignoreEmulatedMouseEvents=!1:(y(t,e.target)?T(b(e.target,t),e.pointerType):e.isOverTarget&&T(b(e.target,t),e.pointerType,!1),e.isOverTarget=!1))};t.onTouchStart=t=>{if(!t.currentTarget.contains(t.target))return;t.stopPropagation();let n=function(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}(t.nativeEvent);n&&(e.activePointerId=n.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=t.currentTarget,e.pointerType="touch",l||m||(0,a.c)(t.currentTarget),w||u(e.target),j(t,e.pointerType),x(window,"scroll",r,!0))},t.onTouchMove=t=>{if(!t.currentTarget.contains(t.target))return;if(t.stopPropagation(),!e.isPressed)return;let n=f(t.nativeEvent,e.activePointerId);n&&y(n,t.currentTarget)?e.isOverTarget||(e.isOverTarget=!0,j(t,e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,T(t,e.pointerType,!1),P(t))},t.onTouchEnd=t=>{if(!t.currentTarget.contains(t.target))return;if(t.stopPropagation(),!e.isPressed)return;let n=f(t.nativeEvent,e.activePointerId);n&&y(n,t.currentTarget)?(M(t,e.pointerType),T(t,e.pointerType)):e.isOverTarget&&T(t,e.pointerType,!1),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,w||d(e.target),I()},t.onTouchCancel=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&N(t))};let r=t=>{e.isPressed&&t.target.contains(e.target)&&N({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&N(e)}}return t},[x,l,m,I,w,N,P,T,j,M]);return(0,r.useEffect)(()=>()=>{w||d(_.current.target)},[w]),{isPressed:c||O,pressProps:(0,a.l)(E,L)}}function h(e){return"A"===e.tagName&&e.hasAttribute("href")}function g(e,t){const{key:n,code:a}=e,r=t,i=r.getAttribute("role");return!("Enter"!==n&&" "!==n&&"Spacebar"!==n&&"Space"!==a||r instanceof HTMLInputElement&&!w(r,n)||r instanceof HTMLTextAreaElement||r.isContentEditable||h(r)&&("button"!==i||"Enter"===n)||"link"===i&&"Enter"!==n)}function f(e,t){const n=e.changedTouches;for(let e=0;e<n.length;e++){const a=n[e];if(a.identifier===t)return a}return null}function b(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function y(e,t){let n=t.getBoundingClientRect(),a=function(e){let t=e.width/2||e.radiusX||0,n=e.height/2||e.radiusY||0;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}(e);return i=a,!((r=n).left>i.right||i.left>r.right||r.top>i.bottom||i.top>r.bottom);var r,i}function v(e){return!(e instanceof HTMLElement&&e.draggable)}function S(e,t){return e instanceof HTMLInputElement?!w(e,t):!(e instanceof HTMLButtonElement)||"submit"!==e.type}p.displayName="PressResponderContext";const C=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function w(e,t){return"checkbox"===e.type||"radio"===e.type?" "===t:C.has(e.type)}class k{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function E(e){let t=(0,r.useRef)({isFocused:!1,observer:null});(0,a.w)(()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]);let n=(0,a.r)(t=>{null==e||e(t)});return(0,r.useCallback)(e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=e.target,r=e=>{t.current.isFocused=!1,a.disabled&&n(new k("blur",e)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",r,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){t.current.observer.disconnect();let e=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function O(e){let{isDisabled:t,onFocus:n,onBlur:a,onFocusChange:i}=e;const o=(0,r.useCallback)(e=>{if(e.target===e.currentTarget)return a&&a(e),i&&i(!1),!0},[a,i]),s=E(o),l=(0,r.useCallback)(e=>{e.target===e.currentTarget&&document.activeElement===e.target&&(n&&n(e),i&&i(!0),s(e))},[i,n,s]);return{focusProps:{onFocus:!t&&(n||i||a)?l:void 0,onBlur:t||!a&&!i?void 0:o}}}let A=null,_=new Set,x=!1,I=!1,j=!1;const T={Tab:!0,Escape:!0};function M(e,t){for(let n of _)n(e,t)}function N(e){I=!0,function(e){return!(e.metaKey||!(0,a.g)()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(A="keyboard",M("keyboard",e))}function P(e){A="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(I=!0,M("pointer",e))}function L(e){(0,a.i)(e)&&(I=!0,A="virtual")}function R(e){e.target!==window&&e.target!==document&&(I||j||(A="virtual",M("virtual",e)),I=!1,j=!1)}function B(){I=!1,j=!0}function F(){if("undefined"==typeof window||x)return;let e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){I=!0,e.apply(this,arguments)},document.addEventListener("keydown",N,!0),document.addEventListener("keyup",N,!0),document.addEventListener("click",L,!0),window.addEventListener("focus",R,!0),window.addEventListener("blur",B,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",P,!0),document.addEventListener("pointermove",P,!0),document.addEventListener("pointerup",P,!0)):(document.addEventListener("mousedown",P,!0),document.addEventListener("mousemove",P,!0),document.addEventListener("mouseup",P,!0)),x=!0}function D(){return"pointer"!==A}function H(){return A}function V(e){A=e,M(e,null)}function U(){F();let[e,t]=(0,r.useState)(A);return(0,r.useEffect)(()=>{let e=()=>{t(A)};return _.add(e),()=>{_.delete(e)}},[]),(0,o.a)()?null:e}function W(e,t,n){F(),(0,r.useEffect)(()=>{let t=(t,a)=>{(function(e,t,n){return!(e&&"keyboard"===t&&n instanceof KeyboardEvent&&!T[n.key])})(null==n?void 0:n.isTextInput,t,a)&&e(D())};return _.add(t),()=>{_.delete(t)}},t)}function q(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:a,onFocusWithinChange:i}=e,o=(0,r.useRef)({isFocusWithin:!1}),s=(0,r.useCallback)(e=>{o.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(e),i&&i(!1))},[n,i,o]),l=E(s),c=(0,r.useCallback)(e=>{o.current.isFocusWithin||document.activeElement!==e.target||(a&&a(e),i&&i(!0),o.current.isFocusWithin=!0,l(e))},[a,i,l]);return t?{focusWithinProps:{onFocus:null,onBlur:null}}:{focusWithinProps:{onFocus:c,onBlur:s}}}"undefined"!=typeof document&&("loading"!==document.readyState?F():document.addEventListener("DOMContentLoaded",F));let z=!1,$=0;function G(){z=!0,setTimeout(()=>{z=!1},50)}function K(e){"touch"===e.pointerType&&G()}function Y(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent?document.addEventListener("pointerup",K):document.addEventListener("touchend",G),$++,()=>{$--,$>0||("undefined"!=typeof PointerEvent?document.removeEventListener("pointerup",K):document.removeEventListener("touchend",G))}}function Z(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:a,isDisabled:i}=e,[o,s]=(0,r.useState)(!1),l=(0,r.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,r.useEffect)(Y,[]);let{hoverProps:c,triggerHoverEnd:u}=(0,r.useMemo)(()=>{let e=(e,a)=>{if(l.pointerType=a,i||"touch"===a||l.isHovered||!e.currentTarget.contains(e.target))return;l.isHovered=!0;let r=e.currentTarget;l.target=r,t&&t({type:"hoverstart",target:r,pointerType:a}),n&&n(!0),s(!0)},r=(e,t)=>{if(l.pointerType="",l.target=null,"touch"===t||!l.isHovered)return;l.isHovered=!1;let r=e.currentTarget;a&&a({type:"hoverend",target:r,pointerType:t}),n&&n(!1),s(!1)},o={};return"undefined"!=typeof PointerEvent?(o.onPointerEnter=t=>{z&&"mouse"===t.pointerType||e(t,t.pointerType)},o.onPointerLeave=e=>{!i&&e.currentTarget.contains(e.target)&&r(e,e.pointerType)}):(o.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},o.onMouseEnter=t=>{l.ignoreEmulatedMouseEvents||z||e(t,"mouse"),l.ignoreEmulatedMouseEvents=!1},o.onMouseLeave=e=>{!i&&e.currentTarget.contains(e.target)&&r(e,"mouse")}),{hoverProps:o,triggerHoverEnd:r}},[t,n,a,i,l]);return(0,r.useEffect)(()=>{i&&u({currentTarget:l.target},l.pointerType)},[i]),{hoverProps:c,isHovered:o}}function X(e){let{ref:t,onInteractOutside:n,isDisabled:i,onInteractOutsideStart:o}=e,s=(0,r.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),l=(0,a.r)(e=>{n&&Q(e,t)&&(o&&o(e),s.current.isPointerDown=!0)}),c=(0,a.r)(e=>{n&&n(e)});(0,r.useEffect)(()=>{let e=s.current;if(!i){if("undefined"!=typeof PointerEvent){let n=n=>{e.isPointerDown&&Q(n,t)&&c(n),e.isPointerDown=!1};return document.addEventListener("pointerdown",l,!0),document.addEventListener("pointerup",n,!0),()=>{document.removeEventListener("pointerdown",l,!0),document.removeEventListener("pointerup",n,!0)}}{let n=n=>{e.ignoreEmulatedMouseEvents?e.ignoreEmulatedMouseEvents=!1:e.isPointerDown&&Q(n,t)&&c(n),e.isPointerDown=!1},a=n=>{e.ignoreEmulatedMouseEvents=!0,e.isPointerDown&&Q(n,t)&&c(n),e.isPointerDown=!1};return document.addEventListener("mousedown",l,!0),document.addEventListener("mouseup",n,!0),document.addEventListener("touchstart",l,!0),document.addEventListener("touchend",a,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("mouseup",n,!0),document.removeEventListener("touchstart",l,!0),document.removeEventListener("touchend",a,!0)}}}},[t,i,l,c])}function Q(e,t){if(e.button>0)return!1;if(e.target){const t=e.target.ownerDocument;if(!t||!t.documentElement.contains(e.target))return!1;if(e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}function J(e){if(!e)return;let t=!0;return n=>{let a={...n,preventDefault(){n.preventDefault()},isDefaultPrevented:()=>n.isDefaultPrevented(),stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(a),t&&n.stopPropagation()}}function ee(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:J(e.onKeyDown),onKeyUp:J(e.onKeyUp)}}}const te=500;function ne(e){let{isDisabled:t,onLongPressStart:n,onLongPressEnd:i,onLongPress:o,threshold:s=te,accessibilityDescription:l}=e;const c=(0,r.useRef)(null);let{addGlobalListener:u,removeGlobalListener:d}=(0,a.t)(),{pressProps:p}=m({isDisabled:t,onPressStart(e){if(("mouse"===e.pointerType||"touch"===e.pointerType)&&(n&&n({...e,type:"longpressstart"}),c.current=setTimeout(()=>{e.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),o&&o({...e,type:"longpress"}),c.current=null},s),"touch"===e.pointerType)){let t=e=>{e.preventDefault()};u(e.target,"contextmenu",t,{once:!0}),u(window,"pointerup",()=>{setTimeout(()=>{d(e.target,"contextmenu",t)},30)},{once:!0})}},onPressEnd(e){c.current&&clearTimeout(c.current),!i||"mouse"!==e.pointerType&&"touch"!==e.pointerType||i({...e,type:"longpressend"})}}),h=(0,a.q)(o&&!t?l:null);return{longPressProps:(0,a.l)(p,h)}}},Uv6s:function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return b}));var a=n("KCID"),r=n("rGmV"),i=n("UMB3"),o=n("9ACk"),s=n("nxLo"),l=n("Z1nV"),c=n("k+B8"),u=n("ERkP");function d(e){return e&&e.__esModule?e.default:e}var p;function m(e,t,n){let{type:s="menu",isDisabled:l,trigger:c="press"}=e,u=(0,a.u)(),{triggerProps:m,overlayProps:h}=(0,o.c)({type:s},t,n),g=(0,r.c)(d(p)),{longPressProps:f}=(0,i.k)({isDisabled:l||"longPress"!==c,accessibilityDescription:g.format("longPressMessage"),onLongPressStart(){t.close()},onLongPress(){t.open("first")}}),b={onPressStart(e){"touch"===e.pointerType||"keyboard"===e.pointerType||l||t.toggle("virtual"===e.pointerType?"first":null)},onPress(e){"touch"!==e.pointerType||l||t.toggle()}};return delete m.onPress,{menuTriggerProps:{...m,..."press"===c?b:f,id:u,onKeyDown:e=>{if(!l&&("longPress"!==c||e.altKey)&&n&&n.current)switch(e.key){case"Enter":case" ":if("longPress"===c)return;case"ArrowDown":"continuePropagation"in e||e.stopPropagation(),e.preventDefault(),t.toggle("first");break;case"ArrowUp":"continuePropagation"in e||e.stopPropagation(),e.preventDefault(),t.toggle("last")}}},menuProps:{...h,"aria-labelledby":u,autoFocus:t.focusStrategy||!0,onClose:t.close}}}p={"ar-AE":{longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"},"bg-BG":{longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"},"cs-CZ":{longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"},"da-DK":{longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"},"de-DE":{longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"},"el-GR":{longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"},"en-US":{longPressMessage:"Long press or press Alt + ArrowDown to open menu"},"es-ES":{longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"},"et-EE":{longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"},"fi-FI":{longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"},"fr-FR":{longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."},"he-IL":{longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"},"hr-HR":{longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"},"hu-HU":{longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"},"it-IT":{longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"},"ja-JP":{longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"},"ko-KR":{longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"},"lt-LT":{longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."},"lv-LV":{longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"},"nb-NO":{longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"},"nl-NL":{longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"},"pl-PL":{longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"},"pt-BR":{longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"},"pt-PT":{longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"},"ro-RO":{longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"},"ru-RU":{longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"},"sk-SK":{longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"},"sl-SI":{longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"},"sr-SP":{longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"},"sv-SE":{longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"},"tr-TR":{longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"},"uk-UA":{longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"},"zh-CN":{longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"},"zh-TW":{longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"}};const h=new WeakMap;function g(e,t,n){let{shouldFocusWrap:r=!0,...i}=e;e["aria-label"]||e["aria-labelledby"]||console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let o=(0,a.b)(e,{labelable:!0}),{listProps:l}=(0,s.d)({...i,ref:n,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,shouldFocusWrap:r});return h.set(t,{onClose:e.onClose,onAction:e.onAction}),{menuProps:(0,a.l)(o,{role:"menu","aria-hidden":t.expandedKeys.size>0||void 0,...l,onKeyDown:e=>{"Escape"!==e.key&&l.onKeyDown(e)}})}}function f(e,t,n){let{key:o,closeOnSelect:d,isVirtualized:p,"aria-haspopup":m}=e,{direction:g}=(0,r.b)(),f=!!m,b=t.expandedKeys.has(o);var y;let v=null!==(y=e.isDisabled)&&void 0!==y?y:t.disabledKeys.has(o);var S;let C=null!==(S=e.isSelected)&&void 0!==S?S:t.selectionManager.isSelected(o),w=(0,u.useRef)(),k=(0,u.useCallback)(()=>{w.current&&(clearTimeout(w.current),w.current=void 0)},[w]),E=(0,a.r)(()=>{k(),t.setExpandedKeys(new Set([o]))});(0,a.w)(()=>()=>k(),[k]);let O=h.get(t),A=e.onClose||O.onClose,_=(0,u.useCallback)(()=>{E()},[]),x=f?_:e.onAction||O.onAction,I="menuitem";"single"===t.selectionManager.selectionMode?I="menuitemradio":"multiple"===t.selectionManager.selectionMode&&(I="menuitemcheckbox");let j=(0,a.y)(),T=(0,a.y)(),M=(0,a.y)(),N={"aria-disabled":v||void 0,role:I,"aria-label":e["aria-label"],"aria-labelledby":j,"aria-describedby":[T,M].filter(Boolean).join(" ")||void 0};"none"!==t.selectionManager.selectionMode&&(N["aria-checked"]=C),p&&(N["aria-posinset"]=t.collection.getItem(o).index,N["aria-setsize"]=(0,c.f)(t.collection)),null!=m&&(N["aria-haspopup"]=m,N["aria-expanded"]=b?"true":"false");let{itemProps:P,isFocused:L}=(0,s.c)({selectionManager:t.selectionManager,key:o,ref:n,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0}),{pressProps:R,isPressed:B}=(0,i.l)({onPressStart:e=>{"keyboard"===e.pointerType&&x&&x(o)},onPressUp:e=>{"keyboard"!==e.pointerType&&(x&&x(o),!f&&A&&(null!=d?d:"multiple"!==t.selectionManager.selectionMode)&&A())},isDisabled:v||f&&t.expandedKeys.has(o)}),{hoverProps:F}=(0,i.g)({isDisabled:v,onHoverStart(){if(!((0,i.b)()||f&&t.expandedKeys.has(o))){t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(o),o===t.selectionManager.focusedKey&&t.selectionManager.isFocused&&document.activeElement!==n.current&&(0,l.b)(n.current)}},onHoverChange:e=>{e&&f&&!t.expandedKeys.has(o)?w.current||(w.current=setTimeout(()=>{E()},200)):e||k()}}),{keyboardProps:D}=(0,i.j)({onKeyDown:e=>{if(e.repeat)e.continuePropagation();else switch(e.key){case" ":v||"none"!==t.selectionManager.selectionMode||f||!1===d||!A||A();break;case"Enter":v||!1===d||f||!A||A();break;case"ArrowRight":f&&"ltr"===g?E():e.continuePropagation();break;case"ArrowLeft":f&&"rtl"===g?E():e.continuePropagation();break;default:e.continuePropagation()}}});return{menuItemProps:{...N,...(0,a.l)(P,R,F,D)},labelProps:{id:j},descriptionProps:{id:T},keyboardShortcutProps:{id:M},isFocused:L,isSelected:C,isPressed:B,isDisabled:v}}function b(e){let{heading:t,"aria-label":n}=e,r=(0,a.u)();return{itemProps:{role:"presentation"},headingProps:t?{id:r,role:"presentation"}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":t?r:void 0}}}},Uwwq:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("a5W6"),i=n("BbAu"),o=n("OA+g"),s=n("I7vG"),l=n("LNSM"),c=n("94k3"),u=n("lrqh"),d=n("D9EC"),p=n("PrA7"),m=n("zR/0"),h=n("GGUR"),g=n("gy42"),f=n("dE97"),b=n("9ZtS");!function(e){let t,n,a;!function(e){let t;!function(e){e.ord=u.h.ordString,e.show=i.e,e.create=e=>e}(t=e.Id||(e.Id={})),e.isSpecial=e=>Object.values(c.a.MutedAlerts.SpecialCategory).includes(e),e.specialCategoryDescription="Special category"}(t=e.Category||(e.Category={})),function(e){e.filter=e=>u.e.filter(t=>e(t.id)),e.filterWithCount=(e,t)=>n=>{const a=Array.from(n.keys()),r=b.a.getAlerts(t,a).byCategory;return Object(s.pipe)(n,u.e.filterMap(t=>e(t.id)?u.g.some(Object.assign(Object.assign({},t),{alertsCount:r.get(t.id).filter(f.a.isRegistered).length})):u.g.none))}}(n=e.BaseMutedCategories||(e.BaseMutedCategories={})),function(e){let a,i;!function(e){let t;!function(e){e.CategoriesChanged="CategoriesChanged"}(t=e.Type||(e.Type={})),e.isChangedEvent=function(e){return e.type===t.CategoriesChanged}}(a=e.Events||(e.Events={})),e.create=function(e,i,y,v,S){const C=p.Monitoring.Logging.getLogger("MutedAlertsModel"),w=l.a.create(new Map),k=new m.a.Subject,E=new h.a.Keeper,O=l.a.create(!1);return E.push(O.pipe(m.a.switchMap(t=>e.pipe(m.a.filter(()=>!t),m.a.filter(c.a.CAPIEvent.is("session_started")),m.a.map(e=>function(e){const t=e.map(e=>[e.userMuteCategory,{id:e.userMuteCategory,description:e.userMuteCategoryDescription,scope:e.userMuteScope}]);return new Map(t)}(e.userMutedCategories)),m.a.tap(g.b.toAtom(w)),m.a.tap(()=>k.next({type:a.Type.CategoriesChanged}))))).subscribe(),w.pipe(m.a.pairwise(),m.a.map(([e,n])=>function(e,n){return{muted:u.e.diffKeys(t.Id.ord)(e,n),unmuted:u.e.diffKeys(t.Id.ord)(n,e)}}(e,n)),m.a.map(function(e){return({muted:t,unmuted:n})=>({toMute:b.a.getAlerts(e,t).all.filter(e=>e.mute!==f.a.MuteStateType.Muted),toUnmute:b.a.getAlerts(e,n).all.filter(e=>e.mute!==f.a.MuteStateType.Unmuted)})}(y)),m.a.tap(({toMute:e,toUnmute:t})=>{e.length>0&&v.changeMuteState(e,f.a.MuteStateType.Muted),t.length>0&&v.changeMuteState(t,f.a.MuteStateType.Unmuted)})).subscribe()),{events:k,mutedCategories:w,muteCategories:e=>{O.set(!0),Object(s.pipe)(i.sendFeedback({kind:c.a.MutedFeedbackType.MUTE,userMuteScope:S,userMuteCategories:e}),u.l.chain(()=>(O.set(!1),u.l.right(d.e))),u.l.mapLeft(e=>{C.warn("Alerts could not be muted on CAPI",e)}))();const n=b.a.getAlerts(y,e);0===n.all.filter(e=>e.mute!==f.a.MuteStateType.Muted).length&&C.warn("No alerts were muted on category mute",{categoryIds:e});const o=function(e,n,a){return i=>{const o=new Map(i);return e.forEach((e,i)=>{t.isSpecial(i)?o.set(i,{id:i,scope:n,description:t.specialCategoryDescription}):Object(s.pipe)(r.lookup(0,e),u.g.chain(e=>e.muteCategory),u.g.fold(()=>a.error("No alerts to mute",i),e=>o.set(i,{id:e.id,description:e.description,scope:n})))}),o}}(n.byCategory,S,C)(w.get());return w.set(o),k.next({type:a.Type.CategoriesChanged}),u.b.right(void 0)},unmuteCategories:e=>{O.set(!0),Object(s.pipe)(i.sendFeedback({kind:c.a.MutedFeedbackType.UNMUTE,userMuteScope:S,userMuteCategories:e}),u.l.chain(()=>(O.set(!1),u.l.right(d.e))),u.l.mapLeft(e=>{C.warn("Alerts could not be un-muted on CAPI",e)}))();return 0===b.a.getAlerts(y,e).all.filter(e=>e.mute!==f.a.MuteStateType.Unmuted).length&&C.warn("No alerts were unmuted on category unmute",{categoryIds:e}),w.modify(function(e,t){return n=>{const a=new Map(n);return e.forEach(e=>{n.has(e)?a.delete(e):t.error("Tried to unmute a category which is not muted",e)}),a}}(e,C)),k.next({type:a.Type.CategoriesChanged}),u.b.right(void 0)},getMutedCategories:()=>Object(s.pipe)(w.get(),n.filterWithCount(Object(o.not)(t.isSpecial),y)),getMutedSpecialCategories:()=>Object(s.pipe)(w.get(),n.filter(t.isSpecial)),loadCachedMutedCategories:e=>{w.set(e)},dispose:()=>E.dispose()}},function(e){e.create=function(){return{events:m.a.EMPTY,mutedCategories:l.a.create(new Map),getMutedCategories:()=>new Map,getMutedSpecialCategories:()=>new Map,muteCategories:e=>u.b.right(void 0),unmuteCategories:e=>u.b.right(void 0),loadCachedMutedCategories:d.e,dispose:d.e}}}(i=e.Mock||(e.Mock={}))}(a=e.CategoriesModel||(e.CategoriesModel={}))}(a||(a={}))},VAoy:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("IL1e"),i=n("h6df"),o=n("zR/0"),s=n("W39u"),l=n("TC4P"),c=n("lrqh"),u=n("D9EC"),d=n("6fbX"),p=n("7b34"),m=n("f9Xq"),h=n("UEGg"),g=n("dE97"),f=n("GUi3"),b=n("XxrX"),y=n("kFFO"),v=n("973I"),S=n("NfPf"),C=n("O6HF"),w=n("BeBM"),k=n("aIes"),E=n("4zjj");function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){O(e,t,n[t])}))}return e}!function(e){var t,n,a,O,_=function(e){return"".concat(e.id)};e.isAlertRefSDUIItem=function(e){return e.kind===T},n=t=e.Item||(e.Item={}),a=function(e){return"strongAlertRef"===e.type},n.isBulkAcceptSDUI=function(e){return Object(i.m)(e.cardDSL,c.g.exists(Object(u.b)(a,(function(e){var t;return(null===(t=e.name)||void 0===t?void 0:t.value)===m.a.ComponentKnownName.StrongAlertRefBulkAccept}))))},n.isBulkDismissSDUI=function(e){return Object(i.m)(e.cardDSL,c.g.exists(Object(u.b)(a,(function(e){var t;return(null===(t=e.name)||void 0===t?void 0:t.value)===m.a.ComponentKnownName.StrongAlertRefBulkDismiss}))))},n.isLongFormCardSDUI=Object(i.h)((function(e){return e.cardDSL}),c.g.exists((function(e){return"longFormCard"===e.type}))),(O=e.Features||(e.Features={})).BulkDismiss="bulk_dismiss",O.BulkAccept="bulk_accept";var x,I,j,T=e.Kind="AlertRefSDUIItem",M=c.c.fromEquals((function(e,t){return e.hashCode()===t.hashCode()&&v.a.eq.equals(e.positionState,t.positionState)&&E.b.eq.equals(e.visualState,t.visualState)&&r.t(h.a.eq).equals(e.alerts,t.alerts)&&e.activeAlertIndex===t.activeAlertIndex})),N=e.idEq={equals:function(e,t){return c.c.eqString.equals(e,t)}},P=e.eq={equals:function(e,t){return N.equals(e.id,t.id)&&M.equals(e,t)&&S.a.eq.equals(e,t)}};e.getId=_,function(e){e.createItem=function(e,t,n){return{id:e,kind:T,alerts:n,activeAlertIndex:0,cardDSL:c.g.some(t),prevCardDSL:c.g.none,transitions:[],positionState:s.a.PositionState.empty,visualState:l.a.VisualState.initial({type:"added",clockwise:!0},!0),renderOptions:b.a.defaultOptions,equals:function(e){return P.equals(this,e)},hashCode:function(){return Object(y.a)({id:this.id,alertsCount:this.alerts.length,transitions:Object(y.b)(this.transitions.map((function(e){return e.toName})).join("")),activeAlertIndex:this.activeAlertIndex})}}},e.setActiveAlertId=function(e){return function(t){return Object(i.m)(t.alerts,r.m((function(t){return t.id===e})),c.g.map((function(e){return A({},t,{activeAlertIndex:e})})))}};var n=l.a.Capabilities.getPojoUpdates(),a=e.pojoSDUI=S.a.Capabilities.getPojoUpdates(),o=s.a.Capabilities.getPojoUpdates(),p=e.changePosition=o.setPosition,m=e.updateSDUIState=a.setSDUIState,f=e.sduiSelect=S.a.Capabilities.getSelect(m),v=function(e){return function(t){return Object(i.m)(e,c.g.exists((function(e){return t.id===e.id})))?t:p(s.a.PositionState.invalidateHeight(t.positionState))(t)}},w=function(e,t){return Object(i.h)(f(e,t),E.transitionTo({type:"focused",clockwise:!1}),v(e))},k=(e.select={selectByAlert:function(e,t,n){return w(e,n)},select:w,unselect:function(e){return Object(i.h)(E.transitionTo({type:"rendered",clockwise:!1}),v(e))}},e.hasAlerts={hasActiveAlert:function(e){return Object(i.m)(e,c.g.fromPredicate(Object(u.m)(t.isBulkDismissSDUI)),c.g.chain((function(e){return c.g.fromNullable(e.alerts[e.activeAlertIndex])})),c.g.map((function(e){return{alert:e,highlightIndex:0}})))},hasAlert:function(e){return function(t){return void 0!==t.alerts.find((function(t){return t.id===e}))}},isSelectableByAlert:function(e){return function(t){return 1===t.alerts.length&&t.alerts[0].id===e.alert.id}}},S.a.Capabilities.getCompleteTransition(m)),E=e.animatable={completeTransition:function(e){return function(t){return Object(i.m)(t,n.setVisualState(l.a.VisualState.complete(t.visualState,e)),k)}},transitionTo:function(e){return function(t){var a=l.a.VisualState.to(t.visualState,e);return n.setVisualState(a)(t)}},changeVisualState:n.setVisualState},O=e.remove={remove:function(e,t){return function(n){return e(n)?E.transitionTo({type:"removed",clockwise:t(n)})(n):n}}};e.removeAlert={removeAlertFromItem:function(e){return function(t){var n=new Set(e.map((function(e){return e.id}))),a=t.alerts.filter((function(e){return!n.has(e.id)}));return Object(i.m)(A({},t,{alerts:a}),(function(e){return 0===e.alerts.length?E.transitionTo({type:"removed",clockwise:!1})(e):e}))}}},e.updateWithAlert={updateWithAlerts:function(e){return function(t){var n=new Set(t.alerts.map((function(e){return e.id}))),a=new Set(e.map((function(e){return e.id}))),r=Object(i.m)(e,c.a.partition((function(e){return n.has(e.id)}))),o=r.left,s=r.right,l=function(e,t){switch(e.state.type){case g.a.State.Type.REGISTERED:return t;case g.a.State.Type.REMOVED:return"focused"===t.visualState.transition.type&&0===t.alerts.length?O.remove(i.d,i.d)(t):t;case g.a.State.Type.APPLIED:case g.a.State.Type.BEING_APPLIED:return O.remove(i.d,i.d)(t);default:return Object(d.c)(e.state)}},u=t,p=!0,m=!1,f=void 0;try{for(var b,y=s[Symbol.iterator]();!(p=(b=y.next()).done);p=!0){u=l(b.value,u)}}catch(e){m=!0,f=e}finally{try{p||null==y.return||y.return()}finally{if(m)throw f}}return A({},u,{alerts:u.alerts.filter((function(e){return a.has(e.id)})).concat(o.map(h.a.fromModel))})}}},e.disposable={isScheduledToDispose:function(e){return"removed"===e.visualState.transition.type}};e.toAlertItem=function(e){return Object(i.m)(x.hasAlerts.hasActiveAlert(e),c.g.map((function(t){return A({},e,{activeAlert:t.alert,activeHighlightIndex:t.highlightIndex,meta:C.a.empty(void 0)})})))}}(x=e.Capabilities||(e.Capabilities={})),I=e.SideEffects||(e.SideEffects={}),j=function(e,t,n){return function(a){var r=x.createItem(e,t,n.map(h.a.fromModel)),i=a.items.add(r);return A({},a,{items:i,cardIndex:w.k.getActiveItemIndex(i)(a)})}},I.createSDUIFeedSideEffect=function(e,t,n,a){return{id:"sduiFeedEffect",when:f.a.isWithAlertsId,what:w.e.Effect.ItemsApplicator.create(t.pipe(o.a.map((function(t){var o=t.cards,s=t.feedOrd,l=t.itemIdToSelect;return function(t){var u=Object(i.m)(o,p.a.filter((function(e){return t.currentLens.items.has(_(e))}),i.d,i.d),p.a.reduce(t.currentLens,(function(t,n){return function(e,t){return function(n){var a=n.items.keys().indexOf(e),r=n.items.remove(e),o=Object(i.m)(n.cardIndex,c.g.map((function(e){return e>a?e-1:e})),c.g.chain(c.g.fromPredicate((function(e){return c.g.isSome(r.getAt(e))}))),c.g.fold((function(){return Object(i.m)(t.findNextAlert(n),c.g.map((function(e){return t.selectItemByAlert(e)(n)})),c.g.chain(c.g.fromPredicate((function(e){return Object(i.m)(e.cardIndex,c.g.fold((function(){return!0}),(function(e){return c.g.isSome(r.getAt(e))})))}))),c.g.getOrElse((function(){return A({},n,{cardIndex:c.g.none})})))}),(function(e){return A({},n,{cardIndex:c.g.some(e)})})));return A({},o,{items:r})}}(_(n),e)(t)}),(function(e,t,n){return Object(i.m)(n.alertIds,r.K(c.g.option)((function(e){return Object(i.m)(a.getById("".concat(e)))})),c.g.fold((function(){return e}),(function(t){return function(e,t,n){return function(a){var r=Object(i.m)(a.items.update(e,Object(i.h)(x.updateWithAlert.updateWithAlerts(n),x.pojoSDUI.setDSL(c.g.some(t)))),c.b.getOrElse((function(){return j(e,t,n)(a).items})));return A({},a,{items:r})}}(_(n),n.content,t)(e)})))}),(function(e,t){return Object(i.m)(t.alertIds,r.K(c.g.option)((function(e){return Object(i.m)(a.getById("".concat(e)))})),c.g.fold((function(){return e}),(function(n){return j(_(t),t.content,n)(e)})))}))),d=n(s),m=u.items.reduce((function(e,t){return e.add(t)}),k.a.Sorted.empty((function(e){return e.id}),d.compare)),h=A({},u,{items:m,itemsOrd:d}),g=Object(i.m)(l,c.g.chain((function(e){var t=m.find((function(t){return t.id===e}));return c.g.isSome(t)?c.g.some(e):Object(i.m)(m.getAt(0),c.g.map((function(e){return e.id})))})),c.g.fold((function(){return h}),(function(t){return e.selectItemById(t)(h)})));return t.patch({currentLens:g,switchOrder:"lensOrder"})}}))))}}}(a||(a={}))},VLye:function(e,t,n){e.exports=n.p+"files/70f84e39477b8c33dbc1900a4bacb20f/inter-medium.woff"},VRL6:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n("ERkP"),r=n("hoSD"),i=n("ax6a"),o=n("rk+4"),s=n("3rlE"),l=n("Z5Rd"),c=n("e12y"),u=n("o79T");const d=(e,t)=>{switch(e.kind){case"ignore":return"Dismissed";case"ignoreAll":return a.createElement(a.Fragment,null,a.createElement("span",null,e.alerts)," ",r.f.pluralize(e.alerts,"alert has been","alerts have been")," dismissed");case"replace":return"Corrected";case"replaceSynonym":return"Replaced";case"replaceTransform":return a.createElement(a.Fragment,null,e.transform);case"addToDictionary":return a.createElement(a.Fragment,null,a.createElement("b",{className:t&&t.addToDictionary},e.word)," has been added to dictionary");case"report":return"Your report has been sent";case"markAsHelpful":return"Marked as “Will address”";case"markAsNotHelpful":return"Marked as “Not helpful”";case"acknowledge":return"Acknowledged";default:return""}},p={display:"flex",marginTop:c.a.rem(-1.1),marginBottom:c.a.rem(-.5),alignItems:"center",justifyContent:"space-between"},m={marginTop:c.a.rem(.6),marginRight:c.a.rem(1),color:i.a.CoreNeutral0,flexGrow:0,flexShrink:0},h={marginTop:c.a.rem(-.25),paddingRight:c.a.rem(.5),minWidth:"auto",minHeight:"auto",justifyContent:"space-between"},g={marginTop:c.a.rem(.6),maxWidth:c.a.rem(14),wordWrap:"break-word",flexBasis:"auto",flexGrow:1},f={marginRight:c.a.rem(1.4)},b=c.a.stylesheet({alertUndoWrapper:[p],alertUndoWrapperFlexible:[p,{flexWrap:"nowrap"}],alertUndoWrapperFullWidth:[p,{flexWrap:"wrap"}],alertUndoBtn:[m],alertUndoIcon:[h],alertUndoContent:[g],alertUndoContentFlexible:[g,f],addToDictionary:[{wordBreak:"break-all"}]});var y;!function(e){const t={wrapper:b.alertUndoWrapperFlexible,content:b.alertUndoContent,icon:b.alertUndoIcon,button:b.alertUndoBtn};e.Standard=({action:n,params:r})=>a.createElement(l.b.Content,null,a.createElement(e.Content,{action:n,content:d(r),theme:Object.assign(Object.assign({},t),{wrapper:b.alertUndoWrapperFullWidth})})),e.Flexible=({notification:n,onClose:r,action:i,params:o})=>a.createElement(l.a.Wrapper,{notification:n,onClose:r},a.createElement(l.b.Content,null,a.createElement(e.Content,{action:i,content:d(o,{addToDictionary:b.addToDictionary}),theme:Object.assign(Object.assign({},t),{wrapper:b.alertUndoWrapperFlexible,content:b.alertUndoContentFlexible})}))),e.Content=({action:e,content:n,theme:r=t})=>{const i=a.useContext(o.a.Context);return a.createElement("div",{className:r.wrapper},a.createElement("div",{className:r.content},n),a.createElement(u.a,{name:"alertUndoButton",className:r.button,onClick:e},a.createElement(s.d.Undo,{className:r.icon}),i.undo))}}(y||(y={}))},VwWj:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p}));var a,r=n("6fbX"),i=n("GUi3"),o=n("BeBM"),s=n("bFfh");!function(e){e.compose=function(e){return t=>o.a.compose(e.map(e=>e(t)))},e.map=function(e,t){return n=>t(e(n))}}(a||(a={}));const l=(e,t,n)=>a=>a===i.a.SpecialId.Plagiarism?s.a.Plagiarism.getAlertsHandler(t):((e,t)=>n=>{if(i.a.isOutcomeId(n))return s.a.WithSuccess.getAlertHandler(e,t);switch(n){case i.a.SpecialId.Premium:return s.a.Premium.getAlertsHandler(e,t);case i.a.SpecialId.AllAlerts:case i.a.SpecialId.Priority:case i.a.SpecialId.PredictionTakeaways:case i.a.SpecialId.PredictionEmogenie:case i.a.SpecialId.RealTimeProofit:case i.a.SpecialId.FreePremiumAlerts:return s.a.WithSuccess.getAlertHandler(e,t);default:return Object(r.c)(n)}})(e,n)(a),c=(e,t,n,a,r)=>i=>n(i)?s.a.WithBundles.getAlertsHandler(e,t,r):a(i);class u{constructor(e,t,n,a){this._lensPredicate=e,this._inner=t,this._itemEq=n,this._itemOrd=a}create(e,t){return this._lensPredicate(t)?s.a.WithBundles.create(e,t,this._itemEq,this._itemOrd):this._inner.create(e,t)}}class d{constructor(e,t,n){this._inner=e,this._itemEq=t,this._itemOrd=n}create(e,t){return e===i.a.SpecialId.Plagiarism?s.a.Plagiarism.create(t,this._itemEq,this._itemOrd):this._inner.create(e,t)}}class p{constructor(e,t){this._itemEq=e,this._itemOrd=t}create(e,t){const n=()=>s.a.WithSuccess.create(e,t,this._itemEq,this._itemOrd);if(i.a.isOutcomeId(e))return n();switch(e){case i.a.SpecialId.Premium:return s.a.Premium.create(t,this._itemEq,this._itemOrd);case i.a.SpecialId.AllAlerts:case i.a.SpecialId.Priority:case i.a.SpecialId.PredictionTakeaways:case i.a.SpecialId.PredictionEmogenie:case i.a.SpecialId.RealTimeProofit:case i.a.SpecialId.FreePremiumAlerts:return n();default:return Object(r.c)(e)}}}},W0xG:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("6fbX"),r=n("D9EC"),i=n("PrA7"),o=n("wOnQ");const s=(e,t)=>{switch(e.kind){case"replacement":return function(e,t){Object(a.f)(Object(r.n)(e),"transforms should have at least one element");const[n]=e;return l(n)>-1?o.a.create(c(n),e.map(u),t,!0):o.g.create(e,t)}(e.content.map(e=>[{type:o.k.Insert,text:e}]),t);case"transform":return function(e,t){Object(a.f)(Object(r.n)(e),"transforms should have at least one element");const[n]=e;return l(n)>-1?o.a.create(c(n),e.map(u),t):function(e){return 2===e.length&&p(e)}(e)?o.i.create(e[0],e[1],t):p(e)?o.g.create(e,t):o.b.create(e,t)}(e.content.map(g),t);default:return Object(a.c)(e.kind)}};function l(e){return e.findIndex(e=>"arrow"===e.type)}function c(e){return e.slice(0,l(e))}function u(e){return e.slice(l(e)+1)}function d(e){return e.every(e=>"delete"!==e.type)}function p(e){return e.every(d)}function m(e,t){return{re:new RegExp(`^(${e})([\\s\\S]*)$`),createResult:t}}const h=[m("(?:\\<span class='gr_grammar_del'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:o.k.Delete,text:e[2]})),m("(?:\\<span class='gr_grammar_ins'\\>([\\S\\s]*?)\\</span\\>)",e=>({type:o.k.Insert,text:e[2]})),m("(→)",e=>({type:o.k.Arrow})),m("([^<>→]+)",e=>({type:o.k.Text,text:e[1]}))];function g(e){function t(e){for(const t of h){const n=e.match(t.re);if(null!==n)return[t.createResult(n),n[n.length-1]]}}function n(t){let n=["<span class='gr_grammar_del'>","<span class='gr_grammar_ins'>","→"].map(e=>t.indexOf(e));if(n.findIndex(e=>0===e)>0)throw new Error("Couldn't parse transform: "+e);if(n=n.filter(e=>e>0),Object(r.n)(n)){const e=Math.min(...n);return[{type:o.k.Text,text:t.substring(0,e)},t.substring(e)]}return[{type:o.k.Text,text:t},""]}const a=[];let s=e,l=!1,c=0,u=void 0;for(;Object(r.n)(s);){const e=t(s);void 0===e&&(l=!0);const[r,i]=e||n(s);u&&u.type===o.k.Text&&r.type===o.k.Text?u.text+=r.text:(u&&u.type===o.k.Delete&&r.type===o.k.Insert&&(a.push({type:o.k.Arrow}),c++),a.push(r)),r.type===o.k.Arrow&&c++,u=a[a.length-1],s=i}return(l||!Object(r.n)(a)||c>1)&&i.Monitoring.Logging.getLogger("model.editor.alert_replacement").warn("Bad parsing of transform",{transformHtml:e,transformPartCount:a.length,arrowCount:c}),a}},WOQ9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("93Qa"),i=n("GRZr"),o=n("U75S"),s=n("OA+g"),l=n("I7vG"),c=n("xlCj"),u=n("lrqh"),d=n("D9EC"),p=n("hoSD"),m=n("7b34"),h=n("6fbX"),g=n("dE97"),f=n("GUi3"),b=n("yA7V"),y=n("kFFO"),v=n("TC4P"),S=n("W39u"),C=n("BeBM");!function(e){let t,n,a,w;e.filterAlertInLens=(e,t)=>u.a.filter(n=>g.a.isNotRemoved(n)||u.g.isSome(e.items.find(e=>t.hasAlert(n.id)(e)))),e.findItemWithAlertInLens=(e,t)=>Object(s.flow)(u.g.fromPredicate(g.a.isNotRemoved),u.g.chain(n=>e.items.find(e=>t.hasAlert(n.id)(e)&&!t.isScheduledToDispose(e))),u.g.map(e=>e.value)),e.createWithInitialAlerts=(e,t,n,a,r)=>(i,o,c,d)=>{const p=Object(l.pipe)(d,u.g.fold(()=>s.identity,e=>r.selectItemByAlert(e))),m=e.create(i,o),h=c.filter(n.alertVisibleInSidebar(i)),g=t(i);if(C.j.hasItems(m)){const e=b.a.empty,t=b.a.from(h),n=b.a.diff(e,t);return Object(l.pipe)(m,g(n,a),r.changeItemsVisualState(v.a.VisualState.initial({type:"rendered",clockwise:!0},!1)),p,e=>Object.assign(Object.assign({},e),{animation:C.b.skip}))}return m},e.createWithExternalItems=(e,t)=>(n,a,r,i,o)=>{const c=e.create(n,a);return Object(l.pipe)(o,u.g.filter(e=>C.j.hasItems(e)&&C.j.hasItems(c)),u.g.map(e=>t.changeItemsVisualState(v.a.VisualState.initial({type:"rendered",clockwise:!0},!1))(Object.assign(Object.assign({},c),{items:e.items.filter(Object(s.not)(t.isScheduledToDispose))}))),u.g.getOrElse(()=>c))},function(e){e.setVisibleItems=e=>t=>Object.assign(Object.assign({},t),{cardIndex:Object(l.pipe)(C.k.getActiveItem(t),u.g.chain(t=>Object(l.pipe)(e.get(t.id),u.g.map(e=>e.index)))),items:e}),e.hideItem=function(e,t){return v.a.isAnimatable(e)&&"removed"!==e.visualState.transition.type&&"hidden"!==e.visualState.transition.type?t.transitionTo({type:"hidden",clockwise:!1})(e):e},e.calculateCardsHeight=e=>Object(l.pipe)(e.getAt(e.size-1),u.g.map(e=>e.positionState.absTop+e.positionState.height),u.g.getOrElse(()=>0));e.getItemsPositionsUpdateTransformer=t=>({state:n,metadata:a})=>{if(!C.e.hasCards(n))return u.b.left({state:n,metadata:a});const r=C.e.Prism.getLens();return u.b.left({state:r.modify(e.updateItemsPositions(t),n),metadata:a})},e.getSingleItemFeedPositionsUpdateTransformer=e=>({state:t,metadata:n})=>{if(!C.e.hasCards(t))return u.b.left({state:t,metadata:n});const a=C.e.Prism.getLens();return u.b.left({state:a.modify(t=>{const n=t.items.map((n,a,r)=>{const i=u.g.contains(r)(t.cardIndex)?{absTop:n.positionState.absTop,height:n.positionState.height,animationInProgress:t.animation(n,r),visible:!0,isHeightValid:!0,watched:!0,inert:n.positionState.inert}:Object.assign(Object.assign({},n.positionState),{visible:!1,isHeightValid:!0});return S.a.PositionState.eq.equals(n.positionState,i)?n:e.changePosition(i)(n)});return Object.assign(Object.assign({},t),{items:n,isCardsHeightValid:!0})},t),metadata:n})},e.getRemoveDisposedItemsTransformer=e=>({state:t,metadata:n})=>{if(!C.e.hasCards(t))return u.b.left({state:t,metadata:n});const a=C.e.Prism.getLens();return u.b.left({state:a.modify(t=>{const n=C.k.getActiveItem(t),a=t.items.filter(t=>!e.isScheduledToDispose(t)||Object(d.p)(Object(s.not)(v.a.isAnimatable),v.a.isAnimatingRemoval)(t)||Object(l.pipe)(n,u.g.exists(e=>e.id===t.id))),r=Object(l.pipe)(t,C.k.getActiveItemIndex(a));return Object.assign(Object.assign({},t),{items:a,cardIndex:r})},t),metadata:n})};const t=e=>t=>Object(l.pipe)(t.items.find((e=>t=>n=>n.positionState.watched&&!e.isHidden(n)&&Object(l.pipe)(t,u.g.forAll(e=>e.id!==n.id)))(e)(C.k.getActiveItem(t))),u.g.map(({value:t,index:n})=>({index:n,value:Object(l.pipe)(t,u.g.fromPredicate(t=>t.positionState.isHeightValid&&!e.isScheduledToDispose(t)))})));e.updateItemsPositions=n=>a=>{const r=C.k.getActiveItem(a),i=t(n)(a),o=Object(l.pipe)(i,u.g.chain(p.e.pick("value")),u.g.map(e=>e.positionState.height));let s=0;const c=Object(l.pipe)(r,u.g.forAll(e=>e.positionState.isHeightValid)),d=Object(l.pipe)(i,u.g.map(p.e.pick("index")),u.g.getOrElse(()=>{return e=a.cardIndex,Object(l.pipe)(e,u.g.map(e=>0===e?1:0),u.g.getOrElse(()=>0));var e})),m=a.items.map((e,t,r)=>{const i=u.g.contains(r)(a.cardIndex),p=i||r===d,m=n.isScheduledToDispose(e)||(i?e.positionState.isHeightValid:u.g.isSome(o)),h=n.isScheduledToDispose(e)?n.useReferenceHeightOnRemove(e)?Object(l.pipe)(o,u.g.getOrElse(()=>e.positionState.height)):0:i?e.positionState.height:Object(l.pipe)(o,u.g.getOrElse(()=>e.positionState.height)),g={absTop:i||c?s:e.positionState.absTop,height:h,animationInProgress:a.animation(e,r),visible:e.positionState.visible,isHeightValid:m,watched:p,inert:e.positionState.inert};return s+=h,S.a.PositionState.eq.equals(e.positionState,g)?e:n.changePosition(g)(e)}),h=e.calculateCardsHeight(m),g=Object(l.pipe)(r,u.g.forAll(e=>e.positionState.isHeightValid))&&Object(l.pipe)(m.getAt(d),u.g.forAll(e=>e.positionState.isHeightValid));return Object.assign(Object.assign({},a),{items:m,cardsHeight:h,isCardsHeightValid:g})}}(t=e.Items||(e.Items={})),function(e){e.apply=(e,t,n,a)=>r=>Object(l.pipe)(e,m.a.reduce(r,(e,{alert:t})=>a([t])(e),(e,t,{alert:a})=>n([a])(e),(e,{alert:n})=>t([n])(e))),e.applyWithFilter=(e,t)=>(n,a,r,i)=>{const o=Object(s.flow)(u.a.partition(e),e=>Object(s.flow)(i(e.left),r(e.right)));return t(n,t=>a(t.filter(e)),o,i)}}(n=e.ApplyDiff||(e.ApplyDiff={})),function(e){e.items=c.a.create(e=>e.items,(e,n)=>t.setVisibleItems(e)(n)),e.getFeedItems=()=>c.a.create(e=>e.items,(e,n)=>t.setVisibleItems(e)(n))}(a=e.Prism||(e.Prism={})),e.getEq=e=>u.c.fromEquals((t,n)=>{if(t.kind===C.f.abstract||n.kind===C.f.abstract)return t.id===n.id;{const a=t,r=n;return t.id===n.id&&u.g.getEq(e).equals(C.k.getActiveItem(a),C.k.getActiveItem(r))&&a.meta.equals(n.meta)&&a.items.equals(r.items)}}),e.lensHash={hashCode:e=>{if(e.kind===C.f.abstract)return Object(y.b)(e.id);{const n=e;let a=7;return a=31*a+Object(y.b)(e.id),a=31*a+(t=C.k.getActiveItem(n),Object(l.pipe)(t,u.g.fold(()=>2433880,e=>null==e?9735524:e.hashCode()<<2))),31*a+e.meta.count}var t}},function(e){e.getAlertReleaser=e=>({release:t=>n=>{const a=n.items.map(e.removeAlertFromItem([t],n)),r=Object(l.pipe)(n.cardIndex,u.g.chain(t=>Object(l.pipe)(a.findRightFrom(e.isScheduledToDispose,t),u.g.map(e=>e.index))),u.g.isSome)?C.b.skip:C.b.force;return Object.assign(Object.assign({},n),{animation:r,items:a})}}),e.getUnselectable=(e,t)=>({unselectItem:()=>n=>{const a=Object(l.pipe)(n,e,u.g.map(e=>n.items.add(Object(l.pipe)(e,t.unselect(u.g.none,n.itemsOrd)))),u.g.getOrElse(()=>n.items));return Object.assign(Object.assign({},n),{items:a,animation:C.b.force,cardIndex:u.g.none})}}),e.getHasChecksFeed=()=>({willShowChecksFeed:e=>e.type!==C.i.advanced});const t=e=>Object(l.pipe)(u.h.ordNumber,u.h.contramap(t=>Object(l.pipe)(e.items.get(t.id),u.g.map(p.e.pick("index")),u.g.getOrElse(()=>-1))));function n(e,t,n){return a=>Object(l.pipe)(u.g.of(a),u.g.filter(e=>!n.isScheduledToDispose(e)&&t(e)),u.g.chain(n.hasActiveAlert),u.g.filter(t=>e.isRegistered(t.alert.id)))}e.getSelectableByAlert=(e,n)=>({selectItemByAlert:a=>r=>{if(!n.willShowChecksFeed(r))return r;const o=e(r),c=r.items.find(n.isSelectableByAlert(a));Object(h.f)(u.g.isSome(c),"Can not find card for provided alert. Unknown card or it is already disposed.",()=>a.alert.toString());const{value:p,index:m}=u.g.unsafeGet(c),g=Object(i.fold)(u.h.getMonoid())([r.itemsOrd,t(r)]),f=Object(l.pipe)(o,u.g.filter(Object(d.p)(Object(s.not)(v.a.isAnimatable),Object(s.not)(v.a.isAnimatingRemoval))),u.g.map(e=>r.items.add(Object(l.pipe)(e,n.unselect(u.g.some(p),r.itemsOrd)))),u.g.getOrElse(()=>r.items)).add(Object(l.pipe)(p,n.selectByAlert(o,a,g)));return Object.assign(Object.assign({},r),{items:f,animation:C.b.force,cardIndex:u.g.some(m)})}}),e.getSelectableById=(e,n)=>({selectItemById:a=>r=>{const o=e(r),s=r.items.get(a),{value:c,index:d}=u.g.unsafeGet(s),p=Object(i.fold)(u.h.getMonoid())([r.itemsOrd,t(r)]),m=Object(l.pipe)(o,u.g.map(e=>r.items.add(Object(l.pipe)(e,n.unselect(u.g.some(c),p)))),u.g.getOrElse(()=>r.items)).add(Object(l.pipe)(c,n.select(o,p)));return Object.assign(Object.assign({},r),{items:m,animation:C.b.force,cardIndex:u.g.some(d)})}}),e.getItemReleaser=()=>({removeItemById:t=>n=>e.setVisibleItems(n.items.remove(t))(n)}),e.getMetaUpdatable=function(){return{updateMeta:e=>t=>Object.assign(Object.assign({},t),{meta:f.a.WithAlerts.setMeta(e)(t.meta)})}},e.getAnimatable=function(e,t){return{changeItemsVisualState:e=>n=>t.willShowChecksFeed(n)?Object.assign(Object.assign({},n),{items:n.items.map(t.changeVisualState(e))}):n,finishApplyAnimation:n=>a=>{Object(h.f)(n.every(e.shouldAnimateAlertApply),"Tried to finish animation on non-animated state");const r=a.id,i=e=>{const a=e.items.map(t.removeAlertFromItem(n,e));return Object.assign(Object.assign({},e),{items:a})};if(f.a.isOutcomeId(r))return i(a);switch(r){case f.a.SpecialId.Priority:case f.a.SpecialId.AllAlerts:case f.a.SpecialId.PredictionTakeaways:case f.a.SpecialId.PredictionEmogenie:case f.a.SpecialId.RealTimeProofit:case f.a.SpecialId.FreePremiumAlerts:return i(a);case f.a.SpecialId.Premium:throw new Error("It's not possible to animate premium alerts");case f.a.SpecialId.Plagiarism:return Object(h.f)(n.every(g.a.isPlagiarism),"tried to finish animation on non plagiarism alert in plagiarism lens"),i(a);default:return Object(h.c)(r)}}}},e.getVerifiable=function(e){return{shouldVerify:t=>Object(l.pipe)(C.k.getActiveItem(t),u.g.exists(t=>e.isScheduledToDispose(t)))||u.g.isNone(t.items.find(t=>!e.isScheduledToDispose(t)))}},e.getHasSelectableAlert=n,e.getHasAlerts=function(e,t,a,i){const s=e=>n(t,a(e),i),c=e=>e.id===f.a.SpecialId.Premium||e.id===f.a.SpecialId.Plagiarism?e.meta.count:Object(l.pipe)(C.k.getActiveItem(e),u.g.chain(i.hasActiveAlert),u.g.map(e=>e.alert),u.g.exists(g.a.isCapiDone))&&1===e.items.size?0:e.meta.count;return{getVisibleAlertsCount:c,getActiveAlertsCount:c,getActiveAlert:e=>Object(l.pipe)(C.k.getActiveItem(e),u.g.chain(i.hasActiveAlert)),findFirstAlert:e=>Object(l.pipe)(e.items.values(),o.T(s(e))),findNextAlert:t=>(Object(h.f)(u.g.isSome(C.k.getActiveItem(t))===u.g.isSome(t.cardIndex),"Lens is in wrong state: cardIndex must reference existing card"),Object(l.pipe)(Object(r.sequenceT)(u.g.option)(C.k.getActiveItem(t),t.cardIndex),u.g.chain(([n,a])=>Object(l.pipe)(e.nextAlert(n),u.g.alt(()=>e.prevAlert(n)),u.g.map(e=>({alert:e,highlightIndex:0})),u.g.alt(()=>Object(l.pipe)(p.a.lookAroundMap(t.items.values(),a,s(t)),u.g.map(e=>e.value))))),u.g.orElse(Object(l.pipe)(t.items.values(),o.T(s(t))))))}},e.setVisibleItems=e=>t=>Object.assign(Object.assign({},t),{cardIndex:Object(l.pipe)(C.k.getActiveItem(t),u.g.chain(t=>Object(l.pipe)(e.get(t.id),u.g.map(e=>e.index)))),items:e})}(w=e.Capabilities||(e.Capabilities={}))}(a||(a={}))},XBrO:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var a=n("ERkP"),r=n("rk+4"),i=n("bO3R"),o=n("D6Vf"),s=n("BugA"),l=n("e12y"),c=n("ax6a");const u={width:l.a.rem(31)},d={backgroundColor:c.a.CoreNeutral0,paddingBottom:0},p={paddingTop:l.a.rem(1)},m={display:"grid",gridTemplateColumns:"4fr 2fr 5fr",marginBottom:l.a.rem(1)},h={marginBottom:l.a.rem(.3)},g={paddingTop:l.a.rem(.3)},f={marginRight:l.a.rem(.25)},b={fontSize:l.a.rem(.75),color:c.a.CoreNeutral50,marginBottom:l.a.rem(2)},y=l.a.stylesheet({wrapper:[u],header:[d],content:[p],offer:[m],plan:[{display:"flex",flexDirection:"column"}],planTitle:[h],arrow:[g],badge:[f],subMonthlyPrice:[b]});var v=n("gOzB");const S=()=>a.createElement("svg",{"aria-hidden":!0,width:"31",height:"13",viewBox:"0 0 31 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1 6.5H30M30 6.5L24.5 1M30 6.5L24.5 12",stroke:"#0E101A",strokeLinecap:"round"}));var C=n("a0Ed");const w=({current:e})=>a.createElement("div",{className:y.plan},a.createElement(s.g,{className:y.planTitle},e.title),a.createElement(s.a,null,a.createElement(C.a,Object.assign({},e.regularPriceMoney,{periodInMonths:e.periodMonths})),a.createElement("div",{className:y.subMonthlyPrice},a.createElement(C.b,Object.assign({},e.regularPriceMoney,{periodInMonths:e.periodMonths}))))),k=({offer:e,saved:t})=>{const n=a.useContext(r.a.Context).changePlan;return a.createElement("div",{className:y.plan},a.createElement(s.g,{className:y.planTitle},e.title),a.createElement(s.a,null,a.createElement(C.a,Object.assign({},e.regularPrice,{periodInMonths:e.periodInMonths}))," ",a.createElement(v.a.Regular,{className:y.badge},n.savedBadge(t.percent)),a.createElement("div",{className:y.subMonthlyPrice},a.createElement(C.b,Object.assign({},e.regularPrice,{periodInMonths:e.periodInMonths})))))},E=({current:e,offer:t,saved:n})=>a.createElement("div",{className:y.offer},a.createElement(w,{current:e}),a.createElement("div",{className:y.arrow},a.createElement(S,null)),a.createElement(k,{offer:t,saved:n})),O=e=>{const t=a.useContext(r.a.Context).changePlan,n=a.useContext(o.a.TitleIdContext);return a.createElement(s.d,{id:n},t.title(a.createElement(C.a,Object.assign({},e.savedPrice.pricePerYear,{periodInMonths:12}))))},A=({changePlanViewModel:{currentPlan:e,offer:t,savedPrice:n,nextPaymentDate:l,changePlan:c,close:u}})=>{const d=a.useContext(r.a.Context).changePlan;return a.createElement(o.a,{className:y.wrapper},a.createElement(o.a.Header,{className:y.header},a.createElement(O,{savedPrice:n})),a.createElement(o.a.Body,{name:"change.plan.body",className:y.content},a.createElement(a.Fragment,null,a.createElement(E,{current:e,offer:t,saved:n}),a.createElement(s.h,null,d.confirmationDescription(e.title,l,a.createElement(C.c,Object.assign({},t.price)),a.createElement(C.c,Object.assign({},t.regularPrice)),t.periodInMonths)))),a.createElement(o.a.Footer,null,a.createElement(i.a.Ghost,{name:"modal.cancel",onClick:u},d.cancelButton),a.createElement(i.a.Primary,{name:"confirm.change.to.annual",onClick:c},d.confirmationButton(t.title))))}},XCjp:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a,r,i,o=n("OA+g"),s=n("I7vG"),l=n("lrqh"),c=n("D9EC"),u=n("6fbX"),d=n("dE97"),p=n("GUi3"),m=n("zR/0"),h=n("gy42"),g=n("5o4I"),f=n("BeBM");!function(e){let t;!function(e){e.AppliedAlertAnimationFinished="AppliedAlertAnimationFinished"}(t=e.Type||(e.Type={}))}(a||(a={})),function(e){e.Mock=class{constructor(){this.events=new m.a.Subject,this.focusAlertHighlight=()=>l.b.left(new Error("Method not implemented.")),this.highlightAlertHighlight=()=>l.b.left(new Error("Method not implemented.")),this.moveCursorToHighlight=c.e}ensureAlertHighlightInViewport(){throw new Error("Method not implemented.")}getMarkByAlert(e){throw new Error("Method not implemented.")}getAlertByMark(e){throw new Error("Method not implemented.")}},e.getHighlightIndex=function(e,t){return Object(s.pipe)(t,l.b.mapLeft(()=>new Error("Mark is collapsed")),l.b.chain(t=>l.b.tryCatchError(()=>{const n=e.getHighlightRanges(),a=n.length>1?n.findIndex(e=>e.start===t.start&&e.end===t.end):0;return Object(u.f)(-1!==a,"Could not find highlight index by Range for provided Alert",()=>JSON.stringify({alertRanges:n,targetRange:t})),a})))}}(r||(r={})),function(e){e.getHighlightSubscribtion=(e,t,n)=>e.pipe(m.a.distinctUntilChanged(l.g.getEq(d.d.ord).equals),m.a.switchMap(e=>Object(s.pipe)(e,l.g.fold(()=>m.a.EMPTY,e=>m.a.Observable.create(()=>(n.debug("highlight mark: "+e.id),Object(s.pipe)(t.highlightAlertHighlight(e),l.b.fold(t=>(n.error("Cannot highlight mark",t,{alertId:e.id}),c.e),t=>()=>{n.debug("unhighlight mark: "+e.id),t.dispose()})))))))),e.getHoverAlertHightlightSource=(e,t,n,a)=>Object(s.pipe)(a,m.a.debounceTime(100),m.a.map(Object(o.flow)(l.g.chain(a=>{const r=e.get();return f.e.hasCards(r)?r.currentLens.items.find(e=>Object(s.pipe)(t.hasActiveAlert(e),l.g.map(e=>e.alert),l.g.exists(t=>e.id===a&&n.isRegistered(t.id)))):l.g.none}),l.g.chain(({value:e})=>t.hasActiveAlert(e)),l.g.map(e=>e.alert))),m.a.distinctUntilChanged(l.g.getEq(d.d.ord).equals),m.a.map(l.g.map(t=>({alert:t,highlightIndex:0,source:e.get().alertSource}))),m.a.startWith(l.g.none)),e.highlightMarkByHighlightedCard=(t,n,a,r,i,c)=>{const u=e.getHighlightSubscribtion(t.hovered.pipe(m.a.debounceTime(100),m.a.map(Object(o.flow)(l.g.chain(e=>{const t=n.get();return f.e.hasCards(t)?t.currentLens.items.find(t=>Object(s.pipe)(i.hasActiveAlert(t),l.g.map(e=>e.alert),l.g.exists(n=>t.id===e&&r.isRegistered(n.id)))):l.g.none}),l.g.chain(({value:e})=>i.hasActiveAlert(e)),l.g.map(e=>e.alert)))),a,c);return{id:"highlightMarkByHighlightedAlert",when:p.a.isWithAlertsId,what:f.e.Effect.Applicator.create(u.pipe(m.a.switchMapTo(m.a.NEVER)))}},e.getAlertHighlightSource=e=>t=>Object(s.pipe)(t,m.a.distinctUntilChanged(l.g.getEq(d.d.ord).equals),m.a.map(l.g.map(t=>({alert:t,source:e,highlightIndex:0}))),m.a.startWith(l.g.none)),e.getActiveHighlightSource=(e,t,n)=>e.view(f.e.mapper(({currentLens:e,alertSource:t})=>Object(s.pipe)(n(e),l.g.map(e=>({alert:e.activeAlert,source:t,highlightIndex:e.activeHighlightIndex}))))).pipe(m.a.switchMap(h.b.Scheduler.rafScheduler),m.a.skipBy(l.g.getEq(g.a.getEq())),m.a.map(l.g.filter(e=>l.g.isSome(t.getRegistered(e.alert.id))))),e.focusMarkByActiveAlert=(t,n,a,r,i,o=m.a.of(!0))=>{const u=Object(s.pipe)(e.getActiveHighlightSource(t,a,r),m.a.tap(l.g.tap(e=>i.trace("new alert highlight: ",e))),m.a.withLatestFrom(o),m.a.switchMap(([e,t])=>Object(s.pipe)(e,l.g.fold(()=>(i.debug("Nothing to focus"),m.a.EMPTY),e=>m.a.Observable.create(()=>(i.debug(`Focus mark: ${e.alert.id} | ${e.highlightIndex}`),e.source===d.b.sidebar&&t&&n.moveCursorToHighlight(e,"start"),Object(s.pipe)(n.focusAlertHighlight(e),l.b.fold(t=>(i.error("Cannot focus mark",t,{alertId:e.alert.id,highlightIndex:e.highlightIndex}),c.e),t=>()=>{i.debug(`Unfocus mark: ${e.alert.id} | ${e.highlightIndex}'`),t.dispose()}))))))));return{id:"focusMarkByActiveAlert",when:p.a.isWithAlertsId,what:f.e.Effect.Applicator.create(u.pipe(m.a.switchMapTo(m.a.NEVER)))}},e.focusAlertByClickedMark=(e,t)=>({id:"focusAlertByActiveMark",when:f.e.Effect.When.isSidebarOpen,what:f.e.Effect.SwitchAlert.create(e.alertClicked.pipe(m.a.skip(1),m.b.compact,m.a.filter(e=>d.a.State.isRegistered(e.alert.state)),m.a.withLatestFrom(t.pipe(m.a.filter(f.e.hasCards)),(e,t)=>e),m.a.map(({alert:e,highlightIndex:t})=>({alertHighlight:{alert:e,highlightIndex:t},alertSource:d.b.text,options:{order:"textOrder"}}))))}),e.createOnAlertApplySideEffect=function(e,t){const n=e.pipe(m.a.map(e=>n=>e.type===a.Type.AppliedAlertAnimationFinished&&n.currentLens.meta.filter(e.alert)&&d.a.isApplicableAlert(e.alert)&&f.e.hasItems(n)?n.patch({currentLens:t.finishApplyAnimation([e.alert])(n.currentLens),alertSource:e.alert.state.source}):n));return{id:"onAlertApply",when:f.e.Effect.When.isSidebarOpen,what:f.e.Effect.Applicator.create(n)}}}(i||(i={}))},"Xo/A":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("a5W6"),i=n("BbAu"),o=n("I7vG"),s=n("PK5a"),l=n("7b34"),c=n("lrqh"),u=n("6fbX"),d=n("v0pb");!function(e){function t(e,t){return n=>n.order.reduce((e,a)=>(Object(u.f)(n.entries.has(a),"got corrupted state"),t(e,n.entries.get(a))),e)}function n({added:e=new Map,updated:t=new Map,removed:n=new Map}){const a=new Map,r=l.a.fromMutation(r=>{n.forEach((e,t)=>{r.set(t,c.m.left(e))}),e.forEach((e,t)=>{r.has(t)?a.set(t,`alert add overlaps with alert remove: toAdd(${d.a.show.show(e)} overlapWith(${c.m.getShow(d.a.show,d.a.show).show(r.get(t))}))`):r.set(t,c.m.right(e))}),t.forEach(([e,t],n)=>{r.has(n)?a.set(n,`alert update overlaps with unexpected alert add/remove: toUpdate(${d.a.show.show(t)}) overlapWith(${c.m.getShow(d.a.show,d.a.show).show(r.get(n))}))`):r.set(n,c.m.both(e,t))})});return a.size>0?c.b.left({recovered:r,rejected:a}):c.b.right(r)}e.iso=s.iso(),e.empty={entries:new Map,order:[],latestChangeDiff:l.a.empty(),diffVersion:0},e.get=function(e){return t=>c.g.fromNullable(t.entries.get(e))},e.find=function(e){return t(c.g.none,(t,n)=>Object(o.pipe)(t,c.g.alt(()=>c.g.fromPredicate(e)(n))))},e.reduce=t,e.size=e=>e.entries.size,e.diff=function(e,t){return 0===e.diffVersion?c.b.unsafeGet(n({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:c.e.symmetricDiff(d.a.ord)(e.entries,t.entries)},e.applyDiff=function(e){return t=>{const n=c.e.leftToRight(c.e.Merger.createStrict(d.a.ordShow),t.entries,e);return Object(o.pipe)(n,c.b.bimap(n=>{const a=l.a.fromMutation(t=>{Object(o.pipe)(e,l.a.forEach((e,a)=>!n.rejected.has(a)&&t.set(a,c.m.left(e)),(e,a,r)=>!n.rejected.has(r)&&t.set(r,c.m.both(e,a)),(e,a)=>!n.rejected.has(a)&&t.set(a,c.m.right(e))))});return{recovered:m(n.recovered,a,t.diffVersion),rejected:n.rejected}},n=>m(n,e,t.diffVersion)))}},e.applyDiffLoose=function(e){return t=>{const n=c.e.leftToRight(c.e.Merger.createLoose(d.a.ordShow),t.entries,e);return Object(o.pipe)(n,c.b.bimap(n=>({recovered:m(n.recovered,e,t.diffVersion),rejected:n.rejected}),n=>m(n,e,t.diffVersion)))}},e.createDiff=n,e.toJSON=function(e){return{entries:Array.from(e.entries),order:e.order,latestChangeDiff:l.a.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}},e.diffEqShow=Object.assign(Object.assign({},l.a.getEq(d.a.Id.ord,d.a.ord)),l.a.getShow(d.a.Id.show,d.a.show));const a=Object.assign(Object.assign({},c.e.getEq(d.a.Id.ord,d.a.ord)),c.e.getShow(d.a.Id.show,d.a.show)),p=Object.assign(Object.assign({},r.getEq(d.a.Id.ord)),r.getShow(d.a.Id.show));function m(e,t,n){return{entries:e,order:Object(o.pipe)(e,c.e.values(d.a.ord),r.map(e=>e.id)),latestChangeDiff:t,diffVersion:n+1}}e.contentEqShow=Object.assign(Object.assign({},c.c.getStructEq({entries:a,order:p,latestChangeDiff:c.c.eqEmpty,diffVersion:c.c.eqEmpty})),i.a({entries:a,order:p,latestChangeDiff:e.diffEqShow,diffVersion:i.d})),e.eqShow=Object.assign(Object.assign({},c.c.getStructEq({entries:a,order:p,latestChangeDiff:e.diffEqShow,diffVersion:c.c.eqNumber})),i.a({entries:a,order:p,latestChangeDiff:e.diffEqShow,diffVersion:i.d}))}(a||(a={}))},Xojx:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("OA+g"),i=n("LNSM"),o=n("zR/0"),s=n("lrqh"),l=n("D9EC"),c=n("hoSD"),u=n("PrA7"),d=n("GUi3"),p=n("dE97"),m=n("IyPE"),h=n("yA7V"),g=n("GGUR"),f=n("K4Sz"),b=n("UEGg"),y=n("O6HF"),v=n("+w1e"),S=n("YJiV"),C=n("BeBM"),w=n("bFfh"),k=n("mmr0"),E=n("TC4P"),O=n("E0zP");!function(e){function t(t){return t.id===e.id}let n,a,A;e.id="UpgradeHookId",e.Kind="UpgradeHook",e.eq={equals:(e,t)=>s.c.eqString.equals(e.id,t.id)&&O.a.eq.equals(e,t)},e.isUpgradeHookItem=t,function(e){e.create=(e,t="default")=>{const n=S.a.getCreate((e,n)=>a.createItem(e,n,t),s.g.none,a.changeVisualState,()=>o.a.of(s.g.none),e);return{createAdded:e=>(t,a)=>{const r=E.a.VisualState.initial({type:"added",clockwise:!0},!0);return n(t,a,0,0,y.a.empty(void 0),e,s.g.some(r))},createFocused:e=>(t,a)=>{const r=E.a.VisualState.initial({type:"focused",clockwise:!0},!1);return n(t,a,0,0,y.a.empty(void 0),e,s.g.some(r))}}}}(n=e.ItemFactory||(e.ItemFactory={})),function(t){t.createItem=(t,n,a)=>Object.assign({kind:e.Kind,id:t,activeAlert:n.alerts[0],equals(t){return e.eq.equals(this,t)},hashCode(){return O.a.hashCode(Object.assign(Object.assign({},this),{userInput:s.g.none}))},groupedAlerts:e.getGroupedLiteAlerts(n.alertModels),premiumAlerts:n.alertModels,documentType:a},n);const n=E.a.Capabilities.getPojoUpdates();t.changeVisualState=S.a.getChangeVisualState(n.setVisualState,r.identity),t.changePosition=n.setPosition,t.transitionTo=S.a.getTransitionTo(t.changeVisualState,t.changePosition),t.animatable={completeTransition:e=>n=>Object(r.pipe)(n,t.changeVisualState(E.a.VisualState.complete(n.visualState,e))),transitionTo:t.transitionTo,changeVisualState:t.changeVisualState},t.updateAlertsByModels=t=>n=>{const a=Object(r.pipe)(t,s.a.map(b.a.fromModel));return Object.assign(Object.assign({},n),{alerts:a,premiumAlerts:t,groupedAlerts:e.getGroupedLiteAlerts(t)})},t.updateAlerts=(e,t,n,a)=>r=>Object.assign(Object.assign({},r),{alerts:e,premiumAlerts:r.premiumAlerts.filter(e=>!t.has(e.id)),activeAlertIndex:n,activeHighlightIndex:a,activeAlert:e[n]}),t.addAlerts=t=>n=>{const a=Object(r.pipe)(t,s.a.map(b.a.fromModel)),i=[...n.premiumAlerts,...t];return Object.assign(Object.assign({},n),{alerts:[...n.alerts,...a],premiumAlerts:i,groupedAlerts:e.getGroupedLiteAlerts(i)})},t.getSelect=(e,n)=>({selectByAlert:(a,i,o)=>s=>Object(r.pipe)(s,S.a.getSelectByAlert(t.updateAlerts,Object(r.constant)(r.identity),t.changeVisualState,t.changePosition,Object(r.constant)(r.identity),r.identity,e,n)(i,a,o)),select:(e,n)=>a=>Object(r.pipe)(a,S.a.getSelectItem(t.changeVisualState,t.changePosition)(e,n)),unselect:S.a.getUnselectItem(t.changeVisualState,t.changePosition)}),t.remove={remove:(e,n)=>a=>e(a)?t.transitionTo({type:"removed",clockwise:n(a)})(a):a}}(a=e.Capabilities||(e.Capabilities={})),function(e){let t;!function(e){e.empty={onShowUpgradeHook:r.constVoid,onOpenUpgradeUrl:r.constVoid,onDismissUpgradeHook:r.constVoid}}(t=e.EventHandlers||(e.EventHandlers={}));e.UpgradeHookItemViewModelImpl=class{constructor(e,t,n,a,r){this._subs=new g.a.Keeper,this.events=new o.a.Subject,this.upgradeHookDismissed=i.a.create(!1),this._subs.push(this.events.subscribe(n=>{"showedUpgradeHook"===n.type?r.onShowUpgradeHook():(v.b.isSDUICardAction(n)&&v.b.ProxySduiCardAction.hasAction(n,"upgradeToPremium")&&(t.openUpgradeUrl(a),r.onOpenUpgradeUrl()),v.b.isSDUICardAction(n)&&v.b.ProxySduiCardAction.hasAction(n,"removeCard")&&(this.upgradeHookDismissed.set(!0),r.onDismissUpgradeHook()),e.actionEvents.next(n))})),this._subs.push(n.subscribe(()=>{this.upgradeHookDismissed.set(!1)}))}dispose(){this._subs.dispose()}}}(A=e.ViewModel||(e.ViewModel={})),e.getPremiumAlerts=(e,t)=>o.a.combineLatestStatic([t.view("currentLens").view("id").view(d.a.isPriority).view(e=>e?e=>p.a.isRegistered(e)&&p.a.isPremium(e)&&p.a.isPriority(e):e=>p.a.isRegistered(e)&&p.a.isPremium(e)),e]).pipe(o.a.map(([e,t])=>h.a.reduce([],(t,{alert:n})=>(Boolean(e(n))&&t.push(n),t))(t))),e.getGroupedLiteAlerts=e=>m.a.group(e.map(e=>e.toLiteAlert())),e.formatLiteAlerts=(e,t=5)=>{const n=e.slice(0,t),a=e.slice(t).map(e=>e.count).reduce(l.t,0);return a>0?[...n,{group:"",category:"",categoryHuman:"more...",count:a,lensName:"more...",bundleInfo:s.g.some("more...")}]:n},e.groupPremiumAlerts=e=>Object.values(e.reduce((e,t)=>{const n=t.lensType;return null!=e[n]?e[n]=Object.assign(Object.assign({},e[n]),{lensNames:s.a.uniq(s.c.eqStrict)([...e[n].lensNames,t.lensName]),alertsCount:e[n].alertsCount+1}):e[n]={lensNames:[t.lensName],lensType:t.lensType,alertsCount:1},e},{}));const _=Object(l.l)(u.Monitoring.Logging.getLogger);let x;e.getSideEffect=(i,l,c,u,p,m=n.create(p),h=d.a.isWithAlertsId)=>{const g=_("UpgradeHook.sideEffect"),b=C.e.Prism.getLensWithItems().compose(w.a.Prism.getFeedItems()),y=l.pipe(o.a.map(e=>e.currentLens.id),o.a.distinctUntilChanged());return{id:"upgradeHookEffect",when:h,what:C.e.Effect.ItemsApplicator.create(Object(r.pipe)(o.a.combineLatestStatic([i,y]),o.a.map(([n])=>i=>{const o=f.a.find(i.currentLens.items,t);if(c.get())return i;if(0===n.length)return s.g.isSome(o)?(g.trace("no more premium alerts, removing UpgradeHook item from the current lens"),b.set(i.currentLens.items.remove(e.id),i)):i;let l,p=i;return s.g.isNone(o)?(g.trace("premium alerts found, adding upgrade hook item to lens state",n),l=m.createAdded(i.currentLens.id)(e.id,n),p=b.set(i.currentLens.items.add(l),i)):l=s.g.unsafeGet(o).value,p=Object(r.pipe)(a.updateAlertsByModels(n)(l),e=>i.currentLens.items.add(e),e=>b.set(e,p)),(1===p.currentLens.items.size||d.a.isPremiumId(p.currentLens.id))&&(g.trace("auto focusing upgrade hook item"),p=C.e.Prism.getLensWithItems().modify(u.selectItemById(e.id),p)),p})))}},function(t){function n(e,n){return(a,r)=>w.a.ApplyDiff.applyWithFilter(r,w.a.ApplyDiff.apply)(a,t.add(e,n),t.update(),t.remove())}t.withUphookAlertsHandlerFactory=function(e,t,a){return r=>r===d.a.SpecialId.Premium||r===d.a.SpecialId.FreePremiumAlerts?n(t,a):e(r)},t.getAlertsHandler=n,t.add=(t,n)=>a=>{const i=n=>d.a.isPremiumId(n)?t.createFocused(d.a.SpecialId.Premium)(e.id,a):t.createAdded(d.a.SpecialId.FreePremiumAlerts)(e.id,a);return t=>Object(r.pipe)(a,s.g.fromPredicate(s.a.isNonEmpty),s.g.chain(a=>Object(r.pipe)(t.items.get(e.id),s.g.map(e=>e.value),s.g.map(e.Capabilities.addAlerts(a)),s.g.alt(()=>s.g.some(i(t.id))),s.g.map(e=>{const r=a.filter(Object(l.b)(p.a.isApplicableAlert,p.a.isFreePremium)).map(e=>n.createAdded(t.id)(k.a.getCardId(t.meta,e),e)),i=t.items.add([...r,e]),o=C.k.getActiveItemIndex(i)(t);return Object.assign(Object.assign({},t),{cardIndex:o,items:i,animation:C.b.proceed})}))),s.g.getOrElse(()=>t))},t.remove=()=>t=>n=>{if(!t.length)return n;const a=new Set(t.map(e=>e.id));return Object(r.pipe)(n.items.get(e.id),s.g.map(e=>e.value),s.g.map(t=>Object(r.pipe)(t.premiumAlerts.filter(e=>!a.has(e.id)),s.f.fromArray,s.g.map(a=>n.items.add(e.Capabilities.updateAlertsByModels(a)(t))),s.g.getOrElse(()=>n.items.remove(e.id)))),s.g.map(e=>{const t=C.k.getActiveItemIndex(e)(n);return Object.assign(Object.assign({},n),{cardIndex:t,items:e})}),s.g.getOrElse(()=>n))},t.update=()=>e=>n=>{const[,a]=c.a.partition(e,p.a.isRegistered);return Object(r.pipe)(n,t.remove()(a))}}(x=e.Handler||(e.Handler={}))}(a||(a={}))},XpkH:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return l}));var a,r,i,o=n("m6JR"),s=n("dE97");function l(e){return e.from.visualState===i.initial||e.from.visualState===i.hidden||e.to.visualState===i.highlighted}!function(e){e.eq=Object(o.contramap)(e=>e.alert)(s.d.ordId),e.isPending=e=>null!==e.state.scheduled&&(e.state.scheduled.visualState!==e.state.current.visualState||e.state.scheduled.updateRanges||e.state.scheduled.forceUpdate),e.isOneOf=(...e)=>t=>e.some(e=>e===t.state.current.visualState),e.notAnyOf=(...e)=>t=>e.every(e=>e!==t.state.current.visualState),e.canBeChanged=t=>n=>Boolean(t)&&i.applied===n.state.current.visualState?t===i.disposed:s.a.State.isBulkApplied(n.alert.state)||e.notAnyOf(i.applied,i.disposed)(n),e.isOrWillBe=e=>t=>null===t.state.scheduled?t.state.current.visualState===e:t.state.scheduled.visualState===e,e.willBe=e=>t=>null!==t.state.scheduled&&t.state.scheduled.visualState===e}(a||(a={})),function(e){e.updateRanges=function(e,t){return Object.assign(Object.assign({},e),{updateRanges:t})},e.forceUpdate=function(e,t){return Object.assign(Object.assign({},e),{forceUpdate:t})},e.updateVisualState=function(e,t){return Object.assign(Object.assign({},e),{visualState:t})},e.from=function(e){return{visualState:e,updateRanges:!1,forceUpdate:!1}}}(r||(r={})),function(e){e.initial="initial",e.highlighted="highlighted",e.visible="visible",e.faded="faded",e.hidden="hidden",e.success="success",e.applied="applied",e.disposed="disposed"}(i||(i={})),function(e){e.isApplied=function(t){return t===e.applied}}(i||(i={}))},XxZg:function(e,t,n){"use strict";var a,r,i,o;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),function(e){e.GetPremiumButton="get_premium_button"}(a||(a={})),function(e){e.Click="clicks",e.Show="shows"}(r||(r={})),function(e){e.AdvancedIssues="advancedIssues",e.Tooltip="tooltip",e.Navigation="navigation"}(i||(i={})),function(e){e.Assistant="assistant",e.Sidebar="sidebar",e.EngagementTooltip="engagementTooltip",e.DeliveryTooltip="deliveryTooltip",e.PlagiarismTooltip="plagiarismTooltip",e.ProofreadingTooltip="proofreadingTooltip"}(o||(o={}))},Y4t5:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return p}));var a=n("h6df");function r(e,t){return function(n){return function(a){return e.ap(e.map(a,(function(e){return function(n){return t.ap(e,n)}})),n)}}}function i(e){return function(t){return function(n){return e.ap(e.map(n,(function(e){return function(){return e}})),t)}}}function o(e){return function(t){return function(n){return e.ap(e.map(n,(function(){return function(e){return e}})),t)}}}function s(e){return function(t,n){return function(a){return e.ap(e.map(a,(function(e){return function(n){var a;return Object.assign({},e,((a={})[t]=n,a))}})),n)}}}function l(e){return function(t){return{concat:function(n,a){return e.ap(e.map(n,(function(e){return function(n){return t.concat(e,n)}})),a)}}}}function c(e,t,n){return function(a){for(var r=Array(n.length+1),i=0;i<n.length;i++)r[i]=n[i];return r[n.length]=a,0===t?e.apply(null,r):c(e,t-1,r)}}var u={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(n){return[e,t,n]}}},4:function(e){return function(t){return function(n){return function(a){return[e,t,n,a]}}}},5:function(e){return function(t){return function(n){return function(a){return function(r){return[e,t,n,a,r]}}}}}};function d(e){return u.hasOwnProperty(e)||(u[e]=c(a.n,e-1,[])),u[e]}function p(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var a=t.length,r=d(a),i=e.map(t[0],r),o=1;o<a;o++)i=e.ap(i,t[o]);return i}}},Y7d8:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n("ERkP"),r=n("vOOZ"),i=n("9NHN"),o=n("lrqh"),s=n("6fbX"),l=n("1w6p"),c=n("rk+4"),u=n("bO3R"),d=n("3rlE"),p=n("26kZ"),m=n("zR/0"),h=n("ax6a"),g=n("BugA"),f=n("e12y"),b=n("ps/9");const y=f.a.style({display:"inline-flex",overflow:"visible",border:"2px solid "+h.a.CoreNeutral10,borderRadius:f.a.rem(b.t),backgroundColor:h.a.CoreNeutral10}),v=f.a.joinClasses([f.a.style({padding:`0 ${f.a.rem(.5)} 0 ${f.a.rem(.5)}`,display:"inline-flex",justifyContent:"space-around",textAlign:"center",$nest:{"&:first-child":{marginRight:f.a.px(2)}}}),g.o.base]),S=f.a.style({fontSize:f.a.rem(h.h.SmallSize)}),C=f.a.style({width:f.a.rem(2.5)}),w=f.a.style({width:f.a.rem(9.5)}),k=f.a.joinClasses([f.a.style({width:f.a.rem(2.25)}),S]),E=f.a.joinClasses([f.a.style({width:f.a.rem(8.75)}),S]),O=f.a.joinClasses([f.a.style({borderRadius:f.a.rem(b.t),backgroundColor:h.a.CoreNeutral0,boxShadow:h.b.Z100,fontWeight:600,$nest:{"&[data-disabled='true']":{backgroundColor:h.a.CoreNeutral0}}}),v]),A=f.a.style({display:"inline-flex",width:f.a.rem(1.25),minWidth:0,minHeight:0,fill:h.a.CoreNeutral50,stroke:h.a.CoreNeutral50,$nest:{"&[data-disabled='true']":{fill:h.a.CoreNeutral50,stroke:h.a.CoreNeutral50}}});var _;!function(e){let t,n,h;!function(e){e.priority="priority",e.all="all"}(t=e.LensMode||(e.LensMode={})),function(e){let t;!function(e){e.select="select"}(t=e.Kind||(e.Kind={}))}(n=e.Action||(e.Action={})),function(t){t.priorityFirst=o.h.fromCompare(t=>t===e.LensMode.priority?-1:1),t.allFirst=o.h.fromCompare(t=>t===e.LensMode.all?-1:1)}(h=e.Order||(e.Order={})),e.Component=l.b.Node.make(({state:e,notify:o})=>a.createElement(r.a.div,{key:"feedModeSelector",className:y},e.pipe(m.a.map(({lensMode:e,layoutMode:r,ord:s})=>[t.all,t.priority].sort(s.compare).map(t=>a.createElement(u.a,Object.assign({name:t+"-lens",key:t+"-lens",disabled:e===t,onClick:()=>o({kind:n.Kind.select,selected:t})()},Object(i.c)(e===t?O:v,f(t,r))),a.createElement(g,{selected:t})))))));const g=({selected:e})=>{const n=a.useContext(c.a.Context).feedModeSelector;switch(e){case t.all:return a.createElement(a.Fragment,null,n.all);case t.priority:return a.createElement(a.Fragment,null,n.priority,a.createElement(p.a,{align:"bottomCenter",title:n.priorityDescription},a.createElement(d.d.Info,{width:10,className:A})));default:Object(s.c)(e)}},f=(e,n)=>{switch(e){case t.all:return"compact"===n?k:C;case t.priority:return"compact"===n?E:w;default:Object(s.c)(e)}}}(_||(_={}))},Y8lK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(){function e(e,t,n,a){void 0===a&&(a=20),this._task=e,this._buffer=t,this._run=n,this._batchSize=a,this._sub=null}return e.prototype.put=function(e){this._buffer.put(e),null===this._sub&&this._buffer.nonEmpty&&this._scheduleWork()},e.prototype.order=function(e){this._buffer.order(e)},e.prototype.flush=function(){this._task(this._buffer.take(this._buffer.length))},Object.defineProperty(e.prototype,"length",{get:function(){return this._buffer.length},enumerable:!1,configurable:!0}),e.prototype._scheduleWork=function(){var e=this;this._sub=this._run((function(){e._task(e._buffer.take(e._batchSize)),e._sub=null,e._buffer.nonEmpty&&e._scheduleWork()}))},e.prototype.shutdown=function(){this._sub&&(this._sub.unsubscribe(),this._sub=null)},e}()},YK3O:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n("KCID");function r(e){let{id:t,label:n,"aria-labelledby":r,"aria-label":i,labelElementType:o="label"}=e;t=(0,a.u)(t);let s=(0,a.u)(),l={};return n?(r=r?`${s} ${r}`:s,l={id:s,htmlFor:"label"===o?t:void 0}):r||i||console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility"),{labelProps:l,fieldProps:(0,a.v)({id:t,"aria-label":i,"aria-labelledby":r})}}function i(e){let{description:t,errorMessage:n,validationState:i}=e,{labelProps:o,fieldProps:s}=r(e),l=(0,a.y)([Boolean(t),Boolean(n),i]),c=(0,a.y)([Boolean(t),Boolean(n),i]);return s=(0,a.l)(s,{"aria-describedby":[l,c,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:o,fieldProps:s,descriptionProps:{id:l},errorMessageProps:{id:c}}}},YfIO:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("ERkP"),r=n("vOOZ"),i=n("1w6p"),o=n("zR/0"),s=n("lrqh"),l=n("+w1e"),c=n("9T0W"),u=n("D/5U");const d=i.b.Grid.make(({slots:e})=>a.createElement(c.a.Context.Provider,{value:c.a.emptyWithName("card")},a.createElement(r.a.div,{"data-role":"animation-wrapper",className:u.a.animationWrapper},e.animatedItemBaseChild)));var p,m,h,g,f=n("sWLkM");!function(e){e.make=function(e){return i.b.Union.asOption(i.b.Knot.make(t,{shadeItem:e}))};const t=i.b.Grid.make(({slots:e,state:t,notify:n})=>a.createElement(r.a.Fragment,null,t.pipe(o.a.map(({item:i,key:o,className:s})=>a.createElement(r.a.div,{className:s,key:"shade"+t+o,onAnimationEnd:e=>{f.b.get(e.animationName)!==s&&u.b.get(e.animationName)!==s||n({type:l.a.Kind.completeTransitionTo,id:i.id,transitionId:i.visualState.transitionId})()}},e.shadeItem)))))}(p||(p={})),function(e){e.make=function(e){return i.b.Composite.make(d,i.b.Knot.make(t,{shade:p.make(e),item:e}))};const t=i.b.Grid.make(({state:e,slots:t,notify:n})=>a.createElement(r.a.Fragment,null,e.pipe(o.a.map(({item:e,className:i,hasAnimation:o})=>(o||requestAnimationFrame(n({type:l.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId})),a.createElement(r.a.Fragment,null,t.shade,a.createElement(r.a.div,{className:s.g.toUndefined(i),key:"expanded"===e.visualState.transition.type?"focused":e.visualState.transition.type,onAnimationEnd:n({type:l.a.Kind.completeTransitionTo,id:e.id,transitionId:e.visualState.transitionId}),onTransitionEnd:()=>{"presuccess"===e.visualState.transition.type&&n({type:l.a.Kind.startTransitionTo,id:e.id,transition:{type:"success",clockwise:e.visualState.transition.clockwise}})()}},t.item)))))))}(m||(m={})),function(e){e.make=function(e){return i.b.Composite.make(d,i.b.Knot.make(t,{staticItemChild:e}))};const t=i.b.Grid.make(({state:e,slots:t})=>a.createElement(r.a.Fragment,null,e.pipe(o.a.map(e=>a.createElement(r.a.div,{key:e},t.staticItemChild)))))}(h||(h={})),function(e){e.make=function(e){return i.b.Knot.make(t,{animatedItem:i.b.Union.make("animatedItemKind",{static:h.make(e),animating:m.make(e)})})};const t=i.b.Grid.make(({state:e,slots:t})=>a.createElement(r.a.Fragment,null,e.pipe(o.a.distinctUntilChanged((e,t)=>e.id===t.id&&e.visualState.transitionId===t.visualState.transitionId&&e.visualState.transition.type===t.visualState.transition.type),o.a.map(()=>a.createElement(r.a.Fragment,null,t.animatedItem)))))}(g||(g={}))},YnIn:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var a=n("ERkP"),r=n("vOOZ"),i=n("D9EC"),o=n("6lhv"),s=n("bO3R"),l=n("3rlE"),c=n("bSlT"),u=n("rmLU"),d=n("rk+4"),p=n("BugA"),m=n("ax6a"),h=n("e12y"),g=n("ps/9");const f={position:"fixed",bottom:h.a.rem(1),right:h.a.rem(1),zIndex:g.j,width:h.a.rem(20),padding:h.a.rem(2),background:m.a.CoreNeutral0,transition:`transform ${h.a.seconds(.1)} linear ${h.a.seconds(.1)}`,transform:"perspective(100)",borderRadius:h.a.rem(g.s),boxShadow:"0 12px 48px 0 rgba(96, 101, 123, .24)"},b={transitionDelay:h.a.seconds(0),transform:"perspective(100) rotateY(90deg)"},y={transform:"perspective(100) rotateY(-90deg)"},v={paddingBottom:h.a.rem(1)},S={marginBottom:h.a.rem(1)},C={width:h.a.percent(100),borderRadius:h.a.rem(g.t),padding:`${h.a.rem(.5)} 0 ${h.a.rem(.5)} ${h.a.rem(.5)}`,lineHeight:h.a.rem(1.3125),margin:"0 2px"},w={width:h.a.rem(1),height:h.a.rem(1),minHeight:h.a.rem(1),display:"inline-block",verticalAlign:"top",marginLeft:h.a.rem(.25)},k={color:m.a.CoreBlue50,textDecoration:"none"},E={paddingTop:h.a.rem(2),height:h.a.rem(15),flexGrow:1},O={marginBottom:h.a.rem(.5)},A={$nest:{"& ul":{paddingLeft:h.a.rem(2)},"& a":{color:m.a.CoreBlue50,textDecoration:"none"}}},_=h.a.stylesheet({notification:[f],rotateHide:[f,b],rotateShow:[f,y],closeIcon:[{position:"absolute",top:0,right:0}],question:[v],questionText:[S],answerBtn:[C],answer:[{whiteSpace:"normal"}],outcomeIcon:[w],learnMoreLink:[k],completionScreen:[{display:"flex",flexDirection:"column",alignItems:"flex-start"}],completionContent:[E],completionHeader:[O],badExperience:[A]}),x=({viewModel:e,onClose:t})=>a.createElement(r.a.div,{className:_.completionScreen},e.state.view(e=>c.a.isSecondAnswerAboutDissatisfaction(e)?a.createElement(j,{reason:e.answer2}):a.createElement(I,null)),a.createElement(s.a.Primary,{name:"survey.done",onClick:t},"done")),I=()=>{const e=a.useContext(d.a.Context).premiumOnboardingSurvey.completion;return a.createElement(a.Fragment,null,a.createElement(l.d.NotificationInfo,{width:40}),a.createElement("div",{className:_.completionContent},a.createElement(p.e,{className:_.completionHeader},e.enjoyment.header),a.createElement(p.a,null,e.enjoyment.sub)))},j=({reason:e})=>{const t=a.useContext(u.a.Context),n=a.useContext(d.a.Context).premiumOnboardingSurvey.completion.badExperience,r=(()=>{switch(e){case c.b.DissatisfactionReason.LowQualitySuggestions:return n.lowQuality;case c.b.DissatisfactionReason.PoorPlagiarismSuggestions:return n.noPlagiarism;case c.b.DissatisfactionReason.NoSupportForDesirableApp:return n.noSupportForDesirableApp(t.extension.chrome.installURL,t.extension.edge.infoURL,t.extension.firefox.installURL,t.extension.safari.installURL,t.funnel.keyboardInstall,t.funnel.desktopAppInstall);case c.b.DissatisfactionReason.AggressivePremiumPromotion:case c.b.DissatisfactionReason.NoPremiumSuggestions:case c.b.DissatisfactionReason.PremiumAndFreeAreIdentical:default:return n.possibleMultipleAccounts}})();return a.createElement("div",null,a.createElement(p.a,{className:_.badExperience},r),a.createElement("br",null))};var T=n("H37f");const M=({answerType:e,viewModel:t,children:n})=>a.createElement(s.a.Flat,{className:_.answerBtn,name:"answer."+e,onClick:()=>t.answer(e)},a.createElement("span",{className:_.answer},n));var N=c.b.Experience;const P=({viewModel:e})=>{const t=a.useContext(d.a.Context).premiumOnboardingSurvey.firstQuestion;return a.createElement("div",{className:_.question},a.createElement(p.e,{className:_.questionText},t.question),a.createElement(M,{answerType:N.VerySatisfied,viewModel:e},a.createElement(T.b,null,"😄")," ",t.answers.verySatisfied),a.createElement(M,{answerType:N.SomewhatSatisfied,viewModel:e},a.createElement(T.b,null,"🙂")," ",t.answers.somewhatSatisfied),a.createElement(M,{answerType:N.Neutral,viewModel:e},a.createElement(T.b,null,"😐")," ",t.answers.neutral),a.createElement(M,{answerType:N.SomewhatDissatisfied,viewModel:e},a.createElement(T.b,null,"🙁")," ",t.answers.somewhatDissatisfied),a.createElement(M,{answerType:N.VeryDissatisfied,viewModel:e},a.createElement(T.b,null,"😞")," ",t.answers.veryDissatisfied))};var L=n("hoSD"),R=c.b.SatisfactionReason,B=c.b.DissatisfactionReason;const F=({viewModel:e})=>a.createElement(r.a.div,{className:_.question},e.state.view(c.a.isSecondQuestionAboutDissatisfaction).view(Object(i.c)(a.createElement(D,{viewModel:e}),a.createElement(H,{viewModel:e})))),D=({viewModel:e})=>{const t=a.useContext(d.a.Context).premiumOnboardingSurvey.secondDissatisfactionQuestion;return a.createElement(a.Fragment,null,a.createElement(p.e,{className:_.questionText},t.question),L.a.shuffle([a.createElement(M,{answerType:B.LowQualitySuggestions,viewModel:e},t.answers.lowQualitySuggestions),a.createElement(M,{answerType:B.PoorPlagiarismSuggestions,viewModel:e},t.answers.poorPlagiarismSuggestions),a.createElement(M,{answerType:B.NoSupportForDesirableApp,viewModel:e},t.answers.noSupportForDesirableApp),a.createElement(M,{answerType:B.AggressivePremiumPromotion,viewModel:e},t.answers.aggressivePremiumPromotion),a.createElement(M,{answerType:B.NoPremiumSuggestions,viewModel:e},t.answers.noPremiumSuggestions),a.createElement(M,{answerType:B.PremiumAndFreeAreIdentical,viewModel:e},t.answers.premiumAndFreeAreIdentical)]))},H=({viewModel:e})=>{const t=a.useContext(u.a.Context),n=a.useContext(d.a.Context).premiumOnboardingSurvey.secondSatisfactionQuestion;return a.createElement(a.Fragment,null,a.createElement(p.e,{className:_.questionText},n.question),L.a.shuffle([a.createElement(M,{answerType:R.PlagiarismChecker,viewModel:e},n.answers.plagiarismChecker," ",a.createElement(l.d.PlagiarismOutcome,{className:_.outcomeIcon})),a.createElement(M,{answerType:R.ClaritySuggestions,viewModel:e},n.answers.claritySuggestions," ",a.createElement(l.d.ClarityOutcome,{className:_.outcomeIcon})),a.createElement(M,{answerType:R.EngagementSuggestions,viewModel:e},n.answers.engagementSuggestions," ",a.createElement(l.d.EngagementOutcome,{className:_.outcomeIcon})),a.createElement(M,{answerType:R.ToneSuggestions,viewModel:e},n.answers.toneSuggestions," ",a.createElement(l.d.DeliveryOutcome,{className:_.outcomeIcon})),a.createElement(M,{answerType:R.UsingMultipleDevices,viewModel:e},a.createElement(a.Fragment,null,n.answers.usingMultipleDevices," ",a.createElement("a",{href:t.funnel.keyboardInstall,onClick:e=>e.stopPropagation(),className:_.learnMoreLink,target:"_blank"},n.learnMoreLink)))]))},V=({viewModel:e,onClose:t})=>a.createElement(U,{viewModel:e},n=>a.createElement(a.Fragment,null,c.a.isFirstQuestion(n)?a.createElement(P,{viewModel:e}):c.a.isSecondQuestion(n)?a.createElement(F,{viewModel:e}):a.createElement(x,{viewModel:e,onClose:t}),a.createElement(s.a,{name:"survey-close",className:_.closeIcon,onClick:t},a.createElement(l.d.Close,null)))),U=({viewModel:e,children:t})=>a.createElement(o.a,{state:e.state,stateToClassMapper:(e,t)=>{const[n,a]=e&&c.a.isFirstQuestion(e)&&c.a.isSecondQuestion(t)||e&&c.a.isSecondQuestion(e)&&c.a.isCompleted(t)?[_.rotateHide,_.rotateShow]:[_.notification,_.notification];return{prev:{start:_.notification,end:n},next:{start:a,end:_.notification}}}},e=>a.createElement(r.a.div,{className:e.view,onTransitionEnd:"prev"===e.type?e.done:i.e},t(e.state)))},Z1nV:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return S})),n.d(t,"f",(function(){return j})),n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return T}));var a=n("ERkP"),r=n.n(a),i=n("KCID"),o=n("UMB3");n("7O4Y");function s(e){if("virtual"===(0,o.a)()){let t=document.activeElement;(0,i.m)(()=>{document.activeElement===t&&document.contains(e)&&(0,i.c)(e)})}else(0,i.c)(e)}function l(e,t){return"#comment"!==e.nodeName&&function(e){if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;let{display:t,visibility:n}=e.style,a="none"!==t&&"hidden"!==n&&"collapse"!==n;if(a){const{getComputedStyle:t}=e.ownerDocument.defaultView;let{display:n,visibility:r}=t(e);a="none"!==n&&"hidden"!==r&&"collapse"!==r}return a}(e)&&function(e,t){return!e.hasAttribute("hidden")&&("DETAILS"!==e.nodeName||!t||"SUMMARY"===t.nodeName||e.hasAttribute("open"))}(e,t)&&(!e.parentElement||l(e.parentElement,e))}const c=r.a.createContext(null);let u=null;function d(e){let{children:t,contain:n,restoreFocus:o,autoFocus:s}=e,l=(0,a.useRef)(),d=(0,a.useRef)(),p=(0,a.useRef)([]),{parentNode:m}=(0,a.useContext)(c)||{},h=(0,a.useMemo)(()=>new A({scopeRef:p}),[p]);(0,i.w)(()=>{let e=m||_.root;if(_.getTreeNode(e.scopeRef)&&u&&!C(u,e.scopeRef)){let t=_.getTreeNode(u);t&&(e=t)}e.addChild(h),_.addNode(h)},[h,m]),(0,i.w)(()=>{_.getTreeNode(p).contain=n},[n]),(0,i.w)(()=>{let e=l.current.nextSibling,t=[];for(;e&&e!==d.current;)t.push(e),e=e.nextSibling;p.current=t},[t]),function(e,t,n){(0,i.w)(()=>{if(t||n)return;let a=e.current,r=t=>{let n=t.target;y(n,e.current)?u=e:b(n)||(u=null)};return document.addEventListener("focusin",r,!1),a.forEach(e=>e.addEventListener("focusin",r,!1)),()=>{document.removeEventListener("focusin",r,!1),a.forEach(e=>e.removeEventListener("focusin",r,!1))}},[e,t,n])}(p,o,n),function(e,t){let n=(0,a.useRef)(),r=(0,a.useRef)(null);(0,i.w)(()=>{let a=e.current;if(!t)return void(r.current&&(cancelAnimationFrame(r.current),r.current=null));let i=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!f(e))return;let n=document.activeElement,a=e.current;if(!y(n,a))return;let r=E(g(a),{tabbable:!0},a);r.currentNode=n;let i=t.shiftKey?r.previousNode():r.nextNode();i||(r.currentNode=t.shiftKey?a[a.length-1].nextElementSibling:a[0].previousElementSibling,i=t.shiftKey?r.previousNode():r.nextNode()),t.preventDefault(),i&&w(i,!0)},o=t=>{u&&!C(u,e)||!y(t.target,e.current)?f(e)&&!v(t.target,e)?n.current?n.current.focus():u&&k(u.current):f(e)&&(n.current=t.target):(u=e,n.current=t.target)},s=t=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{f(e)&&!v(document.activeElement,e)&&(u=e,document.body.contains(t.target)?(n.current=t.target,n.current.focus()):u&&k(u.current))})};return document.addEventListener("keydown",i,!1),document.addEventListener("focusin",o,!1),a.forEach(e=>e.addEventListener("focusin",o,!1)),a.forEach(e=>e.addEventListener("focusout",s,!1)),()=>{document.removeEventListener("keydown",i,!1),document.removeEventListener("focusin",o,!1),a.forEach(e=>e.removeEventListener("focusin",o,!1)),a.forEach(e=>e.removeEventListener("focusout",s,!1))}},[e,t]),(0,i.w)(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r])}(p,n),function(e,t,n){const r=(0,a.useRef)("undefined"!=typeof document?document.activeElement:null);(0,i.w)(()=>{let a=e.current;if(!t||n)return;let r=()=>{u&&!C(u,e)||!y(document.activeElement,e.current)||(u=e)};return document.addEventListener("focusin",r,!1),a.forEach(e=>e.addEventListener("focusin",r,!1)),()=>{document.removeEventListener("focusin",r,!1),a.forEach(e=>e.removeEventListener("focusin",r,!1))}},[e,n]),(0,i.w)(()=>{if(!t)return;_.getTreeNode(e).nodeToRestore=r.current;let a=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!f(e))return;let n=document.activeElement;if(!y(n,e.current))return;let a=_.getTreeNode(e).nodeToRestore,r=E(document.body,{tabbable:!0});r.currentNode=n;let i=t.shiftKey?r.previousNode():r.nextNode();if(document.body.contains(a)&&a!==document.body||(a=null,_.getTreeNode(e).nodeToRestore=null),(!i||!y(i,e.current))&&a){r.currentNode=a;do{i=t.shiftKey?r.previousNode():r.nextNode()}while(y(i,e.current));t.preventDefault(),t.stopPropagation(),i?w(i,!0):b(a)?w(a,!0):n.blur()}};return n||document.addEventListener("keydown",a,!0),()=>{n||document.removeEventListener("keydown",a,!0);let r=_.getTreeNode(e).nodeToRestore;if(t&&r&&(y(document.activeElement,e.current)||document.activeElement===document.body&&function(e){let t=_.getTreeNode(u);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(null==t?void 0:t.scopeRef)===e}(e))){let t=_.clone();requestAnimationFrame(()=>{if(document.activeElement===document.body){let n=t.getTreeNode(e);for(;n;){if(n.nodeToRestore&&document.body.contains(n.nodeToRestore))return void w(n.nodeToRestore);n=n.parent}for(n=t.getTreeNode(e);n;){if(n.scopeRef&&_.getTreeNode(n.scopeRef))return void k(n.scopeRef.current,!0);n=n.parent}}})}}},[e,t,n])}(p,o,n),function(e,t){const n=r.a.useRef(t);(0,a.useEffect)(()=>{n.current&&(u=e,y(document.activeElement,u.current)||k(e.current)),n.current=!1},[e])}(p,s),(0,a.useEffect)(()=>{if(p){let e=document.activeElement,t=null;if(y(e,p.current)){for(let n of _.traverse())y(e,n.scopeRef.current)&&(t=n);t===_.getTreeNode(p)&&(u=t.scopeRef)}return()=>{let e=_.getTreeNode(p).parent.scopeRef;p!==u&&!C(p,u)||e&&!_.getTreeNode(e)||(u=e),_.removeTreeNode(p)}}},[p]);let S=(0,a.useMemo)(()=>function(e){return{focusNext(t={}){let n=e.current,{from:a,tabbable:r,wrap:i,accept:o}=t,s=a||document.activeElement,l=n[0].previousElementSibling,c=E(g(n),{tabbable:r,accept:o},n);c.currentNode=y(s,n)?s:l;let u=c.nextNode();return!u&&i&&(c.currentNode=l,u=c.nextNode()),u&&w(u,!0),u},focusPrevious(t={}){let n=e.current,{from:a,tabbable:r,wrap:i,accept:o}=t,s=a||document.activeElement,l=n[n.length-1].nextElementSibling,c=E(g(n),{tabbable:r,accept:o},n);c.currentNode=y(s,n)?s:l;let u=c.previousNode();return!u&&i&&(c.currentNode=l,u=c.previousNode()),u&&w(u,!0),u},focusFirst(t={}){let n=e.current,{tabbable:a,accept:r}=t,i=E(g(n),{tabbable:a,accept:r},n);i.currentNode=n[0].previousElementSibling;let o=i.nextNode();return o&&w(o,!0),o},focusLast(t={}){let n=e.current,{tabbable:a,accept:r}=t,i=E(g(n),{tabbable:a,accept:r},n);i.currentNode=n[n.length-1].nextElementSibling;let o=i.previousNode();return o&&w(o,!0),o}}}(p),[]),O=(0,a.useMemo)(()=>({focusManager:S,parentNode:h}),[h,S]);return r.a.createElement(c.Provider,{value:O},r.a.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:l}),t,r.a.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:d}))}const p=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],m=p.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";p.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const h=p.join(':not([hidden]):not([tabindex="-1"]),');function g(e){return e[0].parentElement}function f(e){let t=_.getTreeNode(u);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function b(e){return v(e)}function y(e,t){return t.some(t=>t.contains(e))}function v(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of _.traverse(_.getTreeNode(t)))if(y(e,n.current))return!0;return!1}function S(e){return v(e,u)}function C(e,t){var n;let a=null===(n=_.getTreeNode(t))||void 0===n?void 0:n.parent;for(;a;){if(a.scopeRef===e)return!0;a=a.parent}return!1}function w(e,t=!1){if(null==e||t){if(null!=e)try{e.focus()}catch(e){}}else try{s(e)}catch(e){}}function k(e,t=!0){let n=e[0].previousElementSibling,a=E(g(e),{tabbable:t},e);a.currentNode=n;let r=a.nextNode();t&&!r&&(a=E(g(e),{tabbable:!1},e),a.currentNode=n,r=a.nextNode()),w(r)}function E(e,t,n){let a=(null==t?void 0:t.tabbable)?h:m,r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(e){var r;return(null==t||null===(r=t.from)||void 0===r?void 0:r.contains(e))?NodeFilter.FILTER_REJECT:!e.matches(a)||!l(e)||n&&!y(e,n)||(null==t?void 0:t.accept)&&!t.accept(e)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}});return(null==t?void 0:t.from)&&(r.currentNode=t.from),r}class O{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,n){let a=this.fastMap.get(null!=t?t:null),r=new A({scopeRef:e});a.addChild(r),r.parent=a,this.fastMap.set(e,r),n&&(r.nodeToRestore=n)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(null===e)return;let t=this.fastMap.get(e),n=t.parent;for(let e of this.traverse())e!==t&&t.nodeToRestore&&e.nodeToRestore&&t.scopeRef.current&&y(e.nodeToRestore,t.scopeRef.current)&&(e.nodeToRestore=t.nodeToRestore);let a=t.children;n.removeChild(t),a.size>0&&a.forEach(e=>n.addChild(e)),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(null!=e.scopeRef&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){let e=new O;for(let t of this.traverse())e.addTreeNode(t.scopeRef,t.parent.scopeRef,t.nodeToRestore);return e}constructor(){this.fastMap=new Map,this.root=new A({scopeRef:null}),this.fastMap.set(null,this.root)}}class A{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let _=new O;function x(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=(0,a.useRef)({isFocused:!1,isFocusVisible:t||(0,o.b)()}),[s,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(()=>i.current.isFocused&&i.current.isFocusVisible),d=(0,a.useCallback)(()=>u(i.current.isFocused&&i.current.isFocusVisible),[]),p=(0,a.useCallback)(e=>{i.current.isFocused=e,l(e),d()},[d]);(0,o.e)(e=>{i.current.isFocusVisible=e,d()},[],{isTextInput:n});let{focusProps:m}=(0,o.d)({isDisabled:r,onFocusChange:p}),{focusWithinProps:h}=(0,o.f)({isDisabled:!r,onFocusWithinChange:p});return{isFocused:s,isFocusVisible:c,focusProps:r?h:m}}let I=r.a.createContext(null);function j(e,t){let{focusProps:n}=(0,o.d)(e),{keyboardProps:r}=(0,o.j)(e),l=(0,i.l)(n,r),c=function(e){let t=(0,a.useContext)(I)||{};(0,i.z)(t,e);let{ref:n,...r}=t;return r}(t),u=e.isDisabled?{}:c,d=(0,a.useRef)(e.autoFocus);return(0,a.useEffect)(()=>{d.current&&t.current&&s(t.current),d.current=!1},[t]),{focusableProps:(0,i.l)({...l,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},u)}}function T(e,t){let n=null==t?void 0:t.isDisabled,[r,o]=(0,a.useState)(!1);return(0,i.w)(()=>{if((null==e?void 0:e.current)&&!n){let t=()=>{if(e.current){let t=E(e.current,{tabbable:!0});o(!!t.nextNode())}};t();let n=new MutationObserver(t);return n.observe(e.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{n.disconnect()}}}),!n&&r}},Z2Lj:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a={};n.r(a),n.d(a,"fontsProvider",(function(){return l}));var r={};n.r(r),n.d(r,"experimantalFontsProvider",(function(){return d}));var i=n("ERkP"),o=n("9NHN"),s=n("e12y");function l(e,t={withPreload:!0}){return a=>(i.useLayoutEffect(()=>{n("Dbx/")},[]),i.createElement(i.Fragment,null,t.withPreload?i.createElement(c,{fontStyles:Object.assign({},u)}):null,i.createElement(e,Object.assign({},a,Object(o.c)(a.className,Boolean(t.customFontStyle)?t.customFontStyle:u.wrapper)))))}const c=({fontStyles:e})=>i.createElement("div",{className:e.fontsPreload},i.createElement("span",{className:e.italicBold}),i.createElement("span",{className:e.italicRegular}),i.createElement("span",{className:e.italicLight}),i.createElement("span",{className:e.normalBold}),i.createElement("span",{className:e.normalRegular}),i.createElement("span",{className:e.normalLight})),u=s.a.stylesheet({wrapper:[{fontWeight:"normal",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, Arial",fontFeatureSettings:"'ss01'","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",$nest:{"@media print":{visibility:"hidden"}}}],fontsPreload:[{visibility:"hidden",fontFamily:"'Inter'"}],italicBold:[{fontWeight:700,fontStyle:"italic"}],italicRegular:[{fontWeight:400,fontStyle:"italic"}],italicLight:[{fontWeight:100,fontStyle:"italic"}],normalBold:[{fontWeight:700,fontStyle:"normal"}],normalRegular:[{fontWeight:400,fontStyle:"normal"}],normalLight:[{fontWeight:300,fontStyle:"normal"}]});function d(e){return t=>(i.useLayoutEffect(()=>{n("GGaB")},[]),i.createElement(i.Fragment,null,i.createElement(p,{fontStyles:Object.assign({},m)}),i.createElement(e,Object.assign({},t,Object(o.c)(t.className,m.wrapper)))))}const p=({fontStyles:e})=>i.createElement("div",{className:e.fontsPreload},i.createElement("span",{className:e.italicBold}),i.createElement("span",{className:e.italicRegular}),i.createElement("span",{className:e.italicLight}),i.createElement("span",{className:e.normalBold}),i.createElement("span",{className:e.normalRegular}),i.createElement("span",{className:e.normalLight})),m=s.a.stylesheet({wrapper:[{fontWeight:"normal",fontFamily:"'Grammarly Product BETA', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif, Arial",fontFeatureSettings:"'ss01'","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",$nest:{"@media print":{visibility:"hidden"}}}],fontsPreload:[{visibility:"hidden",fontFamily:"'Grammarly Product BETA'"}],italicBold:[{fontWeight:700,fontStyle:"italic"}],italicRegular:[{fontWeight:400,fontStyle:"italic"}],italicLight:[{fontWeight:100,fontStyle:"italic"}],normalBold:[{fontWeight:700,fontStyle:"normal"}],normalRegular:[{fontWeight:400,fontStyle:"normal"}],normalLight:[{fontWeight:300,fontStyle:"normal"}]})},Z5Rd:function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return _}));var a=n("ERkP"),r=n("9NHN"),i=n("6fbX"),o=n("ax6a"),s=n("rk+4"),l=n("bO3R"),c=n("3rlE"),u=n("BugA"),d=n("e12y"),p=n("WIwS"),m=n("ps/9"),h=n("P+uJ");const g={position:"relative",width:d.a.percent(100)},f={position:"relative",margin:"0 0 "+d.a.rem(.5)},b={display:"flex",boxSizing:"border-box",padding:`${d.a.rem(1)} ${d.a.rem(2)} ${d.a.rem(1)} ${d.a.rem(.75)}`,width:d.a.percent(100),borderRadius:d.a.rem(m.t),background:o.a.BackgroundNotification,color:o.a.CoreNeutral0,textAlign:"left",letterSpacing:0,alignItems:"flex-start"},y={width:d.a.percent(100)},v={display:"inline-block",width:d.a.percent(100)},S={margin:`${d.a.rem(-.5)} ${d.a.rem(.75)} ${d.a.rem(-.5)} 0`},C={position:"absolute",top:0,right:0,marginTop:d.a.rem(.5),marginRight:d.a.rem(.4),marginLeft:d.a.rem(.5)},w={stroke:p.i},k={margin:"0 0 "+d.a.rem(.5),color:o.a.CoreNeutral0,wordBreak:"break-word",fontWeight:"bold",fontSize:d.a.rem(o.h.BodySize),lineHeight:d.a.rem(1.25)},E={marginTop:d.a.rem(-.1),marginBottom:d.a.rem(-.25),color:o.a.CoreNeutral0,fontSize:d.a.rem(o.h.BodySize),lineHeight:d.a.rem(1.25)},O=d.a.prefixedStylesheet("notifications",{wrapper:[g],notification:[f],flexibleNotification:[f,{display:"flex",width:"auto"}],contentWrapper:[b],miniContentWrapper:[b,{position:"relative",width:"auto"}],fullWidthNotification:[f,b,y],content:[v],miniContent:[{flex:1}],alertIcon:[S],closeIconWrapper:[C],closeIcon:[w],header:[k],description:[E]});var A,_;!function(e){e.Wrapper=({notification:t,onClose:r,children:i,theme:o={}})=>{a.useEffect(()=>t.actions.next("shown"),[t.actions]);const s={wrapper:Boolean(o.wrapper)?o.wrapper:n.wrapper,content:void 0!==o.content?Object.assign({},n.content,o.content):n.content};return a.createElement("div",Object.assign({},h.a.getAriaLiveProps(t),{className:s.wrapper}),a.createElement(e.Base,{metadata:t.metadata,onClose:r,theme:s.content},i))},e.Base=({metadata:n,onClose:r,theme:i,children:o})=>a.createElement("div",{className:i.wrapper},t(n,i.icon),a.createElement("div",{className:i.content},o),!function(e){return e.priority===h.a.Priority.high||e.priority===h.a.Priority.highest}(n)&&a.createElement(e.CloseButton,{onClick:r,className:i.close}));const t=(t,n)=>{switch(t.icon){case h.a.Icon.sparkles:return a.createElement(c.d.Sparkles,{className:n});case void 0:case h.a.Icon.priority:return a.createElement(e.PriorityIcon,{priority:t.priority,className:n});default:return Object(i.c)(t.icon)}};e.AdHoc=({title:t,children:i,className:o,onClose:s})=>a.createElement("div",Object.assign({},Object(r.c)(n.content.wrapper,o)),a.createElement("div",{className:n.content.content},a.createElement(e.TitledContent,{title:t},i)),a.createElement(e.CloseButton,{onClick:s,className:n.content.close})),e.PriorityIcon=({priority:e,className:t})=>{switch(e){case h.a.Priority.lowest:case h.a.Priority.low:return a.createElement(c.d.NotificationInfo,{className:t});case h.a.Priority.average:return a.createElement(c.d.NotificationWarning,{className:t});case h.a.Priority.high:case h.a.Priority.highest:return a.createElement(c.d.NotificationError,{className:t});default:return Object(i.c)(e)}},e.CloseButton=({onClick:e,className:t})=>{const n=a.useContext(s.a.Context);return a.createElement(l.a,{name:"closeNotification","aria-label":n.actions.close,className:t,onClick:e},a.createElement(c.d.Close,{className:O.closeIcon,width:12}))},e.TitledContent=({title:t,children:n})=>Boolean(n)?a.createElement(a.Fragment,null,a.createElement(u.i,{className:O.header},t),a.createElement(e.Content,null,n)):a.createElement(u.i,{className:O.description},t),e.Content=({children:e})=>a.createElement(u.a,{className:O.description},e);const n={wrapper:O.wrapper,content:{wrapper:O.fullWidthNotification,icon:O.alertIcon,content:O.content,close:O.closeIconWrapper}}}(A||(A={})),function(e){e.Wrapper=({notification:e,onClose:t,children:n})=>(a.useEffect(()=>e.actions.next("shown"),[e.actions]),a.createElement("div",{className:O.flexibleNotification},a.createElement(A.Base,{metadata:e.metadata,onClose:t,theme:{wrapper:O.miniContentWrapper,icon:O.alertIcon,content:O.miniContent,close:O.closeIconWrapper}},n)))}(_||(_={}))},ZEPo:function(e,t,n){e.exports=n.p+"files/da83100fc42a3c359ae8e3038a4a5e90/inter-regular.woff"},ZvPX:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return M})),n.d(t,"b",(function(){return N}));var a=n("ERkP"),r=n("vOOZ"),i=n("9NHN"),o=n("lrqh"),s=n("6fbX"),l=n("1w6p"),c=n("rk+4"),u=n("bO3R"),d=n("FPs0"),p=n("3rlE"),m=n("RNks"),h=n("pKiV"),g=n("3F3p"),f=n("+LKT");const b=e=>l.b.Union.make("kind",{alertCard:f.a.Card(e)});var y=n("zR/0"),v=n("xEVj"),S=n("+w1e"),C=n("+5S2"),w=n("NbEL"),k=n("BeBM"),E=n("3zdQ"),O=n("dCuA"),A=n("2U56"),_=n("2BTG");const x=({title:e,cardsVM:t,transition:n,onTransitionEnd:r,scrollEl:i,state:o,cardsListScrollManager:s,isMaster:l,capabilities:c,comparator:u,cardListFlow:d=m.a,checksFeedItem:p=b})=>a.createElement(j,{cardsVM:t,transition:n,onTransitionEnd:r,scrollEl:i,state:o,cardsListScrollManager:s,cardListFlow:d,isMaster:l,capabilities:c,comparator:u,checksFeedItem:p},a.createElement(I,{title:e})),I=({title:e})=>a.createElement("div",{className:A.a.headerWrapper},a.createElement("div",{className:A.a.header},e)),j=({cardsVM:e,transition:t,onTransitionEnd:n,scrollEl:o,state:s,cardsListScrollManager:l,isMaster:c,capabilities:u,comparator:d,children:p,cardListFlow:h=m.a,checksFeedItem:g=b})=>{const f=s.get().currentLens.meta,v=O.a.Elements.create();return a.createElement(a.Fragment,{key:f.id},a.createElement(N.FixedContent,{label:f.title},a.createElement(r.a.div,Object.assign({},Object(i.c)(t.pipe(y.a.map(e=>e.title))),{onTransitionEnd:n}),p),a.createElement(N.SeeAlerts,{key:"seeAlerts",cardsViewportState:C.c.getCardsViewportState(s,l,u),actionEvents:e.actionEvents,cardsAmount:s.view("currentLens").view(u.getVisibleAlertsCount)})),a.createElement(O.a,{name:f.id,stateSyncListener:O.a.superScrollListener(l,v),height:C.c.getAssistantHeight(s,l,u),className:t.pipe(y.a.map(e=>e.assistantWrapper)),isMaster:c},a.createElement(T,{elements:v,cardsVM:e,cardsListScrollView:l,scrollEl:o,lensView:s.lens(k.e.Prism.getLens()),transition:t,state:s,cardListFlow:h,onTransitionEnd:n,checksFeedItem:g,capabilities:u,comparator:d})))},T=({elements:e,cardsVM:t,cardsListScrollView:n,scrollEl:s,lensView:c,transition:u,state:d,onTransitionEnd:p,capabilities:f,comparator:S,cardListFlow:w=m.a,checksFeedItem:k=b})=>{const E=new y.a.ReplaySubject;v.a.useEffectOnDidMount(()=>e.lens("scrollProvider").set(s.get())),v.a.useSubscriptionTo(E.pipe(y.a.tap(t=>e.lens("scrollConsumer").set(t))));const O=C.c.getScrollObserver(n).pipe(y.a.startWith(!1));return a.createElement(a.Fragment,null,a.createElement("div",{className:A.a.fakeTop,ref:t=>e.lens("viewport").set(o.g.fromNullable(t))}),a.createElement("div",{className:A.a.viewport},a.createElement(r.a.div,Object.assign({},Object(i.c)(A.a.lensviewContentWrapper,u.pipe(y.a.map(e=>e.content))),{onTransitionEnd:p}),l.b.mount(g.a,()=>C.c.getPlaceholderState(d,n)),l.b.mount(h.a.cardList(k(t.actionEvents)),w(t,c,E,O,f,S)))))},M=_.a.OutcomeContext;var N,P;(P=N||(N={})).Title=_.a.Title,P.SeeAlerts=({cardsViewportState:e,actionEvents:t,cardsAmount:n})=>{const i=a.useContext(c.a.Context).sidebar;return v.a.useSubscriptionTo(e.pipe(y.a.distinctUntilChanged(),y.a.withLatestFrom(n),y.a.tap(([e,n])=>{switch(e){case w.a.above:case w.a.below:t.next({type:S.b.Type.moreAlertsButtonShow,position:e,cardsAmount:n});break;case w.a.hidden:break;default:Object(s.c)(e)}}))),a.createElement(r.a.Fragment,null,e.pipe(y.a.distinctUntilChanged(),y.a.combineLatest(n,(e,n)=>{switch(e){case w.a.above:return a.createElement("div",{className:A.a.seeAlertsContainer},a.createElement(u.a.Primary,{name:"top-see-alerts",className:A.a.topSeeAlerts,onClick:()=>t.next({type:S.b.Type.switchToClosestByViewport,position:e,cardsAmount:n})},i.seeAlerts(n),a.createElement(p.d.Arrow,{width:"12",direction:p.a.up})),a.createElement("div",{className:A.a.topStack}));case w.a.below:return a.createElement("div",{className:A.a.seeAlertsContainer},a.createElement(u.a.Primary,{name:"bottom-see-alerts",className:A.a.bottomSeeAlerts,onClick:()=>t.next({type:S.b.Type.switchToClosestByViewport,position:e,cardsAmount:n})},i.seeAlerts(n),a.createElement(p.d.Arrow,{width:"12",direction:p.a.down})),a.createElement("div",{className:A.a.bottomStack}));case w.a.hidden:return null;default:return Object(s.c)(e)}})))},P.Rechecking=({className:e})=>a.createElement(r.a.div,Object.assign({key:"lensview-loader"},Object(i.c)(e,A.a.rechecking)),a.createElement(E.a,null)),P.FixedContent=({onTransitionEnd:e,label:t,children:n})=>a.createElement(d.a.Top,{onTransitionEnd:e,className:A.a.fixedLensContent,"aria-label":t,role:"region"},n)},a0Ed:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n("ERkP"),r=n("rk+4"),i=n("hoSD");const o=({value:e,currency:t})=>{const n="USD"===t?"$":t+" ";return a.createElement(a.Fragment,null,n,i.f.formatPrice(e))},s=({value:e,currency:t,periodInMonths:n})=>{const i=e/Math.max(1,n),s=a.useContext(r.a.Context).changePlan;return a.createElement(a.Fragment,null,a.createElement(o,{currency:t,value:i}),"/",s.perMonth)},l=({value:e,currency:t,periodInMonths:n})=>{const i=12*(e/Math.max(1,n)),s=a.useContext(r.a.Context).changePlan;return a.createElement(a.Fragment,null,a.createElement(o,{currency:t,value:i}),"/",s.perYear)}},aYRv:function(e,t,n){"use strict";n.d(t,"c",(function(){return Ka.a})),n.d(t,"b",(function(){return dt.a})),n.d(t,"a",(function(){return Za}));var a=n("h6df"),r=n("lrqh"),i=n("6fbX"),o=n("D9EC"),s=n("IL1e"),l=n("PrA7"),c=n("zI3C"),u=n("dE97"),d=n("GUi3"),p=n("+w1e"),m=n("zicx"),h=n("BeBM"),g=n("bFfh"),f=n("GGUR"),b=n("zR/0"),y=n("gy42"),v=n("W39u"),S=n("uIDj"),C=n("UEGg"),w=n("umZW"),k=n("NfPf"),E=n("VAoy"),O=n("3Wty"),A=n("giVc"),_=n("TA71"),x=n("AHUR");function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){M(e,t,n[t])}))}return e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=function(){function e(t,n,a,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new c.b;j(this,e),this._sduiService=t,this._sduiManager=n,this._sduiFeedManager=a,this._focusedItem=r,this._platformEnvironment=i,this._log=l.Monitoring.Logging.getLogger("SduiViewModelImpl",l.Logging.LogLevel.DEBUG),this._subs=new f.a.Keeper,this.sduiActionEvents=new b.a.Subject,this._sduiAlertIdResolver=R(this._sduiManager.alertIdResolver,this._log),this._subs.push(this._handleSduiActions(),this._handleSduiCardOnFocus(),this._handleSduiCardOnBlur(),this._handleSduiFeedRemove(),this._handleSduiFeedEmpty(),this._handleSduiOnEmptyEvents())}var t,n,o;return t=e,(n=[{key:"onAssistantClose",value:function(){var e=this;Object(a.m)(this._sduiFeedManager.currentFeed,r.g.map((function(e){return e.feedId})),r.g.chain((function(t){return O.a.get(t)(e._sduiManager.state.get())})),r.g.chain((function(e){return Object(a.m)(x.a.findFirst(e.content,"assistantFeed"),r.g.filter((function(e){return Array.isArray(e.onAssistantClose)&&e.onAssistantClose.length>0})),r.g.map((function(t){return[t,e]})))})),r.g.map((function(t){var n=P(t,2),a=n[0],r=n[1];return e.sduiActionEvents.next({type:m.a.Type,sourceId:a.id,cardId:r.id,actions:a.onAssistantClose,scope:{alertRefs:r.alertIds}})})))}},{key:"_handleSduiOnEmptyEvents",value:function(){var e=this;return this._sduiManager.onAlertsRefEmpty.pipe(b.a.withLatestFrom(this._focusedItem),b.a.filter((function(e){var t=P(e,2),n=t[0].sduiRootId,i=t[1];return Object(a.m)(i,r.g.filter((function(e){return e===n})),r.g.isSome)})),b.a.map((function(e){return P(e,1)[0]}))).subscribe((function(t){var n=t.sduiId,a=t.sduiRootId,r=t.emptyStrongAlertRef;return e.sduiActionEvents.next({type:m.a.Type,sourceId:n,cardId:a,actions:r.onEmpty,scope:{alertRefs:r.alertIds}})}))}},{key:"_handleSduiFeedRemove",value:function(){var e=this;return this._sduiFeedManager.onFeedRemove.subscribe((function(t){Object(i.f)("assistantFeed"===t.content.type),e.sduiActionEvents.next({type:m.a.Type,sourceId:t.id,cardId:t.id,actions:t.content.onRemove,scope:{alertRefs:[]}})}))}},{key:"_handleSduiFeedEmpty",value:function(){var e=this;return this._sduiFeedManager.onFeedEmpty.subscribe((function(t){Object(i.f)("assistantFeed"===t.content.type),t.content.onEmpty&&e.sduiActionEvents.next({type:m.a.Type,sourceId:t.id,cardId:t.id,actions:t.content.onEmpty,scope:{alertRefs:[]}})}))}},{key:"_handleSduiCardOnBlur",value:function(){var e=this;return this._focusedItem.pipe(b.a.pairwise(),b.a.map((function(t){var n=P(t,1)[0];return Object(a.m)(n,r.g.chain((function(t){return Object(a.m)(e._sduiManager.findFirstCardWithContent(t),r.g.filter(A.a.isAssistantCardContent),r.g.map((function(e){return[e,t]})))})))})),b.b.compact,b.a.tap((function(t){var n=P(t,2),i=n[0],o=i.card,s=i.parentStrongAlertRef,l=n[1];e.sduiActionEvents.next({type:m.a.Type,sourceId:o.id,cardId:l,actions:o.onBlur,scope:{alertRefs:Object(a.m)(s,r.g.map((function(e){return e.alertIds})),r.g.getOrElse(Object(a.g)(r.a.empty)))}})}))).subscribe()}},{key:"_handleSduiCardOnFocus",value:function(){var e=this;return this._focusedItem.pipe(b.b.compact,b.a.map((function(t){return Object(a.m)(e._sduiManager.findFirstCardWithContent(t),r.g.map((function(e){return[e,t]})))})),b.b.compact).subscribe((function(t){var n=P(t,2),i=n[0],o=i.card,s=i.parentStrongAlertRef,l=n[1];e._sduiFeedManager.notifyCardFocused(l),e.sduiActionEvents.next({type:m.a.Type,sourceId:o.id,cardId:l,actions:o.onFocus,scope:{alertRefs:Object(a.m)(s,r.g.map((function(e){return e.alertIds})),r.g.getOrElse((function(){return[]})))}})}))}},{key:"_handleSduiActions",value:function(){var e=this;return this.sduiActionEvents.pipe(b.a.skipBy(m.a.eq),b.a.tap((function(t){var n=t.cardId,o=t.sourceId,s=t.actions,l=t.scope,c=e;e._log.info("sdui card action:",{cardId:n,actions:s,scope:l}),s.forEach((function(e){switch(e.type){case"notify":return void c._sduiService.sendUserAction(e.sourceId||o,e.userAction);case"removeRoot":var t=c;return void requestAnimationFrame((function(){t._sduiManager.pushRemovedRoot([S.a.Item.Id.from(n),_.c.RemoveRootSDUIAction])}));case"applyAlerts":case"closeCard":return;case"removeAlerts":var s=c;return void Object(a.m)(c._sduiAlertIdResolver(l.alertRefs),r.g.tap((function(){var e=s;requestAnimationFrame((function(){e._sduiManager.pushRemovedAlerts([l.alertRefs.map(S.a.AlertId.from),_.c.RemoveAlertsSDUIAction])}))})));case"highlightAlert":case"nextCard":case"prevCard":case"openSettings":case"openToneDetector":case"openFeedback":case"upgradeToPremium":case"openLearnMore":case"transition":case"openCreateSnippetModal":case"nativeOpenAssistant":case"showHighlights":case"hideHighlights":case"stopApplyingAlerts":case"selectAlternative":return;case"openLink":return void c._platformEnvironment.actions.openPopup(new w.a(e.url));case"copyToClipboard":return;case"pushAssistantFeed":var u=c;return void requestAnimationFrame((function(){return Object(a.m)(u._sduiFeedManager.pushFeed(S.a.Item.Id.from(e.feedId),e.cardId),r.b.mapLeft((function(e){return u._log.error(e),e})))}));case"popAssistantFeed":var d=c;return void requestAnimationFrame((function(){return d._sduiFeedManager.popFeed()}));case"focusAssistantCard":var p=c;return void requestAnimationFrame((function(){return p._sduiFeedManager.focusCard(e.cardId)}));case"switchView":var h={where:e.where,selected:e.selected,sduiRootId:S.a.Item.Id.from(n)};return c._switchCallerCard(h),c._switchActiveCard(h),c._switchActiveFeed(h),void c._switchActivePopover(h);case"newRevision":return;case"interactPopover":var g=c._sduiManager.popoverManager.getInteractionActions(e.rootPopoverId,e.popoverViewId,e.interaction);return void(g.length>0&&c.sduiActionEvents.next({type:m.a.Type,sourceId:e.rootPopoverId,cardId:e.popoverViewId,actions:g,scope:l}));case"closePopover":return c._sduiManager.popoverManager.removePopover(e.rootPopoverId),void c.sduiActionEvents.next({type:m.a.Type,sourceId:e.rootPopoverId,cardId:e.rootPopoverId,actions:[{type:"removeRoot"}],scope:l});case"openGrammarlyGo":return;default:Object(i.d)(e)}}))}))).subscribe()}},{key:"_switchCallerCard",value:function(e){this._sduiManager.pushSwitchView(e)}},{key:"_switchActiveCard",value:function(e){var t=this;Object(a.m)(this._focusedItem.get(),r.g.filter((function(t){return e.sduiRootId!==t})),r.g.tap((function(n){return t._sduiManager.pushSwitchView(N({},e,{sduiRootId:S.a.Item.Id.from(n)}))})))}},{key:"_switchActiveFeed",value:function(e){var t=this;Object(a.m)(this._sduiFeedManager.currentFeed,r.g.filter((function(t){return t.feedId!==e.sduiRootId})),r.g.tap((function(n){var a=n.feedId;return t._sduiManager.pushSwitchView(N({},e,{sduiRootId:a}))})))}},{key:"_switchActivePopover",value:function(e){var t=this;this._sduiManager.popoverManager.activePopoverView.pipe(b.a.first()).subscribe(r.g.tap((function(n){var a=n.rootPopoverId;t._sduiManager.pushSwitchView(N({},e,{sduiRootId:a}))})))}},{key:"dispose",value:function(){this._subs.dispose()}}])&&T(t.prototype,n),o&&T(t,o),e}();function R(e,t){return function(n){return Object(a.m)(n,s.C(e),s.I(r.g.option),r.g.tapLeft((function(){return t.error("Could not resolve strong alert ref for ".concat(JSON.stringify(n)))})),r.g.filter(s.z),r.g.tapLeft((function(){return t.error("Strong alert refs are empty")})))}}var B=n("LNSM");function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}var z,$=function(){function e(t,n,i,o,u,d,p){var m,g=arguments.length>7&&void 0!==arguments[7]?arguments[7]:new c.b,C=this;D(this,e),this._checksFeedCapabilities=n,this._lensState=i,this._alertReader=d,this._platformEnvironment=g,this._log=l.Monitoring.Logging.getLogger("SDUICardsViewModelImpl",l.Logging.LogLevel.DEBUG),this._subs=new f.a.Keeper,this.actionEvents=new b.a.Subject,this._focusedItem=this._lensState.view((function(e){return h.e.hasItems(e)?Object(a.m)(e.currentLens.cardIndex,r.g.chain((function(t){return e.currentLens.items.getAt(t)}))):r.g.none})),this._mapToDenaliAlerts=function(e){var t=C;return Object(a.m)(e,s.K(r.g.option)((function(e){return t._alertReader.getById(t._mapToDenaliAlertId(e))})),r.g.filter(s.z))},this._sduiAlertIdResolver=R(o.alertIdResolver,this._log);var w=B.a.create(r.g.none);this._sduiViewModel=new L(t,o,u,w,g),this.sduiActionEvents=this._sduiViewModel.sduiActionEvents,(m=this._subs).push.apply(m,W(this._integrateCardsViewModel(p)).concat([Object(a.m)(this._focusedItem,b.a.distinctUntilChanged((function(e,t){return r.g.getEq(v.a.eqById).equals(e,t)})),b.a.map(r.g.chain(r.g.fromPredicate(k.a.isSDUIItem))),b.a.map(r.g.map((function(e){return S.a.Item.Id.from(e.id)})))).subscribe(y.b.toAtom(w)),this._sduiViewModel]))}var t,n,o;return t=e,(n=[{key:"_integrateCardsViewModel",value:function(e){return[this.actionEvents.subscribe(e.actionEvents),e.actionEvents.pipe(b.a.filter(m.a.isSduiCardAction)).subscribe(this.sduiActionEvents)]}},{key:"_sduiActionsHandler",value:function(){var e=this;return this.sduiActionEvents.pipe(b.a.skipBy(m.a.eq),b.a.map((function(t){var n=t.cardId,o=t.actions,l=t.scope;return function(t){var c=e;return e._log.info("sdui card action:",{cardId:n,actions:o}),Object(a.m)(o,s.E(t,(function(e,t){switch(t.type){case"notify":return e;case"removeRoot":return Object(a.m)(e.currentLens.items.get(n),r.g.map((function(e){return e.value})),r.g.map(c._checksFeedCapabilities.remove(a.d,a.d)),r.g.map((function(t){return h.e.Prism.getLens().compose(g.a.Prism.items).set(e.currentLens.items.modifyWith([[t.id,t]],(function(){return t})),e)})),r.g.getOrElse(Object(a.g)(e)));case"applyAlerts":var o=c;return Object(a.m)(e.currentLens.items.get(n),r.g.map((function(e){return e.value})),r.b.fromOption((function(){return new Error("unknown cardId: ".concat(n))})),r.b.bimap((function(e){return o._log.error("error in processing applyAlerts action",e)}),(function(e){var n=o;Object(a.m)(o._sduiAlertIdResolver(l.alertRefs),r.g.tap((function(i){var o=n;requestAnimationFrame((function(){var n=o;Object(a.m)(i,o._mapToDenaliAlerts,r.g.map(s.C((function(a){return n.actionEvents.next({type:p.b.Type.alertApply,id:e.id,eligibleForSurvey:a.acceptSurvey,eligibleForGbPrompt:a.gbPrompt,alertId:a.id,alternativeIndex:t.alternativeIndex,cardType:p.b.getCardType({activeAlert:C.a.fromModel(a)})})}))))}))})))})),(function(){return e.patch({alertSource:u.b.sidebar})}));case"closeCard":return e.patch({currentLens:h.e.hasItems(e)?c._checksFeedCapabilities.unselectItem()(e.currentLens):e.currentLens,switchOrder:"lensOrder",alertSource:u.b.sidebar});case"removeAlerts":var d=c;return Object(a.m)(c._sduiAlertIdResolver(l.alertRefs),r.g.tap((function(e){var t=d;requestAnimationFrame((function(){var i=t;Object(a.m)(e,t._mapToDenaliAlerts,r.g.map(s.C((function(e){return i.actionEvents.next({type:p.b.Type.alertIgnore,id:n,alertId:e.id,eligibleForSurvey:e.dismissSurvey})}))))}))}))),e.patch({alertSource:u.b.sidebar});case"highlightAlert":return Object(a.m)(c._sduiAlertIdResolver(l.alertRefs),r.g.chain(c._mapToDenaliAlerts),r.g.map((function(t){if(!h.e.hasItems(e))return e;var n=function(e,t){return function(n){return Object(a.m)(n.items.update(e,(function(e){return Object(a.m)(e,r.g.fromPredicate(E.a.isAlertRefSDUIItem),r.g.chain(E.a.Capabilities.setActiveAlertId(t)),r.g.getOrElse(Object(a.g)(e)))})),r.b.fold((function(){return n}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){V(e,t,n[t])}))}return e}({},n,{items:e})})))}},i=t[0];return Object(a.m)(h.k.getActiveItem(e.currentLens),r.g.map((function(t){return h.e.Prism.getLensWithItems().modify(n(t.id,i.id),e)})),r.g.map((function(e){return e.patch({alertSource:u.b.sidebar})})),r.g.getOrElse(Object(a.g)(e)))})),r.g.getOrElse(Object(a.g)(e)));case"nextCard":case"prevCard":case"openSettings":case"openToneDetector":case"openFeedback":case"upgradeToPremium":case"openLearnMore":case"transition":case"openCreateSnippetModal":case"nativeOpenAssistant":return e;case"showHighlights":case"hideHighlights":case"selectAlternative":return e;case"openLink":return c._platformEnvironment.actions.openPopup(new w.a(t.url)),e;case"copyToClipboard":return e;case"pushAssistantFeed":case"popAssistantFeed":case"focusAssistantCard":case"switchView":case"newRevision":return e;case"stopApplyingAlerts":case"closePopover":case"interactPopover":case"openGrammarlyGo":return e;default:Object(i.d)(t)}})))}})))}},{key:"getApplicatorEffects",value:function(){return Object(a.m)([[this._sduiActionsHandler(),"sduiActions"]],r.a.map((function(e){var t=U(e,2),n=t[0],a=t[1];return{id:"cardsViewModel.effects.".concat(a),when:d.a.isWithAlertsId,what:h.e.Effect.Applicator.create(n)}})))}},{key:"onAssistantClose",value:function(){this._sduiViewModel.onAssistantClose()}},{key:"dispose",value:function(){this._subs.dispose()}},{key:"_mapToDenaliAlertId",value:function(e){return"".concat(e)}}])&&H(t.prototype,n),o&&H(t,o),e}();!function(e){e.itemsLens=h.e.Prism.getLens().compose(g.a.Prism.items),e.createLegacy=function(e,t,n,i,o,s,l){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:new c.b;return Object(a.m)(r.g.sequenceT(e,i,o),r.g.fold((function(){return new z.Mock}),(function(e){var a=U(e,3),r=a[0],i=a[1],o=a[2];return new $(r,t,n,i,o,s,l,u)})))};e.Mock=function e(){D(this,e),this.actionEvents=new b.a.Subject,this.sduiActionEvents=new b.a.Subject,this.sideEffect={id:"cardsViewModelMock",when:d.a.isWithAlertsId,what:h.e.Effect.Applicator.create(b.a.EMPTY)},this.getApplicatorEffects=function(){return[{id:"cardsViewModelMock",when:d.a.isWithAlertsId,what:h.e.Effect.Applicator.create(b.a.EMPTY)}]},this.onAssistantClose=o.e,this.dispose=o.e}}(z||(z={}));var G,K,Y,Z=n("91hE");function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Y=G||(G={}),((K=Y.PrevNextNavigation||(Y.PrevNextNavigation={})).Events||(K.Events={})).fromSduiCardActions=Object(a.h)(b.a.map((function(e){var t=Object(a.m)(e.actions,s.i(Z.d.Action.isTransitionAction));return e.actions.find((function(e){return"prevCard"===e.type}))?r.g.some({kind:"prevClicked",transitions:t}):e.actions.find((function(e){return"nextCard"===e.type}))?r.g.some({kind:"nextClicked",transitions:t}):r.g.none})),b.b.compact),K.sideEffect=function(e,t,n){return{id:"SingleCardAssistant.prevNextNavigation",when:h.e.Effect.When.isSidebarOpen,what:h.e.Effect.ItemsApplicator.create(Object(a.m)(e,b.a.withLatestFrom(t.pipe(b.a.filter(h.e.hasCards))),b.a.map((function(e){var t=Q(e,2),n=t[0],i=t[1];return Object(a.m)(i.currentLens.cardIndex,r.g.chain((function(e){return i.currentLens.items.getAt("nextClicked"===n.kind?e+1:e-1)})))})),b.b.compact,b.a.map((function(e){return function(t){return h.e.Prism.getLensWithItems().modify(n.selectItemById(e.id),t)}}))))}};var J,ee,te,ne=n("f9Xq");function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){re(e,t,n[t])}))}return e}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}ee=J||(J={}),te=Object(o.l)(l.Monitoring.Logging.getLogger),(ee.DisablePrevNextButtons||(ee.DisablePrevNextButtons={})).create=function(e){var t=te("SingleCardAssistant.Transformers.disablePrevNextButtons");return function(n){var i=n.state,o=n.metadata;if(!h.e.hasItems(i))return t.trace("state has no feed items, returning original state"),r.b.left({state:i,metadata:o});var s=i;return Object(a.m)(s.currentLens.cardIndex,r.g.chain((function(e){return Object(a.m)(h.k.getActiveItem(i.currentLens),r.g.map((function(t){return Object(a.n)(t,e)})))})),r.g.map((function(t){var n=oe(t,2),a=n[0],o=n[1];return h.e.Prism.getLensWithItems().modify((function(t){if(!k.a.isSDUIItem(a)||!r.g.isSome(a.cardDSL))return t;var n=e.clone(a),s=r.g.unsafeGet(n.cardDSL),l=!1,c=x.a.map(s,(function(e){if("button"===e.type&&e.name.value===ne.a.ComponentKnownName.ButtonPrev){var t=0===o?ne.a.ButtonState.Disabled:ne.a.ButtonState.Enabled;return l=l||t!==e.state,ie({},e,{state:t})}if("button"===e.type&&e.name.value===ne.a.ComponentKnownName.ButtonNext){var n=o===i.currentLens.items.size-1?ne.a.ButtonState.Disabled:ne.a.ButtonState.Enabled;return l=l||n!==e.state,ie({},e,{state:n})}return e}));return r.g.isSome(c)&&l?(n=Object.assign(n,{cardDSL:c}),ie({},t,{items:t.items.add(n)})):t}),s)})),r.g.getOrElse((function(){return i})),(function(e){return r.b.left({state:e,metadata:o})}))}};var se,le,ce=n("OA+g"),ue=n("I7vG"),de=n("tslA"),pe=n("bYZB"),me=n("NaPV"),he=n("Xo/A"),ge=n("8zjg"),fe=n("mH/M"),be=n("aIes"),ye=n("a5W6"),ve=n("hoSD");!function(e){const t=e=>t=>Object(ue.pipe)(t,r.g.map(Object(ce.flow)(ye.filterMap(t=>e.getAlertByMark(t)),ye.sort(r.h.contramap(({alert:{lensType:e,lensPriority:t}})=>({type:e,priority:t}))(d.a.ord)))));e.fromMarksEvents=(e,n)=>({activeHighlights:Object(ue.pipe)(n.activeMarks,b.a.map(t(e))),hoveredHighlights:Object(ue.pipe)(n.hoveredMarks,b.a.map(t(e)))})}(se||(se={})),(le||(le={})).Mock=class{constructor(){this.alertHovered=new b.a.Subject,this.alertClicked=new b.a.Subject,this.highlightedAlert=B.a.create(r.g.none)}};class Se{constructor(e,t,n,a,r,i){this._ded=e,this._state=t,this._markAlertMapper=n,this._alertsReader=a,this._getActiveItemWithAlert=r,this._resolveClickedAlert=i,this._impl=new Ce(se.fromMarksEvents(this._markAlertMapper,this._ded),this._state,this._alertsReader,this._getActiveItemWithAlert,this._resolveClickedAlert),this.alertHovered=this._impl.alertHovered,this.alertClicked=this._impl.alertClicked}}class Ce{constructor(e,t,n,a,i){this._highlightEvents=e,this._state=t,this._alertsReader=n,this._getActiveItemWithAlert=a,this._resolveClickedAlert=i,this._focusedItem=this._state.view(h.e.getActiveItem(this._getActiveItemWithAlert)),this._focusedLens=this._state.view("currentLens"),this.alertHovered=this._highlightEvents.hoveredHighlights.pipe(b.a.map(r.g.map(ye.map(({alert:e})=>e))),b.a.scan((e,t)=>Object(ue.pipe)(t,r.g.chain(t=>Object(ue.pipe)(e,r.g.filter(e=>-1!==t.indexOf(e)),r.g.fold(()=>r.g.fromNullable(t[0]),r.g.some)))),r.g.none),b.a.map(r.g.filter(e=>this._alertsReader.isInteractable(e.id)&&!C.a.isPlagiarism(e))),b.a.distinctUntilChanged()),this.alertClicked=this._highlightEvents.activeHighlights.pipe(b.a.withLatestFrom(this._focusedItem,this._focusedLens),b.a.scan((e,[t,n,a])=>{const i=t=>Object(ue.pipe)(e,r.g.exists(e=>e.alert.id===t.alert.id)),s=e=>Object(ue.pipe)(n,r.g.exists(t=>t.activeAlert.id===e.alert.id)),l=e=>a.meta.filter(e.alert);return Object(ue.pipe)(t,r.g.chain(e=>{var t;return Object(ue.pipe)(e,null!==(t=this._resolveClickedAlert)&&void 0!==t?t:ve.a.findByPredicateList([Object(o.b)(i,s),s,Object(o.b)(i,l),l,i]),r.g.fold(()=>r.g.fromNullable(e[0]),r.g.some),r.g.map(e=>ve.e.update(e,{highlightIndex:e.alert.hasNestedHighlights?0:e.highlightIndex})))}))},r.g.empty()),b.a.shareReplay({refCount:!0,bufferSize:1}))}}var we=n("b/mo"),ke=n("3gHY"),Ee=n("Ei+9"),Oe=n("3yNE"),Ae=n("+MLo"),_e=n("C53H"),xe=n("uqkn"),Ie=n("IVzZ"),je=n("GRZr"),Te=n("86p/");const Me=(e,t,n,a,i=g.a.WithSuccess.State.isInGlobalSuccess(a),o=(()=>!0))=>s=>{const{currentLens:l}=s;return l.kind===h.f.abstract?r.g.none:l.kind===h.f.persistent?Object(ue.pipe)(r.g.fromPredicate(h.e.hasItems)(s),r.g.chain(e=>a.getActiveAlert(e.currentLens)),r.g.fold(()=>h.e.hasItems(s)?a.findNextAlert(s.currentLens):r.g.none,t=>e.findNextAlertInTextByLens(t,g.a.WithPriority.nonPriorityAlertsVisible(s),Object(ce.unsafeCoerce)(s.currentLens))),r.g.alt(()=>o()&&(i(s)||d.a.isOutcomeId(s.currentLens.id)&&e.hasZeroFreeAlerts(n))?e.findPremiumAlert():r.g.none),r.g.map(Te.a.toLensAlert)):Object(ue.pipe)((i=>{const o=r.g.fromPredicate(h.e.hasItems)(i);return Object(ue.pipe)(o,r.g.chain(e=>a.findNextAlert(e.currentLens)),r.g.map(Te.a.toLensAlert),r.g.alt(()=>Object(ue.pipe)(o,r.g.chain(e=>a.getActiveAlert(e.currentLens)),r.g.fold(()=>t(u.a.isRegisteredApplicableAlert,"cursor"),t=>e.findNextAlertInText(t,u.a.isApplicableAlert)),r.g.map(({alert:e,highlightIndex:t})=>({alert:e,highlightIndex:t,lensId:n.get()})))))})(s),r.g.alt(()=>Object(ue.pipe)(e.findPremiumAlert(),r.g.map(Te.a.toLensAlert))))};const Ne=e=>e.pipe(b.a.pairwise(),b.a.first(([e,t])=>"idle"!==e&&"idle"===t),b.a.map(()=>{}));class Pe{constructor(e,t){this._subs=new f.a.Keeper,this.firstOpeningOfDocumentWithAlerts=B.a.create(!1);const n=Ne(e),a=(e=>Object(ue.pipe)(e,b.a.filter(e=>h.e.hasCards(e)&&r.g.isSome(h.k.getActiveItem(e.currentLens))),b.a.map(()=>{})))(t);this._subs.push(Object(ue.pipe)(t,b.a.first(e=>h.e.hasCards(e)),b.a.switchMap(()=>Object(ue.pipe)(b.a.mergeStatic(a,n),b.a.map(ce.constFalse),b.a.startWith(!0))),b.a.tap(y.b.toAtom(this.firstOpeningOfDocumentWithAlerts))).subscribe())}dispose(){this._subs.dispose()}}var Le;!function(e){const t=Object(o.l)(l.Monitoring.Logging.getLogger);e.focusFirstCardAfterBigCheck=(e,n,a,i,o)=>{const s=Ne(n),l=n.pipe(b.a.startWith("idle"),b.a.pairwise(),b.a.first(([e,t])=>"idle"===t),b.a.filter(([e])=>"full"===e),b.a.map(()=>{}));const c=((e,t)=>{const n=Ne(e);return t.bigPaste.pipe(b.a.switchMap(()=>n),b.a.map(()=>{}),b.a.shareReplay({bufferSize:1,refCount:!0}))})(n,i);return Object(ue.pipe)(b.a.mergeStatic(s,l,c),b.a.withLatestFrom(e,o,a),b.a.filter(([e,t,n,a])=>a&&!n&&h.e.hasCards(t)&&r.g.isNone(h.k.getActiveItem(t.currentLens))),b.a.map(()=>h.e.Effect.FocusBehavior.focusFirst),b.a.tap(e=>t("AutoFocus.sideEffects.focusFirstCardAfterBigCheck").trace("emit: ",e)))},e.getSideEffect=(e,t)=>{const n=Object(ue.pipe)(e,b.a.map((e=>t=>n=>{switch(t.kind){case h.e.Effect.FocusBehaviorType.noFocus:return n;case h.e.Effect.FocusBehaviorType.unFocus:return h.e.Prism.getLensWithItems().modify(e.unselectItem(),n);case h.e.Effect.FocusBehaviorType.focusFirst:return Object(ue.pipe)(e.findFirstAlert(n.currentLens),r.g.fold(()=>n,t=>h.e.Prism.getLensWithItems().modify(e.selectItemByAlert(t),n)));case h.e.Effect.FocusBehaviorType.focusNext:return Object(ue.pipe)(e.findNextAlert(n.currentLens),r.g.fold(()=>n,t=>h.e.Prism.getLensWithItems().modify(e.selectItemByAlert(t),n)));case h.e.Effect.FocusBehaviorType.focusAlert:return h.e.Prism.getLensWithItems().modify(e.selectItemByAlert(t.alertHighlight),n);default:Object(i.c)(t)}})(t)));return{id:"autoFocusEffect",when:d.a.isWithAlertsId,what:h.e.Effect.ItemsApplicator.create(n)}},e.whenFirstOpeningDocumentWithAlerts=e=>()=>e.firstOpeningOfDocumentWithAlerts.get(),e.whenShouldVerifyCurrentLens=(e,n)=>a=>{const i="AutoFocus.stateValidator.whenShouldVerifyCurrentLens";return!(!h.e.hasItems(a)||!n.shouldVerify(a.currentLens))&&(Object(ue.pipe)(h.e.getActiveAlert(e)(a),r.g.filter(u.a.isInDuplicatedState),r.g.fold(()=>t(i).debug("Current alert removed, should verify current lens..."),e=>t(i).info("Current alert removed as it's a duplicate, should verify current lens...",e.toString()))),!0)},e.whenNoActiveCard=e=>e.currentLens.items.size>0&&r.g.isNone(h.k.getActiveItem(e.currentLens)),e.behaviorToEffect=e=>n=>a=>Object(ue.pipe)(n(a)?e(a):r.g.none,r.g.tap(e=>t("AutoFocus.stateValidator").debug("'behavior triggered: "+e.kind))),e.getDefaultBehavior=(t,n)=>Object(ue.pipe)([Object(ue.pipe)(e.whenShouldVerifyCurrentLens(t,n),e.behaviorToEffect(()=>r.g.some(h.e.Effect.FocusBehavior.focusNext)))],Object(je.fold)(Object(je.getFunctionMonoid)(r.g.getFirstMonoid())())),e.getAlwaysFocusBehavior=(t,n)=>Object(ue.pipe)([Object(ue.pipe)(Object(o.p)(e.whenNoActiveCard,e.whenShouldVerifyCurrentLens(t,n)),e.behaviorToEffect(()=>r.g.some(h.e.Effect.FocusBehavior.focusNext)))],Object(je.fold)(Object(je.getFunctionMonoid)(r.g.getFirstMonoid())())),e.getFocusFromCacheBehavior=(t,n,a,i,s,l)=>Object(ue.pipe)([Object(ue.pipe)(e.whenShouldVerifyCurrentLens(i,s),e.behaviorToEffect(()=>r.g.some(h.e.Effect.FocusBehavior.focusNext))),Object(ue.pipe)(Object(o.b)(()=>n.get(),Object(o.b)(Object(o.b)(Object(o.b)(e.whenFirstOpeningDocumentWithAlerts(a),()=>t),e.whenNoActiveCard),Object(ue.pipe)(l,r.g.map(e=>Object(ce.not)(e.willShowBulkAccept)),r.g.getOrElse(()=>ce.constTrue)))),e.behaviorToEffect(()=>r.g.some(h.e.Effect.FocusBehavior.focusFirst)))],Object(je.fold)(Object(je.getFunctionMonoid)(r.g.getFirstMonoid())())),e.getFirstApiAlignmentOverride=function(){const e=B.a.create(!0);return(t,n)=>{let a=n;return e.get()&&n===u.b.api&&(a=u.b.text),e.set(!1),a}},e.getShouldAutoFocus=(e,t,n)=>a=>e.get()&&Object(ue.pipe)(a,h.e.getActiveAlert(n),r.g.chain(({id:e})=>t.getById(e)),r.g.filter(Object(o.p)(e=>"APPLIED"===e.state.type&&"ByCard"===e.state.method,u.a.isDuplicated,u.a.isCapiDone)),r.g.isSome),e.getShouldAutoFocusSDUI=e=>t=>e.get()&&Object(ue.pipe)(t,h.e.getLens,r.g.chain(r.g.fromPredicate(e=>e.items.size>0)),r.g.isSome),e.getStateTransformer=(e,n,a,o,s,l,c)=>({state:u,metadata:d})=>{const p=t("AutoFocus.stateTransformer");if(!h.e.hasCards(u)||!h.e.hasItems(u))return p.trace("state has no items, returning original state"),r.b.left({state:u,metadata:d});const m=e(u);if(p.trace("effect: ",{state:u,metadata:d,effect:m}),r.g.isNone(m))return p.trace("no effect selected, returning original state"),r.b.left({state:u,metadata:d});if(l(m.value),m.value.kind===h.e.Effect.FocusBehaviorType.unFocus||m.value.kind===h.e.Effect.FocusBehaviorType.noFocus)return r.b.left({state:h.e.Prism.getLensWithItems().modify(o.unselectItem(),u),metadata:d});const g=s(u);return p.trace("shouldAutoFocus",{alertSource:u.alertSource,shouldAutoFocus:g}),Object(ue.pipe)(m,r.g.chain(e=>{switch(e.kind){case h.e.Effect.FocusBehaviorType.noFocus:case h.e.Effect.FocusBehaviorType.unFocus:return r.g.none;case h.e.Effect.FocusBehaviorType.focusFirst:return Object(ue.pipe)(o.findFirstAlert(u.currentLens),r.g.map(e=>Object.assign(Object.assign({},e),{lensId:u.currentLens.id})));case h.e.Effect.FocusBehaviorType.focusNext:return n(u);case h.e.Effect.FocusBehaviorType.focusAlert:return r.g.some(Object.assign(Object.assign({},e.alertHighlight),{lensId:u.currentLens.id}));default:Object(i.c)(e)}}),r.g.map(e=>(Object(i.f)(r.g.isSome(a.getRegistered(e.alert.id)),"lens alert should be in registered state",()=>e.alert.toString()),e)),r.g.fold(()=>(p.trace("no alert selected, returning original state"),u.currentLens.kind===h.f.active?r.b.right(r.b.right({lensId:c.get(),alertSource:u.alertSource,options:{order:u.switchOrder,toFocus:h.e.Effect.FocusBehavior.noFocus}})):r.b.left({state:u,metadata:d})),({alert:e,highlightIndex:t,lensId:n})=>{if(p.trace("selected alert to focus",e),u.currentLens.meta.filter(e)){if(g){const n={alert:e,highlightIndex:t};return Object(ue.pipe)(u.currentLens.items.find(o.hasAlert(e.id)),r.g.fold(()=>(p.trace("shouldAutoFocus: true, no such item in a lens for given alert",e.id),r.b.left({state:u,metadata:d})),()=>(p.trace("shouldAutoFocus: true, selecting alert"),r.b.left({state:h.e.Prism.getLensWithItems().modify(o.selectItemByAlert(n),u),metadata:{sourceId:"LSM.updateActiveState"}}))))}return p.trace("shouldAutoFocus: false"),r.b.left({state:u,metadata:d})}return p.trace("alert is not from current lens, recreating lens view"),r.b.right(g?r.b.left({alertHighlight:{alert:e,highlightIndex:t},alertSource:u.alertSource,options:{lensId:n,order:u.switchOrder,toFocus:h.e.Effect.FocusBehavior.focusFirst}}):r.b.right({lensId:n,alertSource:u.alertSource,options:{order:u.switchOrder,toFocus:h.e.Effect.FocusBehavior.noFocus}}))}))}}(Le||(Le={}));var Re,Be=n("U75S"),Fe=n("Arv5"),De=n("yA7V"),He=n("K4Sz"),Ve=n("YJiV"),Ue=n("C7EH");!function(e){let t;e.MIN_ACCEPTABLE_COUNT=4,e.getFocusFirstFilter=(t,n)=>({visibleAlerts:a,alertSource:i,lensId:s,alertHighlight:l})=>Object(ue.pipe)(l,r.g.filter(()=>"text"===i||!d.a.isMainLens(s)||Object(ue.pipe)(a,r.a.map(e=>Object(ue.pipe)(t.getById(e.id),r.g.filter(n.alertIsBulkAcceptable(s)),r.g.map(C.a.fromModel),r.g.filter(Object(o.b)(C.a.isDefault,Object(ce.not)(C.a.isBulkApplied))))),r.a.compact).length<e.MIN_ACCEPTABLE_COUNT)),function(t){t.create=(t,n)=>({getBulkAcceptableAlerts:a(n),willShowBulkAccept:Object(ce.flow)(h.e.mapper(e=>Object(ue.pipe)(t.get(),a(n)(e.currentLens.id))),r.g.map(t=>t.length>=e.MIN_ACCEPTABLE_COUNT),r.g.getOrElse(ce.constFalse))})}(t=e.BulkAcceptReader||(e.BulkAcceptReader={}));const n=Object(o.l)(l.Monitoring.Logging.getLogger);e.getStateTransformer=(e,t,i,o,s,u)=>{let p=!1;return m=>{const{state:f,metadata:y}=m,v=n("BulkAccept.stateTransformer",l.Logging.LogLevel.TRACE,l.Logging.LogColor.Manager.getColor());if(p)return r.b.left({state:f,metadata:y});if(!h.e.hasItems(f)||!d.a.isMainLens(f.currentLens.id)||!h.e.isLensview(f))return r.b.left(m);const S=Object(ue.pipe)(He.a.find(f.currentLens.items,Ue.a.isBulkAcceptItem),r.g.map(ve.e.pick("value")));return Object(ue.pipe)(S,r.g.exists(e=>"dismissed"===e.visibilityState))?(v.debug("Bulk Accept was dismissed by user. The transformer will skip processing the lens state till the end of the session."),p=!0,r.b.left(m)):Object(ue.pipe)(e.get(),a(t)(f.currentLens.id),r.g.map(c(S,i,v)),r.g.map(e=>Object(ue.pipe)(S,r.g.fold(()=>{const t=Ue.a.create(e,(n=f.currentLens.id,Ve.b.toCardRenderOptions(u,n,b.a.of(r.g.none))));var n;if(Ue.a.isInAppliedState(t))return f;v.debug("adding new BulkAcceptItem to the current lens");const a="text"===f.alertSource;return s.onShow(e.length,a),a?h.e.Prism.getLens().compose(g.a.Prism.items).set(f.currentLens.items.add(t),f):h.e.Prism.getLens().set(Object(ce.unsafeCoerce)(Object(ue.pipe)(f.currentLens,o.unselectItem(),e=>Object.assign(Object.assign({},e),{items:e.items.add(t)}),o.selectItemById(Ue.a.id))),f)},t=>{if(Ue.a.efficientAlertEq.equals(e,t.alerts))return v.trace("BulkAcceptItem exists and did not change, returning the original state"),f;{const n=Object(ue.pipe)(e,Fe.M,C.a.isBulkApplied);return Object(ue.pipe)(e,Fe.M,C.a.isBeingApplied)||n&&Ue.a.isInUndoneState(t)?(v.trace("BulkAcceptItem is in undone state, skipping update with applied alerts"),f):Ue.a.isInAppliedState(t)?(v.debug("Items changed, removing applied BulkAcceptItem from lens"),h.e.Prism.getLens().compose(g.a.Prism.items).set(f.currentLens.items.remove(t.id),f)):(v.debug("updating BulkAcceptItem with new alerts"),h.e.Prism.getLens().compose(g.a.Prism.items).set(f.currentLens.items.add(Ue.a.updateAlerts(t,e)),f))}}))),r.g.getOrElse(()=>Object(ue.pipe)(S,r.g.fold(()=>f,e=>Ue.a.isInUndoneState(e)?(v.trace("BulkAcceptItem is in undone state, returning original state"),f):(v.debug("removing BulkAcceptItem from the current lens"),h.e.Prism.getLens().compose(g.a.Prism.items).set(f.currentLens.items.remove(e.id),f))))),e=>r.b.left({state:e,metadata:y}))}};const a=t=>n=>a=>Object(ue.pipe)(n,r.g.fromPredicate(d.a.isMainLens),r.g.map(e=>Object(ue.pipe)(a,De.a.reduce([],(n,a)=>Object(ue.pipe)(a,r.g.fromPredicate(n=>t.alertIsBulkAcceptable(e)(n.alert)||u.a.State.isBulkApplied(n.state)||u.a.isBeingAppliedinBulk(n.alert)),r.g.map(ve.e.pick("alert")),r.g.map(C.a.fromModel),r.g.filter(C.a.isDefault),r.g.fold(()=>n,e=>(n.push(e),n)))))),r.g.map(r.a.partition(C.a.isBulkApplied)),r.g.chain(({left:t,right:n})=>n.length>0?r.g.some(n):t.length>=e.MIN_ACCEPTABLE_COUNT?r.g.some(t):r.g.none)),i=(e,t)=>n=>Object(ue.pipe)(e,r.g.map(ve.e.pick("alerts")),r.g.chain(Be.S(e=>e.id===n.id)),r.g.chain(ve.e.pick("diff")),r.g.alt(()=>t(n))),s=(e,t)=>n=>Object(ue.pipe)(n.getTransform(),r.g.map(ve.e.pick("content")),r.g.chain(r.g.fromEither),r.g.map(e=>e.alternatives.slice(0,1)),r.g.map(e),r.g.chain(r.b.fold(e=>(t.error("Could not hydrate diff",{e,alert:C.a.snapshot(n)}),r.g.none),Be.ib))),c=(t,n,a)=>r=>Object(ue.pipe)(r,Be.ub(o=>Object.assign(Object.assign({},o),{diff:Object(ue.pipe)(o,i(t,s(n,a))),ignoreAllowed:r.length>e.MIN_ACCEPTABLE_COUNT})))}(Re||(Re={}));var We,qe=n("94k3"),ze=n("tn8Q"),$e=n("HqKA"),Ge=n("PyeZ");!function(e){let t;!function(e){e.apply="apply",e.dismiss="dismiss",e.bulkUndo="bulkUndo",e.ignore="ignore",e.highlight="highlight",e.individualUndo="individualUndo",e.confirmed="confirmed",e.confirmedAll="confirmedAll"}(t=e.Kind||(e.Kind={})),e.isApply=function(e){return e.kind===t.apply},e.isBulkUndo=function(e){return e.kind===t.bulkUndo},e.isConfirmAll=function(e){return e.kind===t.confirmedAll},e.isHighlight=function(e){return e.kind===t.highlight},e.isIndividualUndo=function(e){return e.kind===t.individualUndo},e.create=(e,n)=>b.a.mergeStatic(e.pipe(b.a.filter(p.b.isBulkAction),b.a.map(e=>{switch(e.type){case p.b.Type.bulkApply:return{kind:t.apply,alertIds:e.alertIds};case p.b.Type.bulkDismiss:return{kind:t.dismiss};case p.b.Type.bulkHighlight:return{kind:t.highlight,alert:e.alert,clickPoint:e.clickPoint};case p.b.Type.bulkIgnore:return{kind:t.ignore,alertId:e.alertId};case p.b.Type.bulkIndividualUndo:return{kind:t.individualUndo,alertId:e.alertId};case p.b.Type.bulkLooksGood:return{kind:t.confirmedAll,alertIds:e.alertIds};case p.b.Type.bulkUndo:return{kind:t.bulkUndo,alertIds:e.alertIds};default:Object(i.c)(e)}})),n.pipe(b.a.filter(Ge.b.isBulkAction),b.a.map(e=>{switch(e.type){case Ge.b.Type.confirmed:return{kind:t.confirmed,alertId:e.alertId};case Ge.b.Type.undone:return{kind:t.individualUndo,alertId:e.alertHighlight.alert.id};default:Object(i.c)(e)}})))}(We||(We={}));var Ke,Ye=n("E0zP");!function(e){const t=Object(o.l)(l.Monitoring.Logging.getLogger),n=()=>t("BulkAcceptSideEffects"),a=e=>n().error("Bulk accept item not found in lens state",{effectId:e}),i=(e,t)=>n().error("Alert does not exist in AlertsCollection",{alertId:e,effectId:t});e.selectNextCardOnBulkAcceptConfirmed=(e,t,a,i)=>e.pipe(b.a.filter(We.isConfirmAll),b.a.withLatestFrom(a,i),b.a.filter(([,e,n])=>n&&h.e.hasCards(e)&&d.a.isMainLens(e.currentLens.id)&&r.g.isNone(t(e.currentLens))),b.a.map(()=>h.e.Effect.FocusBehavior.focusNext),b.a.tap(e=>n().trace("selectNextCardOnBulkAccept emit: ",e)));const s=e=>Object(ue.pipe)(e.currentLens.items.find(Ue.a.isBulkAcceptItem),r.g.map(e=>e.value));e.createEffects=function({actions:e,tracking:t,alertService:l,alertsReader:d,enableMPTE:p=!1}){const m=new Map,f=e=>{p&&(m.has(e.id)&&b(e.id),Object(ue.pipe)(l.takeReference(e,"BulkAccept"),r.b.fold(e=>n().error("failed to hold reference to bulk accepted alert",e),t=>m.set(e.id,t))))},b=e=>{if(p){const t=m.get(e);void 0!==t&&(t.dispose(),m.delete(e))}},y=()=>{p&&(m.forEach(e=>e.dispose()),m.clear())},v=[{actionToHandle:We.Kind.apply,handler:({kind:e})=>i=>(requestAnimationFrame(()=>Object(ue.pipe)(s(i),r.g.map(ve.e.pick("alerts")),r.g.map(Be.ub(e=>(f(e),e.id))),r.g.fold(()=>a(e),e=>{t.onAccept(e.length),Object(ue.pipe)(l.applyBulk(e,$e.b.getSubTypeFromLens(i.currentLens.id)),ze.a.tapFailure(e=>n().error("error calling alert service to apply alerts bulk",e)))}))),i)},{actionToHandle:We.Kind.dismiss,handler:({kind:e})=>n=>Object(ue.pipe)(s(n),r.g.fold(()=>(a(e),n),e=>{t.onDismiss(e.alerts.length);const a=Ue.a.dismiss(e);return h.e.Prism.getLens().compose(g.a.Prism.items).set(n.currentLens.items.modifyWith([[e.id,a]],()=>a),n)}))},{actionToHandle:We.Kind.bulkUndo,handler:({kind:e})=>n=>Object(ue.pipe)(s(n),r.g.fold(()=>(a(e),n),e=>{y(),t.onBulkUndo(e.alerts.length),requestAnimationFrame(()=>{l.undoBulk(e.alerts.map(e=>e.id),$e.b.getSubTypeFromLens(n.currentLens.id))});const a=Ue.a.undo(e);return h.e.Prism.getLens().compose(g.a.Prism.items).set(n.currentLens.items.modifyWith([[e.id,a]],()=>a),n)}))},{actionToHandle:We.Kind.ignore,handler:({alertId:e,kind:i})=>o=>Object(ue.pipe)(o,((e,t)=>Object(ce.flow)(s,r.g.map(ve.e.pick("alerts")),r.g.chain(Object(ce.flow)(Be.S(t=>t.id===e),r.g.tapLeft(()=>t.error("Alert not found in BulkAcceptItem"))))))(e,n()),r.g.fold(()=>(a(i),o),a=>(f(a),t.onIgnore(a.patternName),Object(ue.pipe)(l.applyFeedback(e,{kind:qe.a.AlertFeedbackType.IGNORE,subtype:$e.b.getSubTypeFromLens(o.currentLens.id)},u.b.text),r.b.fold(e=>n().error("error sending ignore feedback",e),ce.constVoid)),o)))},{actionToHandle:We.Kind.individualUndo,handler:({alertId:e,kind:a})=>s=>Object(ue.pipe)(d.getById(e),r.g.fold(()=>(i(e,a),s),a=>(p&&s.currentLens.items.filter(Object(o.b)(Ye.a.isWithAlertsItem,e=>u.a.isRemoved(e.activeAlert))).values().forEach(e=>b(e.activeAlert.id)),t.onRevert(a.patternName),Object(ue.pipe)(l.applyFeedback(e,{kind:qe.a.AlertFeedbackType.IGNORE_BULK_ACCEPTED,subtype:$e.b.getSubTypeFromLens(s.currentLens.id)},u.b.text),r.b.fold(e=>n().error("error sending undo feedback",e),ce.constVoid)),s)))},{actionToHandle:We.Kind.confirmed,handler:({alertId:e,kind:a})=>o=>Object(ue.pipe)(d.getById(e),r.g.fold(()=>(i(e,a),o),e=>(b(e.id),t.onLooksGood(),Object(ue.pipe)(l.confirmApplied([e.id]),r.b.fold(e=>n().error("error during individual confirm",e),ce.constVoid)),o)))},{actionToHandle:We.Kind.confirmedAll,handler:({alertIds:e})=>a=>(y(),t.onAllLooksGood(e.length),Object(ue.pipe)(l.confirmApplied(e),r.b.fold(e=>n().error("error during bulk confirm of applied alerts",e),ce.constVoid)),a)},{actionToHandle:We.Kind.highlight,handler:({kind:e,alert:n})=>i=>Object(ue.pipe)(s(i),r.g.fold(()=>(a(e),i),e=>{const a=Object(ue.pipe)(h.e.Prism.getLens().compose(g.a.Prism.items).set(i.currentLens.items.add(Object(ue.pipe)(e,Ue.a.selectAlert(n.id))),i),e=>({currentLens:e.currentLens,alertSource:u.b.sidebar}));return t.onSuggestionClick(n.patternName),i.patch(a)}))}];return Object(ue.pipe)(v,r.f.map(c(e)))};const c=e=>({actionToHandle:t,handler:n})=>{const a=e.pipe(b.a.map(e=>a=>e.kind===t?n(e)(a):a));return{id:"bulkAcceptSideEffect-"+t,when:d.a.isWithAlertsId,what:h.e.Effect.Applicator.create(a)}}}(Ke||(Ke={}));var Ze,Xe,Qe=n("2GrK"),Je=n("+5S2"),et=n("XxrX"),tt=n("Xojx"),nt=n("WOQ9"),at=n("s+3N"),rt=n("VwWj"),it=n("OOrw");(Xe=Ze||(Ze={})).nothing=r.b.left,Xe.liftLensState=function(e){return t=>r.b.left(Object.assign(Object.assign({},t),{state:e(t.state)}))},Xe.liftWithItemsState=function(e){return t=>r.b.left(Object.assign(Object.assign({},t),{state:h.e.hasItems(t.state)?h.e.Prism.getLensWithItems().modify(e,t.state):t.state}))},Xe.liftLensView=function(e){return t=>r.b.left(Object.assign(Object.assign({},t),{state:h.e.hasCards(t.state)?h.e.Prism.getLens().modify(e,t.state):t.state}))};var ot,st=n("Z86f"),lt=n("6oPm"),ct=n("XCjp"),ut=n("7b34");!function(e){function t(e){return([t,n])=>Object(ue.pipe)(De.a.diff(t,n),ut.a.reduce(!1,ce.identity,(t,{alert:n})=>u.a.isApplied(n)&&n.state.undoable.action===qe.a.AlertFeedbackType.IGNORE&&r.g.isSome(e.getAlertMuteCategory(n.id)),ce.identity))}e.showCardMuteOnboarding=function(e,n,a,r,i,o){return{id:"mutingAlertDismissed",when:ce.constTrue,what:h.e.Effect.Applicator.create(n.state.pipe(b.a.takeUntil(e.pipe(b.a.filter(ce.identity))),b.a.pairwise(),b.a.filter(t(a)),b.a.scan(e=>e+1,0),b.a.filter(e=>2===e),b.a.switchMap(r),b.a.tap(e=>{"closedByUser"===e?i():"shown"===e&&o()}),b.a.switchMap(()=>b.a.NEVER)))}}}(ot||(ot={}));var dt=n("lRnN"),pt=n("3hQ2"),mt=n("FuGm"),ht=n("8Js9");const gt=e=>{const t=e[0];switch(Object(i.f)(void 0!==t,"undoables should had at least one item"),t.action){case qe.a.AlertFeedbackType.IGNORE:return{kind:"ignore"};case qe.a.AlertFeedbackType.ADD_TO_DICTIONARY:return{kind:"addToDictionary",word:t.replacement};case qe.a.AlertFeedbackType.WRONG_SUGGESTION:case qe.a.AlertFeedbackType.OFFENSIVE_CONTENT:return{kind:"report"};case qe.a.AlertFeedbackType.ACCEPTED:return e.length>1?{kind:"bulkAccept",count:e.length}:{kind:"replace",word:t.replacement};case qe.a.SynonymFeedbackType.SYNONYM_ACCEPTED:return{kind:"replaceSynonym"};case qe.a.LensFeedbackType.DISMISS_BY_LENS:return{kind:"ignoreAll",alerts:e.length};case qe.a.AlertFeedbackType.LIKE:return{kind:"markAsHelpful"};case qe.a.AlertFeedbackType.DISLIKE:return{kind:"markAsNotHelpful"};case qe.a.AlertFeedbackType.ACKNOWLEDGED:return{kind:"acknowledge"};default:throw new Error("Invalid undoable action "+t.action)}};function ft(e,t,n){return e().pipe(b.a.tap(e=>{"closedByUser"===e&&t()}),b.a.filter(e=>"shown"!==e),b.a.map(e=>["undo","bulkUndo"].includes(e)?e:"commit"),b.a.merge(n().pipe(b.a.mapTo("commit"))),b.a.first())}var bt,yt,vt;function St(e,t){return[{id:e+"_showUndoNotifications",when:ce.constTrue,what:h.e.Effect.Applicator.create(t.pipe(b.a.switchMapTo(b.a.NEVER)))},{id:e+"_changeLensWhenThereWasNoPreviouslyFocusedAlert",when:e=>e!==d.a.SpecialId.Closed,what:h.e.Effect.SwitchLens.create(t.pipe(b.a.filter(e=>r.g.isNone(e.previouslyFocused)),b.a.map(({lensId:e})=>({lensId:e,alertSource:u.b.sidebar,options:{toFocus:h.e.Effect.FocusBehavior.noFocus}}))))},{id:e+"_focusPreviouslyActiveAlert",when:e=>e!==d.a.SpecialId.Closed,what:h.e.Effect.SwitchAlert.create(t.pipe(b.a.map(e=>Object(ue.pipe)(e.previouslyFocused,r.g.map(t=>({alertHighlight:t,alertSource:u.b.sidebar,options:{lensId:e.lensId}})))),b.b.compact))}]}function Ct(e){return!u.a.isCitationDetection(e)}function wt(e,t,n){return Object(ue.pipe)(e,r.g.map(e=>{const a=t.find(t=>t.id===e.activeAlert.id);return Object(i.f)(void 0!==a,"Undone alerts should contain previously focused alert",e.activeAlert.id),Object(i.f)(Object(ue.pipe)(n.getById(a.id),r.g.isSome),"Undone alerts should exist in alert list",a.id),Object(i.f)(u.a.isRegistered(a),"Undoed alert should be in registered state",()=>String(a)),{alert:C.a.fromModel(a),highlightIndex:e.activeHighlightIndex}}))}(bt||(bt={})).create=function(e,t,n){return St("individual_undo_applied",e.pipe(b.a.filter(We.isIndividualUndo),b.a.tap(({alertId:e})=>Object(ue.pipe)(e,t.getById,r.b.fromOption(()=>new i.b("Could not find alert by id while processing individual undo event",e)),r.b.filterOrElse(u.a.isApplied,e=>new i.b("Alert is not in the applied state",e.toString())),r.b.chain(e=>n.undoApplied([e],u.a.State.Applied.Method.Bulk)()),r.b.getOrElse(e=>l.Monitoring.Logging.getLogger("BulkAcceptedIndividualUndoSideEffect").error("Could not process an individual undo event",e)))),b.a.switchMapTo(b.a.NEVER),b.a.share()))},(yt||(yt={})).create=function(e,t,n,a){return St("bulk_undo_applied",e.pipe(b.a.filter(We.isBulkUndo),b.a.switchMap(y.b.Scheduler.rafScheduler),b.a.map(({alertIds:e})=>e.map(t.getById)),b.a.map(ye.compact),b.a.tap(e=>{Object(ue.pipe)(n.undoApplied(e,u.a.State.Applied.Method.Bulk)(),r.b.fold(e=>l.Monitoring.Logging.getLogger("BulkUndoSideEffect").error("Could not perform bulk undo",e),()=>a.onBulkUndo(e.length)))}),b.a.switchMapTo(b.a.NEVER),b.a.share()))},(vt||(vt={})).create=function(e,t,n,a,i,o){return St("undo_applied",e.state.pipe(b.a.pairwise(),b.a.map(([e,t])=>Object(ue.pipe)(De.a.diff(e,t),ut.a.reduce([],ce.identity,(e,t)=>(u.a.isApplied(t.alert)&&!u.a.isBulkApplied(t.alert)&&e.push(t.alert),e),ce.identity))),b.a.map(Object(ce.flow)(ye.filter(Ct),ye.map(e=>Object(ue.pipe)(e.takeReference("undoNotification"),r.b.bimap(t=>Object(ce.tuple)(e,t),t=>Object(ce.tuple)(e,t)))))),b.a.map(ye.separate),b.a.map(({left:e,right:t})=>(ye.isNonEmpty(e)&&o.warn("can not take alertRef",e),t)),b.a.filter(ye.isNonEmpty),b.a.switchMap(s=>{const l=n.get(),c=s.map(([e])=>e),d=c.map(e=>e.state.undoable),p=s.map(ht.d);return i(d).pipe(b.a.map(n=>"undo"===n?Object(ue.pipe)(e.undoApplied(c,u.a.State.Applied.Method.ByCard)(),r.b.fold(e=>(o.error("Got error during undo",e),r.g.none),()=>h.e.hasCards(l)?r.g.some({lensId:l.currentLens.id,previouslyFocused:wt(h.e.getActiveItem(a)(l),c,t)}):r.g.none)):r.g.none),b.a.finalize(()=>p.forEach(e=>e.dispose())),b.b.compact)}),b.a.share()))};var kt,Et=n("mEc7"),Ot=n("nQSW"),At=n("Pe9T"),_t=n("Fgeo"),xt=n("LTbp"),It=n("FiSa"),jt=n("4ae2"),Tt=n("24uI");class Mt{constructor(e){this._ded=e,this._pushChanges=e=>xt.o(()=>this._ded.pushChanges(It.a.delta(e,this._ded.getTextLength()),"user"),r.b.toError),this._getContents=Object(ue.pipe)(xt.o(this._ded.getContents,r.b.toError),r.l.fromIOEither)}get selectedRange(){const e=this._ded.getCursor();return{start:e.index,end:e.length+e.index}}replaceCurrentSelectionWith(e){return this.insertContent(e,{onNewLine:!1,replace:!0,preserveSelection:!1})}insertContent(e,t){return Object(ue.pipe)(r.l.fromIO(this._ded.flushChanges),r.l.apSecond(Object(ue.pipe)(r.l.fromIO(()=>{const{start:e,end:n}=this.selectedRange;return{start:e,deleteDelta:t.replace&&n>e?(new jt.a).delete(n-e):new jt.a}}),r.l.map(Boolean(t.onNewLine)?Pt:Nt),r.l.ap(this._getContents))),r.l.chainFirst(Object(ce.flow)(t=>(new jt.a).retain(t.start).concat(e).concat(t.deleteDelta),this._pushChanges,r.l.fromIOEither)),r.l.chain(({start:n})=>()=>new Promise(a=>requestAnimationFrame(()=>a(this._ded.setCursor(n,Boolean(t.preserveSelection)?e.length():0))))))}}function Nt(e){return()=>e}function Pt(e){const t=e.start,n=e=>Tt.a.isInsertString(e)&&e.insert.includes("\n"),a=Tt.a.findInDelta(n,e=>e.insert.indexOf("\n"));return i=>Object(ue.pipe)(i,({delta:e})=>e.slice(t),a,r.g.getOrElse(()=>i.delta.length()),((e,a)=>r=>{const i=a.delta;let o=1;if(0===t)1===i.length()&&(o=0);else if(t>0&&n(i.slice(t-1,t).ops[0])){const e=i.slice(t,t+1).ops[0];Boolean(e)?n(e)&&(o=0):o=0}return e+r+o})(t,i),t=>Object.assign(Object.assign({},e),{start:t}))}(kt||(kt={})).create=()=>({doubleClickedWord:new b.a.Subject});var Lt,Rt,Bt=n("sv6e"),Ft=n("vz4c");!function(e){e.OVERRIDE_NEXT_PAY_DATE_FOR_DEBUG_KEY="OVERRIDE_NEXT_PAY_DATE_FOR_DEBUG_KEY",e.create=function({nextPayDate:n,currentPlan:a},i,s=be.c.DenaliStorage.fromLocalStorage(be.c.ls)){Object(o.r)("gbSatisfactionSurveyModelOverrideNextPayDateForDebug",t=>s.setItem(e.OVERRIDE_NEXT_PAY_DATE_FOR_DEBUG_KEY,t));const l=ve.d.Local.parseDate(Object(ue.pipe)(s.getItem(e.OVERRIDE_NEXT_PAY_DATE_FOR_DEBUG_KEY),r.g.getOrElse(()=>n)));return a?Object(ue.pipe)(r.g.fromEither(l),r.g.map(t),r.g.map(e=>({daysFromInstitutionCreation:e,isAdmin:i.admin,isTrial:!0===a.hasTrial}))):r.g.none};const t=e=>{const t=ve.d.Local.Timestamp,n=ve.d.Local.daysAgo(e,7);return Math.floor(t.subtract(t.now(),n)/ve.d.MS_IN_DAY)}}(Lt||(Lt={})),function(e){let t=null;e.create=function({currentPlan:e,nextPayDate:i,expirationDate:s}){var l;Object(o.r)("premiumSurveyModelOverridePremiumEndDate",e=>t=e);const c=ve.d.Local.parseDate(null!==(l=null!=t?t:i)&&void 0!==l?l:s);return e?Object(ue.pipe)(r.g.fromEither(c),r.g.map(n(e.periodMonths)),r.g.map(t=>({weeksPassedFromLastPayment:t,currentPlanType:a(e)}))):r.g.none};const n=e=>t=>{const n=ve.d.Local.Timestamp.toLocal(ve.d.Local.monthsAgo(t,e));return ve.d.Local.toTimestamp(ve.d.Local.subtract(ve.d.Local.now(),n))/ve.d.MS_IN_WEEK};function a(e){switch(e.periodMonths){case 1:return"Monthly";case 3:return"Quarterly";default:return"Annual"}}}(Rt||(Rt={}));var Dt=n("CvSs"),Ht=n("D8Xd"),Vt=n("+ukg"),Ut=n("+dDf");var Wt;!function(e){e[e.Inactive=0]="Inactive",e[e.ListenCrossSession=1]="ListenCrossSession",e[e.ListenCurrentSession=2]="ListenCurrentSession"}(Wt||(Wt={}));var qt,zt;!function(e){function t(e,t){return{type:e,currentSessionRules:[b.a.EMPTY,t.pipe(b.a.filter(h.e.isLensview),b.a.pairwise(),b.a.filter(([e,t])=>!Ut.a.isInGlobalSuccess(e)&&Ut.a.isInGlobalSuccess(t)),b.a.debounceTime(2e3))],crossSessionRules:e=>b.a.of({counter:e.counter+1}),get defaultData(){return{actual:!0,counter:0,wasClosedAt:r.g.none}},getState(e){const t=Date.now()-Object(ue.pipe)(e.wasClosedAt,r.g.fold(()=>0,e=>e.getTime()));return!e.actual||t<7*ve.d.MS_IN_DAY?Wt.Inactive:e.counter>=3?Wt.ListenCurrentSession:Wt.ListenCrossSession},transform:e=>Ht.a.isCloseAction(e)?{actual:!1}:{wasClosedAt:r.g.some(new Date)}}}e.getMostActiveUsers=function(e){return{type:_t.p.MostActiveUsers,currentSessionRules:t(_t.p.MostActiveUsers,e).currentSessionRules,crossSessionRules:e=>b.a.of({lastThreeVisits:e.lastThreeVisits.concat([(new Date).toISOString()]).slice(-3)}),get defaultData(){return{passed:!1,lastThreeVisits:[]}},getState:e=>e.passed?Wt.Inactive:e.lastThreeVisits.length<3||Date.now()-new Date(e.lastThreeVisits[0]).getTime()>7*ve.d.MS_IN_DAY?Wt.ListenCrossSession:Wt.ListenCurrentSession,transform:()=>({passed:!0})}},e.getDefault=t;const n=e=>{const t=ve.d.Local.toTimestamp(e),n=ve.d.Local.daysAgo(ve.d.Local.now(),14);return t>=ve.d.Local.monthsAgo(ve.d.Local.now(),12)&&t<=n};e.getProofit=function(e,t,a,o,s){const l=a.modal.pipe(b.a.first(r.g.isSome),b.a.mapTo({actual:!1}));return{type:_t.p.ProofitPromo,crossSessionRules:()=>b.a.throwError(new i.b("Proofit Survey invalid cross session observable")),get currentSessionRules(){const i=e.textInfo.pipe(b.a.map(r.g.filter(e=>e.wordsCount>=200)),b.a.concatMap(r.g.fold(()=>b.a.EMPTY,()=>a.requestStatistics())),b.b.compact,b.a.map(e=>e.lastCompletedJobDate),b.b.compact,b.a.filter(n)),c=t.textChangedAfterPaste.pipe(b.a.filter(e=>"partial"!==e.type),b.a.switchMapTo(i));return[l,s.view(e=>e===Vt.q.enabled).pipe(b.a.switchMap(y.b.orEmpty(b.a.mergeStatic(o.isUploaded()?i:b.a.EMPTY,c).pipe(b.a.first()))))]},get defaultData(){return{actual:!0}},getState:e=>e.actual?Wt.ListenCurrentSession:Wt.Inactive,transform:e=>("getStarted"===e&&a.showOrderModal(),{actual:!1})}},e.getPremiumOnboarding=function(e){return{type:_t.p.PremiumOnboarding,crossSessionRules:()=>b.a.throwError(new i.b("Premium Onboarding Survey invalid cross session observable")),defaultData:{afterFirstWeek:!1,afterSecondWeek:!1},currentSessionRules:[b.a.EMPTY,b.a.of(e).pipe(b.a.filter(r.g.exists(e=>e.weeksPassedFromLastPayment>1)),b.a.delay(2e3))],getState:t=>Object(ue.pipe)(e,r.g.fold(()=>Wt.Inactive,({weeksPassedFromLastPayment:e})=>e>2&&!t.afterSecondWeek||e>1&&!t.afterFirstWeek?Wt.ListenCurrentSession:Wt.Inactive)),transform:t=>({[Object(ue.pipe)(e,r.g.exists(e=>e.weeksPassedFromLastPayment>2))?"afterSecondWeek":"afterFirstWeek"]:Ht.a.isCloseAction(t)})}},e.getGBSatisfaction=function(e){return{type:_t.p.GBSatisfaction,crossSessionRules:()=>b.a.throwError(new i.b("GB Satisfaction Survey invalid cross session observable")),defaultData:{firstAppearance:!1,secondAppearance:!1,surveyCompleted:!1},currentSessionRules:[b.a.EMPTY,b.a.of(e).pipe(b.a.filter(r.g.exists(e=>e.daysFromInstitutionCreation>=3)),b.a.delay(2e3))],getState:t=>t.surveyCompleted?Wt.Inactive:Object(ue.pipe)(e,r.g.fold(()=>Wt.Inactive,({daysFromInstitutionCreation:e})=>e>=5&&!t.secondAppearance||e>=3&&!t.firstAppearance?Wt.ListenCurrentSession:Wt.Inactive)),transform:t=>Ht.a.isCloseAction(t)?{[Object(ue.pipe)(e,r.g.exists(e=>e.daysFromInstitutionCreation>=5))?"secondAppearance":"firstAppearance"]:!0}:{surveyCompleted:"completeSurvey"===t}}}}(qt||(qt={})),(zt||(zt={})).create=function(e,t,n,a){const s=l.Monitoring.Logging.getLogger("SurveyManager"),c=t.getSurveyModel(e.type).view(r.g.getOrElse(()=>e.defaultData)),u=new b.a.BehaviorSubject(r.g.none),d=[c.view(t=>[e.getState(t),t]).pipe(b.a.distinctUntilChanged(([e],[t])=>e===t),b.a.tap(()=>u.next(r.g.none)),b.a.switchMap(([t,o])=>{switch(t){case Wt.Inactive:return b.a.EMPTY;case Wt.ListenCrossSession:return e.crossSessionRules(o);case Wt.ListenCurrentSession:const[s,l]=e.currentSessionRules;return s.pipe(b.a.merge(l.pipe(b.a.switchMapTo(n.state),b.a.filter(e=>e.length<1),b.a.take(1),b.a.switchMap(()=>(u.next(r.g.some(e.type)),a(e.type).pipe(b.a.map(e.transform),b.a.take(1),b.a.finalize(()=>{u.next(r.g.none)})))))));default:return Object(i.c)(t)}})).subscribe(n=>t.setSurveyModel(e.type,ve.e.update(c.get(),n)),e=>s.error("Survey error",e))];return Object(o.r)("survey",{show:()=>c.get(),clear:()=>t.setSurveyModel(e.type,e.defaultData)}),{dispose:()=>d.forEach(e=>e.unsubscribe())}};var $t=n("rmZI"),Gt=n("bSlT");const Kt=e=>t=>({onShow:()=>{e.gnarSpec.gbSatisfactionSurveySurveyShow(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId)},onClose:()=>{e.gnarSpec.gbSatisfactionSurveySurveyClose(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId)},onFirstAnswer:n=>{e.gnarSpec.gbSatisfactionSurveySurveyAnswerFirst(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId,n)},onSecondAnswer:n=>{e.gnarSpec.gbSatisfactionSurveySurveyAnswerSecond(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId,n)},onThirdAnswer:n=>{e.gnarSpec.gbSatisfactionSurveySurveyAnswerThird(t.daysFromInstitutionCreation,t.isAdmin,t.isTrial,e.pageId,n)}});function Yt(e,t,n,a,o,s,l,c,u,d,p){const m=Object(ue.pipe)(d.state.get(),e=>Dt.a.isOk(e)?Rt.create(e.value):r.g.none),h=Object(ue.pipe)(d.state.get(),e=>Dt.a.isOk(e)&&Boolean(e.value.currentPlan)&&r.g.isSome(l.profile.get().institutionInfo)?Lt.create(e.value,r.g.unsafeGet(l.profile.get().institutionInfo)):r.g.none),g=function(e,t,n,a,i){return o=>_t.m.mapBySurveyType(o,()=>e.state.view(r.g.isNone).pipe(b.a.switchMap(y.b.orEmpty(t.enqueue("proofitPromo").pipe(b.a.filter(e=>"shown"!==e))))),e=>t.enqueue("externalSurvey",{surveyType:e}).pipe(b.a.filter(e=>"shown"!==e)),()=>Object(ue.pipe)(n,r.g.map((e=>t=>({onShow:()=>{e.gnarSpec.premiumOnboardingSurveySurveyShow(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType)},onClose:()=>{e.gnarSpec.premiumOnboardingSurveySurveyClose(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType)},onFirstAnswer:n=>{e.gnarSpec.premiumOnboardingSurveySurveyAnswerFirst(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType,n)},onSecondAnswer:n=>{e.gnarSpec.premiumOnboardingSurveySurveyAnswerSecond(t.weeksPassedFromLastPayment>2,e.pageId,t.currentPlanType,n)}}))(i)),r.g.fold(()=>b.a.EMPTY,e=>(e.onShow(),t.enqueue("premiumOnboardingSurvey",{viewModel:new Gt.c(e)}).pipe(b.a.filter(e=>"shown"!==e),b.a.tap(e.onClose))))),()=>Object(ue.pipe)(a,r.g.map(e=>({isAdmin:e.isAdmin,tracking:Kt(i)(e)})),r.g.fold(()=>b.a.EMPTY,({isAdmin:e,tracking:n})=>(n.onShow(),t.enqueue("gbSatisfactionSurvey",{viewModel:new $t.c(n,e)}).pipe(b.a.filter(e=>"shown"!==e),b.a.tap(n.onClose))))))}(c,u,m,h,p);switch(e){case _t.p.FreeClarityAlertsEnabled:case _t.p.FreeClarityAlertsControl:case _t.p.ProofitPromo:return zt.create(qt.getProofit(n,a,o,s,l.features.proofit),l.settings,u,g);case _t.p.PremiumOnboarding:return zt.create(qt.getPremiumOnboarding(m),l.settings,u,g);case _t.p.GBSatisfaction:return zt.create(qt.getGBSatisfaction(h),l.settings,u,g);case _t.p.MostActiveUsers:return zt.create(qt.getMostActiveUsers(t),l.settings,u,g);default:return Object(i.c)(e)}}var Zt=n("j7q7"),Xt=n("mbuk"),Qt=n("+JVj"),Jt=n("kMag"),en=n("Lmm7"),tn=n("9xM8");class nn{constructor(e,t,n,a,i,s,c,u,d,p,m,g){this._inlineManager=e,this._positionManager=t,this._synonymsModel=n,this._state=a,this._networkState=i,this._ded=s,this._notificationsManager=c,this._getActiveItemWithAlert=u,this._trackUndoCloseButton=d,this._trackSynonymPopupOpen=p,this._trackSynonymPopupDismiss=m,this._trackSynonymAccept=g,this._log=l.Monitoring.Logging.getLogger("LegacySynonymsViewModel"),this.viewState=B.a.create(r.g.none),this.popupShown=this.viewState.view(r.g.fold(()=>!1,e=>e.popupVisible)),this._defaultClassName="defaultSynonymClass",this._subs=[],this.disposeFirstSynonym=e=>{this._ded.changeMarks([Zt.a.Change.getRemoveAction({range:()=>r.b.getOrElse(e=>e)(e.range())},Zt.a.Change.RemoveType.full)(e.id)]),this._deregisterRange(e.id)},this.query=e=>(this._ded.flushChanges(),this._synonymsModel.query(e)),this.close=e=>{"closedByUser"===e&&Object(ue.pipe)(this.viewState.get(),r.g.map(e=>e.synonymsState),r.g.filter(Object(o.p)(en.a.isReady,en.a.isEmpty)),r.g.tap(e=>{this._synonymsModel.ignore(e.synonyms.id),this._trackSynonymPopupDismiss(e.pname,e.stats,en.c.getTimeToClose(e.readyAt))})),this._inlineManager.closeSynonyms.next()},this._withRegisteredWord=(e,t)=>b.a.Observable.create(n=>{const a=this._synonymsModel.positionManager.registerRange(Xt.a.SynonymMark.generateActiveWordRandomId(),e),r=t(a).subscribe(n);return()=>{r.unsubscribe(),this._deregisterRange(a.meta.id)}}),this._listenQuery=e=>b.a.Observable.create(t=>(this._request(e).then(n=>{var a;null!==(a=t.closed)&&void 0!==a&&a||Object(ue.pipe)(n,r.g.fold(()=>this.close("error"),n=>t.next([e,n])))}),()=>{this._synonymsModel.abortQuery()})),this._createSynonymsState=([e,t])=>b.a.Observable.create(n=>{const a=this._canShowPopup(t);return Object(ue.pipe)(this._createMark(e,a),i=>Object(ue.pipe)(i.range(),r.b.fold(e=>{this._log.error("Error creating Synonym state",e)},r=>{const o=this._synonymsModel.positionManager.registerRange(i.id,r),s={synonymsState:t,activeWord:e,activeMark:o,popupVisible:a};return n.next(s),()=>{this._deregisterRange(s.activeMark.meta.id),setTimeout(()=>this._removeMark(s),10)}})))}),this._removeMark=e=>{try{this._ded.flushChanges(),Object(ue.pipe)(this._ded.getMarkById(e.activeMark.meta.id),r.b.map(t=>{this._ded.changeMarks([Zt.a.Change.getRemoveAction({range:()=>Object(ue.pipe)(t.range(),r.b.getOrElse(e=>e))},Zt.a.Change.RemoveType.full)(e.activeMark.meta.id)])}))}catch(e){this._log.error("Cannot remove synonym",e)}},this._createMark=(e,t)=>Object(ue.pipe)(this._ded.changeMarks([Zt.a.Change.getCreateAction({range:()=>e,classes:t?[this._defaultClassName,this.style.synonym,this.style.markSelected]:[this._defaultClassName,this.style.markHidden],order:0})(Xt.a.SynonymMark.id)]),e=>e.created.get(Xt.a.SynonymMark.id),r.b.fold(()=>null,ce.identity)),this._emitCloseWhen=b.b.listenWhenSome(()=>b.a.mergeStatic(this._ded.contentUpdated,this._state.view(h.e.getActiveAlert(this._getActiveItemWithAlert)).pipe(b.a.skip(1)),b.a.fromEvent(document,"keydown")).pipe(b.a.mapTo(y.b.voidValue),b.a.tap(()=>this.close("closedByUser")))),this._isOnline=()=>"offline"!==this._networkState.getOnlineStatus(),this.style=Object(tn.a)(),this._handleState()}getFirstSynonymRect(){return this.getFirstSynonym().pipe(b.a.map(r.g.chain(e=>r.g.fromEither(e.getRect()))))}getSynonymMarkRect(e){return r.l.fromEither(this._ded.getMarkRect(e))}scrollToMark(e,t,n){return this._ded.scrollToMark(e,{animate:n,paddingTop:t})}onPopupOpen(){Object(ue.pipe)(this.viewState.get(),r.g.map(e=>e.synonymsState),r.g.filter(Object(o.p)(en.a.isReady,en.a.isEmpty)),r.g.map(({stats:e,pname:t})=>({stats:e,pname:t})),r.g.getOrElse(()=>({stats:en.c.emptySynonymsStats,pname:"unknown"})),({pname:e,stats:t})=>{this._trackSynonymPopupOpen(e,t)})}getFirstSynonym(){return b.a.Observable.create(e=>{let t=r.g.none;const n=an(this._ded.getText()),a=n.length?r.g.some(Qt.b.create(n[0].start,n[n.length-1].end)):r.g.none,i=Object(ue.pipe)(a,r.g.fold(()=>[],e=>this._positionManager.findRanges(t=>Jt.b.isVisible(t)&&Qt.b.isOverlap(t,e)))),o=b.a.from(Promise.all(rn(n,i).map(this.query))).pipe(b.a.map(Object(ce.flow)(Object(ye.findFirst)(en.a.isReady),r.g.chain(e=>{const t=Xt.a.SynonymMark.generateSynonymOnboardingId(e.synonyms.id),n=Qt.b.create(e.query.start,e.query.start+e.query.word.length),a=this._synonymsModel.positionManager.registerRange(t,n);return Object(ue.pipe)(this._ded.changeMarks([Zt.a.Change.getCreateAction({range:()=>a,order:0,classes:[]})(t)]),e=>e.created.get(t),r.g.fromEither)}))),b.a.first()).subscribe(n=>{t=n,e.next(n)});return()=>{r.g.map(this.disposeFirstSynonym)(t),o.unsubscribe()}})}apply(e){const t=this.viewState.get();Object(ue.pipe)(t,r.g.map(({synonymsState:t,activeWord:n})=>{if(!en.a.isReady(t))throw new i.b("Synonym should exist.");this._trackSynonymAccept(t.pname,Object.assign(Object.assign({},t.stats),en.c.getSynonymStats(e,t.synonyms.synonymsOrGroups)),en.c.getTimeToClose(t.readyAt));const a=this._synonymsModel.applySynonym({id:t.synonyms.id,dispose:o.e,range:n},e);ft(()=>this._notificationsManager.enqueue("alertUndo",{params:gt([a])}),this._trackUndoCloseButton,()=>(this._ded.flushChanges(),this._ded.contentUpdated)).subscribe(e=>"commit"===e?a.commit():a.undo())})),this.close("apply")}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_request(e){return this.query({start:e.start,word:e.meta.value}).then(r.g.some).catch(e=>(this._log.error("Error querying synonyms",e),r.g.none))}_canShowPopup(e){return en.a.isReady(e)||en.a.isEmpty(e)}_deregisterRange(e){Object(ue.pipe)(this._synonymsModel.positionManager.findById(e),r.g.fold(o.e,t=>{this._ded.flushChanges(),this._synonymsModel.positionManager.deregisterRange(e)}))}_handleState(){this._subs.push(this._inlineManager.doubleClickedWord.pipe(b.a.switchMap(this._emitCloseWhen),b.a.map(r.g.filter(this._isOnline)),b.b.chain(e=>(this._ded.flushChanges(),this._withRegisteredWord(e,Object(ce.flow)(this._listenQuery,b.a.switchMap(this._createSynonymsState),b.a.map(r.g.some)))))).subscribe(y.b.toAtom(this.viewState),e=>this._log.error("can not change syns state",e)))}}const an=(e,t=10)=>{const n=/( |^)[a-z]{3,}\b/gim,a=[];let r;for(let i=0;(r=n.exec(e))&&i<t;i++){const e=r[0].replace(" ",""),t=n.lastIndex-e.length,i=t+e.length;a.push({start:t,word:e,end:i})}return a},rn=(e,t)=>0===t.length||0===e.length?e:(()=>{const n=e[e.length-1].end,a=t.findIndex(e=>e.start>n),r=a>=0?t.slice(0,a):t;return e.filter(e=>r.every(t=>!(e.start<=t.end&&t.start<=e.end)))})();var on=n("wt7H");var sn=n("O6HF"),ln=n("v7oR");const cn=l.Monitoring.Logging.getLogger("cardsTelemetry"),un=l.Monitoring.TimeSeries.rootFemetrics.getMetric("card.fullChecking");class dn{constructor(e,t,n,a,i){this._telemetry=e,this._cardActions=t,this._lensState=n,this._mutingAlertsReader=a,this._activeAlertGetter=i,this._subs=new f.a.Keeper,this._focusedCardObservable=this._lensState.pipe(b.a.map(h.e.getActiveItem(this._activeAlertGetter)),b.b.compact,b.a.filter(e=>"focused"===e.visualState.transition.type)),this._cardFeedbackFormDismissed=this._lensState.pipe(b.a.map(h.e.getActiveItem(this._activeAlertGetter)),b.b.compact,b.a.pairwise(),b.a.filter(([e,t])=>"feedback_form"===e.visualState.transition.type&&e.id!==t.id),b.a.map(()=>b.a.from(this._telemetry.gnarSpec.feedbackFormCardFormSkipped((this._telemetry.pageId,this._telemetry.pageSessionId))))),this._isFreePremiumAlert=this._lensState.view(e=>Object(ue.pipe)(e,h.e.getActiveItem(this._activeAlertGetter),r.g.chain(({activeAlert:e})=>e.freePremium),r.g.exists(e=>"unlocked"===e))),this._subs.push(this._cardActions.pipe(b.a.map(e=>{switch(e.type){case p.b.Type.alertCardShow:const t=this._lensState.get();return b.a.from(this._telemetry.gnarSpec.alertCardShow(e.cardType,this._isFreePremiumAlert.get(),t.currentLens.id,this._telemetry.pageId,t.switchOrder,this._telemetry.pageSessionId));case p.b.Type.alertMinicardButtonClick:return b.a.from(this._telemetry.gnarSpec.alertMinicardButtonClick(Object(ue.pipe)(e.alertHighlight.alert.freePremium,r.g.exists(e=>"unlocked"===e)),this._telemetry.pageId,this._telemetry.pageSessionId));case p.b.Type.alertApply:const n="timer_cardApply";return Object(ue.pipe)(ln.a.popTimeFromGlobalTimers(n),r.g.fold(()=>l.Monitoring.Logging.getLogger(n).error("Missing start time"),e=>l.Monitoring.TimeSeries.rootFemetrics.getTimer(n).recordTime(Date.now()-e))),b.a.from(this._telemetry.gnarSpec.suggestedReplacementButtonClick(this._isFreePremiumAlert.get(),this._telemetry.pageId,e.cardType,"assistantOn",this._telemetry.pageSessionId));case p.b.Type.openSetGoals:return b.a.from(this._telemetry.gnarSpec.cardActionButtonClick(this._telemetry.pageId));case p.b.Type.alternativeReplacementRadioButtonClick:return b.a.from(this._telemetry.gnarSpec.alternativeReplacementRadioButtonClick(this._telemetry.pageId,e.index));case p.b.Type.cardMatchesNavigationButtonClick:return b.a.from(this._telemetry.gnarSpec.cardMatchesNavigationButtonClick(e.direction,this._telemetry.pageId,this._telemetry.pageSessionId));case p.b.Type.switchToClosestByViewport:return b.a.from(this._telemetry.gnarSpec.moreAlertsButtonClick(e.position,e.cardsAmount,this._telemetry.pageId));case p.b.Type.moreAlertsButtonShow:return b.a.from(this._telemetry.gnarSpec.moreAlertsButtonShow(e.position,e.cardsAmount,this._telemetry.pageId));case p.b.Type.fullSentenceHighlightChangesToggle:return b.a.from(this._telemetry.gnarSpec.fullSentenceCardHighlightChangesToggled(e.showChanges,this._telemetry.pageId,this._telemetry.pageSessionId));case p.b.Type.moreActionsButtonToggle:return"open"===e.mode?b.a.from(this._telemetry.gnarSpec.alertCardThreeDotsMenuClick(this._isFreePremiumAlert.get(),this._telemetry.pageId,this._telemetry.pageSessionId)):b.a.EMPTY;case p.b.Type.alertIgnore:return b.a.from(this._telemetry.gnarSpec.alertCardDismissClick(this._isFreePremiumAlert.get(),this._telemetry.pageId,Object(ue.pipe)(this._mutingAlertsReader,r.g.chain(t=>t.getAlertMuteCategory(e.alertId)),r.g.map(e=>e.id),r.g.getOrElse(()=>{})),this._telemetry.pageSessionId));case p.b.Type.muteAlertCategory:return b.a.from(this._telemetry.gnarSpec.deactivatedSuggestionsCardTurnOffButtonClick(e.categoryId,this._telemetry.pageId,this._telemetry.pageSessionId));case p.b.Type.mutedAlertSuccessShow:return b.a.from(this._telemetry.gnarSpec.deactivatedSuggestionsCardCategoryDeactivatedShow(this._telemetry.pageId,this._telemetry.pageSessionId));case p.b.Type.undoMuteAlertCategory:return b.a.from(this._telemetry.gnarSpec.deactivatedSuggestionsTurnBackOnButtonClick(this._telemetry.pageId,this._telemetry.pageSessionId));case p.b.Type.mutedAlertSuggestionManagementClick:return b.a.from(this._telemetry.gnarSpec.deactivatedSuggestionsSuggestionManagementClick(this._telemetry.pageId,"undoPopup",this._telemetry.pageSessionId));case p.b.Type.muteQuotedAdviceShow:return b.a.from(this._telemetry.gnarSpec.muteQuotedAlertsNotificationShown(this._telemetry.pageId,this._telemetry.pageSessionId));case p.b.Type.dismissMuteQuotedAdvice:return b.a.from(this._telemetry.gnarSpec.muteQuotedAlertsNotificationDismissed(this._telemetry.pageId,this._telemetry.pageSessionId));case p.b.Type.openPreferences:return b.a.from(this._telemetry.gnarSpec.muteQuotedAlertsSettingsOpened((this._telemetry.pageId,this._telemetry.pageSessionId)));case p.b.Type.alertIgnoreFormSubmit:return Boolean(e.reason)?b.a.EMPTY:b.a.from(this._telemetry.gnarSpec.feedbackFormCardFormSkipped((this._telemetry.pageId,this._telemetry.pageSessionId)));case p.b.Type.alertIgnoreFeedbackFormShow:return b.a.from(this._telemetry.gnarSpec.feedbackFormCardFormOpened((this._telemetry.pageId,this._telemetry.pageSessionId)));default:return b.a.EMPTY}}),b.a.merge(this._cardFeedbackFormDismissed),b.a.switchMap(e=>e.pipe(b.a.catchError(e=>(cn.warn("Card telemetry request failed",e),b.a.EMPTY))))).subscribe(),this._focusedCardObservable.pipe(b.a.distinctUntilChanged((e,t)=>e.id===t.id),b.a.switchMap(e=>{if(e.meta.checking===sn.a.CheckingState.Full){const e=performance.now();let t=!1;return this._focusedCardObservable.pipe(b.a.first(e=>e.meta.checking!==sn.a.CheckingState.Full),b.a.tap(()=>{un.getTimer("finished").recordTime(performance.now()-e),t=!0}),b.a.finalize(()=>{t||un.getTimer("interrupted").recordTime(performance.now()-e)}))}return b.a.EMPTY})).subscribe())}dispose(){this._subs.dispose()}}var pn,mn,hn=n("GqpD");(mn=pn||(pn={})).create=function(e,t,n,a){return new fn(e,t,n,a)},mn.mock=function(e=b.a.of(!1)){return new bn(e)};const gn=/([^\s]+\s+[^\s]+)/;class fn{constructor(e,t,n,a){this._navigationVM=e,this._documentSettingsState=t,this._cheetahAvailability=n,this._features=a,this._isCheetahAvailable=this._cheetahAvailability.pipe(b.a.map(Object(ce.not)(de.Availability.isUnavailable))),this._isInlineFeatureAvailable=b.a.of(this._features.cheetahInlineRewrite||this._features.cheetahMagicRewrite),this._isCheetahLensInactive=this._navigationVM.activeLensId.view(e=>e!==d.a.SpecialId.Cheetah),this._isDocumentSettingsPanelCollapsed=this._documentSettingsState.pipe(b.a.map(e=>e.type===hn.a.Collapsed))}isAvailable(e){const t=e.pipe(b.a.map(e=>e.length<=5e3&&gn.test(e)));return b.a.combineLatestStatic([this._isCheetahAvailable,this._isInlineFeatureAvailable,this._isCheetahLensInactive,this._isDocumentSettingsPanelCollapsed,t]).pipe(b.a.map(r.a.every(ce.identity)))}}class bn{constructor(e){this._resolveObs=e}isAvailable(){return this._resolveObs}}var yn=n("FyE1"),vn=n("C2XS"),Sn=n("p+Vg");n("fyNw"),n("e9DL");const Cn=l.Monitoring.Logging.getLogger("Cheetah.TextInsertion"),wn=(e,t,n)=>({getText:t=>Object(ce.pipe)(r.b.tryCatchError(()=>e.getText().substring(t.start,t.end)),r.l.fromEither),flush:()=>r.l.tryCatch(()=>Promise.resolve(e.flushChanges()),r.b.toError),insertText:e=>(Cn.info("Inserting text"),Object(ce.pipe)((new jt.a).insert(e),e=>t.replaceCurrentSelectionWith(e),r.l.bimap(e=>(Cn.error("Text insertion error",e),e),()=>{n(),Cn.info("Text inserted")})))});class kn{constructor(e,t,n){this._ded=e,this._features=t,this._inlineManager=n,this.inlineButtonState=B.a.create(r.g.none),this._subs=new f.a.Keeper,this._inlineButtonState=b.a.combineLatestStatic([this._ded.viewport,this._ded.scrollPosition,this._inlineManager.cheetahInlineButtonState]).pipe(b.a.map(([e,t,n])=>Object(ue.pipe)(n,r.g.fold(()=>r.g.none,()=>{const{text:{left:n}}=e;return Object(ue.pipe)(this._ded.getSelectionRect(),r.b.flatMap(e=>e.getRect()),r.b.map(e=>e.clientRects),r.g.fromEither,r.g.filter(r.a.isNonEmpty),r.g.map(e=>{const a=e[e.length-1],r=e.length>1;return{top:a.bottom+t,left:r?n:a.left}}))})))),this.dispose=()=>{this._subs.dispose()},this.magicRewriteEnabled=this._features.cheetahMagicRewrite,this.inlineRewriteEnabled=this._features.cheetahInlineRewrite,this._subs.push(this._inlineButtonState.subscribe(e=>this.inlineButtonState.set(e)))}}class En{constructor(e,t,n,a,i,o,s,c,u,d,p,m,h,g){this._ded=e,this._dedConnector=t,this._navigation=n,this._userService=a,this._availabilityService=i,this._uphookService=o,this._feedbackService=s,this._userSurveyService=c,this._sessionServiceFactory=u,this._onboardingViewModelFactory=d,this._trackingService=p,this._telemetry=m,this._isDemoDocument=h,this._features=g,this.assistantViewModel=B.a.create(r.g.none),this.onboardingViewModel=B.a.create(r.g.none),this._usedDuringSession=B.a.create(!1),this.usedDuringSession=this._usedDuringSession.view(),this._log=l.Monitoring.Logging.getLogger("Cheetah.CheetahWebLifecycleManagerImpl"),this._subs=new f.a.Keeper,this._actionsSubs=new f.a.Keeper,this._disposables=[],this._assistantUIActions=new b.a.Subject,this._sessionService=B.a.create(r.g.none),this._selectionOnLensEnter=this._navigation.isActive.pipe(b.a.filter(Boolean),b.a.withLatestFrom(this._ded.selection),b.a.map(ht.d)),this._onboardingUIActions=new b.a.Subject,this._disposed=new b.a.Subject,this.dispose=()=>{this._disposed.next(!0),this._disposables.forEach(e=>e.dispose()),this._disposeAssistantViewModel(),this._subs.dispose()},this._initAssistantViewModel=()=>{const e=this._ded.selection.getValue(),t=this._sessionServiceFactory({startOptions:{mode:this._navigation.mode.get(),selectedRange:{start:e.index,end:e.index+e.length},metadata:Object(ce.pipe)(this._features.cheetahPromptsUsed,r.g.map(e=>({setPromptsUsed:e})),r.g.toUndefined)},textEditorService:wn(this._ded,this._dedConnector,()=>{this._usedDuringSession.set(!0)})});!0===r.g.isSome(this._sessionService.get())&&this._log.error("Unexpected session service exists"),this._sessionService.set(r.g.some(t)),this._log.info("Init Assistant VM");const n=this._createAssistantViewModels(t);this._actionsSubs.push(n.actions.subscribe(e=>this._assistantUIActions.next(e))),this.assistantViewModel.set(r.g.some(n))},this._initOnboarding=()=>{!this._isDemoDocument&&this._features.cheetahOnboarding&&this._availabilityService.availability.pipe(b.a.filter(de.Availability.isVisible),b.a.take(1)).subscribe(()=>{const e=this._onboardingViewModelFactory({sessionService:this._sessionService,disposed:this._disposed,assistantUIActions:this._assistantUIActions,onboardingUIActions:this._onboardingUIActions,cheetahButton:this._navigation.cheetahButton});this._subs.push(Object(ce.pipe)(e.uiActions,b.a.filter(de.OnboardingUIAction.is(de.OnboardingUIAction.Kind.tryItOut)),b.a.tap(()=>this._navigation.toCheetahLens(!1,!1))).subscribe()),this._disposables.push(e),this.onboardingViewModel.set(r.g.some(e))})},this._disposeAssistantViewModel=()=>{const e=Object(ce.pipe)(this._navigation.lastClosingReason.get(),r.g.getOrElse(()=>de.Session.EndReason.closed));this._log.info("Disposing Assistant...",{reason:e}),this._actionsSubs.dispose(),Object(ce.pipe)(this.assistantViewModel.get(),r.g.tap(e=>{e.dispose(),this.assistantViewModel.set(r.g.none)}),r.g.tapLeft(()=>{e!==de.Session.EndReason.disposed&&this._log.error("Tried to dispose non-existing assistant",{reason:e})})),Object(ce.pipe)(this._sessionService.get(),r.g.tap(t=>{Object(ce.pipe)(t.session.get(),de.Session.toStarted,r.g.tapLeft(()=>{this._log.error("Tried to close non-existing session",{reason:e})})),t.dispose(e)})),this._sessionService.set(r.g.none)},this._textEditorService=wn(this._ded,this._dedConnector,()=>{this._usedDuringSession.set(!0)}),this._subs.push(this._ded.dontFreezeWhen(this._navigation.isActive,"cheetah-lens"),this._selectionOnLensEnter.pipe(y.b.Scheduler.inRaf).subscribe(e=>this._ded.setCursor(e.index,e.length,"api")),this._navigation.isActive.pipe(b.a.pairwise(),b.a.tap(([e,t])=>{!1===e&&!0===t?this._initAssistantViewModel():!0===e&&!1===t&&this._disposeAssistantViewModel()})).subscribe()),this._createAssistantViewModels=(({trackingService:e,textEditorService:t,userService:n,uphookService:a,availabilityService:r,feedbackService:i,userSurveyService:o,handlers:s})=>c=>vn.a.create({handlers:s,userService:n,availabilityService:r,sessionService:c,textEditorService:t,uphookService:a,trackingService:e,feedbackService:i,userSurveyService:o,logger:l.Monitoring.Logging.getLogger("CheetahWeb.IdeationAssistantViewModel",l.Logging.LogLevel.TRACE,l.Logging.LogColor.ViewModel.getColor("CheetahWeb"))}))({userService:this._userService,availabilityService:this._availabilityService,trackingService:this._trackingService,textEditorService:this._textEditorService,uphookService:this._uphookService,feedbackService:this._feedbackService,userSurveyService:this._userSurveyService,handlers:{close:()=>r.l.fromIO(()=>this._navigation.closeCheetahLens(de.Session.EndReason.closed))},telemetry:this._telemetry}),this._initOnboarding()}}class On{constructor(e,t){this._navigationVM=e,this._ded=t,this._log=l.Monitoring.Logging.getLogger("Cheetah.Navigation"),this.lastClosingReason=B.a.create(r.g.none),this.cheetahButton=B.a.create(null),this.isActive=this._navigationVM.activeLensId.view(e=>e===d.a.SpecialId.Cheetah),this.mode=B.a.create(de.Session.Mode.rewrite),this.toCheetahLens=(e=!1,t=!1)=>{this._log.info("Opening lens...",{fromInline:e,withQuickRewrite:t});const n=0===this._ded.selection.getValue().length?de.Session.Mode.ideation:t?de.Session.Mode.quickRewrite:de.Session.Mode.rewrite;this.mode.set(n),this._navigationVM.events.next({type:"switchToLens",id:d.a.SpecialId.Cheetah,focusFirst:!1,actionSource:e?u.b.text:u.b.sidebar})},this.closeCheetahLens=e=>{this.lastClosingReason.set(r.g.some(e)),this._log.info("Closing lens...",{reason:e}),this._navigationVM.events.next({type:"switchToLens",id:d.a.SpecialId.AllAlerts,focusFirst:!1,actionSource:u.b.api})},this.handleCheetahButtonClick=()=>{!0===this.isActive.get()?this.closeCheetahLens(de.Session.EndReason.closed):this.toCheetahLens()},this.cheetahButtonRef=e=>{this.cheetahButton.set(e)}}dispose(){this.lastClosingReason.set(r.g.some(de.Session.EndReason.disposed))}}function An(e=500){return b.a.mergeStatic(y.a.windowResize.pipe(b.a.throttleTime(e/2),b.a.mapTo(!0)),y.a.windowResize.pipe(b.a.debounceTime(e),b.a.mapTo(!1))).pipe(b.a.distinctUntilChanged())}var _n,xn;(xn=_n||(_n={})).create=({capi:e,denaliEditorModel:t,navigationViewModel:n,userAccount:a,dialect:s,isDemoDocument:c,availabilityService:u,telemetry:d,inlineManager:p,capiService:m,dedConnector:h,config:g,platformEnvironment:y,upgradeVM:v})=>{const S=l.Monitoring.Logging.getLogger("Cheetah.CheetahViewModel");yn.ConsoleLoggerImpl.configureAllLoggers({env:g.env}),S.info("Creating CheetahViewModel");const C=new f.a.Keeper;C.push((()=>{const e=l.Monitoring.Logging.getLogger("CheetahWeb.MonitoringServiceImpl",l.Logging.LogLevel.INFO,l.Logging.LogColor.ViewModel.getColor("CheetahWeb"));return yn.MonitoringServiceImpl.getInstance().events.subscribe(t=>{de.MonitoringEvent.isError(t)?e.error(t.name,t):de.MonitoringEvent.isWarning(t)?e.warn(t.name,t):de.MonitoringEvent.isInfo(t)?e.info(t.name,t):Object(i.d)(t)})})());const k=((e,t)=>({user:B.a.combine(e.profile,t.dialectOrDefault,(t,n)=>({id:de.User.Id.create(t.id),isPremium:Vt.g.isPremium(e.features.denaliUserType),dialect:de.VoiceProfile.Dialect.Value.fromString(n)})),setDialect:e=>Object(ce.pipe)(r.l.tryCatch(()=>t.setDialect(e),r.b.toError),r.l.map(o.e))}))(a,s),E=new yn.TrackingServiceImpl(m,l.Monitoring.Logging.getLogger("CheetahWeb.TrackingServiceImpl",l.Logging.LogLevel.TRACE,l.Logging.LogColor.ViewModel.getColor("CheetahWeb"))),O=new On(n,t),A=((e,t,n,a)=>{const i=l.Monitoring.Logging.getLogger("Cheetah.Uphooks");return{reportUphookShow:({isPremium:t})=>r.l.fromTask(()=>t?Promise.resolve():e.gnarSpec.getPremiumButtonShow(e.pageId,void 0,"grammarlyGoPrompts")),reportUphookClick:({isPremium:o})=>r.l.fromTask(()=>o?(Object(ce.pipe)(r.b.tryCatchError(()=>new w.a(n.support.newRequest)),r.b.chain(t.actions.openPopup),r.b.getOrElse(e=>i.fatal("unexpected error on support page navigation from Grammarly GO",e))),Promise.resolve()):(a.fromGrammarlyGO(),e.gnarSpec.getPremiumButtonClick(e.pageId,void 0,"grammarlyGoPrompts")))}})(d,y,g,v),_=(e=>({submitFeedback:t=>r.l.fromTask(()=>{var n;return e.gnarSpec.feedbackFormSubmit("",null!==(n=t.message)&&void 0!==n?n:"",e.pageId,t.mood)})}))(d),x=(e=>new yn.UserSurveyServiceImpl({capiService:e}))(m),I=new En(t,h,O,k,u,A,_,x,(j={capiService:m,userService:k,trackingService:E},({startOptions:e,textEditorService:t})=>new yn.SessionServiceImpl({startSessionOptions:e,textEditorService:t,capiService:j.capiService,trackingService:j.trackingService,userService:j.userService})),(e=>t=>{const n=new Set;return e.features.cheetahOrgContextEnabled||n.add(de.Onboarding.StepName.knowledgeHub),Object(Sn.c)({client:"editor",logger:l.Monitoring.Logging.getLogger("CheetahOnboarding"),textStats:e.capi.events.pipe(b.a.filter(qe.a.CAPIEvent.is("text_info")),b.a.map(e=>r.g.some({wordCount:e.data.wordsCount})),b.a.startWith(r.g.none)),trackingService:e.trackingService,upstreamOnboardingState:e.settings.cheetahOnboardingState,completeOnboardingStep:t=>{e.settings.cheetahOnboardingState.get()[t].editor.completed||e.settings.updateCheetahOnboardingState({[t]:{completed:!0,lastSeen:Date.now()}})},session:Object(ce.pipe)(t.sessionService,b.a.flatMap(r.g.fold(Object(ce.constant)(B.a.create(r.g.none)),e=>e.session.view(r.g.some)))),assistantUIActions:t.assistantUIActions,forceDisabledOnboardingSteps:n,externalElements:t.cheetahButton.view(e=>Object(ce.pipe)(e,r.g.fromNullable,r.g.fold(()=>({}),e=>({[de.ExternalUIItem.initialPopupAnchor]:{reference:e,placement:"left",offset:8,boundaryAreaPadding:10}})))),disposed:t.disposed,promptsAllocated:e.availabilityService.promptsAllocated,hideAssistantOnboardingTooltips:An()})})({capi:e,trackingService:E,settings:a.settings,availabilityService:u,features:a.features.denali}),E,d,c,a.features.denali);var j;const T=new kn(t,a.features.denali,p);return{assistantViewModel:I.assistantViewModel,onboardingViewModel:I.onboardingViewModel,inlineViewModel:T,usedDuringSession:I.usedDuringSession,navigation:O,dispose:()=>{S.info("Disposing CheetahViewModel"),O.dispose(),I.dispose(),T.dispose(),C.dispose()}}},xn.getAvailabilityService=function(e,t){const n=B.a.create(r.g.none),a=Object(ue.pipe)(t.events,b.a.filter(qe.a.CAPIEvent.is("session_started")),b.a.map(({allowedFeatures:e,cheetahState:t})=>({allowedFeatures:e||[],cheetahUsage:void 0!==(null==t?void 0:t.usage)?t.usage:{promptsRemaining:0,promptsAllocated:0,refillDate:"0"},cheetahState:t})),b.a.map(r.g.some),b.a.map(y.b.toAtom(n))).subscribe(),i=l.Monitoring.Logging.getLogger("CheetahWeb.AvailabilityService",l.Logging.LogLevel.TRACE,l.Logging.LogColor.ViewModel.getColor("CheetahWeb"));return[new yn.AvailabilityServiceImpl(e,n,i),a]};class In{constructor(e,t,n,a){this._uploadViewModel=e,this._denaliEditorModel=t,this._userAccount=n,this._environment=a,this.visible=this._denaliEditorModel.contentUpdated.pipe(b.a.startWith(void 0),b.a.map(()=>!jn(this._denaliEditorModel)),b.a.distinctUntilChanged()),this.size=this._userAccount.settings.editorPreferences.view("fontSize")}get uploadInputAccept(){return this._environment.has(Ot.b.Flag.acceptUploadByMimeTypes)?At.d.ACCEPTED_UPLOAD_MIME_TYPES.join(","):At.d.ACCEPTED_UPLOAD_EXTENSIONS.join(",")}upload(e){this._uploadViewModel.uploadModel.upload({files:e,notify:!1,allowMultiple:!1,isDragNDrop:!1})}}const jn=e=>e.getTextLength()>1||(()=>{const t=e.getContents().delta.ops[0];return Boolean(t)&&r.g.isSome(Tt.a.getAttrs(t))})();var Tn,Mn=n("4pFY");class Nn{constructor(e,t){this._documentModel=e,this._notificationsManager=t,this._subs=new f.a.Keeper,this._log=l.Monitoring.Logging.getLogger("downloadViewModel"),this._handleDownloadError=e=>(this._log.error("downloadDocument failed",e),e instanceof Mn.a.UnauthorizedError?this._notificationsManager.enqueue("unauthorizedError"):e instanceof Mn.a.DocumentNotFoundError?this._notificationsManager.enqueue("downloadDocumentNotFoundError"):e instanceof Mn.a.TooManyRequestsError||e instanceof Mn.a.ConnectionError?this._notificationsManager.enqueue("isTemporaryDownloadError"):this._notificationsManager.enqueue("error"))}downloadOriginal(){this._subs.push(b.a.from(this._documentModel.downloadOriginal(this._documentModel.rtfMode===At.d.DocumentFeatures.FormattingMode.on?r.g.some("docx"):r.g.none)).pipe(b.a.catchError(this._handleDownloadError)).subscribe())}downloadProofread(){this._subs.push(b.a.from(this._documentModel.downloadProofread()).pipe(b.a.catchError(this._handleDownloadError)).subscribe())}dispose(){this._subs.dispose()}}(Tn||(Tn={})).Mock=class{constructor(){this.dispose=o.e,this.downloadOriginal=o.e,this.downloadProofread=o.e}};var Pn,Ln=n("wI8h"),Rn=n("prnJ");(Pn||(Pn={})).updateCitationStyle=(e,t,n)=>a=>{const i=Object(ue.pipe)(e.defaultContext.get(),r.g.getOrElse(()=>Rn.a.defaultContextFallback)),o=Object(ue.pipe)(e.context.get(),Rn.a.OutcomeContext.withCitationStyle(a));if(Object(ue.pipe)(o,e.updateContext)){const e=t.enqueue("citationStyleChange",{citationStyle:a}).subscribe();return n.gnarSpec.goalsFormSuccess(Object(ue.pipe)(o.domain,r.g.getOrElse(()=>i.domain)),Object(ue.pipe)(o.goals,r.g.getOrElse(()=>i.goals),e=>Array.from(e)),n.pageId,"essayDetectionCard",Object(ue.pipe)(o.outcomeContext,r.g.map(ve.e.pick("type")),r.g.toUndefined),void 0,Object(ue.pipe)(o.outcomeContext,r.g.map(ve.e.pick("citation")),r.g.toUndefined),void 0),e}return b.a.EMPTY.subscribe()};var Bn=n("93Qa"),Fn=n("WOlp");const Dn=l.Monitoring.Logging.getLogger("ethicalAICardtelemetry");class Hn{constructor(e,t,n,a,i,s,l,c){this._telemetry=e,this._cardActions=t,this._lensState=n,this._alertsReader=a,this._alertUserEvents=i,this._obsCapiClient=s,this._checkingDomain=l,this._alertsFilterService=c,this._subs=new f.a.Keeper,this._alertCardOrBundleTransitionedToRendered=this._lensState.view(e=>Object(ue.pipe)(r.g.fromPredicate(h.e.hasItems)(e),r.g.map(e=>e.currentLens.items),r.g.map(e=>e.filter(Object(o.p)(Ut.a.isAlertCard,Ut.a.isAlertsBundle))),r.g.map(e=>e.filter(e=>"rendered"===e.visualState.transition.type)),r.g.map(e=>e.values()))).pipe(b.b.compact,b.a.startWith([]),b.a.pairwise(),b.a.map(([e,t])=>{const n=new Set(e.map(e=>e.id));return t.filter(e=>!n.has(e.id))}),b.a.mergeAll()),this._alertCardExpanded=this._cardActions.pipe(b.a.filter(p.a.isCardExpand),b.a.withLatestFrom(this._lensState),b.a.map(([e,t])=>Object(ue.pipe)(r.g.fromPredicate(h.e.hasItems)(t),r.g.chain(t=>t.currentLens.items.get(e.id)))),b.b.compact,b.a.pluck("value")),this._activeAlert=this._lensState.pipe(b.a.map(Object(ce.flow)(r.g.fromPredicate(Object(o.b)(h.e.hasCards,Ut.a.hasItemUnion)),r.g.filter(e=>d.a.isMainLens(e.currentLens.id)),r.g.chain(e=>Ut.a.getActiveItemWithAlert(e.currentLens)),r.g.map(e=>e.activeAlert)))),this._alertHighlightClicked=this._alertUserEvents.alertClicked.pipe(b.a.map(r.g.map(e=>e.alert)),b.a.withLatestFrom(this._activeAlert),b.a.map(Object(ce.flow)(Object(ce.tupled)(Object(Bn.sequenceT)(r.g.option)),r.g.filter(([e,t])=>e.id!==t.id),r.g.map(ht.b))),b.b.compact),this._subs.push(b.a.mergeStatic(this._obsCapiClient.events.pipe(b.a.filter(qe.a.CAPIEvent.is("alert_received")),b.a.map(e=>e.alert),b.a.filter(Fn.B.isEthicalAI),b.a.map(e=>b.a.from(this._telemetry.gnarSpec.ethicalAIAlertTriggered(this._telemetry.pageId,Hn._getSensitivityType(e.pname),this._telemetry.pageSessionId)))),this._getEthicalAIAlertObservable(this._checkingDomain.state.pipe(b.a.pairwise(),b.a.map(([e,t])=>De.a.diff(e,t)),b.a.map(ut.a.foldMap(r.a.getMonoid())(Object(ce.constant)(r.a.empty),Object(ce.constant)(r.a.empty),e=>[e])),b.a.filter(r.a.isNonEmpty),b.a.mergeAll(),b.a.map(e=>e.alert),b.a.combineLatest(we.a.getAlertVisibleInTextFilter(this._alertsFilterService,this._lensState)),b.a.filter(([e,t])=>t.filter(e)),b.a.map(([e])=>e.id))).pipe(b.a.map(e=>b.a.from(this._telemetry.gnarSpec.ethicalAIAlertUnderlineShow(this._telemetry.pageId,Hn._getSensitivityType(e.patternName),this._telemetry.pageSessionId)))),this._getEthicalAIAlertObservable(this._alertHighlightClicked.pipe(b.a.filter(C.a.isEthicalAI),b.a.map(e=>e.id))).pipe(b.a.map(e=>b.a.from(this._telemetry.gnarSpec.ethicalAIAlertUnderlineClick(this._telemetry.pageId,Hn._getSensitivityType(e.patternName),this._telemetry.pageSessionId)))),this._getEthicalAIAlertObservable(this._alertCardOrBundleTransitionedToRendered.pipe(b.a.filter(Ye.a.isEthicalAIItem),b.a.map(e=>e.activeAlert.id))).pipe(b.a.map(e=>b.a.from(this._telemetry.gnarSpec.ethicalAIAssistantMiniCardShow(this._telemetry.pageId,Hn._getSensitivityType(e.patternName),this._telemetry.pageSessionId)))),this._getEthicalAIAlertObservable(this._cardActions.pipe(b.a.filter(p.b.isAlertCardShow),b.a.map(e=>e.alertId))).pipe(b.a.debounceTime(300),b.a.map(e=>b.a.from(this._telemetry.gnarSpec.ethicalAIAssistantFullCardShow(this._telemetry.pageId,Hn._getSensitivityType(e.patternName),this._telemetry.pageSessionId)))),this._getEthicalAIAlertObservable(this._cardActions.pipe(b.a.filter(p.b.isEthicalAIOpenExternalLinkAction),b.a.map(e=>e.alertId))).pipe(b.a.map(e=>b.a.from(this._telemetry.gnarSpec.ethicalAIAssistantFullCardExternalLinkButtonClick(e.externalLink,this._telemetry.pageId,Hn._getSensitivityType(e.patternName),this._telemetry.pageSessionId)))),this._getEthicalAIAlertObservable(this._alertCardExpanded.pipe(b.a.filter(Ye.a.isEthicalAIItem),b.a.map(e=>e.activeAlert.id))).pipe(b.a.map(e=>b.a.from(this._telemetry.gnarSpec.ethicalAIAssistantFullCardLearnMoreButtonClick(this._telemetry.pageId,Hn._getSensitivityType(e.patternName),this._telemetry.pageSessionId)))),this._getEthicalAIAlertObservable(this._cardActions.pipe(b.a.filter(p.b.isAlertIgnoreAction),b.a.map(e=>e.alertId))).pipe(b.a.map(e=>b.a.from(this._telemetry.gnarSpec.ethicalAIAssistantFullCardDismissButtonClick(this._telemetry.pageId,Hn._getSensitivityType(e.patternName),this._telemetry.pageSessionId))))).pipe(b.a.switchMap(e=>e.pipe(b.a.catchError(e=>(Dn.warn("EthicalAI card telemetry request failed",e),b.a.EMPTY))))).subscribe())}dispose(){this._subs.dispose()}_getEthicalAIAlertObservable(e){return e.pipe(b.a.map(this._alertsReader.getById),b.b.compact,b.a.filter(u.a.isEthicalAI))}static _getSensitivityType(e){return e.split("/").slice(3).join("/")}}class Vn{constructor(e,t){this._notificationsManager=e,this._sendFeedback=t,this.currentText=B.a.create({brief:"",detailed:""}),this.modalShown=new b.a.Subject,this.sendFeedback=()=>this.currentText.pipe(b.a.first(),b.a.switchMap(this._sendFeedback),b.a.switchMap(()=>this._notificationsManager.enqueue("feedbackSend").pipe(b.a.filter(e=>"shown"===e),b.a.tap(()=>this.currentText.set({brief:"",detailed:""})),b.a.takeUntil(this.modalShown))),b.a.catchError(()=>this._notificationsManager.enqueue("error"))).toPromise()}}var Un;(Un||(Un={})).Mock=class{constructor(){this.modalShown=new b.a.Subject,this.currentText=B.a.create({brief:"",detailed:""}),this.sendFeedback=()=>new Promise(o.e)}};const Wn=e=>({onShow:t=>e.gnarSpec.gbPromptFormShow(e.pageId,t,e.pageSessionId),onAccept:t=>e.gnarSpec.gbPromptAcceptClick(e.pageId,t,e.pageSessionId),onDismiss:t=>e.gnarSpec.gbPromptDismissClick(e.pageId,t,e.pageSessionId)});class qn{constructor(e,t,n,a){this._config=e,this._obsCapiClient=t,this._notificationsManager=n,this._telemetry=a,this._subs=new f.a.Keeper,this._subs.push(this._obsCapiClient.events.pipe(b.a.filter(qe.a.CAPIEvent.is("gb_rule_created")),b.a.tap(({categoryTitle:e,descriptionLength:t})=>{"Vox"===e?this._telemetry.gnarSpec.gbPromptCreateVoxRuleSubmit(t,this._telemetry.pageId):this._telemetry.gnarSpec.gbPromptLockWritingStyleSettingSubmit(this._telemetry.pageId)}),b.a.switchMap(({categoryTitle:e,styleGuideId:t})=>this._notificationsManager.enqueue("gbRuleCreated",{link:"Vox"===e?`${this._config.account.styleGuide}/${t}`:`${this._config.account.writingStyle}?categoryTitle=${e}`}))).subscribe())}dispose(){this._subs.dispose()}}var zn,$n=n("q9Ib"),Gn=n("5o4I"),Kn=n("8ZZk"),Yn=n("E/Yu");function Zn(e){const[t,n]=b.a.partitionStatic(e.pipe(b.a.share()),r.g.isSome);return[t.pipe(b.a.map(r.g.unsafeGet)),n.pipe(b.a.mapTo(y.b.voidValue))]}!function(e){let t,n;!function(e){e.idle="idle",e.inlineCard="inline-card",e.synonymsCard="synonyms-card",e.formattingLink="formatting-link",e.upgradeHook="upgrade-hook",e.cheetahInlineButton="cheetah-inline-button"}(t=e.Type||(e.Type={})),e.idle={type:e.Type.idle},function(t){t.monoid=je.getStructMonoid({[e.Type.idle]:ye.getMonoid(),[e.Type.formattingLink]:ye.getMonoid(),[e.Type.upgradeHook]:ye.getMonoid(),[e.Type.synonymsCard]:ye.getMonoid(),[e.Type.inlineCard]:ye.getMonoid(),[e.Type.cheetahInlineButton]:ye.getMonoid()}),t.forCardState=function(t,n,a){const i=Zn(t.alertHovered.pipe(b.a.map(r.g.filter(e=>n.isInteractable(e.id))))),o=i[0].pipe(b.a.map((t,n)=>()=>[`fromDed:markAlertHover:set(${n})`,{type:e.Type.inlineCard,alert:t}])),s=i[1].pipe(b.a.map(Xn(e.Type.inlineCard,"Ded"))),l=a.pipe(b.a.map(Xn(e.Type.inlineCard,"Ext")));return{[e.Type.idle]:[o],[e.Type.formattingLink]:[],[e.Type.upgradeHook]:[],[e.Type.synonymsCard]:[],[e.Type.inlineCard]:[o,s,l],[e.Type.cheetahInlineButton]:[]}},t.forSynonymsState=function(t,n){const a=t.doubleClickedWord.pipe(b.a.map((t,n)=>()=>[`fromDed:synonyms:set(${n})`,{type:e.Type.synonymsCard,word:t}])),r=n.pipe(b.a.map(Xn(e.Type.synonymsCard,"Ext")));return{[e.Type.idle]:[a],[e.Type.formattingLink]:[a],[e.Type.upgradeHook]:[a],[e.Type.synonymsCard]:[a,r],[e.Type.inlineCard]:[a],[e.Type.cheetahInlineButton]:[a]}},t.forFormattingLink=function(t,n,a){const r=n.pipe(b.a.map((t,n)=>()=>[`fromUI:links:set(${n})`,{type:e.Type.formattingLink,link:t}])),i=Zn(Yn.b.fromDenaliEditor(t.selectedFormatting)),o=i[0].pipe(b.a.map((t,n)=>()=>[`fromDed:links:set(${n})`,{type:e.Type.formattingLink,link:t}])),s=i[1].pipe(b.a.map(Xn(e.Type.formattingLink,"Ded"))),l=a.pipe(b.a.map(Xn(e.Type.formattingLink,"Ext")));return{[e.Type.idle]:[r,o],[e.Type.formattingLink]:[r,o,s,l],[e.Type.upgradeHook]:[r,o,s,l],[e.Type.synonymsCard]:[r],[e.Type.inlineCard]:[r],[e.Type.cheetahInlineButton]:[r]}},t.forUpgradeHook=function(t,n,a){const[i,o]=Zn(t.alertClicked.pipe(b.a.map(r.g.filter(({alert:e})=>n.isRegistered(e.id)&&u.a.isInPremiumLens(e))))),s=i.pipe(b.a.map((t,n)=>()=>[`fromDed:markAlertClick:set(${n})`,{type:e.Type.upgradeHook,alert:t}])),l=o.pipe(b.a.map(Xn(e.Type.upgradeHook,"Ded"))),c=a.pipe(b.a.map(Xn(e.Type.upgradeHook,"Ext")));return{[e.Type.idle]:[s],[e.Type.formattingLink]:[s],[e.Type.upgradeHook]:[s,l,c],[e.Type.synonymsCard]:[s],[e.Type.inlineCard]:[s],[e.Type.cheetahInlineButton]:[s]}},t.forCheetahInlineButton=function(t,n,a){const i=t.selection.pipe(b.a.distinctUntilChanged(pe.g.eqRange.equals),b.a.map(e=>t.getText().slice(e.index,e.index+e.length))),s=n.isAvailable(i).pipe(b.a.map(Object(o.c)(r.g.some(Object(o.e)()),r.g.none))),[l,c]=Zn(s),u=l.pipe(b.a.map((t,n)=>()=>[`fromDed:cheetah:set(${n})`,{type:e.Type.cheetahInlineButton}])),d=c.pipe(b.a.map(Xn(e.Type.cheetahInlineButton,"Ded"))),p=a.pipe(b.a.map(Xn(e.Type.cheetahInlineButton,"Ext")));return{[e.Type.idle]:[u],[e.Type.formattingLink]:[],[e.Type.upgradeHook]:[],[e.Type.synonymsCard]:[],[e.Type.inlineCard]:[],[e.Type.cheetahInlineButton]:[u,d,p]}}}(n=e.Scheme||(e.Scheme={}))}(zn||(zn={}));const Xn=(e,t)=>(n,a)=>n=>n.type===e?[`from${t}:${e}:reset(${a})`,zn.idle]:[`from${t}:${e}:skipReset(${a})`,n];var Qn;!function(e){let t;!function(e){e.highlightMarkByInlineUpgradeHook=(e,t,n)=>({id:"highlightMarkByInlineUpgradeHook",when:Object(o.p)(d.a.isPremiumId,d.a.isFreePremiumId),what:h.e.Effect.Applicator.create(ct.a.getHighlightSubscribtion(e,t,n).pipe(b.a.switchMapTo(b.a.NEVER)))})}(t=e.Effects||(e.Effects={}))}(Qn||(Qn={}));class Jn{constructor(e,t,n,a,i,o,s){this._inlineManager=e,this._alertMarkRectGetter=t,this._closeEvent=n,this._checkingDomain=a,this._inlineUpgradeHookClicked=i,this._settings=o,this._upgradeViewModel=s,this._emitCloseWhen=b.b.listenWhenSome(({alert:e})=>this._checkingDomain.state.pipe(b.a.map(De.a.get(e.id)),b.a.filter(r.g.isNone),b.a.merge(this._closeEvent),b.a.tap(this._inlineManager.closeUpgradeHooks))),this._toMarkAndAlert=r.g.map(e=>({alert:e.alert,highlightIndex:e.highlightIndex,getMarkRect:this._alertMarkRectGetter(e)})),this.state=this._inlineManager.upgradeHookState.pipe(b.a.switchMap(this._emitCloseWhen)).pipe(b.a.switchMap(e=>Object(ue.pipe)(e,r.g.fold(()=>(this._inlineUpgradeHookClicked.next(r.g.none),b.a.of(r.g.none)),e=>(this._inlineUpgradeHookClicked.next(r.g.some(e.alert)),b.a.of(r.g.some(e)))))),b.a.map(r.g.filter(()=>!this._settings.featuresOnboardingSeen.get().has(fe.a.SeenPremiumPreviewUnderlines))),b.a.tap(r.g.tap(e=>{this._settings.markFeatureOnboarded(fe.a.SeenPremiumPreviewUnderlines)})),b.a.distinctUntilChanged(r.g.getEq(Gn.a.eq).equals),b.a.map(this._toMarkAndAlert),b.a.share())}upgrade(){this._upgradeViewModel.openUpgradeUrl(At.i.Place.DenaliDocument.editorDenaliUpgradeInline)}}var ea=n("RZOd"),ta=n("fOOC"),na=n("viRF"),aa=n("Hr9Y");class ra{constructor(e,t,n,a,s){this._lensesList=e,this._documentModel=t,this._features=n,this._alertsFilterService=a,this._lensViewMode=s,this._transform=oa(sa(this._voxInfo)),this.getLens=Object(o.l)((function(e){switch(e){case d.a.SpecialId.AllAlerts:return this._lensesList.view(ia(d.a.Info.allAlerts,d.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(d.a.SpecialId.AllAlerts)));case d.a.SpecialId.Priority:return this._lensesList.view(ia(d.a.Info.priority,d.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(d.a.SpecialId.Priority)));case d.a.SpecialId.PredictionTakeaways:return this._lensesList.view(ia(d.a.Info.predictionTakeaways,d.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(d.a.SpecialId.PredictionTakeaways)));case d.a.SpecialId.PredictionEmogenie:return this._lensesList.view(ia(d.a.Info.predictionEmogenie,d.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(d.a.SpecialId.PredictionEmogenie)));case d.a.SpecialId.Plagiarism:return this._lensesList.view(this.getPlagiarismLens);case d.a.SpecialId.Premium:return this._lensesList.view(ia(d.a.Info.premium,d.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(d.a.SpecialId.Premium)));case d.a.SpecialId.FreePremiumAlerts:return this._lensesList.view(ia(d.a.Info.freePremium,d.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(d.a.SpecialId.FreePremiumAlerts)));case d.a.SpecialId.Correctness:case d.a.SpecialId.Clarity:case d.a.SpecialId.Engagement:case d.a.SpecialId.Delivery:case d.a.SpecialId.Vox:case d.a.SpecialId.KnowledgeHub:return this._lensesList.view(ia(d.a.Info.createOutcome(e),d.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(e)));case d.a.SpecialId.CorrectnessPriority:case d.a.SpecialId.ClarityPriority:case d.a.SpecialId.EngagementPriority:case d.a.SpecialId.DeliveryPriority:case d.a.SpecialId.VoxPriority:case d.a.SpecialId.KnowledgeHubPriority:return this._lensesList.view(t=>{const n=Object(ue.pipe)(r.e.lookup(d.a.Id.ord)(d.a.OutcomeId.fromPriorityOutcomeId(e),t),r.g.getOrElse(()=>d.a.Meta.group.empty)),a=Object(ue.pipe)(r.e.lookup(d.a.Id.ord)(e,t),r.g.getOrElse(()=>d.a.Meta.group.empty));return new d.a.LensImpl(d.a.Info.createOutcome(e),ve.e.update(a,{percentile:n.percentile}),this._alertsFilterService.getLensesFilter(e))});case d.a.SpecialId.RealTimeProofit:return this._lensesList.view(ia(d.a.Info.realTimeProofit,d.a.Meta.group.empty,this._alertsFilterService.getLensesFilter(e)));default:return Object(i.c)(e)}})),this._outcomes=[d.a.SpecialId.Correctness,d.a.SpecialId.Clarity,d.a.SpecialId.Engagement,d.a.SpecialId.Delivery,d.a.SpecialId.Vox,d.a.SpecialId.CorrectnessPriority,d.a.SpecialId.ClarityPriority,d.a.SpecialId.EngagementPriority,d.a.SpecialId.DeliveryPriority,d.a.SpecialId.VoxPriority],this._previews=Object(o.l)(()=>ea.u(Object(ta.getFirstSemigroup)(),ye.array)(this._outcomes,e=>[e,this._getPreview(e)])),this._isDocumentEmpty=this._documentModel.documentLength.view("full").view(e=>0===e),this._outcomeStatusMask=B.a.combine(this._isDocumentEmpty,this._features.isFree,(e,t)=>{let n=0;return e&&(n|=aa.a.IsDocumentEmpty),t&&(n|=aa.a.IsFreeUser),n}),this.getPlagiarismLens=Object(ce.flow)(ia(d.a.Info.plagiarism,Object.assign(Object.assign({},d.a.Meta.group.empty),{percentile:na.b.MAX}),this._alertsFilterService.getLensesFilter(d.a.SpecialId.Plagiarism)),d.a.WithAlerts.modifyMeta(e=>Object.assign(Object.assign({},e),{percentile:na.b.groupSum.concat(na.b.MAX,na.b.groupSum.inverse(e.percentile))})))}get _voxInfo(){return this._features.denali.voxInfo}_getPreview(e){return this._transform(Object.assign(Object.assign(Object.assign({},d.a.Info.base),{logo:r.g.none}),this._getOutcomeButtonData(e)))}get lensPreviews(){return this._previews()}_getOutcomeButtonData(e){const t=this.getLens(e),n=t.get().title,a=t.get().type,i=B.a.combine(this._features.isFree.view(t=>d.a.isVox(e)&&r.g.isNone(this._voxInfo)||(d.a.isEngagement(e)||d.a.isDelivery(e))&&t),t,(e,t)=>0===t.count&&e),o=B.a.combine(t.view("count").view(e=>0===e),i,(t,n)=>t&&!n||n&&d.a.isVox(e)),{description:s,stateMessage:l}=Object(aa.b)(e),c=B.a.combine(this._isDocumentEmpty,o,t.view("percentile"),(e,t,n)=>e?na.b.MIN:t?na.b.MAX:n).view(na.a.fromRatio),u=B.a.combine(this._documentModel.scoreStatus.view(e=>Object(ue.pipe)(e,r.g.map(e=>e===qe.a.Message.ScoresStatus.SENSITIVE),r.g.getOrElse(ce.constFalse))),t,c,this._outcomeStatusMask,this._lensViewMode.view(t=>t(e)===h.h.allAlerts),l);return{id:e,title:n,description:s,status:u,progress:c,isUnavailable:i,type:a}}}function ia(e,t,n){return a=>{return new d.a.LensImpl(e,(i=e.id,o=t,e=>Object(ue.pipe)(r.e.lookup(d.a.Id.ord)(i,e),r.g.getOrElse(()=>o)))(a),n);var i,o}}const oa=e=>t=>d.a.isVox(t.id)?Object.assign(Object.assign({},t),{logo:e()}):t,sa=e=>()=>Object(ue.pipe)(e,r.g.chain(e=>e.logoUrl));var la=n("DLWy"),ca=n("5RoT"),ua=n("kCgn"),da=n("ihUS"),pa=n("D57K"),ma=n("xlCj"),ha=n("hnW1");function ga(){return b.a.of(!0)}function fa(){return b.a.of(!0)}function ba(){return b.a.of(!0)}function ya(){return b.a.of(!0)}function va(e){const t=e.getText();return Object(ue.pipe)(["Grammarly Premium can give you very helpful feedback on your writing. Passive voice can be fixed by Grammarly, and it can handle classical word-choice mistakes.","Grammarly Premium can give you very helpful feedback on your writing.","Passive voice can be fixed by Grammarly, and it can handle classical word-choice mistakes.","You'll find suggestions that can possibly help you revise a wordy sentence in an effortless manner."],r.a.findFirstMap(e=>{const n=t.indexOf(e);return n>-1?r.g.some({index:n,length:e.length}):r.g.none}))}function Sa(e,t,n,a,o,s,l,c){if(Vt.n.isHidden(s))return[];const u=Object(ce.constant)(l.pipe(b.b.compact,b.a.first(),b.a.mapTo(!0))),d={id:dt.a.StepId.Step14,switch:u,gnarName:"Ideas card",skipDot:!0},p={id:dt.a.StepId.Step15,switch:u,gnarName:"Ideas phrase click",skipDot:!0},m={id:dt.a.StepId.Synfony,switch:()=>n.pipe(b.a.map(h.e.getActiveAlert(o)),b.a.filter(r.g.exists(C.a.isSynfony)),b.a.mapTo(!0)),gnarName:"Synfony drilldown",skipDot:!1};switch(s.content){case Vt.n.Content.IdeasOnly:return[d,p];case Vt.n.Content.SynfonyOnly:return[m];case Vt.n.Content.Full:return[{id:dt.a.StepId.Step11,switch:()=>function(e,t){return e.view(e=>h.e.isSidebarOpened(e)&&r.g.isNone(h.e.getActiveItem(t)(e))).pipe(b.a.first())}(n,o),gnarName:"Step 1: Select active card",skipDot:!1},{id:dt.a.StepId.Step4,switch:()=>function(e,t,n){return e.view(e=>h.e.isLensview(e)&&e.currentLens.kind===h.f.persistent&&Object(ue.pipe)(e,h.e.getActiveAlert(n),r.g.exists(e=>t.isRegistered(e.id)&&C.a.isDefault(e)&&r.g.isSome(e.getTransform()))))}(n,a,o),gnarName:"Step 2: Apply alert",skipDot:!1},{id:dt.a.StepId.GrammarlyGORewrite,switch:()=>function(e,t){return e.pipe(b.a.switchMap(r.g.mapOrDefault(({navigation:e})=>e.isActive.pipe(b.a.map(e=>!e&&r.g.isSome(va(t)))),b.a.of(!1))))}(c,e),gnarName:"Step 3: Click GrammarlyGO Rewrite",skipDot:!1,prepareStep:()=>Object(ue.pipe)(c.get(),r.g.chain(({navigation:e})=>r.g.fromPredicate(Boolean)(!e.isActive.get())),r.g.chain(()=>va(e)),r.g.tap(({index:t,length:n})=>{e.setCursor(t,n)}),r.g.fold(ce.constFalse,ce.constTrue))},{id:dt.a.StepId.GrammarlyGOIdeationAssistant,switch:()=>function(e){return e.pipe(b.a.switchMap(r.g.mapOrDefault(({navigation:e})=>e.isActive.pipe(b.a.map(e=>!e)),b.a.of(!1))))}(c),gnarName:"Step 4: Open GrammarlyGO Ideation Assistant",skipDot:!1},{id:dt.a.StepId.Step1,switch:ga,gnarName:"Step 5: Open Set Goals",skipDot:!1},{id:dt.a.StepId.Step8,switch:fa,gnarName:"Step 6: Open Performance",skipDot:!1},{id:dt.a.StepId.Step9,switch:()=>{return n=e.contentUpdated.pipe(b.a.mapTo(y.b.voidValue)),a=t.checkingState,b.a.from(a.pipe(b.a.filter(e=>"idle"===e),b.a.first(),b.a.mapTo(!0))).pipe(b.a.merge(n.pipe(b.a.first(),b.a.mapTo(!1))));var n,a},gnarName:"Step 7: See synonyms",skipDot:!1},{id:dt.a.StepId.Step10,switch:ba,gnarName:"Step 8: Open left sidebar",skipDot:!1},{id:dt.a.StepId.DocumentTitle,switch:ya,gnarName:"Step 9: Edit title",skipDot:!1},m];default:return Object(i.c)(s)}}function Ca(e,t,n){e.modify(e=>{const a=e.slice(0);return a[t]=n,a})}class wa{constructor(e,t,n,a,i,s,c,u,d,p,m){this._settings=e,this._state=t,this._ded=n,this._sessionChecksModel=a,this._alertsReader=i,this._mode=s,this._telemetry=c,this._draftAIEditorViewModel=u,this._getActiveItemWithAlert=d,this._getFirstTargetRect=p,this._cheetahViewModel=m,this._log=l.Monitoring.Logging.getLogger("OnboardingViewModelImpl",l.Logging.LogLevel.TRACE),this._steps={},this._stepsByIdx=new Array,this._switches=B.a.create([]),this._states=B.a.create([]),this._subs=[],this._stepsSubscriptions=[],this._enableState=B.a.create(!0),this.getFirstTargetRect=this._getFirstTargetRect,this.completionTrigger=this._state.view(h.e.getActiveItem(this._getActiveItemWithAlert)).view(r.g.isSome),this._addStep=(e,t,n)=>{Ca(this._switches,t,!1);const a=this._states.lens(ma.a.index(t).compose(ma.a.withDefault("dummy")));Ca(this._states,t,n.has(e.id)?ha.a.Passed:ha.a.Hidden),this._steps[e.id]={state:a,idx:t,gnarName:e.gnarName},this._stepsByIdx[t]=e,this._stepsSubscriptions.push(e.switch().pipe(b.a.combineLatest(this._enableState,(e,t)=>e&&t)).subscribe(e=>Ca(this._switches,t,e),e=>{this._log.error("onboarding malfunction",e),Ca(this._states,t,ha.a.Passed)}))};const g=Vt.n.isForced(s)?new Set:new Set(this._settings.onboardingPassed.get());this._initSteps(g),this._subs.push(this._switches.pipe(b.a.debounceTime(500)).subscribe(e=>this._updateStates())),this._subs.push(this._states.pipe(b.a.skip(1)).subscribe(e=>this._settings.updateOnboardingPassed(Object.keys(this._steps).filter(t=>e[this._steps[t].idx]===ha.a.Passed)))),this._log.isEnabled(l.Logging.LogLevel.TRACE)&&this._subs.push(this._states.subscribe(e=>this._log.debug("Onboarding states updated: "+e.join(", ")))),Object(o.r)("fireOnboardingStep",(e,t)=>Object(ce.pipe)(r.g.fromNullable(this._steps[e]),r.g.fold(()=>console.info("No such step "+e),e=>e.state.set(t)))),Object(o.r)("onboardingState",this)}_initSteps(e=new Set){this._stepsSubscriptions.forEach(e=>e.unsubscribe()),this._stepsSubscriptions=[],Sa(this._ded,this._sessionChecksModel,this._state,this._alertsReader,this._getActiveItemWithAlert,this._mode,this._draftAIEditorViewModel,this._cheetahViewModel).forEach((t,n)=>this._addStep(t,n,e))}isStepEnabled(e){return void 0!==this._steps[e]}subscribeForStep(e){const{state:t,gnarName:n}=this._steps[e];if(void 0===t)throw new Error("Illegal onboarding step id "+e);return{id:e,state:t,dotShown:()=>{this._telemetry.gnarSpec.onboardingStepDotOnboardingShow(this._telemetry.pageId,n)},dotClicked:()=>{Object(i.f)(t.get()===ha.a.Dot,"Should be in dot state"),this._log.info("Dot clicked for: "+e),t.set(ha.a.Popup),this._telemetry.gnarSpec.onboardingStepOnboardingPass(this._telemetry.pageId,n)},popupIgnored:()=>{Object(i.f)(t.get()===ha.a.Popup,"Should be in popup state"),this._log.info("Popup ignored for: "+e),t.set(ha.a.Hidden),this._updateStates()},popupClosed:()=>{Object(i.f)(t.get()===ha.a.Popup,"Should be in popup state"),this._log.info("Popup closed for: "+e),t.set(ha.a.Passed),this._updateStates()},actionTaken:()=>{Object(i.f)(t.get()===ha.a.Popup||t.get()===ha.a.Dot,"Should be in popup or dot state"),this._log.info("Action taken for: "+e),t.set(ha.a.Passed),this._updateStates(),this._telemetry.gnarSpec.onboardingStepOnboardingPass(this._telemetry.pageId,n)}}}unsubscribe(){this._subs.forEach(e=>e.unsubscribe()),this._stepsSubscriptions.forEach(e=>e.unsubscribe())}getStepCompletionCallback(e){return()=>{if(this.isStepEnabled(e)){const t=this.subscribeForStep(e),n=t.state.get();n!==ha.a.Dot&&n!==ha.a.Popup||t.actionTaken()}}}changeState(e){this._enableState.set(e)}relaunchAllSteps(){this._initSteps()}_updateStates(){var e,t,n;return Object(pa.__awaiter)(this,void 0,void 0,(function*(){yield Object(o.s)(500);const a=this._switches.get();this._log.debug("Onboarding switches updated "+a);const r=this._states.get().slice();a.forEach((e,t)=>{e||r[t]===ha.a.Hidden||r[t]===ha.a.Passed||(r[t]=ha.a.Hidden)});const s=r.filter(e=>e===ha.a.Popup||e===ha.a.Dot).length;let l=Math.max(0,1-s);for(let i=0;i<r.length&&!(l<=0);++i)if(r[i]===ha.a.Hidden&&a[i]){if(!(null===(n=null===(t=(e=this._stepsByIdx[i]).prepareStep)||void 0===t?void 0:t.call(e))||void 0===n||n)){r[i]=ha.a.Hidden;continue}this._stepsByIdx[i].skipDot?r[i]=ha.a.Popup:r[i]=ha.a.Dot,l--}const c=r.filter(e=>e===ha.a.Popup||e===ha.a.Dot).length;Object(i.f)(c<=1,"Should be only 1 popups and dots visible, now "+c),this._states.set(r)}))}}const ka=l.Monitoring.Logging.getLogger("pageTelemetry");class Ea{constructor(e,t){this._state=e,this._telemetry=t,this._subs=new f.a.Keeper,this._subs.push(b.a.mergeStatic(this._trackLensChange(),this._trackAdvancedLensOpen(),this._trackSidebarState()).pipe(b.a.catchError(e=>(ka.warn("Page telemetry error",e),b.a.EMPTY))).subscribe())}dispose(){this._subs.dispose()}_trackLensChange(){return this._state.pipe(b.a.skip(1),b.a.filter(e=>{if(Ut.a.isInGlobalSuccess(e))return!1;switch(e.currentLens.type){case h.i.lensview:case h.i.advanced:case h.i.plagiarism:case h.i.draftAI:case h.i.cheetah:return!0;case h.i.closed:return!1;default:return Object(i.c)(e.currentLens)}}),b.a.map(e=>ve.f.camelize(e.currentLens.meta.title)),b.a.distinctUntilChanged(),b.a.switchMap(e=>b.a.from(this._telemetry.gnarSpec.lensSidebarShow(e,this._telemetry.pageId))))}_trackAdvancedLensOpen(){return this._state.pipe(b.a.distinctUntilChanged((e,t)=>e.currentLens.id===t.currentLens.id),b.a.filter(h.e.is(d.a.SpecialId.Premium)),b.a.switchMap(e=>b.a.from(this._telemetry.gnarSpec.advancedIssuesSidebarShow(e.currentLens.meta.count,this._telemetry.pageId))))}_trackSidebarState(){return this._state.view(h.e.isSidebarOpened).pipe(b.a.skip(1),b.a.switchMap(e=>e?b.a.from(this._telemetry.gnarSpec.assistantSidebarShow(this._telemetry.pageId)):b.a.from(this._telemetry.gnarSpec.assistantSidebarClose(this._telemetry.pageId))))}}var Oa,Aa=n("mOEe");function _a(e){return"lensesSwitchPanel"===e.type}class xa{constructor(e,t,n){this._lensSwitchPanel=B.a.create(r.g.none),this._subs=new f.a.Keeper,this._subs.push(e.state.pipe(b.a.startWith(O.a.empty),b.a.pairwise(),b.a.map(([e,t])=>O.a.diff(e,t)),b.a.tap(ut.a.forEach(e=>{_a(e.content)&&this._lensSwitchPanel.set(r.g.none)},(e,t)=>{_a(t.content)&&this._lensSwitchPanel.set(r.g.some(t.content))},e=>{_a(e.content)&&this._lensSwitchPanel.set(r.g.some(e.content))}))).subscribe(),b.a.combineLatestStatic([t,this._lensSwitchPanel]).pipe(b.a.map(([e,t])=>Object(ce.pipe)(e,r.g.fromPredicate(d.a.isWithAlertsId),r.g.chain(Oa.outcomeIdToSDUIKind),r.g.chain(e=>Object(ce.pipe)(t,r.g.chainNullableK(t=>t.lensSwitchButtons.find(t=>t.kind===e)),r.g.map(e=>e.onClickActions),r.g.tap(e=>{requestAnimationFrame(()=>{n.next({type:p.b.Type.sduiCardAction,sourceId:"native",cardId:"",actions:e,scope:{alertRefs:[]}})})})))))).subscribe())}dispose(){this._subs.dispose()}}!function(e){const t={[d.a.SpecialId.AllAlerts]:ne.a.LensKind.AllSuggestions,[d.a.SpecialId.Correctness]:ne.a.LensKind.Correctness,[d.a.SpecialId.Clarity]:ne.a.LensKind.Clarity,[d.a.SpecialId.Delivery]:ne.a.LensKind.Delivery,[d.a.SpecialId.Engagement]:ne.a.LensKind.Engagement,[d.a.SpecialId.Vox]:ne.a.LensKind.StyleGuide};function n(e){return r.g.fromNullable(t[e])}e.outcomeIdToSDUIKind=n,e.isSDUIVisibleOutcomesLens=function(e){return Object(ce.pipe)(e,r.g.fromPredicate(d.a.isWithAlertsId),r.g.chain(n),r.g.isSome)}}(Oa||(Oa={}));var Ia=n("fT1+"),ja=n("TC4P"),Ta=n("DMXH");const Ma=Object(o.l)(l.Monitoring.Logging.getLogger);function Na(e,t,n,a){const i=e.pipe(b.a.filter(e=>"idle"===e),b.a.mapTo(e=>!h.e.hasItems(e)||r.g.isSome(Ut.a.getActiveItemWithAlert(e.currentLens))?e:Object(ue.pipe)(a.findNextAlert(e.currentLens),r.g.map(t=>e.patch({currentLens:a.selectItemByAlert(t)(e.currentLens)})),r.g.getOrElse(()=>e))));return{id:"plagiarismSideEffect",when:e=>e===d.a.SpecialId.Plagiarism,what:h.e.Effect.Applicator.create(b.a.Observable.create(()=>t.enable()).pipe(b.a.startWith(y.b.voidValue),b.a.switchMapTo(n.pipe(b.a.switchMap(Object(o.c)(i,i.pipe(b.a.first())))))))}}function Pa(e,t,n,a,i,o,s,l){return{id:"successSwitcher",when:d.a.isMainLens,what:h.e.Effect.SwitchLens.create(e.pipe(b.a.combineLatest(Object(ue.pipe)(t.checkingState,b.a.map(e=>"full"!==e)),(e,t)=>Ut.a.isInGlobalSuccess(e)&&"sidebar"!==e.alertSource&&t),b.a.distinctUntilChanged(),b.a.filter(ce.identity),b.a.switchMapTo(t.counters.pipe(b.a.map(e=>e.critical+e.advanced>0),b.a.filter(Boolean),b.a.switchMap(y.b.Scheduler.rafScheduler),b.a.map(()=>{const e=l.get(),t=a.getLens(e).get(),i=a.getLens(d.a.SpecialId.Premium).get();return n(t)?r.g.some(e):n(i)?r.g.some(d.a.SpecialId.Premium):r.g.none}),b.b.compact,b.a.first(),b.a.filter(Object(ce.not)(d.a.isMainLens)),b.a.filter(e=>!(e===d.a.SpecialId.Premium&&r.g.isSome(s.denali.gbUpHook.get()))),b.a.map(e=>{Ma("sideEffects.successSwitcher").debug("Switching from success to "+e);const t=r.g.isSome(i.state.get());return{lensId:e,alertSource:t?h.c.forceSidebar:h.c.forceText,options:{order:"lensOrder",toFocus:t||!d.a.isMainLens(e)||o.get()?h.e.Effect.FocusBehavior.focusFirst:h.e.Effect.FocusBehavior.noFocus}}})))))}}function La(e,t,n,a,i,o,s,l){return{id:"createFreePremiumSwitcherSideEffect",when:e=>e===d.a.SpecialId.FreePremiumAlerts,what:h.e.Effect.SwitchLens.create(e.pipe(b.a.combineLatest(Object(ue.pipe)(t.checkingState,b.a.map(e=>"full"!==e)),(e,t)=>d.a.isFreePremiumId(e.currentLens.id)&&t),b.a.distinctUntilChanged(),b.a.filter(ce.identity),b.a.switchMapTo(t.counters.pipe(b.a.map(e=>0===e.freePremium),b.a.filter(Boolean),b.a.switchMap(y.b.Scheduler.rafScheduler),b.a.map(()=>{const e=l.get(),t=a.getLens(d.a.SpecialId.Premium).get();return n(t)?r.g.some(d.a.SpecialId.Premium):r.g.some(e)}),b.b.compact,b.a.first(),b.a.filter(e=>!(e===d.a.SpecialId.Premium&&r.g.isSome(s.denali.gbUpHook.get()))),b.a.map(e=>{Ma("sideEffects.successSwitcher").debug("Switching from success to "+e);const t=r.g.isSome(i.state.get());return{lensId:e,alertSource:t?h.c.forceSidebar:h.c.forceText,options:{order:"lensOrder",toFocus:t||!d.a.isMainLens(e)||o.get()?h.e.Effect.FocusBehavior.focusFirst:h.e.Effect.FocusBehavior.noFocus}}})))))}}function Ra(e,t,n,a,i,o,s){return{id:"createPremiumToFreePremiumSwitcherSideEffect",when:e=>e===d.a.SpecialId.Premium,what:h.e.Effect.SwitchLens.create(e.pipe(b.a.combineLatest(Object(ue.pipe)(t.checkingState,b.a.map(e=>"full"!==e)),(e,t)=>d.a.isPremiumId(e.currentLens.id)&&t),b.a.distinctUntilChanged(),b.a.filter(ce.identity),b.a.switchMapTo(t.counters.pipe(b.a.filter(e=>e.freePremium>0),b.a.switchMap(y.b.Scheduler.rafScheduler),b.a.map(()=>{const e=s.get(),t=a.getLens(d.a.SpecialId.FreePremiumAlerts).get();return n(t)?d.a.SpecialId.FreePremiumAlerts:e}),b.a.first(),b.a.map(e=>{Ma("sideEffects.successSwitcher").debug("Switching from success to "+e);const t=r.g.isSome(i.state.get());return{lensId:e,alertSource:t?h.c.forceSidebar:h.c.forceText,options:{order:"lensOrder",toFocus:t||!d.a.isMainLens(e)||o.get()?h.e.Effect.FocusBehavior.focusFirst:h.e.Effect.FocusBehavior.noFocus}}})))))}}function Ba(e,t,n){return{id:"textPasteSideEffect",when:e,what:h.e.Effect.Applicator.create(t.pipe(b.a.tap(n),b.a.switchMapTo(b.a.NEVER)))}}const Fa=(e,t)=>({id:"textPasteSideEffect",when:ce.constTrue,what:h.e.Effect.Applicator.create(e.changes.pipe(b.a.map(()=>e.getTextLength()),b.a.distinctUntilChanged(),b.a.throttleTime(t),b.a.tap(e=>{l.Monitoring.TimeSeries.rootFemetrics.getTimer("text_length").recordTime(e)}),b.a.switchMapTo(b.a.NEVER)))});function Da(e,{features:t,settings:n},a,i,o,s,l,c){const u=Object(ue.pipe)(l,b.a.pairwise(),b.a.filter(([e,t])=>!d.a.isPremiumId(e)&&d.a.isPremiumId(t))),p=Object(ue.pipe)(e.getLens(c.get()).pipe(b.a.map(e=>e.count),b.a.pairwise(),b.a.filter(([e,t])=>0===t&&e>0),b.a.delay(1500)),b.a.map(()=>t.denali.gbUpHook.get()),b.a.map(r.g.filter(Object(ce.not)(e=>e.appearancesInLastThreeDays||e.dismissCount>=2||e.dismissedInLastSevenDays))),b.b.compact,b.a.switchMap(e=>Object(ue.pipe)(a.enqueue("gbUpHook",Object.assign({},e)),b.a.map(t=>[t,e]),b.a.takeUntil(u),b.a.takeWhile(Object(ce.not)(([e])=>Ht.a.isCloseAction(e)||"shown"!==e),!0))),b.a.tap(([e,t])=>Object(pa.__awaiter)(this,void 0,void 0,(function*(){switch(e){case"shown":i.gnarSpec.getGBButtonShow(t.type,e,i.pageId,"documentPopup"),yield n.gbUpHookSeen(t.type);break;case"dismiss":i.gnarSpec.getGBDismissButtonClick(t.type,e,i.pageId,"documentPopup"),yield n.dismissGBUpHook(t.type);break;case"cta":i.gnarSpec.getGBButtonClick(t.type,e,i.pageId,"documentPopup"),s.actions.openPopup(o.fromGbUpHookNotification(t.type));break;default:return}}))));return{id:"openGBUpHook",when:h.e.Effect.When.isSidebarOpen,what:h.e.Effect.Applicator.create(p.pipe(b.a.switchMapTo(b.a.NEVER)))}}var Ha;function Va(e,t,n){return{id:"sduiFocusEffect",when:d.a.isWithAlertsId,what:h.e.Effect.Applicator.create(e.pipe(b.a.withLatestFrom(t),b.a.map(([{actions:e,cardId:t},a])=>i=>a&&Boolean(e.find(e=>"notify"===e.type&&"focus"===e.userAction))&&h.e.hasItems(i)?Object(ue.pipe)(h.k.getActiveItemOfType(Ut.a.isAlertRefSDUI)(i.currentLens),r.g.filter(e=>!["focused","removed"].includes(e.visualState.transition.type)),r.g.map(()=>h.e.Prism.getLensWithItems().modify(n.selectItemById(Object(ce.unsafeCoerce)(t)),i)),r.g.getOrElse(Object(ce.constant)(i))):i)))}}function Ua(e,t,n){return{id:"SDUIItemRemoveSideEffect",when:d.a.isWithAlertsId,what:h.e.Effect.Applicator.create(b.a.mergeStatic(e.pipe(b.a.map(()=>e=>Object(ue.pipe)(e.currentLens.id,Oa.outcomeIdToSDUIKind,r.g.map(()=>h.e.Prism.getLens().compose(g.a.Prism.items).set(e.currentLens.items.clear(),e)),r.g.getOrElse(Object(ce.constant)(e))))),t.pipe(b.a.switchMap(e=>e.feed.pipe(b.a.map(e=>t=>{const a=Object(ue.pipe)(e.cards,ut.a.reduce([],(e,a)=>Object(ue.pipe)(t.currentLens.items.get(a.id),r.g.map(ve.e.pick("value")),r.g.filter(Object(o.p)(Object(ce.not)(ja.a.isAnimatable),Object(ce.not)(ja.a.isAnimatingRemoval))),r.g.map(n.remove(ce.constTrue,ce.constTrue)),r.g.fold(()=>e,t=>(e.push(t),e))),ce.identity,ce.identity));if(a.length>0){const e=t.currentLens.items.add(a);return h.e.Prism.getLens().compose(g.a.Prism.items).set(e,t)}return t}))))))}}!function(e){e.defaultNextLensPredicate=e=>e.count>0}(Ha||(Ha={}));var Wa=n("wOnQ");const qa=l.Monitoring.Logging.getLogger("synfonyTelemetry"),za=e=>e.map(e=>e.text).join();class $a{constructor(e,t,n,a){this._telemetry=e,this._cardActions=t,this._lensState=n,this._activeAlertGetter=a,this._subs=new f.a.Keeper,this._subs.push(this._cardActions.pipe(b.a.map(e=>Object(ue.pipe)(this._lensState.get(),t=>Object(ue.pipe)(t,p.b.isAlertIgnoreAction(e)?Object(ce.flow)(r.g.fromPredicate(h.e.hasItems),r.g.chain(t=>He.a.get(t.currentLens.items,e.id,Ye.a.isSynfonyItem)),r.g.map(e=>e.value)):h.e.getActiveItem(this._activeAlertGetter)),r.g.filter(xe.a.isSynfonyView),r.g.chain(t=>Object(ue.pipe)(t.transform,r.g.map(n=>Object.assign({transform:n,event:e,selection:r.g.getOrElse(()=>[])(t.synfonySelection)},Wa.d.getSelectedItems(n,r.g.toUndefined(t.synfonySelection)))))))),b.b.compact,b.a.map(({event:e,selection:t,transform:n,activeLabels:a})=>{switch(e.type){case p.b.Type.alertApply:return this._telemetry.gnarSpec.synonymAcceptButtonClick(e.alternativeIndex,t.length+1,a.length,za(n.original),this._telemetry.pageId,za(Object(ue.pipe)(a.filter(t=>t.alternativeId===e.alternativeIndex),r.a.head,r.g.map(e=>e.label),r.g.getOrElse(()=>[]))));case p.b.Type.alertIgnore:return this._telemetry.gnarSpec.synonymCardDismiss(a.length,za(n.original),this._telemetry.pageId);case p.f.Kind.drilldown:return this._telemetry.gnarSpec.synonymDeepDiveClick(t.length+2,za(n.original),this._telemetry.pageId,za(a[e.wordIndex].label));default:return null}}),b.a.catchError(e=>(qa.warn("Card telemetry request failed",e),b.a.EMPTY))).subscribe())}dispose(){this._subs.dispose()}}var Ga=n("zN6a"),Ka=n("vLzu");const Ya=e=>()=>e.getCursor().index;class Za{constructor(e,t,n,a,s,c,m,v,S,k,O,A,_,x,I,j,T,M){this._engine=e,this._denaliEditorModel=t,this._userAccount=n,this._upgradeHook=a,this._subscription=s,this._environment=c,this._platformEnvironment=m,this._telemetry=v,this._remSizeObs=S,this._networkState=k,this._docId=O,this._uploadViewModel=A,this._notificationsManager=_,this._dialectSettings=x,this._documentLoader=I,this._textResources=j,this._config=T,this._router=M,this.obtainGradesNotificationManager=r.g.none,this.formattingViewModel=r.g.none,this.emotionsViewModel=r.g.none,this._reportViewModel=r.g.none,this._openInlineAlert=new b.a.Subject,this._inlineAlertHovered=new b.a.Subject,this._inlineUpgradeHookClicked=new b.a.Subject,this._hydrateTransforms=Object(_e.b)(this._denaliEditorModel.getContents),this._getActiveItemWithAlert=Ut.a.getActiveItemWithAlert,this._log=l.Monitoring.Logging.getLogger("view_models"),this._subs=new f.a.Keeper,this._editorWrapperViewport=B.a.create(this._denaliEditorModel.viewport.value.wrapper),this._remSize=B.a.create(16),this._focusFirstAlert=B.a.create(this._userAccount.features.denali.focusFirstCard),this._autoScrollToNextAlert=this._userAccount.settings.editorPreferences.view("autoScrollToNextAlert").view(be.b.O.unwrap(!this._userAccount.features.denali.autoJumpSettings.isDisabledByDefault)),this._openedAfterPaste=new b.a.Subject,this._shouldShowNewLabel=Object(ce.flow)(e=>C.a.isFullSentence(e)?r.g.some(fe.a.ClarityAICard):r.g.none,e=>this._userAccount.settings.featuresOnboardingSeen.view(t=>Object(ue.pipe)(e,r.g.filter(e=>!t.has(e))))),this._sduiCardsViewModel=r.g.none,this._sduiNavigationModel=r.g.none,this._SDUICardsViewModelObservable=Object(ue.pipe)(this._engine.sduiFeedManager,r.g.map(e=>e.pipe(b.a.switchMap(y.b.Scheduler.rafScheduler),b.a.map(()=>this._sduiCardsViewModel),b.b.compact))),this._sduiActionEvents=Object(ue.pipe)(this._SDUICardsViewModelObservable,r.g.map(b.a.switchMap(e=>e.sduiActionEvents))),this._getSDUIApplicatorSource=e=>Object(ue.pipe)(this._SDUICardsViewModelObservable,r.g.map(b.a.switchMap(t=>Object(ue.pipe)(t.getApplicatorEffects(),r.a.findFirst(t=>t.id===e),r.g.map(e=>e.what.source),r.g.getOrElse(Object(ce.constant)(b.a.of(ce.identity)))))),r.g.getOrElse(Object(ce.constant)(b.a.of(ce.identity)))),this._getSDUIApplicatorEffects=()=>Object(ue.pipe)(this._sduiCardsViewModel,r.g.fold(Object(ce.constant)(r.a.empty),e=>e.getApplicatorEffects().map(e=>Object.assign(Object.assign({},e),{what:Object.assign(Object.assign({},e.what),{source:this._getSDUIApplicatorSource(e.id)})})))),this._focusSDUIItemByAlert=e=>{Object(ue.pipe)(r.g.sequenceT(this._engine.sduiFeedManager,e),r.g.tap(([e,t])=>{const n=e.get();this._subs.push(n.feed.pipe(b.a.take(1),b.a.pluck("cards"),b.a.tap(Object(ce.flow)(ut.a.filter(ce.constFalse,ce.constFalse,e=>e.alertIds.includes(Object(ce.unsafeCoerce)(t.alert.id))),ut.a.foldMap(r.a.getMonoid())(Object(ce.constant)(r.a.empty),Object(ce.constant)(r.a.empty),r.a.of),r.a.head,r.g.tap(e=>{requestAnimationFrame(()=>{Object(ue.pipe)(n.focusCard(e.id),r.b.fold(e=>this._log.warn("Error on focusing SDUI item in a new lens",e),ce.constVoid))})})))).subscribe())}))},this.focus=Oe.a.create({contentFocusChanges:Bt.a.create(this._denaliEditorModel),eq:Bt.b.eq,ord:Bt.b.ord,show:Bt.b.show,contentSection:r.g.some(Bt.b.create(Bt.b.Id.editor))}),this._denaliEditorModel.dontFreezeWhen(this.focus.state.pipe(b.a.map(r.g.exists(e=>e.id!==Bt.b.Id.editor))),"focus-manager"),this._subs.push(this._denaliEditorModel.viewport.pipe(b.a.distinctUntilChanged(),b.a.map(e=>e.wrapper)).subscribe(y.b.toAtom(this._editorWrapperViewport)),this._remSizeObs.subscribe(y.b.toAtom(this._remSize)),Bt.b.initTracking(this.focus,this._telemetry));const N=this._engine.alertsReader,P=B.a.create(ge.a.defaultState),L=this._userAccount.features.denali.sdui,R=this._userAccount.features.denali.feedUpgradeHook,F=this._userAccount.features.denali.premiumUphookCardUI,D=we.a.create(we.a.defaultLensFilters,we.a.defaultTextFilters),H=Object(ue.pipe)(this._userAccount.features.denali.mutedAlerts,r.g.fromPredicate(ce.identity),r.g.map(()=>this._engine.mutedAlertsModel));this._engine.checkingDomain.state.pipe(e=>ge.a.get(e,this._engine.checkingDomain.lensesScores,D)).subscribe(y.b.toAtom(P));const V=B.a.create(h.g.getDefault),U=this._userAccount.settings.editorPreferences.view(({suggestionsVisualMode:e})=>{switch(e){case _t.o.Default:return et.a.CardVisualMode.RegularLightMode;case _t.o.Accessible:return et.a.CardVisualMode.ContrastLightMode;default:return Object(i.c)(e)}});this.lensPreviewViewModel=new ra(P.view("lenses"),this._engine.sessionModel,this._userAccount.features,D,V);const W=Object(Ve.c)(this._hydrateTransforms,N,this._userAccount.features.denali.cardsRenderOptions,this._shouldShowNewLabel,this._engine.mutingAlertsReader,xe.a.canHydrate),q=Ie.a.ItemFactory.create(this._hydrateTransforms,this._engine.mutingAlertsReader,this._userAccount.features.denali.cardsRenderOptions,this._shouldShowNewLabel),z=it.a.ItemFactory.create(N,this._userAccount.features.denali.cardsRenderOptions),K=Ut.a.getCapabilities(W,q,z,N,this._hydrateTransforms,this._userAccount.features,this._userAccount.features.denali.cardsRenderOptions),Y=Ut.a.alertIterator(N),Z=Ut.a.isSelectableItem,X=this._userAccount.features.denali.cardBundles?g.a.WithBundles.getHasAlerts(Y,N,()=>Z,K):Ut.a.hasAlerts(Y,N,()=>Z,K);this.capabilities=Object.assign(Object.assign({},K),X);const Q=new rt.c(new rt.a(Ut.a.equatable.structEq,Ut.a.defaultOrd),Ut.a.equatable.structEq,Ut.a.defaultOrd),ee=this._userAccount.features.denali.cardBundles?new rt.b(e=>d.a.isAllAlerts(e.id),Q,Ut.a.equatable.structEq,Ut.a.bundlesOrd):Q,te=tt.a.ItemFactory.create(this._userAccount.features.denali.cardsRenderOptions,r.g.isSome(this._userAccount.features.denali.getStartedType)&&this._engine.sessionModel.isDemoDocument?"demo":"default"),ne=Object(rt.e)(W,z,this.capabilities),ae=R||F?tt.a.Handler.withUphookAlertsHandlerFactory(ne,te,W):ne,re=Object(rt.d)(q,this._userAccount.features.denali.cardsRenderOptions,e=>d.a.isAllAlerts(e),ae,this.capabilities),ie=Object(ce.constant)(ce.identity),oe=Object(ce.flow)(Oa.outcomeIdToSDUIKind,r.g.isSome),se=L?e=>oe(e)?ie:ae(e):this._userAccount.features.denali.cardBundles?re:ae,le=this._userAccount.features.denali.bulkAccept&&!L,he=Object(ue.pipe)(le,r.g.fromPredicate(ce.identity),r.g.map(()=>Re.getFocusFirstFilter(N,D)),r.g.getOrElse(()=>h.e.FocusFirstFilter.defaultFilter)),Ce=nt.a.createWithInitialAlerts(ee,se,D,Object(ce.not)(u.a.isMuted),this.capabilities);let je;if(L){const e=nt.a.createWithExternalItems(ee,this.capabilities);je=(t,n,a,i,o)=>oe(t)?(this._focusSDUIItemByAlert(i),e(t,n,a,i,Object(ue.pipe)(o,r.g.filter(e=>d.a.isWithAlertsId(e.id)&&oe(e.id))))):Ce(t,n,a,i,o)}else je=Ce;this.lensStateProvider=new at.a(this._engine.checkingDomain.state,N,P.view("lenses"),this._engine.positionManager,this.lensPreviewViewModel,je,se,this.capabilities,D,he),this.searchViewModel=new Ia.c(this._denaliEditorModel,this._engine.positionManager,this._editorWrapperViewport);const Ne=this._engine.sessionModel.rtfMode===At.d.DocumentFeatures.FormattingMode.on?r.g.some(Object(Yn.c)(this._denaliEditorModel.getCursor.bind(this._denaliEditorModel),e=>{this._denaliEditorModel.setFormatting(Object.assign(Object.assign({},e),{meta:Object.assign(Object.assign({},e.meta),{formatting:Object.assign({},e.meta.formatting)})}))},this._denaliEditorModel.selectedFormatting,this._denaliEditorModel.isEditorFocused,this._textResources.denali,this._telemetry.gnarSpec,this._telemetry.pageId,this._environment)):r.g.none;var Be,Fe;this._getAlertClosestToCursor=(Be=e=>{switch(e){case"cursor":return Ya(this._denaliEditorModel)();case"middleOfTheViewport":return Object(ue.pipe)(this._denaliEditorModel.getPossibleCursorPosition(r.b.left(pe.c.X.middle),r.b.left(pe.c.Y.middle)),r.b.getOrElse(Ya(this._denaliEditorModel)));default:return Object(i.c)(e)}},Fe=this.lensStateProvider,(e,t)=>Fe.findClosestAlertHighlight(Be(t),e));const De=d.a.SpecialId.AllAlerts;this.lensState=B.a.create(Object(ue.pipe)(this._router.locationState,r.g.exists(e=>!0===e.openSidebar))||this._userAccount.features.denali.sidebarOpenedByDefault?this.lensStateProvider.emptyState(De):Object(at.c)()),this.upgradeViewModel=new Ga.b(this._engine.checkingDomain,this.lensState,this.lensPreviewViewModel,this._docId,this._platformEnvironment,this._upgradeHook,this._config,this._userAccount.features.denali.uphookFormat,this._telemetry,()=>{this._router.navigate(Et.a.routes.documents.href())}),this.feedbackViewModel=new Vn(this._notificationsManager,e=>(l.Monitoring.Logging.getLogger("userFeedback").info("Submit form feedback",{briefDescription:e.brief,detailedFeedback:e.detailed}),this._telemetry.gnarSpec.feedbackFormSubmit(e.brief,e.detailed,this._telemetry.pageId))),this._reportViewModel=this._environment.has(Ot.b.Flag.supportsDownloadPDF)?r.g.some(new Aa.a(this._engine,this._userAccount.profile,this._userAccount.features,this._notificationsManager,this._denaliEditorModel.contentUpdated.pipe(b.a.startWith(null),b.a.delay(0),b.a.map(this._denaliEditorModel.getHTML)),this._hydrateTransforms,()=>this.lensState,()=>this.marksViewModel,()=>this.navigationViewModel,P.view("lenses"),this._telemetry)):r.g.none,this.modalManager=new me.b(new on.b(this._userAccount,this._textResources,this._engine.sessionModel,this.upgradeViewModel,this._config,this._platformEnvironment,this.feedbackViewModel,this._notificationsManager,this._engine.sessionModel,this._reportViewModel,this._telemetry,this._engine.mutedAlertsModel,this._userAccount.logout));const He=we.a.getAlertVisibleInTextFilter(D,this.lensState);this.marksViewModel=new ca.a(this._denaliEditorModel,this.lensState,this._engine.checkingDomain,N,this._engine.alertsService,this._engine.alertsService,this._environment.has(Ot.b.Flag.highHighlights),new lt.a(this.lensState,this._getActiveItemWithAlert),D,He,this._getActiveItemWithAlert,this._userAccount.settings.editorPreferences.view("suggestionsVisualMode")),this.cardsListScrollManager=new Qe.a(()=>r.b.right(void 0));const Ue=ke.d.getSuperScrollMapper(this.lensState,this.cardsListScrollManager,this._remSize),ze=ke.e.getMapper(this.marksViewModel,this._denaliEditorModel,this._log.getLogger("getMarkPosition")),$e=Ut.a.alignMarkToGetter(ze,Ue,this._remSize),Ge=Ut.a.alignItemToMarkGetter(ze,Ue);this.alignmentViewModel=new ke.c(Ue,$e,Ge);const Ye=(Xe=this._telemetry,{onShow:(e,t)=>Xe.gnarSpec.bulkAcceptPanelShowed(e,t,Xe.pageId,Xe.pageSessionId),onAccept:e=>Xe.gnarSpec.bulkAcceptAcceptAllClicked(e,Xe.pageId,Xe.pageSessionId),onDismiss:e=>Xe.gnarSpec.bulkAcceptDismissClicked(e,Xe.pageId,Xe.pageSessionId),onBulkUndo:e=>Xe.gnarSpec.bulkAcceptAllUndoClicked(e,Xe.pageId,Xe.pageSessionId),onRevert:e=>Xe.gnarSpec.bulkAcceptRevertClicked(Xe.pageId,e,Xe.pageSessionId),onIgnore:e=>Xe.gnarSpec.bulkAcceptIgnoreClicked(Xe.pageId,e,Xe.pageSessionId),onSuggestionClick:e=>Xe.gnarSpec.bulkAcceptPanelAlertClicked(Xe.pageId,e,Xe.pageSessionId),onLooksGood:()=>Xe.gnarSpec.bulkAcceptLooksGoodClicked(Xe.pageId,Xe.pageSessionId),onAllLooksGood:()=>Xe.gnarSpec.bulkAcceptAllLooksGoodClicked(Xe.pageId,Xe.pageSessionId)});var Xe;const dt=Object(_e.a)(this._denaliEditorModel.getContents),ht=(St=this._engine.obsCapiClient,Object.assign({capiEvents:St.events.pipe(b.a.filter(Object(o.p)(qe.a.Cheetah.isCheetahAck,qe.a.CAPIEvent.is("error"),qe.a.CAPIEvent.is("cheetah:setContext"),qe.a.CAPIEvent.is("cheetah:chunk"),qe.a.CAPIEvent.is("cheetah:result"),qe.a.CAPIEvent.is("cheetah:error"))))},St));var St;const[Ct,wt]=_n.getAvailabilityService(ht,this._engine.obsCapiClient);this.cheetahAvailabilityService=Ct,this._subs.push(wt);const xt=B.a.create(!1);this._subs.push(Object(ue.pipe)(Object(ue.pipe)(this.cheetahAvailabilityService.availability,b.a.filter(de.Availability.isVisible),b.a.take(1))).subscribe(()=>xt.set(!0))),this._subs.push(this._trackPlagiarismAlertsEditing());const It=new da.a(this._telemetry,this.modalManager,this.lensState,this.lensPreviewViewModel,this._userAccount.features,this._getAlertClosestToCursor,this._engine.sessionModel,H,()=>da.b.outcomesList.filter(da.b.lensPreviewFilter(this._userAccount.features)),st.a.all,U,xt,this.capabilities);this.navigationViewModel=It,this.cardsViewModel=new Ee.c({flush:this._denaliEditorModel.flushChanges},this.navigationViewModel.events,W,this._engine.alertsService,this._engine.alertsReader,e=>this._userAccount.settings.markFeatureOnboarded(e).then(()=>this._telemetry.gnarSpec.featureOnboardingEventClose(this._telemetry.pageId)),()=>this._userAccount.settings.markFeatureOnboarded(fe.a.MuteQuotedAdvice),Object(ue.pipe)(H,r.g.map(e=>({model:e,openSuggestionsManagement:()=>this._platformEnvironment.actions.openPopup(new w.a(this._config.account.suggestions))}))),r.g.some({sendToSignIn:Ee.a.Experiments.sendToSignIn(this._platformEnvironment,this._config),handleGbPrompt:Ee.a.Experiments.handleGbPrompt(this._platformEnvironment,this._config,Wn(this._telemetry))}),this._userAccount.features.denali.dismissFeedbackFormSuppressed,this._getActiveItemWithAlert,this.capabilities,this.lensState,this._platformEnvironment,{bufferTransitions:!0,showGbPrompt:this._userAccount.features.denali.gbPrompt},Object(ce.flow)(Pn.updateCitationStyle(this._engine.sessionModel,this._notificationsManager,this._telemetry),this._subs.push.bind(this._subs)));const jt=()=>{const e=Object.assign(Object.assign({},this.cardsViewModel.actionEvents),{next:e=>{p.b.isAlertIgnoreAction(e)||this.cardsViewModel.actionEvents.next(e)}});return Object.defineProperty(e,"pipe",{value:this.cardsViewModel.actionEvents.pipe.bind(this.cardsViewModel.actionEvents)}),Object.defineProperty(e,"subscribe",{value:this.cardsViewModel.actionEvents.subscribe.bind(this.cardsViewModel.actionEvents)}),{actionEvents:e}},Tt=()=>Object(ue.pipe)(r.g.sequenceT(this._engine.sduiService,this._engine.sduiManager,this._engine.sduiFeedManager),r.g.map(([e,t,n])=>{const a=new $(e,this.capabilities,this.lensState,t.get(),n.get(),this._engine.alertsReader,jt(),this._platformEnvironment);return{navigationModel:new xa(t.get(),this.lensState.view("currentLens","id"),a.actionEvents),cardsViewModel:a}})),Nt=()=>{Object(ue.pipe)(r.g.sequenceT(this._sduiCardsViewModel,this._sduiNavigationModel),r.g.tap(([e,t])=>{e.dispose(),t.dispose()}));const e=Tt();r.g.isSome(e)?(this._sduiCardsViewModel=r.g.some(e.value.cardsViewModel),this._sduiNavigationModel=r.g.some(e.value.navigationModel)):(this._sduiCardsViewModel=r.g.none,this._sduiNavigationModel=r.g.none)};Nt(),this._subs.push(this.lensState.view("currentLens","id").pipe(b.a.tap(e=>Object(ue.pipe)(e,r.g.fromPredicate(d.a.isWithAlertsId),r.g.chain(Oa.outcomeIdToSDUIKind),r.g.tapLeft(()=>{this._engine.resetSDUI("feedOnly","switch to a native lens")(),Nt()})))).subscribe(),Object(ue.pipe)(this._engine.sduiFeedManager,r.g.getOrElse(Object(ce.constant)(Object(ce.unsafeCoerce)(b.a.NEVER))),b.a.skip(1),b.a.withLatestFrom(this.lensState)).subscribe(([,e])=>{h.e.hasItems(e)&&Oa.isSDUIVisibleOutcomesLens(e.currentLens.id)&&this._focusSDUIItemByAlert(this.capabilities.getActiveAlert(e.currentLens)),Nt()})),this._cardsTelemetry=new dn(this._telemetry,this.cardsViewModel.actionEvents,this.lensState,this._engine.mutingAlertsReader,this._getActiveItemWithAlert),this._synfonyTelemetry=new $a(this._telemetry,this.cardsViewModel.actionEvents,this.lensState,this._getActiveItemWithAlert),this.alertUserEvents=new Se(this._denaliEditorModel,this.lensState,this.marksViewModel,N,this._getActiveItemWithAlert),this._ethicalAICardTelemetry=new Hn(this._telemetry,this.cardsViewModel.actionEvents,this.lensState,this._engine.alertsReader,this.alertUserEvents,this._engine.obsCapiClient,this._engine.checkingDomain,D),this._gbRuleCreatedViewModel=new qn(this._config,this._engine.obsCapiClient,this._notificationsManager,this._telemetry),this.downloadViewModel=new Nn(this._engine.sessionModel,this._notificationsManager),this.documentSettingsViewModel=Object(ua.b)(this._denaliEditorModel,this._router,this._textResources.denali,this._userAccount,this._dialectSettings,this.downloadViewModel,this.upgradeViewModel,this.modalManager,this._uploadViewModel,this._environment,this._notificationsManager,this.searchViewModel,this._telemetry,this._docId,this._engine.sessionModel);const Pt=kt.create();this._subs.push(this._denaliEditorModel.clickedWord.pipe(b.a.map(r.g.filter(e=>2===e.meta.clicks)),b.a.withLatestFrom(this.alertUserEvents.alertClicked.pipe(b.a.startWith(r.g.none)),(e,t)=>r.g.isNone(t)?e:r.g.none),b.b.compact).subscribe(Pt.doubleClickedWord)),this._cheetahInlineAvailabilityProvider=pn.create(this.navigationViewModel,this.documentSettingsViewModel.viewModel.visualState,this.cheetahAvailabilityService.availability,this._userAccount.features.denali),this._inlineManager=function(e,t,n,a,i,s){const c=B.a.create(zn.idle),d=B.a.create(new Set([zn.Type.idle])),p=l.Monitoring.Logging.getLogger("inlineManager");p.isEnabled(l.Logging.LogLevel.DEBUG)&&c.subscribe(e=>p.debug("state change to",e));const m=new b.a.Subject,h=new b.a.Subject,g=new b.a.Subject,f=new b.a.Subject,v=new b.a.Subject,S=Object(ce.pipe)(a,r.g.fold(()=>b.a.EMPTY,e=>Yn.b.fromToolbar(e.linkEvents)),b.a.share()),C={[zn.Type.idle]:zn.Scheme.monoid.empty,[zn.Type.formattingLink]:zn.Scheme.forFormattingLink(e,S,g),[zn.Type.upgradeHook]:zn.Scheme.forUpgradeHook(t,n,f),[zn.Type.synonymsCard]:zn.Scheme.forSynonymsState(i,h),[zn.Type.inlineCard]:zn.Scheme.forCardState(t,n,m),[zn.Type.cheetahInlineButton]:zn.Scheme.forCheetahInlineButton(e,s,v)},w=d.view(Array.from).view(ye.foldMap(zn.Scheme.monoid)(e=>C[e])),k=b.a.combineLatestStatic([w,c.view("type")]).pipe(b.a.switchMap(([e,t])=>b.a.mergeStatic(...e[t])),b.a.scan((e,t)=>{const[n,a]=t(e);return p.debug("state change",{prevState:e,changeReason:n,nextState:a}),a},zn.idle),b.a.tap(y.b.toAtom(c)),b.a.startWith(zn.idle),b.a.share()),E=e=>b.a.Observable.create(()=>(d.modify(t=>new Set(t).add(e)),()=>d.modify(t=>{const n=new Set(t);return n.delete(e),n}))).pipe(b.a.startWith(y.b.voidValue));return{doubleClickedWord:E(zn.Type.synonymsCard).pipe(b.a.switchMapTo(k.pipe(b.a.map(e=>e.type===zn.Type.synonymsCard?r.g.some(e.word):r.g.none))),b.a.distinctUntilChanged(r.g.getEq(Qt.a.ord).equals),b.a.share()),closeSynonyms:h,hoveredMarkAlert:E(zn.Type.inlineCard).pipe(b.a.switchMapTo(k.pipe(b.a.map(e=>e.type===zn.Type.inlineCard?r.g.some(e.alert):r.g.none))),b.a.distinctUntilChanged(r.g.getEq(u.d.ord).equals),b.a.share()),closeCards:m,formattingLinkState:E(zn.Type.formattingLink).pipe(b.a.switchMapTo(k.pipe(b.a.map(e=>e.type===zn.Type.formattingLink?r.g.some(e.link):r.g.none))),b.a.distinctUntilChanged(r.g.getEq(Kn.a.LinkState.eq).equals),b.a.share()),closeLinks:g,upgradeHookState:E(zn.Type.upgradeHook).pipe(b.a.switchMapTo(k.pipe(b.a.map(e=>e.type===zn.Type.upgradeHook?r.g.some(e.alert):r.g.none))),b.a.distinctUntilChanged(r.g.getEq(Gn.a.eq).equals),b.a.share()),closeUpgradeHooks:f,cheetahInlineButtonState:E(zn.Type.cheetahInlineButton).pipe(b.a.switchMapTo(k.pipe(b.a.map(e=>e.type===zn.Type.cheetahInlineButton?r.g.some(Object(o.e)()):r.g.none),b.a.share()))),closeCheetahInlineButton:v}}(this._denaliEditorModel,this.alertUserEvents,N,Ne,Pt,this._cheetahInlineAvailabilityProvider);const Lt=$n.a.ViewModel.getInlineHighlightFilter(this.lensState),Rt=Object(ce.flow)(this.marksViewModel.getMarkByAlert,r.b.fromOption(()=>new Error("mark not found")),r.b.chain(e=>e.getRect()),r.l.fromEither);this.inlineCardViewModel=new $n.b(this._inlineManager,Rt,b.a.mergeStatic(this._denaliEditorModel.contentUpdated.pipe(b.a.mapTo(y.b.voidValue))),this._engine.checkingDomain,N,this._engine.alertsService,this._telemetry,this._openInlineAlert,this._inlineAlertHovered,this._hydrateTransforms,Lt);const{fontAccessibilityTesting:Dt}=this._userAccount.features.denali;if(r.g.isSome(Dt)){const e=Object(ue.pipe)(this._engine.sessionModel.checkingState,b.a.map(t=>{if("idle"===t){if("inlineCard"===Dt.value){const e=this._engine.alertsReader.getById("local_7");if(r.g.isSome(e)){const t={alert:e.value,highlightIndex:0},n=this.marksViewModel.getMarkByAlert(t);r.g.isSome(n)&&this._denaliEditorModel.hoveredMarks.next(r.g.some([n.value]))}}if("assistantCard"===Dt.value){const e=this._engine.alertsReader.getById("local_2");if(r.g.isSome(e)){const t={alert:e.value,highlightIndex:0};this._lensStateManager.focusAlert(t,u.b.api)}}e.unsubscribe()}})).subscribe()}this.inlineUpgradeHookViewModel=new Jn(this._inlineManager,Rt,this._denaliEditorModel.contentUpdated.pipe(b.a.mapTo(y.b.voidValue)),this._engine.checkingDomain,this._inlineUpgradeHookClicked,this._userAccount.settings,this.upgradeViewModel),this.feedUpgradeViewModel=new tt.a.ViewModel.UpgradeHookItemViewModelImpl(this.cardsViewModel,this.upgradeViewModel,b.a.NEVER,At.i.Place.DenaliDocument.editorDenaliChecksFeed,tt.a.ViewModel.EventHandlers.empty),this.successLensViewModel=new mt.b(this.lensState,this._engine.sessionModel,e=>this._telemetry.gnarSpec.sidebarSuccessStateShow(this.lensState.get().currentLens.id,this._telemetry.pageId,e),this.capabilities,r.g.none,this._userAccount.features.denali.mutedAlertsOnSuccessView?r.g.some(void 0):r.g.none,ce.constFalse,Ut.a.isInSuccessWithDraftAI,this._userAccount.features.denali.showGrammarlyBDGift);const Ht=Object(ue.pipe)(le,r.g.fromPredicate(ce.identity),r.g.map(()=>We.create(this.cardsViewModel.actionEvents,this.inlineCardViewModel.events))),Vt=B.a.create(d.a.SpecialId.AllAlerts),Wt=Ha.defaultNextLensPredicate;this.priorityEvents=new b.a.Subject;const qt=[Na(this._engine.sessionModel.asyncChecksState.view("plagiarism"),this._engine.plagiarismModel,this._autoScrollToNextAlert,this.capabilities),Pa(this.lensState,this._engine.sessionModel,Wt,this.lensPreviewViewModel,this.modalManager,this._autoScrollToNextAlert,this._userAccount.features,Vt),La(this.lensState,this._engine.sessionModel,Wt,this.lensPreviewViewModel,this.modalManager,this._autoScrollToNextAlert,this._userAccount.features,Vt),Ra(this.lensState,this._engine.sessionModel,Wt,this.lensPreviewViewModel,this.modalManager,this._autoScrollToNextAlert,Vt),...L?[]:vt.create(this._engine.checkingDomain,N,this.lensState,this._getActiveItemWithAlert,e=>ft(()=>this._notificationsManager.enqueue("alertUndo",{params:gt(e)}).pipe(b.a.tap(e=>"undo"===e&&this._telemetry.gnarSpec.undoNotificationUndoButtonClicked(this._telemetry.pageId))),()=>this._telemetry.gnarSpec.notificationCloseButtonClick("alertUndo",this._telemetry.pageId),()=>(this._denaliEditorModel.flushChanges(),this._denaliEditorModel.contentUpdated)),this._log.getLogger("sideEffects.undo")),Ba(h.e.Effect.When.always,this._denaliEditorModel.textChangedAfterPaste,({type:e,source:t,tags:n,len:a})=>{switch(e){case"initial":l.Monitoring.TimeSeries.rootFemetrics.getTimer("text_paste_initial").recordTime(a);break;case"reset":l.Monitoring.TimeSeries.rootFemetrics.getTimer("text_paste_reset").recordTime(a);break;case"partial":l.Monitoring.TimeSeries.rootFemetrics.getTimer("text_paste_partial").recordTime(a);break;default:Object(i.c)(e)}this._telemetry.gnarSpec.pasteEventFire(a,this._telemetry.pageId,t,n,e)}),Ba(h.e.Effect.When.isSidebarClosed,this._denaliEditorModel.textChangedAfterPaste,({type:e})=>{"initial"!==e&&"reset"!==e||(this.navigationViewModel.events.next({type:"toggleSidebar",actionSource:u.b.api}),this._openedAfterPaste.next())}),(Kt=this._denaliEditorModel,Zt=this._notificationsManager,Xt=()=>this._telemetry.gnarSpec.undoTextRemovedNotificationShow(this._telemetry.pageId),Jt=()=>this._telemetry.gnarSpec.undoTextRemovedHotkeyPress(),en=()=>this._telemetry.gnarSpec.undoTextRemovedButtonClick(this._telemetry.pageId),{id:"textRemovedSideEffect",when:ce.constTrue,what:h.e.Effect.Applicator.create(Kt.contentUpdated.pipe(b.a.filter(pe.b.isTextMaybeWithFormatting),b.a.map(()=>Kt.getTextLength()),b.a.startWith(Kt.getTextLength()),b.a.pairwise(),b.a.filter(([e,t])=>e-t>500),b.a.exhaustMap(()=>b.a.timer(1e3).pipe(b.a.takeUntil(Kt.shortcutUsed),b.a.switchMapTo(Zt.enqueue("textRemoved").pipe(b.a.takeUntil(Kt.shortcutUsed.pipe(b.a.tap(Jt))),b.a.tap(e=>{"shown"===e?Xt():"undo"===e&&(Kt.undo(),en())}),b.a.takeWhile(e=>"undo"!==e))),b.a.mapTo(h.e.Effect.Applicator.Source.identity)))))}),($t=this._openedAfterPaste,Gt=this._documentLoader.state,{id:"afterPasteLoadingSideEffect",when:h.e.Effect.When.isSidebarOpen,what:h.e.Effect.Applicator.create($t.pipe(b.a.tap(()=>Gt.set(Ta.a.State.lensAndNavigationProcessing)),b.a.switchMapTo(b.a.NEVER)))}),Fa(this._denaliEditorModel,5*ve.d.MS_IN_MIN),...this.cardsViewModel.getApplicatorEffects(),...this._getSDUIApplicatorEffects(),Ee.b.changeAlertEffect(this.lensState,this.cardsViewModel,W,this._getActiveItemWithAlert,N,r.g.none,this._getAlertClosestToCursor,this._log.getLogger("CardsViewModelEffects.changeAlertEffect")),Je.b.freezeActiveCardOnCardsListUpdate(this.lensState,this.cardsListScrollManager,this.capabilities),Je.b.moveNearestItemIntoViewport(this.focus.focusEvents.pipe(b.a.filter(e=>e.section.id===Bt.b.Id.checksFeed&&e.kind===Oe.a.FocusEvent.navigationBackwards)),this.lensState,Ue,this.cardsListScrollManager,this.capabilities),Je.b.manageCardsVisibility(this.lensState,this.cardsListScrollManager,this.capabilities,Object(ce.unsafeCoerce)(this.cardsViewModel.actionEvents)),ke.a.createAlignmentSideEffect(this.lensState,this.cardsViewModel.actionEvents,Le.getFirstApiAlignmentOverride(),Ut.a.getActiveAlignableItem,this.capabilities,$e,Ge),ke.a.createAlignmentOnTypingEffect(this.lensState,this.alignmentViewModel,this._denaliEditorModel.contentUpdated,this._getActiveItemWithAlert,this.capabilities),ke.a.createAlignOnDisjointedAreasEffect(this.lensState,this.alignmentViewModel,this._denaliEditorModel,this.cardsListScrollManager),ke.a.createAlignOnResizeSideEffect(this.lensState,this.alignmentViewModel,this._userAccount.settings.editorPreferences.view("fontSize").pipe(b.a.skip(1)),this._getActiveItemWithAlert,this.capabilities),It.lensChangeEffects,It.alertChangeEffects,ct.a.focusAlertByClickedMark(this.alertUserEvents,this.lensState),(zt=this._openInlineAlert,{id:"openInlineAlert",when:h.e.Effect.When.isSidebarClosed,what:h.e.Effect.SwitchAlert.create(zt.pipe(b.a.map(e=>({alertHighlight:e,alertSource:u.b.text,options:{order:"textOrder"}}))))}),ct.a.focusMarkByActiveAlert(this.lensState,this.marksViewModel,N,Ut.a.getActiveFocusableItem,this._log.getLogger("MarksEffects.focusMarkByActiveAlert"),this.focus.state.pipe(b.a.map(r.g.exists(e=>e.id===Bt.b.Id.editor)))),ct.a.highlightMarkByHighlightedCard(this.cardsViewModel,this.lensState,this.marksViewModel,N,this.capabilities,this._log.getLogger("MarksEffects.highlightMarkByHighlightedCard")),$n.a.Effects.highlightMarkByInlineAlert(this._inlineAlertHovered.pipe(b.a.filter(Lt)),this.marksViewModel,this._log.getLogger("MarksEffects.highlightMarkByInlineAlert")),Qn.Effects.highlightMarkByInlineUpgradeHook(this._inlineUpgradeHookClicked,this.marksViewModel,this._log.getLogger("MarksEffects.highlightMarkByInlineUpgradeHook")),...r.g.isNone(this._engine.sduiManager)?[Ee.b.createSendActiveAlertFeedbacksEffect(this.lensState,this._getActiveItemWithAlert,this._engine.alertsService,N,this._log.getLogger("CardsViewModelEffects.createSendActiveAlertFeedbacksEffect"))]:[],ct.a.createOnAlertApplySideEffect(this.marksViewModel.events,this.capabilities),Da(this.lensPreviewViewModel,this._userAccount,this._notificationsManager,this._telemetry,this._upgradeHook,this._platformEnvironment,this.lensState.view("currentLens","id"),Vt),this.successLensViewModel.applicatorEffects,pt.a.SideEffects.toggleNonPriorityCards(this.priorityEvents,this.capabilities,e=>this._telemetry.gnarSpec.toggleNonPriorityButtonClick(e,this._telemetry.pageId,"lensview",this._telemetry.pageSessionId))];var zt,$t,Gt,Kt,Zt,Xt,Jt,en;Object(ue.pipe)(this._sduiActionEvents,r.g.map(e=>[G.PrevNextNavigation.sideEffect(G.PrevNextNavigation.Events.fromSduiCardActions(e),this.lensState,this.capabilities),...Object(ue.pipe)(r.g.sequenceT(this._engine.sduiFeedManager,this._engine.sduiManager),r.g.fold(()=>[],([e,t])=>[E.a.SideEffects.createSDUIFeedSideEffect(this.capabilities,e.pipe(b.a.switchMap(e=>e.feed),b.a.map(r.g.some),b.a.startWith(r.g.none),b.a.pairwise(),b.a.map(([e,t])=>Object(ue.pipe)(r.g.sequenceT(e,t),r.g.filter(([e,t])=>e.feedId===t.feedId),r.g.map(([,e])=>Object.assign(Object.assign({},e),{cards:Object(ue.pipe)(e.cards,ut.a.filter(ce.constFalse,ce.constTrue,ce.constTrue))})),r.g.alt(()=>t))),b.b.compact),Ut.a.sduiToChecksFeedOrd(this.capabilities),this._engine.alertsReader),Ua(t,e,this.capabilities)])),Va(e,this._autoScrollToNextAlert,this.capabilities)]),r.g.tap(e=>qt.push(...e))),Object(ue.pipe)(this._engine.mutingAlertsReader,r.g.tap(e=>{qt.push(ot.showCardMuteOnboarding(this._userAccount.settings.featuresOnboardingSeen.view(e=>e.has(fe.a.CardMute)&&!this._userAccount.features.denali.enforceFeaturesOnboarding.has(fe.a.CardMute)),this._engine.checkingDomain,e,()=>this._notificationsManager.enqueue("cardMuteOnboarding"),()=>this._userAccount.settings.markFeatureOnboarded(fe.a.CardMute),()=>this._telemetry.gnarSpec.deactivatedSuggestionsOnboardingNotificationShow(this._telemetry.pageId,this._telemetry.pageSessionId)))})),Object(ue.pipe)(Ht,r.g.tap(e=>{qt.push(...yt.create(e,N,this._engine.checkingDomain,Ye),...bt.create(e,N,this._engine.checkingDomain));const t=Ke.createEffects({actions:e,alertService:this._engine.alertsService,tracking:Ye,alertsReader:N});qt.push(...t)}));const tn=Object(ue.pipe)(Ht,r.g.map(e=>[Ke.selectNextCardOnBulkAcceptConfirmed(e,this._getActiveItemWithAlert,this.lensState,this._autoScrollToNextAlert)]),r.g.getOrElse(()=>[])),an=Object(ue.pipe)(Ht,r.g.fold(()=>B.a.create(!1),()=>this.lensState.view(h.e.mapper(e=>Object(ue.pipe)(e.currentLens,h.k.getActiveItemOfType(Ut.a.isBulkAcceptItem)))).view(r.g.isSome))),rn={bigPaste:this._denaliEditorModel.textChangedAfterPaste.pipe(b.a.filter(e=>"reset"===e.type||"initial"===e.type),b.a.map(()=>{}))},sn=Object(ue.pipe)(b.a.mergeStatic(...tn,Le.focusFirstCardAfterBigCheck(this.lensState,this._engine.sessionModel.checkingState,this._focusFirstAlert,rn,an)),e=>Le.getSideEffect(e,this.capabilities));qt.push(sn),this.autofocusListener=new Pe(this._engine.sessionModel.checkingState,this.lensState);const ln=Le.getDefaultBehavior(this._getActiveItemWithAlert,this.capabilities),cn=Me(this.lensStateProvider,this._getAlertClosestToCursor,Vt,this.capabilities,Ut.a.isInGlobalSuccess,()=>r.g.isNone(this._userAccount.features.denali.gbUpHook.get())&&!R),un=this._userAccount.features.denali.cardBundles?((e,t,n,a=(()=>r.g.none))=>i=>{if(!e(i))return t(i);const{currentLens:o}=i;return o.kind===h.f.abstract?r.g.none:Object(ue.pipe)(r.g.fromPredicate(h.e.hasItems)(i),r.g.chain(e=>n.findNextAlert(e.currentLens)),r.g.alt(()=>a(i)),r.g.map(Te.a.toLensAlert))})(e=>d.a.isMainLens(e.currentLens.id),cn,this.capabilities):cn,mn=Le.getStateTransformer(ln,un,N,this.capabilities,L?Le.getShouldAutoFocusSDUI(this._autoScrollToNextAlert):Le.getShouldAutoFocus(this._autoScrollToNextAlert,N,this._getActiveItemWithAlert),e=>e.kind===h.e.Effect.FocusBehaviorType.focusFirst&&this._telemetry.gnarSpec.focusFirstCardShow(this._telemetry.pageId),Vt),hn=g.a.Items.getItemsPositionsUpdateTransformer(this.capabilities),gn=L?g.a.Items.getRemoveDisposedItemsTransformer(this.capabilities):Ze.nothing,fn=Object(ue.pipe)(Ht,r.g.map(()=>Re.getStateTransformer(this._engine.checkingDomain.state,D,dt,this.capabilities,Ye,this._userAccount.features.denali.cardsRenderOptions)),r.g.getOrElse(()=>Ze.nothing)),bn=L?J.DisablePrevNextButtons.create(this.capabilities):Ze.nothing,yn=Object(ce.flow)(gn,r.b.chainLeft(mn),r.b.chainLeft(fn),r.b.chainLeft(bn),r.b.chainLeft(hn));this._lensStateManager=new Te.a(this.lensState,this.lensStateProvider,N,this._engine.alertsService,qt,this._getActiveItemWithAlert,yn),Object(o.r)("getLensStateSnapshot",()=>h.e.snapshot(Ve.a.snapshot,this._getActiveItemWithAlert)(this.lensState.get())),Object(o.r)("getLensState",()=>this.lensState.get()),Object(o.r)("getLensesCollection",()=>P.view("lenses").get()),this._pageTelemetry=new Ea(this.lensState,this._telemetry),this.synonymsViewModel=new nn(this._inlineManager,this._engine.positionManager,this._engine.synonymsModel,this.lensState,this._networkState,this._denaliEditorModel,this._notificationsManager,this._getActiveItemWithAlert,()=>this._telemetry.gnarSpec.notificationCloseButtonClick("alertUndo",this._telemetry.pageId),(e,t)=>{this._telemetry.gnarSpec.synonymsPopupShow(t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,this._telemetry.pageId,e)},(e,t,n)=>{this._telemetry.gnarSpec.synonymsPopupClose(t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,n,this._telemetry.pageId,e)},(e,t,n)=>{this._telemetry.gnarSpec.synonymsAcceptButtonClick(t.meaningIndex,t.synonymIndexInGroup,t.synonymIndexAbs,t.numberOfMeanings,t.numberOfSynonymsByMeanings,t.numberOfSynonymsTotal,n,this._telemetry.pageId,e)}),this.proofitViewModel=new Ft.b(this._subscription,this._engine.sessionModel,this._denaliEditorModel,this._userAccount,this._notificationsManager,this._router,this._config);this.surveyManager=Object(ue.pipe)(this._userAccount.features.denali.surveyType,r.g.map(e=>Yt(e,this.lensState,this._engine.sessionModel,this._denaliEditorModel,this.proofitViewModel,this._uploadViewModel,this._userAccount,this.modalManager,this._notificationsManager,this._subscription,this._telemetry))),this.formattingViewModel=Object(ue.pipe)(r.g.sequenceT(Ne,this._engine.formattingModel),r.g.map(([e,t])=>{const n=Kn.a.createManager(this._denaliEditorModel,t,this._inlineManager);return this._subs.push(e,n),{toolbarViewModel:e.viewModel,linksManager:n}})),this.documentPlaceholderViewModel=new In(this._uploadViewModel,this._denaliEditorModel,this._userAccount,this._environment),this.emotionsViewModel=Object(ue.pipe)(this._engine.emotionsModel,r.g.map(e=>Ln.a.ViewModel.create(e,this._engine.sessionModel,this._textResources.denali)));const vn=Object(ue.pipe)(Ne,r.g.map(e=>[e.viewModel,this.searchViewModel,this.documentSettingsViewModel.viewModel]),r.g.getOrElse(()=>[this.searchViewModel,this.documentSettingsViewModel.viewModel]));this.hotkeyManager=new Ae.a(r.a.UniqueArray.from(vn),this._environment.has(Ot.b.Flag.isAppleSystem),this._environment.platform===Ot.b.Platform.IPAD),this._subs.push(this._handleFocusUserInputInCards()),this._subs.push(Ee.a.Experiments.sendToIdeasGallery(this._platformEnvironment,this._config)(this.cardsViewModel.actionEvents).subscribe()),this.showConfetti=B.a.create(!1);const Sn=()=>{var e;const t=this.successLensViewModel.successState.get(),n=this.lensState.get();return Ut.a.isInSuccessWithDraftAI(n)&&t.type===mt.a.SuccessType.zero&&!(null===(e=t.showBirthday)||void 0===e||!e)};this.cheetahViewModel=xt.view(Object(ce.flow)(r.g.fromPredicate(Boolean),r.g.map(()=>_n.create({capi:this._engine.obsCapiClient,capiService:ht,denaliEditorModel:this._denaliEditorModel,userAccount:this._userAccount,navigationViewModel:this.navigationViewModel,dedConnector:new Mt(this._denaliEditorModel),dialect:this._dialectSettings,isDemoDocument:this._engine.sessionModel.isDemoDocument,availabilityService:this.cheetahAvailabilityService,telemetry:this._telemetry,inlineManager:this._inlineManager,platformEnvironment:this._platformEnvironment,config:this._config,upgradeVM:this.upgradeViewModel})),r.g.tap(e=>this._subs.push(b.a.fromEvent(window,"beforeunload").subscribe(()=>e.dispose()))))),this.onboardingViewModel=new wa(this._userAccount.settings,this.lensState,this._denaliEditorModel,this._engine.sessionModel,N,this._userAccount.features.onboardingMode(this._engine.sessionModel),this._telemetry,B.a.create(r.g.none),this._getActiveItemWithAlert,()=>this.marksViewModel.getFirstMark().pipe(b.b.compact,b.a.map(e=>r.g.fromEither(e.getRect()))),this.cheetahViewModel),this._subs.push(this.successLensViewModel.successState.pipe(b.a.debounceTime(2e3),b.a.filter(Sn)).subscribe(()=>{this._userAccount.settings.markBDayGiftSeen(),this._telemetry.gnarSpec.bdayGiftAnimationShow(this._telemetry.pageId),b.a.timer(4e3).subscribe(()=>{Sn()&&this.showConfetti.set(!0)})}))}dispose(){this._engine.shutdown(),this.searchViewModel.dispose(),this.successLensViewModel.dispose(),this._lensStateManager.dispose(),this.marksViewModel.dispose(),this.synonymsViewModel.dispose(),r.g.option.map(this._reportViewModel,e=>e.dispose()),this.downloadViewModel.dispose(),this.navigationViewModel.dispose(),Object(ue.pipe)(this.surveyManager,r.g.map(e=>e.dispose())),this.documentSettingsViewModel.dispose(),Object(ue.pipe)(this.obtainGradesNotificationManager,r.g.map(e=>e.dispose())),this.proofitViewModel.dispose(),this._pageTelemetry.dispose(),this._cardsTelemetry.dispose(),this._ethicalAICardTelemetry.dispose(),this._gbRuleCreatedViewModel.dispose(),this._synfonyTelemetry.dispose(),this.inlineCardViewModel.dispose(),this.cardsViewModel.dispose(),Object(ue.pipe)(this._sduiCardsViewModel,r.g.tap(e=>e.dispose())),Object(ue.pipe)(this._sduiNavigationModel,r.g.tap(e=>e.dispose())),this.autofocusListener.dispose(),this.hotkeyManager.dispose(),this.cheetahAvailabilityService.dispose(),Object(ue.pipe)(this.cheetahViewModel.get(),r.g.tap(e=>e.dispose())),this._subs.dispose()}_handleFocusUserInputInCards(){return this._denaliEditorModel.dontFreezeWhen(this.lensState.pipe(b.a.map(Object(ce.flow)(h.e.getActiveItem(this._getActiveItemWithAlert),r.g.filter(e=>Ut.a.isAlertCard(e)),r.g.filter(Object(o.p)(xe.a.hasBackgroundGbPrompt,Object(o.b)(Ye.a.isDefaultItem,xe.a.hasOneGapTransform))),r.g.fold(ce.constFalse,ce.constTrue))),b.a.startWith(!1),b.a.distinctUntilChanged()),"userInput")}_trackPlagiarismAlertsEditing(){return this._engine.checkingDomain.state.pipe(b.a.filter(Object(ce.flow)(he.a.iso.get,e=>e.latestChangeDiff,ut.a.filter(ce.constFalse,(e,t)=>t.alert.lensType===d.a.Type.Plagiarism&&t.state.type===u.a.State.Type.REMOVED&&(t.state.reason===u.a.State.Removed.Reason.capiDone||t.state.reason===u.a.State.Removed.Reason.textChange),ce.constFalse),Object(ce.not)(ut.a.isEmpty))),b.a.tap(()=>this._telemetry.gnarSpec.plagiarismAlertEdit(this._docId,this._telemetry.pageId,this._telemetry.pageSessionId))).subscribe()}createLoaderViewModel(e){return new la.b(this._documentLoader.state,this.lensState,this._engine.sessionModel,e,this._denaliEditorModel,this._userAccount.features)}}},akIQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var a=n("ERkP"),r=n("OA+g"),i=n("I7vG"),o=n("9NHN"),s=n("rk+4"),l=n("bO3R"),c=n("3rlE"),u=n("BugA"),d=n("PyeZ"),p=n("aIes"),m=n("xEVj"),h=n("cVtq"),g=n("lrqh"),f=n("PrA7"),b=n("op3b");const y=({title:e,className:t})=>a.createElement("div",Object.assign({className:t},p.d.setInnerHTML(e.toLowerCase(),{allowedTags:["i","b"]}))),v=({title:e,explanation:t})=>a.createElement("div",null,a.createElement(y,{className:b.a.bigTitle,title:e}),a.createElement("div",Object.assign({className:b.a.explanation},p.d.setInnerHTML(t,{allowedTags:["i","b"]})))),S=({alert:e,hydrate:t,onApply:n,onAddToDictionary:o,onIgnore:u,onOpen:d,onMount:p})=>{const S=a.useContext(s.a.Context).inlineCard,w=e=>/Unknown/.test(e.patternName);return m.a.useEffectOnDidMount(p),a.createElement("div",{className:b.a.card},Object(i.pipe)(e.getTransform(),g.g.chain(Object(r.flow)(t,g.b.fold(t=>(f.Monitoring.Logging.getLogger("InlineCard.hydration").error("Failed to hydrate an inline card",t.error,{alertId:e.id}),g.g.none),g.g.some))),g.g.fold(()=>!w(e)&&a.createElement(v,{title:e.title,explanation:e.explanation}),t=>{return a.createElement(h.d,{key:"replacementsLabels",replacementsLabels:t,onClick:n,header:(r=e,i=t.tooltipText,/Unknown/.test(r.patternName)?"Unknown word":/Misspelled\/General/.test(r.patternName)?"":i),customStyle:b.a,a11yContrast:!0});var r,i})),a.createElement(l.a.Group,{align:"vertical"},e.extraProperties.hasAddToDictionary&&a.createElement(l.a.Ghost,{name:"add-to-dictionary",textPosition:"right",className:w(e)?b.a.footerButtonBig:b.a.footerButtonShort,onClick:o},w(e)&&a.createElement(y,{className:b.a.unknownWordTitle,title:e.title}),a.createElement(c.d.Dict,null),S.addToDictionary),a.createElement(l.a.Ghost,{name:"dismiss",className:b.a.footerButtonShort,onClick:u},a.createElement(c.d.Ignore,null),S.dismiss),a.createElement(l.a.Ghost,{name:"see_more",className:b.a.footerButtonShort,onClick:d},a.createElement(c.d.Expand,null),S.seeMore)),a.createElement(C,{alert:e}))},C=({alert:e})=>Object(i.pipe)(e.extraProperties.freePremium,g.g.contains("unlocked"))?a.createElement(k,null):Object(i.pipe)(e.extraProperties.premiumYellowFooterVariant,g.g.isSome)?Object(i.pipe)(e.extraProperties.premiumYellowFooterVariant,g.g.fold(()=>null,e=>a.createElement(w,{variant:e}))):a.createElement("div",{className:b.a.emptyCardFooter}),w=({variant:e})=>{const t=a.useContext(s.a.Context).premiumFooter;return a.createElement(E,null,t[e])},k=()=>{const{beforeIcon:e,afterIcon:t}=a.useContext(s.a.Context).freePremiumAlertFooter;return a.createElement(E,null,e," ",t)},E=({children:e})=>a.createElement(u.l,{className:b.a.premiumCardFooter},a.createElement(c.d.PaidLink,{width:18}),e),O=e=>{const t=a.useRef(null),[n,r]=a.useState(!1);m.a.useEffectOnDidMount(()=>{const e=t.current;e&&e.firstElementChild&&e.firstElementChild.clientWidth>=288&&r(!0)});const{alert:i,hydrate:s,onApply:l,onIgnore:c,onAddToDictionary:u,onOpen:d,onMount:p}=e;return a.createElement("div",Object.assign({role:"presentation",onClick:e=>e.stopPropagation(),key:i.id,ref:e=>t.current=e},Object(o.c)(n&&b.a.maxWidthReached)),a.createElement(S,{alert:i,hydrate:s,onApply:l,onIgnore:c,onAddToDictionary:u,onOpen:d,onMount:p}))},A=({alert:e,events:t,highlightIndex:n,hydrate:r})=>{const i=e=>()=>{t.next(e),t.next({type:d.b.Type.closed})};return a.createElement(O,{alert:e,hydrate:r,onAddToDictionary:i({type:d.b.Type.addedToDictionary,alertId:e.id}),onApply:t=>i({type:d.b.Type.applied,alertId:e.id,alternativeIndex:t}),onIgnore:i({type:d.b.Type.ignored,alertId:e.id}),onOpen:i({type:d.b.Type.opened,alert:{alert:e,highlightIndex:n}}),onMount:i({type:d.b.Type.looked,alertId:e.id})})}},axA2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("ERkP");const r=({title:e,titleId:t,desc:n,descId:r,...i})=>a.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",stroke:"transparent","aria-labelledby":t,"aria-describedby":r,...i},n?a.createElement("desc",{id:r},n):null,e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.784 6.21a.727.727 0 0 1 .006 1.029L9.203 17.943 4.21 12.895a.727.727 0 1 1 1.034-1.023l3.959 4.003 9.553-9.66a.727.727 0 0 1 1.028-.005Z",fill:"#646B81"}))},"b/mo":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("OA+g"),r=n("I7vG"),i=n("zR/0"),o=n("D9EC"),s=n("lrqh"),l=n("dE97"),c=n("GUi3"),u=n("BeBM"),d=n("bFfh");const p=Object(o.b)(l.a.isRegistered,Object(a.not)(l.a.isMuted)),m=e=>t=>Object(o.b)(p,e(t));var h;!function(e){e.create=function(e,t){const n=m(t=>e[t]);return{lensFilters:new Map(Object.entries(e)),alertVisibleInText:(e,n)=>Object(o.b)(m(e=>t[e])(e),(e=>t=>e||l.a.isPriority(t))(n)),alertVisibleInSidebar:n,getLensesFilter:t=>e[t],alertCanBeDisplayed:p,alertIsBulkAcceptable:e=>Object(o.b)(n(e),l.a.isBulkAcceptable)}};const t=e=>t=>e===t.lensId,n=()=>e=>Object(r.pipe)(e.freePremium,s.g.contains("unlocked")),h=e=>Object(o.b)(t(c.a.OutcomeId.fromPriorityOutcomeId(e)),l.a.isPriority);e.getAlertVisibleInTextFilter=function(e,t){return t.pipe(i.a.distinctUntilChanged((e,t)=>!(e.currentLens.id!==t.currentLens.id||u.e.isWithPriorityList(e)&&u.e.isWithPriorityList(t)&&d.a.WithPriority.isNonPriorityListOpened(e.currentLens)!==d.a.WithPriority.isNonPriorityListOpened(t.currentLens))),i.a.map(t=>({filter:Object(o.p)(e.alertVisibleInText(t.currentLens.id,d.a.WithPriority.nonPriorityAlertsVisible(t)),l.a.isBulkApplied),lensId:t.currentLens.id})))},e.defaultLensFilters={[c.a.SpecialId.Clarity]:t(c.a.SpecialId.Clarity),[c.a.SpecialId.Correctness]:t(c.a.SpecialId.Correctness),[c.a.SpecialId.Delivery]:t(c.a.SpecialId.Delivery),[c.a.SpecialId.Engagement]:t(c.a.SpecialId.Engagement),[c.a.SpecialId.Vox]:t(c.a.SpecialId.Vox),[c.a.SpecialId.KnowledgeHub]:t(c.a.SpecialId.KnowledgeHub),[c.a.SpecialId.FreePremiumAlerts]:Object(o.p)(n(),t(c.a.SpecialId.Premium)),[c.a.SpecialId.ClarityPriority]:h(c.a.SpecialId.ClarityPriority),[c.a.SpecialId.CorrectnessPriority]:h(c.a.SpecialId.CorrectnessPriority),[c.a.SpecialId.DeliveryPriority]:h(c.a.SpecialId.DeliveryPriority),[c.a.SpecialId.EngagementPriority]:h(c.a.SpecialId.EngagementPriority),[c.a.SpecialId.VoxPriority]:h(c.a.SpecialId.VoxPriority),[c.a.SpecialId.KnowledgeHubPriority]:h(c.a.SpecialId.KnowledgeHubPriority),[c.a.SpecialId.Plagiarism]:t(c.a.SpecialId.Plagiarism),[c.a.SpecialId.DraftAI]:a.constFalse,[c.a.SpecialId.Cheetah]:a.constFalse,[c.a.SpecialId.Premium]:t(c.a.SpecialId.Premium),[c.a.SpecialId.AllAlerts]:l.a.belongsToAllAlerts,[c.a.SpecialId.Closed]:a.constFalse,[c.a.SpecialId.Priority]:l.a.belongsToPriorityLens,[c.a.SpecialId.PredictionTakeaways]:l.a.belongsToPredictionTakeaways,[c.a.SpecialId.PredictionEmogenie]:l.a.belongsToPredictionEmogenie,[c.a.SpecialId.RealTimeProofit]:t(c.a.SpecialId.RealTimeProofit)},e.defaultTextFilters=Object.assign(Object.assign({},e.defaultLensFilters),{[c.a.SpecialId.Closed]:l.a.isInline,[c.a.SpecialId.FreePremiumAlerts]:Object(o.p)(n(),t(c.a.SpecialId.Premium)),[c.a.SpecialId.Premium]:e.defaultLensFilters[c.a.SpecialId.Premium]}),e.priorityTextFilters=e=>({[c.a.SpecialId.Premium]:Object(o.b)(e[c.a.SpecialId.Premium],l.a.isPriority)})}(h||(h={}))},b0nb:function(e,t,n){"use strict";n.d(t,"a",(function(){return U})),n.d(t,"b",(function(){return W.a}));var a=n("a5W6"),r=n("m6JR"),i=n("OA+g"),o=n("I7vG"),s=n("1aGC"),l=n("LNSM"),c=n("FiSa"),u=n("24uI"),d=n("4ae2"),p=n("bYZB"),m=n("+JVj"),h=n("j7q7"),g=n("Ni70"),f=n("gT+5"),b=n("hjw9"),y=n("GGUR"),v=n("zR/0"),S=n("CXK/"),C=n("gy42"),w=n("Bew4"),k=n("2yqA"),E=n("hoSD"),O=n("lrqh"),A=n("6fbX"),_=n("D9EC"),x=n("PrA7"),I=n("F40h"),j=n("gw+C"),T=n("PPsJ"),M=n("hJSx"),N=n("hY4K"),P=n("lg/X"),L=n("2yqQ"),R=n("GZ3w");const B=(e,t)=>{const n=Boolean(s.imports[e])?s.import(e):null;return s.register(e,t,!0),()=>{s.imports[e]===n&&(Boolean(n)?s.register(e,n,!0):delete s.imports[e])}};var F,D,H,V;(D=F||(F={})).withDefaultThemeClasses=(e={})=>{var t,n,a,r;return{editor:E.c.classes(R.editor,e.editor),containerClass:null!==(t=e.containerClass)&&void 0!==t?t:"",scrollWrap:null!==(n=e.scrollWrap)&&void 0!==n?n:"",markExtraClass:null!==(a=e.markExtraClass)&&void 0!==a?a:"",markClassesTheme:null!==(r=e.markClassesTheme)&&void 0!==r?r:Object(f.b)()}},D.getDefaultThemeClasses=()=>D.withDefaultThemeClasses({}),function(e){e.api="api",e.dox="dox",e.user="user"}(H||(H={})),function(e){e.toQuillSources=t=>{switch(t){case e.dox:return"user";default:return t}}}(H||(H={})),(V||(V={})).isLocalDelta=e=>"dox"!==e.source&&c.a.isDelta(e.change);class U{constructor(e,t,n,a,d){this._allowedAttrs=n,this._allowedEmbeds=a,this._options=d,this._log=x.Monitoring.Logging.getLogger("DEd",x.Logging.LogLevel.DEBUG,x.Logging.LogColor.Model.getColor("DEd")),this._freezeFocus=new b.a.Impl("freezeFocus",!0===this._options.freezeFocusFeature?b.a.everyTrue:()=>!1),this._subs=new y.a.Keeper,this._editorEl=document.createElement("div"),this._scrollEl=new v.a.BehaviorSubject(O.g.none),this._scrollTo=new v.a.Subject,this._textLength=0,this._outgoingChanges=void 0,this._isFlushBlocked=!1,this.shortcutUsed=new v.a.Subject,this._deltaFilter=u.a.cleanDelta(this._allowedEmbeds,this._allowedAttrs),this._userClasses=this._options.classes?this._options.classes.view(F.withDefaultThemeClasses):l.a.create(F.getDefaultThemeClasses()),this.flushChanges=(e=H.api)=>{if(!this._isFlushBlocked&&void 0!==this._outgoingChanges){this._log.trace("flushChanges");const t=this._outgoingChanges;this._outgoingChanges=void 0,void 0!==this._changesSyncTimer&&(clearTimeout(this._changesSyncTimer),this._changesSyncTimer=void 0),Boolean(t.isEmpty)||(this._log.debug("emit changes",{textLength:this.getTextLength(),deltaLength:t.length,deltaAmount:t.amount,deltaTargetLen:t.prevLen}),this._changes.next({change:t,source:e}))}},this._flush=()=>{this.flushChanges(),this._changes.next({change:c.a.flush(),source:H.api})},this._changes=new v.a.ReplaySubject,this.changes=this._changes.pipe(v.a.pluck("change")),this._contentUpdatedInternal=new v.a.Subject,this.contentUpdated=this._contentUpdatedInternal.pipe(v.a.delay(1)),this.selection=new v.a.BehaviorSubject(p.g.empty),this.selectedFormatting=v.a.mergeStatic(this._contentUpdatedInternal.pipe(v.a.filter(e=>e.type===p.b.Type.onlyFormatting),v.a.withLatestFrom(this.selection,(e,t)=>t)),this.selection).pipe(v.a.map(e=>this.getFormatting(p.g.toTextRange(e))),v.a.shareReplay({bufferSize:1,refCount:!0})),this.clickedWord=new v.a.Subject,this.scrollPosition=new v.a.BehaviorSubject(0),this.ongoingSelection=new v.a.BehaviorSubject(!1),this.viewport=new v.a.BehaviorSubject({text:E.c.Rect.empty,wrapper:E.c.Rect.empty}),this.isEditorFocused=new v.a.BehaviorSubject(!0),this._execCommandAfterFocus=new v.a.Subject,this._validateSelection=({index:e,length:t})=>O.b.tryCatchError(()=>(Object(A.f)(e+t>=0,"Selection is less than zero",()=>`index: ${e}, length: ${t}`),Object(A.f)(e+t<this._textLength,"Selection is greater than text length",()=>`index: ${e}, length: ${t}, text length: ${this._textLength}`),{index:e,length:t})),this._documentRangeCache=w.DocumentRange.createCache(5),this._getDocumentRange=Object(i.flow)(this._validateSelection,O.b.chain(e=>Object(o.pipe)(this._documentRangeCache.get(e),O.g.fold(()=>Object(o.pipe)(e,w.DocumentRange.BoundaryPoint.getPoints(e=>Object(k.v)(this.quill.getLeaf(e))),O.b.chain(w.DocumentRange.BoundaryPoint.toNativeRange)),O.b.right),O.b.map(t=>(this._documentRangeCache.set(e,t),t))))),this._setNativeSelection=Object(i.flow)(this._getDocumentRange,O.b.map(e=>{const t=window.getSelection()||document.selection;t.removeAllRanges(),t.addRange(e),this.quill.focus()})),this._restoreFocus=()=>Object(o.pipe)(this.getCursor(),this._setNativeSelection,O.b.getOrElse(e=>this._log.error("Cannot reset focus",e))),this._scrollToCursor=()=>Object(o.pipe)(this._getCursorRect(),O.b.getOrElse(e=>(this._log.warn("Scroll to cursor: Cannot get cursor rect",e),O.g.none)),O.g.chain(e=>Object(o.pipe)(this._getScrollRect(),O.g.map(t=>({cursorRect:e,wrapperRect:t})))),O.g.tap(({cursorRect:e,wrapperRect:t})=>this._scrollToPosition({scrollTop:Math.round(e.top-t.top-t.height/2),animate:p.a.initial}))),this.restoreFocus=()=>{this._restoreFocus(),this._scrollToCursor()},this._getAnimation=(e,t)=>{switch(e.animate){case p.a.none:return v.a.of(e.scrollTop);case p.a.fast:return S.a.createAnimationObservable(t,e.scrollTop,100);case p.a.initial:return S.a.createAnimationObservable(t,e.scrollTop,200);case p.a.fake:return function(e,t,n){return v.a.Observable.create(a=>{const r=Math.abs(e-t)<250?0:e-t>0?Math.min(e-t,250):Math.max(e-t,-250);n.style.transform=`translateY(${r}px)`,n.style.transition="",a.next(e);const i=requestAnimationFrame(()=>{n.style.transition="transform 150ms linear",n.style.transform=""});return()=>{cancelAnimationFrame(i),n.style.transition="",n.style.transform=""}})}(e.scrollTop,t,this._wrapper);default:return Object(A.c)(e.animate)}},this._applyingExternalChanges=!1,this._pushChanges=(e,t)=>{this._log.trace("pushChanges",e),c.a.isFlush(e)?this.flushChanges(t):c.a.isReset(e)?(this._log.debug("get reset",{source:t,textLength:this.getTextLength(),deltaLength:e.length}),this._outgoingChanges=void 0,this.setContents(e,t)):(this._log.debug("get changes",{source:t,textLength:this.getTextLength(),deltaLength:e.length,deltaAmount:e.amount,deltaTargetLen:e.prevLen,change:e}),Object(A.f)(void 0===this._outgoingChanges,"There should be no outgoing changes in the editor when pushChanges() is called. Use flush()"),e.prevLen!==this._textLength&&this._log.error("Incoming change for a wrong text len",{expected:this._textLength,incoming:e.prevLen}),this._ensureSelection(()=>{this._history.commit(()=>{this._applyingExternalChanges=!0,u.a.splitToDeleteThenInsert(e.delta).filter(u.a.nonEmpty).forEach(e=>{this.quill.updateContents(Object(k.z)(e),H.toQuillSources(t))}),this._applyingExternalChanges=!1,this.flushChanges(t)})}))},this.pushChanges=(e,t)=>{this._pushChanges(e,"api"===t?H.api:H.user)},this._text=null,this.getText=()=>(null===this._text&&(this._text=this.quill.getText()),this._text),this.getHTML=()=>(this.flushChanges(),this._editorEl.outerHTML),this.getTextLength=()=>this._textLength,this.getContents=(e,t)=>c.a.unsafeRes(this._deltaFilter(Object(k.y)(this.quill.getContents(e,t)))),this.setCursor=(e,t=0,n="api")=>O.b.map(()=>this.quill.setSelection(e,t,n))(this._setNativeSelection({index:e,length:t,meta:{source:"api"===n?p.g.Meta.Source.api:p.g.Meta.Source.user,formatting:this.getFormatting(m.b.create(e,t))}})),this.scrollToTitle=()=>{this._scrollTo.next(this._getAnimation({scrollTop:0,animate:p.a.initial},this._getScroll()))},this._getScrollRect=()=>Object(o.pipe)(this._scrollEl.getValue(),O.g.map(e=>e.getBoundingClientRect())),this._getScroll=()=>(Object(A.f)(O.g.isSome(this._scrollEl.getValue()),"DEd should be attached"),O.g.unsafeGet(this._scrollEl.getValue()).scrollTop),this._normalizeScrollOffset=e=>{Object(A.f)(O.g.isSome(this._scrollEl.getValue()),"DEd should be attached");const t=O.g.unsafeGet(this._scrollEl.getValue()),n=t.scrollTop,a=t.scrollHeight-t.offsetHeight;return e+n<a?e+n>0?e:-n:a-n},this._setScroll=e=>(Object(A.f)(O.g.isSome(this._scrollEl.getValue()),"DEd should be attached"),O.g.unsafeGet(this._scrollEl.getValue()).scrollTop=e),this._calculateViewport=e=>{const t=this.quill.root.getBoundingClientRect();return{text:Object(o.pipe)(E.c.Rect.intersection(e,t),O.g.getOrElse(()=>t)),wrapper:e}},this.containsElement=e=>E.c.isParent(this.quill.root,e),this.getPossibleCursorPosition=(e,t,n=!1)=>{const a=this.viewport.value.text,r=Object(o.pipe)(e,O.b.fold(p.c.X.toViewport(a),i.identity)),s=Object(o.pipe)(t,O.b.fold(p.c.Y.toViewport(a),i.identity));return Object(o.pipe)(k.a.getNativeCursorByPosition(r,s,a,this.quill.root,this._log.isEnabled(x.Logging.LogLevel.TRACE)||n),O.b.map(k.a.getPositionByNativeCursor(this.quill.root)))},this.setFormatting=e=>{const t=Array.from(Object.entries(e.meta.formatting));0!==t.length&&(t.length===p.e.asList.length&&t.every(([e,t])=>!1===t||void 0===t)?this.clearFormatting(p.g.toTextRange(e)):Object(o.pipe)(t,O.a.partition(([e,t])=>t),({left:t,right:n})=>{t.forEach(([t])=>this.removeFormatting(p.g.toTextRange(e),t)),n.forEach(([t])=>this.addFormatting(p.g.toTextRange(e),t))}))},this._getFormattingFn=e=>(k.c.isBlockFormat(e)?this.quill.formatLine:this.quill.formatText).bind(this.quill),this._allowNavigationTo=d.allowNavigationTo||(()=>!1),this.quill=this._initQuill(this._userClasses,e),this._marker=this.quill.getModule("marks"),this._history=this.quill.getModule("history"),this._clipboard=this.quill.getModule("clipboard"),this.textChangedAfterPaste=this._clipboard.textChangedAfterPaste,this.activeMarks=this._marker.activeMarks,this.hoveredMarks=this._marker.hoveredMarks,this._quillEditorChange=Object(k.A)(this.quill).pipe(v.a.share()),this._contentChange=this._quillEditorChange.pipe(v.a.filter(Object(k.j)(this._allowedAttrs)),v.a.share()),this._log.isEnabled(x.Logging.LogLevel.DEBUG)&&function(e,t,n,a=O.g.some){const r=e[t].bind(e);e[t]=(...e)=>(Object(o.pipe)(a(...e),O.g.tap(e=>n.debug("trace call of "+t,{args:e,stack:(new Error).stack}))),r(...e))}(this.quill,"updateContents",this._log.getLogger("quill.core"),(e,t)=>"user"!==t&&u.a.calcDiffLength(e)<0?O.g.some({delta:u.a.anonymizeTextAndStringAttrs(e),source:t}):O.g.none),this.scrollPercentage=this.scrollPosition.pipe(v.a.combineLatest(this._scrollEl.pipe(v.a.combineLatest(v.a.mergeStatic(v.a.fromEvent(window,"resize"),this._contentChange).pipe(v.a.debounceTime(500),v.a.startWith(C.b.voidValue)),e=>e),v.a.map(e=>Object(o.pipe)(e,O.g.chain(e=>{const t=e.scrollHeight-e.clientHeight;return t>0?O.g.some(t):O.g.none}))),v.a.distinctUntilChanged(O.g.getEq(r.eqNumber).equals))),v.a.map(([e,t])=>Object(o.pipe)(t,O.g.map(t=>e/t))),v.a.distinctUntilChanged(O.g.getEq(r.eqNumber).equals),v.a.shareReplay({bufferSize:1,refCount:!0}));const h=this._quillEditorChange.pipe(v.a.filter(k.l),v.a.filter(e=>Boolean(e)&&Boolean(e.range)));this._subs.push(this._contentChange.subscribe(({delta:e,source:t})=>{void 0!==e.ops&&(this._text=null,t===s.sources.USER?this._pushDelta(e):this._log.debug("skip emit",{source:t,textLength:this.getTextLength(),deltaLength:u.a.calcDiffLength(e),delta:u.a.anonymizeTextAndStringAttrs(e)}),this._setTextLength(this._textLength+u.a.calcDiffLength(e),t))}),this._contentChange.pipe(v.a.take(1)).subscribe(()=>Object(I.a)("dedChangeContent")),v.a.mergeStatic(this._history.changed.pipe(v.a.filter(({source:e})=>"keyboard"===e)),this._clipboard.clipboardShortcutUsed).pipe(v.a.mapTo(void 0)).subscribe(this.shortcutUsed),this._contentChange.pipe(v.a.map(e=>({type:e.delta.ops.some(e=>!u.a.isRetain(e))?p.b.Type.textMaybeWithFormatting:p.b.Type.onlyFormatting,source:e.source,delta:e.delta}))).subscribe(this._contentUpdatedInternal),h.pipe(v.a.map(({range:{index:e,length:t},source:n})=>({index:e,length:t,meta:{source:Boolean(n)?n:p.g.Meta.Source.user,formatting:this.getFormatting(m.b.create(e,e+t))}})),v.a.distinctUntilChanged(p.g.eq.equals)).subscribe(this.selection),v.a.mergeStatic(v.a.fromEvent(this.quill.root,"mousedown",{passive:!0}).pipe(v.a.mapTo(!0)),v.a.fromEvent(document,"mouseup",{passive:!0}).pipe(v.a.mapTo(!1)),v.a.fromEvent(document,"dragend",{passive:!0}).pipe(v.a.mapTo(!1)),v.a.fromEvent(document,"click",{passive:!0}).pipe(v.a.mapTo(!1))).pipe(v.a.switchMap(Object(_.c)(v.a.fromEvent(document,"mousemove",{passive:!0}).pipe(v.a.auditTime(50),v.a.filter(()=>!window.getSelection().isCollapsed),v.a.first(),v.a.mapTo(!0)),v.a.of(!1)))).subscribe(this.ongoingSelection),t.changes.subscribe(e=>this._pushChanges(e,H.dox)),this._changes.pipe(v.a.filter(V.isLocalDelta),v.a.pluck("change")).subscribe(t.pushChanges)),this.viewportRange=this.viewport.pipe(v.a.distinctUntilChanged(),v.a.combineLatest(this.scrollPosition),v.a.debounceTime(300),v.a.map(([{text:e}])=>Object(o.pipe)(Object(i.tuple)(Object(o.pipe)(k.a.getNativeCursorByPosition(e.left,e.top,this.viewport.value.text,this.quill.root),O.b.map(k.a.getPositionByNativeCursor(this.quill.root))),Object(o.pipe)(k.a.getNativeCursorByPosition(e.right,e.bottom,this.viewport.value.text,this.quill.root),O.b.map(k.a.getPositionByNativeCursor(this.quill.root)))),O.b.map2(m.b.create),O.b.fold(e=>(this._log.error("Cannot calculate viewportRange",e),m.b.empty),i.identity))),v.a.shareReplay({bufferSize:1,refCount:!0}))}_initQuill(e,t){const n=[...Object.entries(t.modules).map(([e,t])=>B("modules/"+e,t)),...t.formats.map(e=>B("formats/"+e.blotName,e)),B("themes/denali",t.theme)],a=Object.assign(Object.assign({},Object.keys(t.modules).reduce((e,t)=>(e[t]=!0,e),{})),{toolbar:!1,keyboard:!0,clipboard:{className:R.editorClipboard,maxAllowedTextLength:1e5,lengthExceededCallback:()=>alert("Oops, Document size exceeded!"),flush:this._flush,deltaFilter:this._deltaFilter},history:{userOnly:!0,delay:1e3,maxStack:100,flush:this._flush},marks:{scrollPositionChanged:this.scrollPosition.pipe(v.a.distinctUntilChanged(),v.a.mapTo(C.b.voidValue),v.a.skip(1)),contentUpdated:this.contentUpdated,scrollContainer:this._scrollEl,ongoingSelection:this.ongoingSelection.pipe(v.a.distinctUntilChanged()),getOpsHistory:()=>this._history.getAnonymizedOperationsHistory()}}),r=new s(this._editorEl,{modules:a,theme:"denali",classes:e});return n.forEach(e=>e()),r}_pushDelta(e){void 0===this._outgoingChanges?this._outgoingChanges=c.a.delta(this._deltaFilter(e),this._textLength):this._outgoingChanges.delta=this._outgoingChanges.delta.compose(this._deltaFilter(e));const t=u.a.calcAmountLength(e);!Boolean(this._outgoingChanges.isEmpty)&&(t>100||this._textLength-t<=1||void 0!==e.ops.find(e=>Object(k.p)(e)||Object(k.q)(e))||O.g.isSome(this.activeMarks.getValue()))?this._applyingExternalChanges||this.flushChanges():(void 0!==this._changesSyncTimer&&clearTimeout(this._changesSyncTimer),this._changesSyncTimer=setTimeout(this.flushChanges,1500))}_setTextLength(e,t){const n=this._textLength-e;this._textLength=e;const a="api"===t?p.g.Meta.Source.api:p.g.Meta.Source.user,r="api"===t?{}:this.getFormatting(m.b.create(e-1,0)),{index:i,length:o}=this.getCursor();i>=e?this.selection.next({index:e-1,length:0,meta:{source:a,formatting:r}}):i+o>=e&&this.selection.next({index:i,length:o-n,meta:{source:a,formatting:r}})}_handleFreezeFocus(){const e=(e,t)=>e===t||this._allowNavigationTo(e),t=v.a.fromEvent(document,"click").pipe(v.a.filter(t=>!e(t.target,this.quill.root)),v.a.observeOn(v.a.asapScheduler),v.a.filter(()=>!e(document.activeElement,this.quill.root)),v.a.tap(this._restoreFocus));return this._freezeFocus.state.pipe(v.a.switchMap(C.b.Scheduler.rafScheduler),v.a.tap(e=>e?this._restoreFocus():this.quill.blur()),v.a.switchMap(C.b.orEmpty(t)),v.a.catchError(e=>(this._log.warn("unexpected exception in freezeFocus",e),v.a.EMPTY))).subscribe()}attach(e,t,n){if(Boolean(this._wrapper))throw new Error("Editor already attached");this._wrapper=e,this._scrollEl.next(O.g.some(t)),this._viewportRect=n,e.appendChild(this._editorEl),this._textLength?O.b.getOrElse(e=>this._log.error("Failed to reset cursor on ded attach "+e))(this.setCursor(0,0)):this.quill.root.focus(),Object(_.r)("dedBlockFlush",()=>this._isFlushBlocked=!0),Object(_.r)("dedAllowFlush",()=>this._isFlushBlocked=!1),Object(_.r)("dedForceFlush",()=>this.flushChanges()),Object(_.r)("dedGetText",this.getText),Object(_.r)("dedSetCursor",(e,t)=>O.b.getOrElse(e=>this._log.error(e))(this.setCursor(e,t,s.sources.USER))),Object(_.r)("dedType",e=>{this.flushChanges(),this._pushChanges(c.a.ins(this.getCursor().index,e,this.getText().length),H.user)}),Object(_.r)("dedQuill",this.quill),Object(_.r)("ded",this),Object(_.r)("getPossibleCursorPosition",(e,t,n)=>this.getPossibleCursorPosition("string"==typeof e?O.b.left(e):O.b.right(e),"string"==typeof t?O.b.left(t):O.b.right(t),n)),this._subs.push(this._handleFreezeFocus(),v.a.fromEvent(this.quill.root,"mouseup").pipe(v.a.map(e=>({clicks:e.detail,range:O.g.fromNullable(this.quill.getSelection())})),v.a.map(({clicks:e,range:t})=>Object(o.pipe)(t,O.g.chain(e=>Object(k.o)(this.quill.getText(),e.index)),O.g.filter(e=>""!==e.meta.value),O.g.map(m.a.create(e))))).subscribe(this.clickedWord),this._scrollTo.pipe(v.a.switchAll()).subscribe(e=>this._setScroll(e)),this._scrollEl.pipe(v.b.compact,v.a.switchMap(e=>v.a.fromEvent(e,"scroll").pipe(v.a.map(()=>this._getScroll())))).subscribe(this.scrollPosition),v.a.combineLatestStatic(this._contentChange.pipe(v.a.filter(({source:e})=>e===s.sources.USER)),this._viewportRect).subscribe(([,e])=>{requestAnimationFrame(()=>{Object(o.pipe)(this._getCursorRect(),O.b.fold(e=>(this._log.warn("Typing enhancer: Cannot get cursor rect",e),O.g.none),i.identity),O.g.tap(t=>{const n=Math.ceil(t.top+t.height),a=Math.ceil(.7*Math.max(e.top+e.height));n>a&&this._scrollTo.next(this._getAnimation({scrollTop:this._getScroll()+Math.round(n-a),animate:p.a.initial},this._getScroll()))}))})}),v.a.combineLatestStatic(this._scrollEl.pipe(v.b.compact),this._history.changed,(e,t)=>e).subscribe(e=>requestAnimationFrame(()=>{Object(o.pipe)(this._getCursorRect(),O.b.fold(e=>(this._log.warn("Undo/Redo: Cannot get cursor rect",e),O.g.none),i.identity),O.g.tap(t=>{const n=e.getBoundingClientRect();(t.top<n.top||t.top>n.bottom)&&this._scrollTo.next(this._getAnimation({scrollTop:this._getScroll()+Math.round(t.top-n.top-n.height/2),animate:p.a.none},this._getScroll()))}))})),v.a.combineLatestStatic(this._viewportRect,this.scrollPosition.pipe(v.a.debounceTime(150))).pipe(v.a.map(a.head),v.b.compactMap(Object(i.flow)(this._calculateViewport,v.a.of))).subscribe(this.viewport),v.a.mergeStatic(v.a.fromEvent(this.quill.root,"blur").pipe(v.a.mapTo(!1)),v.a.fromEvent(this.quill.root,"focus").pipe(v.a.mapTo(!0))).subscribe(this.isEditorFocused),this._execCommandAfterFocus.pipe(v.a.withLatestFrom(this.isEditorFocused)).subscribe(([e,t])=>{t||this._restoreFocus(),document.execCommand(e)}))}dispose(){this._subs.dispose(),this._marker.dispose(),this._history.dispose(),this.quill.emitter.removeAllListeners()}setContents(e,t=H.api){const n=Object(k.u)(e),a=void 0!==this._outgoingChanges,r=e.delta.compose(n.delta),i=u.a.calcDiffLength(r),o=this._deltaFilter(r),s=u.a.calcDiffLength(o);this._log.debug("reset content",{shouldNormalizeCRLF:!n.isEmpty,hasOutgoingChanges:a,deltaLength:i,deltaWithoutAttrsLength:s,deltaLengthMismatch:i!==s}),this.quill.setContents(Object(k.z)(o),"api"),this._setTextLength(i,t),"api"!==t?this._changes.next({change:c.a.unsafeRes(r),source:t}):n.isEmpty||this._changes.next({change:n,source:t})}getCursor(){const e=this.selection.getValue();return Object.assign(Object.assign({},e),{meta:Object.assign(Object.assign({},e.meta),{formatting:this.getFormatting(p.g.toTextRange(e))})})}getLastPossibleCursorPosition(){return this._textLength-1}getSelectionRect(e){return Object(o.pipe)(this._getDocumentRange(e||this.getCursor()),O.b.map(e=>new k.b(e,()=>this.quill.container.getBoundingClientRect())))}changeMarks(e){this.flushChanges(),this._log.debug("change marks",e.map(h.a.Change.addRange));const t=this._marker.changeMarks(e);return this.isEditorFocused.getValue()&&this._restoreFocus(),t}_scrollToPosition(e){const t=this._getScroll(),n=this._normalizeScrollOffset(e.scrollTop-this._getScrollTop());this._scrollTo.next(this._getAnimation({scrollTop:t+n,animate:e.animate},t).pipe(v.a.finalize(()=>{const e=this._getScroll();this._scrollTo.next(this._getAnimation({scrollTop:e,animate:p.a.none},e))})))}getMarkRect(e){return Object(o.pipe)(this._marker.getMarkById(e),O.b.chain(e=>e.getRect()))}getMarkById(e){return this._marker.getMarkById(e)}scrollToMark(e,t={animate:p.a.none,paddingTop:0}){return Object(o.pipe)(this._marker.getMarkById(e),O.b.chain(e=>this._getMarkRect(e)),O.b.fold(e=>(this._log.error("Cannot scroll to given mark",e),v.a.throwError(e)),e=>{const n=t.animate||p.a.none,a=this._getScrollTop(),r=this._normalizeScrollOffset(e.top-(t.paddingTop?t.paddingTop:a));return new v.a.Observable(e=>(e.next(void 0),this._scrollTo.next(this._getAnimation({scrollTop:this._getScroll()+r,animate:n},this._getScroll()).pipe(v.a.finalize(()=>{e.complete()}))),()=>{this._scrollTo.next(this._getAnimation({scrollTop:this._getScroll(),animate:p.a.none},this._getScroll()))}))}))}undo(e="user"){this._history.undo(e)}canUndo(){return this._history.canUndo()}clearHistory(){this._history.clear()}redo(e="user"){this._history.redo(e)}canRedo(){return this._history.canRedo()}cut(){this._execCommandAfterFocus.next("cut")}copy(){this._execCommandAfterFocus.next("copy")}dontFreezeWhen(e,t){return!0===this._options.freezeFocusFeature?this._freezeFocus.watch(C.b.invert(e),t):y.a.EMPTY}_getScrollTop(){return Object(o.pipe)(this._getScrollRect(),O.g.fold(()=>0,e=>e.top))}_getMarkRect(e){return Object(o.pipe)(e.getRect(),O.b.map(g.b.relativeToViewport),O.b.map(e=>({top:e.top,bottom:e.bottom})))}_getCursorRect(){return O.b.tryCatch(()=>{const e=this.quill.getSelection();if(Boolean(e)&&0===e.length){const t=this.quill.container.getBoundingClientRect(),n=this.quill.getBounds(e.index,1);return O.g.some({bottom:n.bottom+t.top,height:n.height,left:n.left+t.left,right:n.right+t.left,top:n.top+t.top,width:n.width})}return O.g.none},e=>e)}_ensureSelection(e){const t=this.quill.getSelection();e(),Boolean(t)&&t.length>0&&this._clearSelection(()=>{this.quill.setSelection(t.index,t.length,s.sources.API)})}_clearSelection(e){const t=Boolean(window.getSelection)?window.getSelection():document.selection;Boolean(t)&&(Boolean(t.removeAllRanges)?t.removeAllRanges():Boolean(t.empty)&&t.empty()),e&&requestAnimationFrame(e)}addFormatting(e,t,n){t===p.e.Type.link?this._applyFormatting(p.e.Type.link,e,n):this._applyFormatting(t,e)}removeFormatting(e,t){t===p.e.Type.link?this._applyFormatting(p.e.Type.link,e,!1):this._applyFormatting(t,e,!1)}clearFormatting(e){m.b.isEmpty(e)&&(p.e.asList.forEach(e=>{const{key:t}=k.c.mapEditorFormatToQuill(e);this.quill.format(t,!1,"user")}),this._contentUpdatedInternal.next({type:p.b.Type.onlyFormatting,source:"user",delta:new d.a})),this.quill.removeFormat(e.start,m.b.size(e),"user")}_applyFormatting(e,t,n){const{key:a,value:r}=k.c.mapEditorFormatToQuill(e),i=void 0!==n?n:r;if(m.b.isEmpty(t)){if(e===p.e.Type.link)return;this.quill.format(a,i,"user"),this._contentUpdatedInternal.next({type:p.b.Type.onlyFormatting,source:"user",delta:new d.a})}else{this._getFormattingFn(e)(t.start,m.b.size(t),a,i,"user")}}getFormatting(e){return k.c.mapQuillFormatsToDenali(this.quill,e)}}!function(e){class t extends e{constructor(e=t.DEFAULT_MODULES,n=u.a.skipAny,a=u.a.skipAny,r={},i=j.a.Mock()){Object(k.x)(),super(e,i,n,a,r),this.markChangeApplied=this._marker.markChangeApplied,this.selectedFormatting=new v.a.Subject,this._envSupportsSelection=Boolean(window.getSelection),this._envSupportsSelection||Object.assign(this.quill,{setSelection:(e,t)=>{if(null===e)return;const n="object"==typeof e?e.index:e;Object(A.f)(n>=0,"range selection can not accept negative values")}})}fakeAttach(){this.attach(document.createElement("div"),document.createElement("div"),v.a.of(E.c.Rect.empty))}get mutationObserverPeriod(){return Boolean(MutationObserver._period)?MutationObserver._period:t.defaultMutationObserverPeriod}get container(){return this.quill.root}setContents(e,t=H.api){super.setContents(e,t)}getCursor(){return this._envSupportsSelection?super.getCursor():p.g.empty}static create({modules:e,allowedAttrs:n,allowedEmbeds:a,options:r,dox:i}){return new t(e,n,a,r,i?j.a.Mock(i):void 0)}}t.defaultMutationObserverPeriod=100,t.DEFAULT_MODULES={theme:L.a,modules:{history:M.a,clipboard:Object(T.b)(!1,[]),keyboard:N.a.getKeyboardWithBindings(N.a.Bindings.plainTextBindings),marks:P.a},formats:[]},e.Mock=t}(U||(U={}));var W=n("pKPl")},bFfh:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a,r,i=n("WOQ9"),o=n("OA+g"),s=n("GUi3"),l=n("kFFO"),c=n("BeBM");(a||(a={})).create=()=>({id:s.a.SpecialId.Cheetah,type:c.i.cheetah,kind:c.f.abstract,meta:s.a.createStaticLens({id:s.a.SpecialId.Cheetah,title:"Grammarly Ideate"},s.a.Meta.group.empty,o.constFalse),hashCode(){return Object(l.b)(this.id)},equals(e){return this.id===e.id}}),function(e){let t;e.create=function(e,n){return Boolean(t)||(t={id:s.a.SpecialId.Closed,kind:c.f.abstract,type:c.i.closed,meta:s.a.createStaticLens({id:s.a.SpecialId.Closed,title:"Closed"},s.a.Meta.group.empty,e),hashCode(){return i.a.lensHash.hashCode(this)},equals(e){return i.a.getEq(n).equals(this,e)}}),t}}(r||(r={}));var u,d,p=n("lrqh");(d=u||(u={})).create=()=>({id:s.a.SpecialId.DraftAI,type:c.i.draftAI,kind:c.f.abstract,meta:s.a.createStaticLens({id:s.a.SpecialId.DraftAI,title:"Draft AI"},s.a.Meta.group.empty,o.constFalse),transitionSource:p.g.none,hashCode(){return Object(l.b)(this.id)},equals(e){return this.id===e.id}}),d.createFromTransitionSource=e=>Object.assign(Object.assign({},d.create()),{transitionSource:p.g.some(e)});var m,h,g,f=n("m6JR"),b=n("I7vG"),y=n("6fbX"),v=n("hoSD"),S=n("dE97"),C=n("aIes"),w=n("UEGg");!function(e){function t(e){return C.a.groupBy("cardId",e)}e.create=function(e,t,n){Object(y.f)(e.id===s.a.SpecialId.Plagiarism,"Cannot create plagiarism lens vm on non-plagiarism lens",e.id);const a=C.a.Sorted.empty(e=>e.id,n.compare),r=p.g.none;return{id:s.a.SpecialId.Plagiarism,kind:c.f.persistent,type:c.i.plagiarism,meta:e,cardIndex:r,items:a,itemsOrd:n,animation:c.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return i.a.lensHash.hashCode(this)},equals(e){return i.a.getEq(t).equals(this,e)}}},e.updateCardsWithLensMeta=function(e){return t=>t.id===s.a.SpecialId.Plagiarism?Object.assign(Object.assign({},t),{items:t.items.map(t=>w.a.isPlagiarism(t.activeAlert)?e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(w.a.isPlagiarism)):t)}):t},e.add=e=>n=>a=>{const r=t(n),i=Array.from(r.entries()).reduce((t,[n,a])=>Object(b.pipe)(t.update(n,t=>e.addPlagiarismAlerts(t,a)),p.b.fold(()=>t.add(e.createAdded(n,a)),o.identity)),a.items),s=Object(b.pipe)(c.k.getActiveItem(a),p.g.map(({id:e})=>p.g.unsafeGet(i.get(e)).index)),l=p.g.getEq(f.eqNumber).equals(s,a.cardIndex)?c.b.force:c.b.skip;return Object.assign(Object.assign({},a),{cardIndex:s,items:i,animation:l})},e.remove=e=>n=>a=>{const r=t(n),i=c.k.getActiveItem(a),s=Array.from(r.entries()).reduce((t,[n,r])=>Object(b.pipe)(t.update(n,t=>{const n=Object(b.pipe)(e.remove(t,r,Object(b.pipe)(i,p.g.map(e=>a.itemsOrd.compare(t,e)>0),p.g.getOrElse(o.constTrue))),t=>e.changePlagiarismMetaWithAlerts(t,t.alerts.filter(w.a.isPlagiarism)));return Object(b.pipe)(i,p.g.exists(e=>e.id===n.id))?e.selectNextAlert(n,a.itemsOrd):n}),p.b.fold(()=>t,o.identity)),a.items);return Object.assign(Object.assign({},a),{items:s,animation:c.b.force})},e.update=t=>n=>a=>e.updateWithAlerts(t)(n.filter(Object(o.not)(t.shouldAnimateAlertApply)))(a),e.updateWithAlerts=n=>a=>r=>{const[i,s]=v.a.partition(a,S.a.isRegistered),l=t(i),u=Array.from(l.entries()).reduce((e,[t,a])=>Object(b.pipe)(e.update(t,e=>n.changePlagiarismMetaWithAlerts(e,e.alerts.filter(w.a.isPlagiarism))),p.b.fold(()=>e.add(n.createAdded(t,a)),o.identity)),e.remove(n)(s)(r).items),d=Object(b.pipe)(c.k.getActiveItem(r),p.g.map(({id:e})=>Object(b.pipe)(u.get(e),p.g.map(({index:e})=>e),p.g.getOrElse(()=>0))));return Object.assign(Object.assign({},r),{cardIndex:d,items:u,animation:c.b.proceed})},e.getAlertsHandler=function(t){return n=>i.a.ApplyDiff.apply(n,e.add(t),e.update(t),e.remove(t))}}(m||(m={})),(g=h||(h={})).create=function(e,t,n){const a=C.a.Sorted.empty(e=>e.id,n.compare);return{id:s.a.SpecialId.Premium,kind:c.f.active,type:c.i.advanced,meta:e,items:a,itemsOrd:n,cardIndex:p.g.none,animation:c.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return i.a.lensHash.hashCode(this)},equals(e){return i.a.getEq(t).equals(this,e)}}},g.getAlertsHandler=function(e,t){return n=>i.a.ApplyDiff.apply(n,g.add(e),g.update(e,t),g.remove(t))},g.add=e=>t=>n=>{const a=t.map(e.createFromAlert(n.id)),r=n.items.add(a),i=c.k.getActiveItemIndex(r)(n);return Object.assign(Object.assign({},n),{cardIndex:i,items:r,animation:c.b.proceed})},g.remove=e=>t=>n=>{const a=new Set(t.map(e=>e.id)),r=n.items.filter(Object(o.flow)(e.hasActiveAlert,p.g.map(e=>e.alert),p.g.exists(e=>a.has(e.id)))).reduce((e,t)=>e.remove(t.id),n.items),i=c.k.getActiveItemIndex(r)(n);return Object.assign(Object.assign({},n),{cardIndex:i,items:r})},g.update=(e,t)=>n=>a=>{const[r,i]=v.a.partition(n,S.a.isRegistered);return Object(o.pipe)(a,g.remove(t)(i),g.add(e)(r))};var k,E=n("93Qa"),O=n("a5W6"),A=n("D9EC"),_=n("IVzZ");!function(e){const t=S.d.ord;function n(e){return e.id}function a(e){const t=e.map(e=>[_.a.getAlertOutcomeBundle(e),e]);return C.a.groupBy(([e,t])=>n(e),t)}e.getCardId=n,e.initCardsHash=function(e,n,r,i,o){Object(y.f)(Object(b.pipe)(r,p.g.forAll(({alertIndex:e})=>void 0!==n[e])),"Can not find alert for provided alertIndex");const s=a(n),l=Object(b.pipe)(r,p.g.map(({alertIndex:e})=>(Object(y.f)(void 0!==n[e],"Can not find alert for provided alertIndex"),n[e])));let c=p.g.none;const u=C.a.Sorted.empty(_.a.getId,o.compare),d=Array.from(s.entries()).reduce((n,[a,r])=>{const o=r.map(([e,t])=>t),s=r[0][0];return Object(b.pipe)(l,p.g.map(e=>o.indexOf(e)),p.g.filter(e=>e>-1),p.g.fold(()=>n.add(i.createRendered(e)(a,s,o,t)),r=>{const l=i.createFocused(e)(a,s,o,r,t);return c=p.g.some(a),n.add(l)}))},u);return{cardIndex:Object(b.pipe)(c,p.g.chain(e=>Object(b.pipe)(d.get(e),p.g.map(e=>e.index)))),cards:d}},e.create=function(e,t,n,a){const r=C.a.Sorted.empty(_.a.getId,a.compare),o=p.g.none;return{id:e,type:c.i.lensview,kind:c.f.persistent,meta:t,withPriorityList:!1,cardIndex:o,items:r,itemsOrd:a,animation:c.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return i.a.lensHash.hashCode(this)},equals(e){return i.a.getEq(n).equals(this,e)}}},e.add=(e,n)=>r=>i=>{if(0===r.length)return i;const s=a(r),l=Array.from(s.entries()).reduce((a,[r,s])=>{const l=s.map(([e,t])=>t),c=s[0][0];return Object(b.pipe)(a.update(r,e=>n.updateWithAlerts(l)(e)),p.b.fold(()=>a.add(e.createAdded(i.id)(r,c,l,t)),o.identity))},i.items),u=Object(b.pipe)(i,c.k.getActiveItemIndex(l)),d=p.g.getEq(f.eqNumber).equals(u,i.cardIndex)?c.b.force:c.b.skip;return Object.assign(Object.assign({},i),{cardIndex:u,items:l,animation:d})},e.remove=e=>t=>n=>{const r=a(t),i=Array.from(r.entries()).reduce((t,[a,r])=>Object(b.pipe)(t.update(a,t=>e.removeAlertFromItem(r.map(([e,t])=>t),n)(t)),p.b.fold(()=>t,o.identity)),n.items),s=Object(b.pipe)(n,c.k.getActiveItemIndex(i));return Object.assign(Object.assign({},n),{cardIndex:s,items:i,animation:c.b.force})},e.update=(t,n,a)=>r=>i=>e.updateWithAlerts(t,a)(r.filter(Object(A.m)(n.shouldAnimateAlertApply)))(i),e.updateWithAlerts=(n,r)=>s=>l=>{if(0===s.length)return l;const{left:u,right:d}=Object(b.pipe)(s,i.a.filterAlertInLens(l,r),O.partition(S.a.isRegistered)),m=a(d),h=Array.from(m.entries()).reduce((e,[a,i])=>{const s=i.map(([e,t])=>t),c=i[0][0];return Object(b.pipe)(e.update(a,e=>r.updateWithAlerts(s)(e)),p.b.fold(()=>e.add(n.createAdded(l.id)(a,c,s,t)),o.identity))},e.remove(r)(u)(l).items),g=Object(b.pipe)(l,c.k.getActiveItemIndex(h));return Object.assign(Object.assign({},l),{cardIndex:g,items:h,animation:c.b.proceed})},e.getAlertsHandler=function(t,n,a){return(r,o)=>s=>{const l=i.a.ApplyDiff.applyWithFilter(o,i.a.ApplyDiff.apply);return Object(b.pipe)(s,l(r,e.add(t,a),e.update(t,n,a),e.remove(a)))}},e.getHasAlerts=function(e,t,n,a){const r=i.a.Capabilities.getHasAlerts(e,t,n,a),o=e=>i.a.Capabilities.getHasSelectableAlert(t,n(e),a);return Object.assign(Object.assign({},r),{findNextAlert:t=>Object(b.pipe)(Object(E.sequenceT)(p.g.option)(c.k.getActiveItem(t),t.cardIndex),p.g.chain(([n,a])=>Object(b.pipe)(e.nextAlert(n),p.g.alt(()=>e.prevAlert(n)),p.g.alt(()=>Object(b.pipe)(v.a.findIndexFromMap(t.items.values(),a+1,o(t)),p.g.alt(()=>v.a.findIndexFromMap(t.items.values(),0,o(t))),p.g.chain(e=>Object(b.pipe)(t.items.getAt(e.index),p.g.map(e=>e.alerts[0]))))))),p.g.map(e=>({alert:e,highlightIndex:0})))})}}(k||(k={}));var x,I,j,T=n("GRZr"),M=n("uqkn"),N=n("TC4P"),P=n("W39u"),L=n("AK7F"),R=n("mmr0");!function(e){function t(e,t){return Object(b.pipe)(c.k.getActiveItem(e),p.g.chain(t.hasActiveAlert),p.g.map(e=>!w.a.isPriority(e.alert)),p.g.getOrElse(()=>!1))}function n(e){return Object(b.pipe)(e.items.get(L.a.id),p.g.map(({value:e})=>L.a.isPriorityToggle(e)&&L.a.isExpanded(e)),p.g.getOrElse(()=>!1))}function a(e,t,n){return 0!==e.meta.count&&0===e.meta.priorityCount&&0===e.items.filter(Object(A.b)(t,e=>!n.isScheduledToDispose(e))).size}let r;function o(e,t){return r=>c.e.hasSuccess(r)&&R.a.isInSuccess(t)(r.currentLens)||c.e.isWithPriorityList(r)&&(R.a.isInSuccess(t,Object(A.m)(L.a.isPriorityItem))(r.currentLens)||a(r.currentLens,e,t)&&!n(r.currentLens))}e.ord=Object(T.fold)(p.h.getMonoid())([Object(b.pipe)(p.h.ordBoolean,p.h.contramap(L.b.isPriorityToggleHint)),Object(b.pipe)(p.h.ordBoolean,p.h.contramap(L.a.isPriorityToggle)),M.a.ord]),e.create=function(e,t,n,a){const r=C.a.Sorted.empty(M.a.getId,a.compare),o=p.g.none;return{id:e,type:c.i.lensview,kind:c.f.persistent,itemsOrd:a,meta:t,cardIndex:o,items:r,animation:c.b.skip,withPriorityList:!0,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return i.a.lensHash.hashCode(this)},equals(e){return i.a.getEq(n).equals(this,e)}}},e.getHasPriorityToggle=function(e){return{toggleNonPriorityList:a=>r=>{const i=n(r);if("collapsed"===a&&!i||"expanded"===a&&i)return r;const o=t(r,e),s=u(r.items,!i,!i&&o,e);return Object.assign(Object.assign({},r),{items:s,cardIndex:o&&i?p.g.none:r.cardIndex,animation:c.b.proceed})}}},e.focusedCardIsNonPriority=t,e.isNonPriorityListOpened=n,e.onlyNonPriorityAlertsLeft=a,e.nonPriorityAlertsVisible=function(e){return!c.e.isWithPriorityList(e)||n(e.currentLens)},function(e){e.fromLensState=e=>t=>e.currentLens.id!==t||c.e.isWithPriorityList(e)&&!n(e.currentLens)?c.h.priorityAlertsOnly:c.h.allAlerts}(r=e.LensViewMode||(e.LensViewMode={})),e.isInSuccess=o,e.isInGlobalSuccess=function(e,t){return n=>(c.e.is(s.a.SpecialId.AllAlerts)(n)||c.e.is(s.a.SpecialId.Priority)(n))&&o(e,t)(n)},e.getSyncVisibleCardsHandler=function(e){return a=>{if(!s.a.isWithSuccessId(a.id))return a;let r=l(a.items);const i=t(a,e);r=u(r,n(a)||i,i,e);const o=c.k.getActiveItemIndex(r)(a);return Object.assign(Object.assign({},a),{cardIndex:o,items:r,animation:c.b.proceed})}};function l(e){return e.has(L.a.id)||0===e.size?e:e=(e=e.add(L.a.create("expanded",P.a.PositionState.empty))).add(L.b.create("visible",P.a.PositionState.empty))}function u(e,t,n,a){const r=(e=>Object.assign(Object.assign({},e),{transitionTo:t=>n=>N.a.isAnimatable(n)&&n.visualState.transition.type!==t.type?e.transitionTo(t)(n):n}))(a),o=0===e.filter(e=>!a.isScheduledToDispose(e)&&Object(b.pipe)(a.hasActiveAlert(e),p.g.map(e=>e.alert),p.g.exists(Object(A.m)(w.a.isPriority)))).size;return e.map(e=>Object(b.pipe)(a.hasActiveAlert(e),p.g.fold(()=>L.a.isPriorityItem(e)?o?L.a.isPriorityToggle(e)?L.a.transitionTo(e,"hidden"):L.b.transitionTo(e,"hidden"):L.a.isPriorityToggle(e)?t||n?L.a.transitionTo(e,"expanded"):L.a.transitionTo(e,"collapsed"):t||n?L.b.transitionTo(e,"visible"):L.b.transitionTo(e,"hidden"):e,n=>t||w.a.isPriority(n.alert)?N.a.isAnimatable(e)&&N.a.isHidden(e)?r.transitionTo({type:"rendered",clockwise:!0})(e):e:i.a.Items.hideItem(e,a))))}e.isAlertVisible=function(e,t){return"priority"===t.view||n(e)},e.ensureExpandCardIsPresent=l,e.syncVisibleCards=u,e.getHasAlerts=function(e,t,r,o,s){const l=i.a.Capabilities.getHasAlerts(e,t,e=>n(e)&&a(e,o,s)?r(e):t=>r(e)(t)&&Object(b.pipe)(s.hasActiveAlert(t),p.g.map(e=>e.alert),p.g.exists(w.a.isPriority)),s);return Object.assign(Object.assign({},l),{getVisibleAlertsCount:e=>Object(b.pipe)(c.k.getActiveItem(e),p.g.chain(s.hasActiveAlert),p.g.map(e=>e.alert),p.g.exists(S.a.isCapiDone))&&1===e.items.size?0:n(e)?e.meta.count:e.meta.priorityCount})}}(x||(x={})),(j=I||(I={})).Prism=i.a.Prism,j.Items=i.a.Items,j.Capabilities=i.a.Capabilities,j.ApplyDiff=i.a.ApplyDiff,j.filterAlertInLens=i.a.filterAlertInLens,j.findItemWithAlertInLens=i.a.findItemWithAlertInLens,j.lensHash=i.a.lensHash,j.getEq=i.a.getEq,j.Closed=r,j.DraftAI=u,j.Plagiarism=m,j.Premium=h,j.WithBundles=k,j.WithPriority=x,j.WithSuccess=R.a,j.Cheetah=a},bQye:function(e,t,n){"use strict";n.r(t),n.d(t,"premiumDemoDocument",(function(){return a})),n.d(t,"fullSentenceDemoText",(function(){return r})),n.d(t,"mutedAlertsDemoText",(function(){return i})),n.d(t,"bulkAcceptDemoText",(function(){return o})),n.d(t,"listTransformDemoText",(function(){return s})),n.d(t,"annotatorEmptyDocument",(function(){return l}));const a={title:"Welcome to Grammarly Premium!",text:""},r={title:"",text:"As many people in the Lima region wait with much hopeful anticipation for all of the impact Rhodes State College will have on our downtown area, many others have concerns due to the lack of activity after the demolition of most of the buildings downtown earlier this year.\n\nAs a business man with local interests, I have always tried to be as supportive as it is possible for me to be of our entire community. I can become passionte about all of the positive opportunities that arise. I could also become frustrated with all of the negative comments and roadblocks that stand in the way of the progress of our community.\n\nI feel it is time the public realizes and supports the impact this facility would have on the community and the reason the project has been slowed down.\n\nThe vision of the doctor and board to build a new medical school in the heart of our county and city is a model of community spirit and partnership for the betterment of so many aspects of our region. The 500 to 700 students and faculty that will be in our Town Square on a daily basis will bring foot traffic and youth, talent and opportunity. Many of the young people will fill many job openings and remain in our community for many years to come.\n\nAs a community full of positive thinkers and optimists, let’s not just be passive and ask ourselves five years from now what could we have done! Let us all gather together and demand answers, demand progress and let our voices ring through city hall."},i={title:"",text:"Regarding our vaction policy, a decision was made to give everyone an extra day off. The decision was based on the fact that lots people are extra stressed now and not taking time off. We really hope that this will give everyone a good rest. If you have any comments or questions please send them to us promptly. The feedback has always been appreciated.\nAdditionally, please review the latest changes in our work from home police that have been updated this month. The new page was added to our Wiki. It includes a number of new recommendations on how to stay productive remotely."},o={title:"",text:"Welcome to the Grammarly Editor, the best place to write what’s important.\n\nRed underlines mean that Grammarly has spotted a mistake in your writing. You’ll sea one if you mispell something. (See what we did there?) You’ll also see an underline, if you misuse a punctuation mark.If you’re worry about typos or grammatical errors that could effect your credibility, Grammarly will helps you fix those to. Click any of Grammarly’s suggested corrections to apply them to your text, or open a brief explanation to learn more about error and how to fix it.\n\nBut there’s more to good writing than speling, punctuation and grammar. (Sorry, couldn’t resist.)\n\nBrilliant sentences are clear and concise. Underlines that are blue indicate that Grammarly has spotted a sentence that is unnecessarily wordy. Grammarly scores each text based on how clear it will be to your readers and gives you guidance in order to do a revision of it in an effortless manner. Afterall, there are some sentences that are gramatically correct but still awkward and hard to follow. It goes without saying that sometimes you can actually improve a sentence by completely eliminating words that are basically unnecessary."},s={title:"",text:"The last few day have been full of a lot of thinking about what our goals should be for the development of great new features for our users. While there is a ton we could be doing, there's a few areas where I see us helping our users next year: making sure their message is clear and is able to get through to their readers, helping them sound friendlier and develop stronger and more authentic connections with their coworkers, appearing reputable with correct grammar and proper formatting, and feeling more confident about their writing. I hope you're all as excited by these opportunity as I am. The workmanship in our products will be evident to all of our users.  Send me your thoughts and any additional ideas by October 1st."},l={title:"",text:""}},bSlT:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));var a,r,i=n("LNSM");!function(e){let t,n,a;!function(e){e.VerySatisfied="VerySatisfied",e.SomewhatSatisfied="SomewhatSatisfied",e.Neutral="Neutral",e.SomewhatDissatisfied="SomewhatDissatisfied",e.VeryDissatisfied="VeryDissatisfied"}(t=e.Experience||(e.Experience={})),function(e){e.PlagiarismChecker="PlagiarismChecker",e.ClaritySuggestions="ClaritySuggestions",e.EngagementSuggestions="EngagementSuggestions",e.ToneSuggestions="ToneSuggestions",e.UsingMultipleDevices="UsingMultipleDevices"}(n=e.SatisfactionReason||(e.SatisfactionReason={})),function(e){e.LowQualitySuggestions="LowQualitySuggestions",e.PoorPlagiarismSuggestions="PoorPlagiarismSuggestions",e.NoSupportForDesirableApp="NoSupportForDesirableApp",e.AggressivePremiumPromotion="AggressivePremiumPromotion",e.NoPremiumSuggestions="NoPremiumSuggestions",e.PremiumAndFreeAreIdentical="PremiumAndFreeAreIdentical"}(a=e.DissatisfactionReason||(e.DissatisfactionReason={}))}(a||(a={})),function(e){e.isCompleted=e=>"answer1"in e&&"answer2"in e,e.isFirstQuestion=e=>!("answer1"in e)&&!("answer2"in e),e.isSecondQuestion=e=>"answer1"in e&&!("answer2"in e);const t=[a.Experience.Neutral,a.Experience.SomewhatDissatisfied,a.Experience.VeryDissatisfied];e.isSecondQuestionAboutDissatisfaction=e=>"answer1"in e&&t.includes(e.answer1),e.isSecondAnswerAboutDissatisfaction=t=>e.isCompleted(t)&&Object.keys(a.DissatisfactionReason).includes(t.answer2)}(r||(r={}));class o{constructor(e){this._tracking=e,this.state=i.a.create({})}answer(e){const t=this.state.view(r.isFirstQuestion).get(),n=t?"answer1":"answer2";this.state.modify(t=>Object.assign(Object.assign({},t),{[n]:e})),t?this._tracking.onFirstAnswer(e):this._tracking.onSecondAnswer(e)}}},bYZB:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u}));var a,r,i,o,s,l,c,u,d=n("m6JR"),p=n("hoSD"),m=n("6fbX"),h=n("D9EC"),g=n("+JVj");!function(e){var t;!function(t){var n;!function(e){e.user="user",e.api="api",e.doubleClick="doubleClick"}(n=t.Source||(t.Source={})),t.eq=Object(d.fromEquals)((function(t,a){return t.source===a.source&&(t.source===n.doubleClick&&a.source===n.doubleClick?t.selectedWord===a.selectedWord:e.eqFormatting.equals(t.formatting,a.formatting))}))}(t=e.Meta||(e.Meta={})),e.nonEmpty=function(e){return e.length>0},e.isEmpty=function(e){return 0===e.length},e.toTextRange=function(e){return g.b.create(e.index,e.index+e.length)},e.isUserSelection=function(e){return e.meta.source===t.Source.user},e.isApiSelection=function(e){return e.meta.source===t.Source.api},e.isDoubleClickSelection=function(e){return e.meta.source===t.Source.doubleClick},e.eqRange=Object(d.fromEquals)((function(e,t){return e.index===t.index&&e.length===t.length})),e.eqFormatting=Object(d.fromEquals)(p.e.deepEqual),e.eq=Object(d.fromEquals)((function(t,n){return e.eqRange.equals(t,n)&&e.Meta.eq.equals(t.meta,n.meta)})),e.empty={index:0,length:0,meta:{source:e.Meta.Source.user,formatting:{}}}}(a||(a={})),function(e){e.DenaliOtherDocSession="denaliOtherDocSession",e.DenaliSameDocSession="denaliSameDocSession",e.MSOutlook="outlook",e.MSWord="word",e.MSWordOnline="wordOnline",e.MSExcel="excel",e.MSOffice="msoffice",e.ProbablyMSOutlookOnline="probablyMSOutlookOnline",e.GDocs="gdocs",e.GSheets="gsheets",e.ProbablyGMail="probablyGmail",e.CocoaHTMLWriter="cocoaHTMLWriter",e.DropboxPaper="dropbox_paper",e.PlainText="plainText",e.Unknown="unknown",e.Synthetic="synthetic"}(r||(r={})),function(e){e.empty={top:0,bottom:0}}(i||(i={})),function(e){!function(e){e.top="top",e.middle="middle",e.bottom="bottom"}(e.Y||(e.Y={})),function(e){e.left="left",e.middle="middle",e.right="right"}(e.X||(e.X={})),function(t){t.toViewport=function(t){return function(n){switch(n){case e.X.left:return t.left;case e.X.middle:return t.left+t.width/2;case e.X.right:return t.right;default:return Object(m.c)(n)}}}}(e.X||(e.X={})),function(t){t.toViewport=function(t){return function(n){switch(n){case e.Y.top:return t.top;case e.Y.middle:return t.top+t.height/2;case e.Y.bottom:return t.bottom;default:return Object(m.c)(n)}}}}(e.Y||(e.Y={}))}(o||(o={})),function(e){var t;!function(e){e.textMaybeWithFormatting="text",e.onlyFormatting="formatting"}(t=e.Type||(e.Type={})),e.isTextMaybeWithFormatting=function(e){return e.type===t.textMaybeWithFormatting},e.isOnlyFormatting=function(e){return e.type===t.onlyFormatting}}(s||(s={})),function(e){e.none="none",e.fast="fast",e.initial="initial",e.fake="fake"}(l||(l={})),function(e){var t;!function(e){e.bold="bold",e.italic="italic",e.underline="underline",e.strike="strike",e.header1="header1",e.header2="header2",e.bulletList="bulletList",e.dashedList="dashedList",e.orderedList="orderedList",e.link="link"}(t=e.Type||(e.Type={})),e.is=function(e){return Object(h.w)(t,e)},e.asList=Object.values(e.Type),function(e){e.is=function(e){return void 0!==e[t.link]}}(e.LinkPayload||(e.LinkPayload={}))}(c||(c={})),function(e){e.undo="undo",e.redo="redo",e.cut="cut",e.copy="copy",e.paste="paste",e.selectAll="selectAll"}(u||(u={}))},bZeK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("vOOZ"),o=n("D9EC"),s=n("1w6p"),l=n("ax6a"),c=n("yB2L"),u=n("3rlE"),d=n("GUi3"),p=n("e12y"),m=n("zR/0");!function(e){e.DefaultCounter=s.b.Node.make(({state:e})=>r.createElement(i.a.Fragment,null,e.pipe(m.a.map(({count:e,fontSize:t,lensId:n})=>r.createElement(c.a.OutcomeCounter,{count:e,theme:{counterWrapper:k.get(n),counterContent:w.counterContent},type:"gray",fontSize:t}))))),e.ZeroCounter=s.b.Node.make(()=>r.createElement(u.d.CheckmarkOutcomes,{className:w.zeroCounter})),e.PlagiarismCounter=s.b.Node.make(({state:e})=>r.createElement(i.a.Fragment,null,e.pipe(m.a.map(({count:e,fontSize:t})=>r.createElement(c.a.OutcomeCounter,{count:e,theme:{counterWrapper:w.plagiarismCounterWrapper,counterContent:w.plagiarismCounterContent},suffix:"%",type:"gray",fontSize:t}))))),e.Component=s.b.Union.make("kind",{plagiarism:e.PlagiarismCounter,default:e.DefaultCounter,zero:e.ZeroCounter});const t=e=>!d.a.isPlagiarismId(e);e.createLensCounterFlow=(e,n,a)=>s.a.composeUnion({plagiarism:s.a.fromSideEffect(o.e,n.pipe(m.a.map(e=>({count:e,fontSize:a})))),default:s.a.fromSideEffect(o.e,n.pipe(m.a.combineLatest(e.pipe(m.a.filter(t))),m.a.map(([e,t])=>({count:e,lensId:t,fontSize:a})))),zero:s.a.fromSideEffect(o.e,null)},()=>e.pipe(m.a.combineLatest(n),m.a.map(([e,t])=>({kind:0===t?"zero":e===d.a.SpecialId.Plagiarism?"plagiarism":"default"}))));const n={fill:p.a.important(l.a.CoreNeutral0)},a={fill:p.a.important(l.a.CoreNeutral50)},h={fill:p.a.important(l.a.CoreRed50)},g={fill:p.a.important(l.a.CoreBlue50)},f={fill:p.a.important(l.a.CoreGreen50)},b={fill:p.a.important(l.a.CorePurple50)},y={fill:p.a.important(l.a.CoreNeutral50)},v={fill:p.a.important(l.a.CoreNeutral50)},S={fill:p.a.important(l.a.CoreCyan50)},C={fill:l.a.CoreGreen50,minHeight:0,minWidth:p.a.rem(1)},w=p.a.stylesheet({counterWrapper:[],counterContent:[n],zeroCounter:[C],allAlertsCounter:[a],priorityAlertsCounter:[a],correctnessCounter:[h],clarityCounter:[g],engagementCounter:[f],deliveryCounter:[b],voxCounter:[y],knowledgeHubCounter:[v],plagiarismCounterWrapper:[S],plagiarismCounterContent:[n,{}]}),k=new Map([[d.a.SpecialId.AllAlerts,w.allAlertsCounter],[d.a.SpecialId.Priority,w.priorityAlertsCounter],[d.a.SpecialId.Correctness,w.correctnessCounter],[d.a.SpecialId.Clarity,w.clarityCounter],[d.a.SpecialId.Engagement,w.engagementCounter],[d.a.SpecialId.Delivery,w.deliveryCounter],[d.a.SpecialId.Vox,w.voxCounter],[d.a.SpecialId.KnowledgeHub,w.knowledgeHubCounter],[d.a.SpecialId.CorrectnessPriority,w.correctnessCounter],[d.a.SpecialId.ClarityPriority,w.clarityCounter],[d.a.SpecialId.EngagementPriority,w.engagementCounter],[d.a.SpecialId.DeliveryPriority,w.deliveryCounter],[d.a.SpecialId.VoxPriority,w.voxCounter],[d.a.SpecialId.KnowledgeHubPriority,w.knowledgeHubCounter]])}(a||(a={}))},bZiY:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var a=n("Fgeo"),r=n("9xM8"),i=n("e12y"),o=n("0Hf4"),s=n("D9EC"),l=n("ax6a");const c=l.a.CoreGreen10;var u;!function(e){e.markHeightStandard="alerts1-markHeightStandard",e.markHeightTall="alerts1-markHeightTall",e.markSelected="alerts1-markSelected",e.markSelectedFocused="alerts1-markSelectedFocused",e.markBase="alerts1-markBase",e.markAppliedBase="alerts1-markAppliedBase",e.markVisible="alerts1-markVisible",e.markStart="alerts1-markStart",e.correctness="alerts1-correctness",e.premium="alerts1-premium",e.clarity="alerts1-clarity",e.engagement="alerts1-engagement",e.delivery="alerts1-delivery",e.critical="alerts1-critical",e.advanced="alerts1-advanced",e.plagiarism="alerts1-plagiarism",e.originality="alerts1-originality",e.vox="alerts1-vox",e.knowledgeHub="alerts1-knowledgeHub",e.synonym="alerts1-synonym",e.markAnimated="alerts1-markAnimated",e.markHidden="alerts1-markHidden",e.markApplied="alerts1-markApplied",e.markBulkApplied="alerts1-markBulkApplied",e.markBulkAppliedAnimation="alerts1-markBulkAppliedAnimation",e.markSuccess="alerts1-markSuccess",e.noAnimation="alerts1-noAnimation"}(u||(u={}));const d="alerts1-custom",p={backgroundPosition:"center calc(100% + 2px)",backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},m={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},h=i.a.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),g={standard:`calc(${i.a.rem(.45)} - 3px)`,tall:`calc(${i.a.rem(.425)} + 1px)`},f=e=>({to:{backgroundColor:e}}),b=(e,t,n,a,r)=>Object.assign(Object.assign({$unique:!0},p),{paddingBottom:"1px",borderBottom:`2px ${r} ${t}`,transition:"border-bottom-color .5s linear",$nest:Object.assign(Object.assign({},p.$nest),{"&[data-vertical-underline-start]:before":{borderColor:n,color:n},"& > [data-vertical-underline-body]:after":{borderColor:n},"& > [data-vertical-underline-index]":{color:n},"&[data-superscript]":{padding:0,border:"none",color:n,transition:"none"},"&:not([data-superscript])":{$nest:{[`&.${u.markSelected}.${u.markHeightStandard}`]:{paddingTop:g.standard},[`&.${u.markSelected}.${u.markHeightTall}`]:{paddingTop:g.tall},["&."+u.markSelected]:{$unique:!0,borderBottomColor:a,animation:e+" 1s ease forwards"},["&."+u.markSelectedFocused]:{$unique:!0,borderBottomColor:n},[`&.${u.markSelected} .${u.markBase}:not(.${u.markSelected})`]:{paddingBottom:"calc(2px + 1px)",borderBottomStyle:"hidden"},[`&.${u.markSelectedFocused} .${u.markBase}:not(.${u.markSelected})`]:{paddingBottom:"calc(2px + 1px)",borderBottomStyle:"hidden"}}}})}),y=i.a.keyframes(f(l.a.CoreRed10)),v=i.a.keyframes(f(l.a.CoreYellow10)),S=i.a.keyframes(f(l.a.CoreCyan10)),C=i.a.keyframes(f(l.a.CorePurple10)),w=i.a.keyframes(f(l.a.CoreNeutral10)),k=i.a.keyframes(f(l.a.CoreNeutral10)),E=i.a.keyframes(f(l.a.CoreBlue10)),O=i.a.keyframes(f(l.a.CoreRed10)),A=i.a.keyframes(f(l.a.CoreYellow10)),_=i.a.keyframes(f(l.a.CoreBlue10)),x=i.a.keyframes(f(l.a.CoreGreen10)),I=i.a.keyframes(f(l.a.CorePurple10)),j=i.a.keyframes(f(l.a.CoreGreen10)),T=e=>{const t=i.a.color(c).fade(e).toRGBA().toString();return{borderBottomColor:t,backgroundColor:t,$nest:{["&."+u.markHeightStandard]:{paddingTop:g.standard},["&."+u.markHeightTall]:{paddingTop:g.tall}}}},M=e=>({borderBottomColor:"transparent",backgroundColor:i.a.color(c).fade(e).toRGBA().toString()}),N=i.a.keyframes({from:T("100%"),to:T("50%")}),P={borderBottomWidth:"2px",borderBottomColor:""+l.a.CoreNeutral40,borderBottomStyle:"dotted",backgroundColor:"transparent"},L=i.a.keyframes({to:Object.assign(Object.assign({},T("0%")),P)}),R=i.a.keyframes({from:M("100%"),to:M("50%")}),B={$nest:{["&."+u.markHeightStandard]:{paddingTop:g.standard},["&."+u.markHeightTall]:{paddingTop:g.tall},[`&:not(.${u.markSelected}):not(.${u.markSelectedFocused})`]:{$nest:{[`&.${u.clarity} &.${u.clarity}`]:{borderBottomStyle:"solid",borderBottomColor:l.a.CoreBlue50}}},[`&.${u.correctness}, &.${u.markSelected}, &.${u.markSelectedFocused}`]:{$nest:{[`.${u.markVisible}:not(.${u.markSelected}):not(.${u.markSelectedFocused}).${u.clarity} .${u.markVisible}:not(.${u.markSelected}):not(.${u.markSelectedFocused}).${u.clarity}`]:{}}},["&."+u.clarity]:{$nest:{[`& & &:not(.${u.markSelected}):not(.${u.markSelectedFocused})`]:{borderBottomStyle:"hidden !important"}}}}},F={borderBottom:"0 solid transparent !important",background:"none",animation:"none"},D=Object(s.l)(()=>({custom(e,t){const n=i.a.color(e).fade(.25).toRGBA().toString(),a=i.a.keyframes(f(n));return[d,u.markBase,i.a.style(b(a,t,t,n,"solid")),o.a.style(b(a,t,t,n,"solid"),m)].join(" ")},markBase:[u.markBase,i.a.style(p),o.a.style(p,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[u.markAppliedBase,u.markBase,i.a.style({paddingBottom:"1px",borderBottom:"2px solid "+c})].join(" "),correctness:[u.correctness,u.markBase,i.a.style(b(O,l.a.CoreRed50,l.a.CoreRed50,l.a.CoreRed10,"solid")),o.a.style(b(O,l.a.CoreRed50,l.a.CoreRed50,l.a.CoreRed10,"solid"),m)].join(" "),premium:[u.premium,u.markBase,i.a.style(b(A,l.a.CoreYellow40,l.a.CoreYellow40,l.a.CoreYellow10,"dashed")),o.a.style(b(A,l.a.CoreYellow40,l.a.CoreYellow40,l.a.CoreYellow10,"dashed"),m)].join(" "),clarity:[u.clarity,u.markBase,i.a.style(b(_,l.a.CoreBlue50,l.a.CoreBlue50,l.a.CoreBlue10,"dashed")),o.a.style(b(_,l.a.CoreBlue50,l.a.CoreBlue50,l.a.CoreBlue10,"dashed"),m)].join(" "),markVisible:[u.markVisible,i.a.style(B),o.a.style(B)].join(" "),engagement:[u.engagement,u.markBase,i.a.style(b(x,l.a.CoreGreen50,l.a.CoreGreen50,l.a.CoreGreen10,"dashed")),o.a.style(b(x,l.a.CoreGreen50,l.a.CoreGreen50,l.a.CoreGreen10,"dashed"),m)].join(" "),delivery:[u.delivery,u.markBase,i.a.style(b(I,l.a.CorePurple50,l.a.CorePurple50,l.a.CorePurple10,"dashed")),o.a.style(b(I,l.a.CorePurple50,l.a.CorePurple50,l.a.CorePurple10,"dashed"),m)].join(" "),critical:[u.critical,u.markBase,i.a.style(b(y,l.a.CoreRed50,l.a.CoreRed50,l.a.CoreRed10,"solid")),o.a.style(b(y,l.a.CoreRed50,l.a.CoreRed50,l.a.CoreRed10,"solid"),m)].join(" "),advanced:[u.advanced,u.markBase,i.a.style(b(v,l.a.CoreYellow40,l.a.CoreYellow40,l.a.CoreYellow10,"dashed")),o.a.style(b(v,l.a.CoreYellow40,l.a.CoreYellow40,l.a.CoreYellow10,"dashed"),m)].join(" "),plagiarism:[u.plagiarism,u.markBase,i.a.style(b(S,l.a.CoreCyan50,l.a.CoreCyan50,l.a.CoreCyan10,"solid")),o.a.style(b(v,l.a.CoreCyan50,l.a.CoreCyan50,l.a.CoreCyan10,"solid"),m)].join(" "),originality:[u.originality,u.markBase,i.a.style(b(C,l.a.CorePurple50,l.a.CorePurple50,l.a.CorePurple10,"dashed")),o.a.style(b(I,l.a.CorePurple50,l.a.CorePurple50,l.a.CorePurple10,"dashed"),m)].join(" "),vox:[u.vox,u.markBase,i.a.style(b(w,l.a.CoreNeutral50,l.a.CoreNeutral50,l.a.CoreNeutral10,"dashed")),o.a.style(b(w,l.a.CoreNeutral50,l.a.CoreNeutral50,l.a.CoreNeutral10,"dashed"),m)].join(" "),knowledgeHub:[u.knowledgeHub,u.markBase,i.a.style(b(k,l.a.CoreNeutral50,l.a.CoreNeutral50,l.a.CoreNeutral10,"dashed")),o.a.style(b(k,l.a.CoreNeutral50,l.a.CoreNeutral50,l.a.CoreNeutral10,"dashed"),m)].join(" "),synonym:[u.synonym,u.markBase,i.a.style(b(E,l.a.CoreBlue50,"transparent",l.a.CoreBlue50,"solid")),o.a.style(b(E,l.a.CoreBlue50,"transparent",l.a.CoreBlue50,"solid"),m)].join(" "),markAnimated:[u.markAnimated,i.a.style({animation:h+" .075s ease"})].join(" "),markHidden:[u.markHidden,i.a.style(F),o.a.style(F)].join(" "),markBulkAppliedAnimation:[u.markBulkAppliedAnimation,u.markBase,i.a.style(T("100%"),P,{animation:`${N} 2s linear forwards, ${L} .25s linear 2s forwards`})].join(" "),markBulkApplied:[u.markBulkApplied,u.markBase,i.a.style(b(j,l.a.CoreNeutral40,l.a.CoreGreen10,l.a.CoreGreen10,"solid"),P)].join(" "),markApplied:[u.markApplied,i.a.style(T("100%"),{animation:N+" .25s linear forwards"})].join(" "),markSuccess:[u.markSuccess,i.a.style(M("100%"),{animation:R+" .25s linear forwards"})].join(" "),noAnimation:[u.noAnimation,i.a.style({animationDuration:"0s !important"})].join(" "),markSelected:u.markSelected,markSelectedFocused:u.markSelectedFocused,markHeightStandard:u.markHeightStandard,markHeightTall:u.markHeightTall,markStart:u.markStart})),H=e=>e===a.o.Default?Object(r.a)():D()},boxh:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("ERkP"),r=n("I7vG"),i=n("vOOZ"),o=n("1w6p"),s=n("rk+4"),l=n("yB2L"),c=n("zR/0"),u=n("aIes"),d=n("RCgc"),p=n("95Qz");const m=o.b.Node.make(({state:e})=>{const t=a.useContext(s.a.Context);return a.createElement(i.a.div,{className:d.a.minimizedContent},a.createElement("div",{className:d.a.minimizedText},t.premiumSuggestions),e.pipe(c.a.map(({alertsCount:e})=>e>0&&a.createElement(l.a.Counter,{type:"yellowPremium",key:"advancedCounter-counter",count:e}))))}),h=o.b.Grid.make(({slots:e,notify:t})=>a.createElement("div",Object.assign({role:"button",className:d.a.shadowWrapper},u.d.createAccessibleClickHandler(t("onClick"))),e.body)),g=o.b.Knot.make(h,{body:o.b.Composite.make(Object(p.a)(d.a.minimizedWrapper),m)}),f=Object(r.pipe)(o.b.squash(g),o.b.contramapState(e=>({body:e})))},"c/4S":function(e,t,n){e.exports=n.p+"files/55c843b0b146c9d1db049e4751172fe1/inter-regular.woff2"},cA63:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("OA+g"),i=n("I7vG"),o=n("lrqh"),s=n("D9EC"),l=n("yA7V"),c=n("dE97");!function(e){e.create=function(e){const t=t=>Object(i.pipe)(e.get(),l.a.get(t),o.g.map(c.a.fromAlertModel)),n=e=>Object(i.pipe)(t(e),o.g.filter(c.a.isInteractable)),a=e=>Object(i.pipe)(t(e),o.g.filter(c.a.isRegistered)),u=Object(r.flow)(a,o.g.filter(Object(s.b)(c.a.isNotDisposed,Object(r.not)(c.a.isInPremiumLens),Object(r.not)(c.a.isHidden)))),d=Object(r.flow)(u,o.g.isSome);return{getById:t,getRegistered:a,getInteractable:n,getValidForFeedback:u,isValidForFeedback:d,isRegistered:e=>Object(i.pipe)(a(e),o.g.isSome),isInteractable:e=>Object(i.pipe)(n(e),o.g.isSome)}}}(a||(a={}))},cQVk:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("ERkP"),r=n("9NHN"),i=n("rk+4"),o=n("e12y"),s=n("D9EC"),l=n("ax6a"),c=n("zoQI");const u=({checked:e,name:t,className:n,ariaLabelledBy:o})=>{const l=a.useContext(i.a.Context);return a.createElement(c.c,Object.assign({name:t,"aria-checked":e,ariaLabelledBy:o},Object(r.c)(e.view(Object(s.c)(d.switchButtonOn,d.switchButtonOff)),n),{checked:e}),a.createElement("span",{"aria-hidden":!0,className:d.on},l.on),a.createElement("span",{"aria-hidden":!0,className:d.off},l.off))};var d;!function(e){const t=o.a.rem(1.25),n=e=>({"&:hover":{backgroundColor:e},"&:hover::before":{borderColor:e}}),a=o.a.rem(.15),r={$debugName:"switchButton",position:"relative",display:"inline-flex",minWidth:o.a.rem(3),height:o.a.rem(1.25),borderRadius:t,backgroundColor:l.a.CoreNeutral50,color:l.a.CoreNeutral0,letterSpacing:o.a.rem(.04625),fontSize:o.a.rem(.625),cursor:"pointer",transition:o.a.seconds(.4),alignItems:"center",userSelect:"none",outline:"none",$nest:Object.assign({"&::before":{position:"absolute",left:0,width:t,height:t,borderWidth:a,borderStyle:"solid",borderColor:l.a.CoreNeutral50,borderRadius:o.a.percent(50),backgroundColor:l.a.CoreNeutral0,content:"''",transition:o.a.seconds(.4),boxSizing:"border-box"},"&:focus":{boxShadow:`0 0 0 1px ${l.a.CoreNeutral0}, 0 0 0 3px ${l.a.CoreBlue40}`,zIndex:1},"&:focus:not(:focus-visible)":{boxShadow:"none",$unique:!0},"&:focus-visible":{boxShadow:`0 0 0 1px ${l.a.CoreNeutral0}, 0 0 0 3px ${l.a.CoreBlue40}`,zIndex:1,$unique:!0}},n(l.a.CoreNeutral40))},i={position:"relative",textAlign:"center",textTransform:"uppercase",fontWeight:"bold"};e.on=o.a.style(i,{width:o.a.rem(2.125)}),e.off=o.a.style(i,{width:o.a.rem(1.5),marginLeft:t});const s=(t,n)=>({["& ."+e.on]:t,["& ."+e.off]:n}),c={display:"none"},u={display:"inline-block"};e.switchInput=o.a.style({position:"absolute",opacity:0}),e.switchButtonOn=o.a.style(r,{backgroundColor:l.a.CoreBlue50,$nest:Object.assign(Object.assign(Object.assign({},s(u,c)),{"&::before":{transform:`translateX(${o.a.rem(1.75)})`,borderColor:l.a.CoreBlue50}}),n(l.a.CoreBlue40))}),e.switchButtonOff=o.a.style(r,{$nest:s(c,u)})}(d||(d={}))},cVtq:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z})),n.d(t,"c",(function(){return X})),n.d(t,"b",(function(){return Q})),n.d(t,"e",(function(){return ee})),n.d(t,"f",(function(){return ae})),n.d(t,"d",(function(){return re})),n.d(t,"g",(function(){return se}));var a=n("ERkP"),r=n("OA+g"),i=n("I7vG"),o=n("9NHN"),s=n("LNSM"),l=n("vOOZ"),c=n("hoSD"),u=n("6fbX"),d=n("D9EC"),p=n("lrqh"),m=n("rk+4"),h=n("bO3R"),g=n("8Ioe"),f=n("ZD0N"),b=n("3rlE"),y=n("wsrD"),v=n("BugA"),S=n("lRnN"),C=n("zR/0"),w=n("wOnQ"),k=n("XxrX"),E=n("N19O"),O=n("9/oM"),A=n("BT8e"),_=n("StFb");const x=e=>e?A.a:A.b,I=({theme:e,children:t})=>a.createElement(v.j,{className:e.list},t),j=({transform:e,title:t,disabled:n,boldifier:r=B,classes:i,onClick:o})=>a.createElement(h.a,{animationMode:g.a.FromClickPoint,name:"apply-insert",role:"insertion",tag:f.b.div,onClick:o,title:t,disabled:n,className:i.itemInsert},e.map((e,t)=>a.createElement(a.Fragment,{key:t},r(e,i.diff)))),T=({transform:e,theme:t,showOnboarding:n,onClick:r,onExpand:i})=>{const s=a.useContext(m.a.Context),l=e.label.map((e,t)=>a.createElement(a.Fragment,{key:t},e.text)),c=a.createElement(h.a,Object.assign({animationMode:g.a.FromClickPoint,name:"expand-insert",onClick:i,title:s.synfony.drilldownTooltip(l)},Object(o.c)(t.itemInsert,t.drilldownArrowButton)),a.createElement(b.d.Arrow,{direction:b.a.right,className:t.drilldownIcon}));return a.createElement("div",{className:t.drilldownInsertGroup},a.createElement(h.a,{animationMode:g.a.FromClickPoint,name:"apply-insert",role:"insertion",tag:f.b.div,onClick:r,title:s.synfony.applyTooltip,className:t.itemInsert},l),Boolean(e.subLabels.length)&&(n?a.createElement(J,null,c):c))},M=({transform:e,title:t,theme:n,onClick:r})=>a.createElement(h.a,Object.assign({animationMode:g.a.FromClickPoint,name:"apply-remove",role:"deletion",tag:f.b.div},{onClick:r,title:t,className:n.itemRemove}),e.map((e,t)=>a.createElement(D,{key:t,element:e,theme:n}))),N=({transform:e,title:t,theme:n,onClick:r,children:i})=>a.createElement("div",{className:n.removeOrContainer},e.map((i,o)=>"text"===i.type?a.createElement("span",{key:o,className:o===e.length-1?n.itemContextShifted:n.itemContext},i.text):a.createElement(h.a,Object.assign({key:o,animationMode:g.a.FromClickPoint,name:"apply-remove-or",role:"deletion",tag:f.b.div},{onClick:r,title:t,className:n.itemRemove}),a.createElement(D,{element:i,theme:n}))),i),P=e=>a.createElement("span",{className:e.classes.or},a.useContext(m.a.Context).card.or),L=({transform:e,replacements:t,boldifier:n=B,theme:r,strikeThrough:s=!0})=>{const l=e.every(e=>null===e.text.match(/\n/)),u=e.map(e=>e.text).join(""),d=1===t.length?t[0].map(e=>e.text).join(""):"",p=Object(_.e)(u,d),m=Object(i.pipe)(null==p?void 0:p.oldFragment,e=>Boolean(e)&&c.f.containsSpacesOnly(e)),h=l&&m;return a.createElement("div",Object.assign({},Object(o.c)(r.itemOriginal,s&&r.itemOriginalStrikeThrough)),a.createElement("span",Object.assign({},Object(o.c)(r.itemOriginalContent,h&&r.spacesOnlyContent)),e.map((e,t)=>a.createElement(a.Fragment,{key:t},n(e,r.diff)))))},R=({transform:e,boldifier:t=B,header:n,classes:r,onClick:i})=>a.createElement(h.a,{name:"apply-insert",onClick:i,className:r.item},Boolean(n)?a.createElement("div",{className:r.inlineHeader},n):null,e.map((e,n)=>a.createElement(a.Fragment,{key:n},t(e,r.diff)))),B=c.e.pick("text"),F=({text:e,type:t},n)=>"text"===t?e:a.createElement("span",{className:n},e),D=({element:e,strikeClass:t,theme:n})=>"delete"===e.type?a.createElement("span",Object.assign({},Object(o.c)(_.a.getClass(n,e.text),t)),e.text):a.createElement(a.Fragment,null,e.text);function H({labels:e,original:t,onlyReplacements:n},r,i,o,s){const l=1===t.length,[c]=l?[t[0].text,e[0][0].text].map((e=>(t,n)=>r=>a.createElement(Z,{index:n,oldText:t,newText:r.text,theme:e}))(o)):[F,F];return a.createElement(I,{theme:o},!n&&a.createElement(L,{transform:t,theme:o,replacements:e}),a.createElement("div",{className:i===k.a.Density.cozy?o.cozyArrowInsertsList:e.length>2?o.columnList:o.arrowInsertsList},e.map((e,t)=>a.createElement(j,Object.assign({},{key:t,title:r,onClick:s(t)},{transform:e,boldifier:c,classes:o})))))}const V=/^\W/,U=(e,t)=>{switch(e.type){case w.k.Delete:return t.fullSentenceDelete;case w.k.Insert:return V.test(e.text)?t.fullSentenceInsertPunctuation:t.fullSentenceInsert;case w.k.Text:case w.k.List:return"";default:return Object(u.c)(e)}},W=(e,t)=>{switch(e.type){case w.k.Delete:return t.fullSentenceHidden;case w.k.List:case w.k.Text:case w.k.Insert:return"";default:return Object(u.c)(e)}},q=(e,t)=>{switch(e.type){case w.k.Delete:return t.fullSentenceHidden;case w.k.List:return"bullet"===e.kind?t.fullSentenceBulletListItemWithFormatting:"dashed"===e.kind?t.fullSentenceDashedListItemWithFormatting:t.fullSentenceOrderedListItemWithFormatting;case w.k.Insert:case w.k.Text:return"";default:return Object(u.c)(e)}},z=(e,t)=>{switch(e.type){case w.k.Delete:return t.fullSentenceHidden;case w.k.List:return"bullet"===e.kind?t.fullSentenceBulletListItem:"dashed"===e.kind?t.fullSentenceDashedListItem:t.fullSentenceOrderedListItem;case w.k.Insert:case w.k.Text:return"";default:return Object(u.c)(e)}},$=({p:e,theme:t})=>{const n=s.a.create(e.shouldBeCollapsed);return a.createElement(l.a.Fragment,null,n.view(Object(d.c)(a.createElement("span",{className:e.type===w.k.Delete?t.collapsibleDelete:t.collapsibleInsert,onClick:()=>n.set(!1),role:"button",tabIndex:0},a.createElement("span",{className:t.collapsiblePartContent},"…")),a.createElement(a.Fragment,null,e.text))))},G=(e,t,n)=>{var r;if(null===(r=e.shouldBeCollapsed)||void 0===r||!r)return e.text;switch(e.type){case w.k.Insert:case w.k.Delete:return t?a.createElement($,{p:e,theme:n}):e.text;case w.k.Text:return a.createElement("span",null," … ");default:Object(u.c)(e)}},K=e=>{const t=Object(i.pipe)(e.showDiff,Object(d.c)(U,W),t=>t(e.transformPart,e.theme));return a.createElement("span",{className:t},G(e.transformPart,e.showDiff,e.theme))},Y=e=>{const t=Object(i.pipe)(e.showDiff,Object(d.c)(q,z),t=>t(e.transformPart,e.theme));return e.transformPart.type===w.k.List?a.createElement("span",{className:t,"data-indent":e.transformPart.indent}):a.createElement("span",{className:t},G(e.transformPart,e.showDiff,e.theme))},Z=({index:e=0,oldText:t,theme:n,newText:r})=>{const i=Object(_.b)(t,r),o=!!i&&c.f.containsSpacesOnly(i[1]);return a.createElement(a.Fragment,null,i?[i[0],a.createElement("span",{key:e,className:o?n.spacesOnlyContent:n.diff},i[1]),i[2]]:r)},X=e=>{const{onMount:t,maxHeight:n}=Object(E.b)(),o=x(e.a11yContrast);return a.createElement(v.a,{mount:t,style:{maxHeight:n.pipe(C.a.map(p.g.getOrElse(r.constUndefined)))},tabIndex:0,className:Object(i.pipe)(e.layoutDensity,k.a.Density.matchOrDefault(k.a.Density.minimal)(()=>o.minimalFullSentenceBackground,()=>o.fullSentenceBackground))},e.replacements.kind===w.f.WithFormatting?e.replacements.labels.map((t,n)=>a.createElement(Y,{showDiff:e.showDiff,transformPart:t,key:n,theme:o})):e.replacements.labels.map((t,n)=>a.createElement(K,{showDiff:e.showDiff,transformPart:t,key:n,theme:o})))},Q=({replacements:e,layoutDensity:t,a11yContrast:n,selection:r,onClick:i,onDive:o,onBack:s})=>{const l=a.useContext(m.a.Context),{activeLabels:c,original:u}=w.d.getSelectedItems(e,r),d=x(n);return a.createElement(I,{theme:d},a.createElement("div",{className:d.drilldownOriginalRow},r.length>0&&a.createElement(h.a.Ghost,{name:"go-back",title:l.synfony.back,onClick:s,className:d.drilldownBackButton},a.createElement(b.d.Arrow,{direction:b.a.left})),a.createElement(L,{transform:u,theme:d,replacements:[],strikeThrough:!Boolean(r)||0===r.length})),a.createElement("div",{className:t===k.a.Density.cozy?d.cozyArrowInsertsList:d.arrowInsertsList},c.map((e,t)=>a.createElement(T,{key:t,transform:e,showOnboarding:2===t,theme:d,onClick:i(e.alternativeId),onExpand:()=>o(t,e.alternativeId)}))))},J=e=>{const t=a.useContext(m.a.Context);return a.createElement(O.b,{alignment:"topLeft",eventType:"onclick",stepId:S.a.StepId.Synfony,message:t.synfony.onboardingTooltip,dotPosition:{kind:"dotAtPosition",position:O.a.rightCenter}},e.children)},ee=e=>{const t=a.useContext(m.a.Context).card,n=""===e.gapValue,r=x(e.a11yContrast);return a.createElement(a.Fragment,null,a.createElement(y.b,{name:"input",placeholder:t.gapCard.placeholder,value:e.gapValue,onChange:t=>e.onChange(t.target.value),onKeyPress:e=>{"Enter"===e.key&&e.currentTarget.nextElementSibling&&e.currentTarget.nextElementSibling.click()},className:r.oneGapInput}),a.createElement(j,{title:n?"":t.todoAction(e.replacements.tooltipText),boldifier:F,onClick:e.onApply,classes:{itemInsert:r.oneGapInsert,inlineHeader:r.inlineHeader,diff:r.diff},disabled:n,transform:te(e.replacements.labels.left,e.gapValue,e.replacements.labels.right)}))},te=(e,t,n)=>[...e,{type:w.k.Insert,text:ne(e)+(t||"…")+ne(n)},...n],ne=e=>e.length?" ":"",ae=({replacementsLabels:e,layoutDensity:t,a11yContrast:n,onClick:r})=>{const i=a.useContext(m.a.Context).card.todoAction(e.tooltipText),o=x(n);switch(e.type){case w.j.Type.InsertList:return a.createElement(I,{theme:o},e.labels.map((e,t)=>a.createElement(j,Object.assign({},{key:t,title:i,onClick:r(t)},{transform:e,classes:o}))));case w.j.Type.DeleteList:return a.createElement(I,{theme:o},e.labels.map((e,t)=>a.createElement(M,Object.assign({},{key:t,title:i,onClick:r(t)},{transform:e,theme:o}))));case w.j.Type.Arrow:return H(e,i,t,o,r);case w.j.Type.InsertOr:return a.createElement(I,{theme:o},a.createElement(j,Object.assign({transform:e.labels[0]},{title:i,onClick:r(0)},{boldifier:F,classes:o})),a.createElement(P,{classes:o}),a.createElement(j,Object.assign({transform:e.labels[1]},{title:i,onClick:r(1)},{boldifier:F,classes:o})));case w.j.Type.DeleteOr:return a.createElement(I,{theme:o},e.labels.map((t,n)=>a.createElement(N,Object.assign({},{key:n,title:i,onClick:r(n)},{theme:o,transform:t}),n===e.labels.length-2&&a.createElement(P,{classes:o}))));case w.j.Type.Citation:case w.j.Type.FullSentence:case w.j.Type.OneGap:case w.j.Type.Drilldown:case w.j.Type.ShortenIt:case w.j.Type.ToneAI:return null;default:return Object(u.c)(e)}},re=({replacementsLabels:e,onClick:t,header:n,customStyle:r,a11yContrast:i})=>{const o=Array.isArray(e.labels)&&1===e.labels.length?r.inlineHeaderOne:r.inlineHeader,s=x(i);switch(e.type){case w.j.Type.DeleteList:return a.createElement("div",{className:r.inlineWrappedList},e.labels.map((e,i)=>a.createElement(R,Object.assign({},{key:i,onClick:t(i)},{classes:{item:r.itemRemove,inlineHeader:o,diff:s.diff},boldifier:e=>a.createElement(D,{element:e,strikeClass:r.strike,theme:s}),transform:e,header:0===i?n:""}))));case w.j.Type.InsertList:case w.j.Type.InsertOr:case w.j.Type.Arrow:return a.createElement("div",{className:r.inlineWrappedList},e.labels.map((e,i)=>a.createElement(R,Object.assign({},{key:i,onClick:t(i)},{classes:{item:r.itemInsert,inlineHeader:o,diff:s.diff},transform:e,boldifier:e=>F(e,r.diff),header:0===i?n:""}))));case w.j.Type.DeleteOr:case w.j.Type.FullSentence:case w.j.Type.OneGap:case w.j.Type.Drilldown:case w.j.Type.ShortenIt:case w.j.Type.ToneAI:case w.j.Type.Citation:return null;default:return Object(u.c)(e)}},ie=({label:e,a11yContrast:t})=>{const n=e.findIndex(e=>e.type===w.k.Delete);let r=e.reduce((e,t)=>e=e.concat(t.text.split(" ").map(e=>({word:e,isDelete:t.type===w.k.Delete,shouldHighlight:!1}))),[]).filter(e=>""!==e.word);return r=0===n?r.filter(e=>!e.isDelete).map((e,t)=>{let n=!1;return t-2<0&&(n=!0),Object.assign(Object.assign({},e),{shouldHighlight:n})}):n===e.length-1?r.filter(e=>!e.isDelete).map((e,t,n)=>{let a=!1;return t+2>=n.length&&(a=!0),Object.assign(Object.assign({},e),{shouldHighlight:a})}):r.map((e,t,n)=>{let a=!1;return(void 0!==n[t+1]&&n[t+1].isDelete||void 0!==n[t-1]&&n[t-1].isDelete)&&(a=!0),Object.assign(Object.assign({},e),{shouldHighlight:a})}).filter(e=>!e.isDelete),a.createElement(a.Fragment,null,r.map((e,n,r)=>a.createElement("span",{key:`${e.word}-${n}`,className:e.shouldHighlight?x(t).toneAIInsert:void 0},e.word,void 0===r[n+1]||Object(_.c)(r[n+1].word)?"":" ")))},oe=({label:e,a11yContrast:t})=>a.createElement(a.Fragment,null,e.filter(e=>e.type!==w.k.Delete).map(e=>a.createElement("span",{key:e.text,className:e.type===w.k.Insert?x(t).toneAIInsert:void 0},e.text))),se=({label:e,className:t,a11yContrast:n})=>{let r;return r=!e.some(e=>e.type===w.k.Insert)?a.createElement(ie,{label:e,a11yContrast:n}):a.createElement(oe,{label:e,a11yContrast:n}),a.createElement("div",{className:t},r)}},cppq:function(e,t,n){e.exports=n.p+"files/6a838499830b0c29490541ffdb6154b7/bg.jpg"},cqAx:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return m}));var a=n("ERkP"),r=n("I7vG"),i=n("lrqh"),o=n("hoSD"),s=n("yAW8"),l=n("Ars8"),c=n("lG5l");const u=e=>a.createElement("div",{className:Object(s.classes)(l.a.akkuratWrapper,e.className),style:e.style},e.children),d=({model:e})=>a.createElement(u,{className:l.a.content},a.createElement("div",{className:l.a.separatorRemover}),a.createElement(c.e,{title:e.title,author:i.g.some(e.author)}),a.createElement(c.b,{stats:e.stats}),a.createElement(c.d,{score:e.score,critical:e.criticalIssues,advanced:e.advancedIssues}),Object(r.pipe)(e.plagiarism,i.g.map(e=>a.createElement(c.c,{plagiarismData:e})),i.g.toNullable),!o.e.isEmptyObject(e.issues)&&a.createElement(c.f,{issues:e.issues}),a.createElement(c.a,{stats:e.stats})),p=({title:e})=>a.createElement(u,{style:{width:"100%",marginLeft:"17.4857px",marginRight:"38.4686px",fontFamily:"Akkurat Std",color:"#becafa",letterSpacing:"0.1px",position:"absolute",top:0}},a.createElement("div",{style:{width:"144px",position:"absolute",top:"15.7351px",left:0}},a.createElement("svg",{"aria-hidden":!0,width:"83.5px",viewBox:"0 0 93 23"},a.createElement("path",{d:"M32.1137999,10.3020362 L32.1137999,10.2761929 C32.1137999,9.3346607 31.3716092,8.67717134 30.4082654,8.67717134 C29.4453916,8.67717134 28.7163619,9.3346607 28.7163619,10.2761929 L28.7163619,10.3020362 C28.7163619,11.2561408 29.4453916,11.9010577 30.4082654,11.9010577 C31.3716092,11.9010577 32.1137999,11.2433355 32.1137999,10.3020362 Z M27.6230525,15.7046709 C27.2846248,15.5761532 27.0632367,15.3053812 27.0632367,14.9440414 C27.0632367,14.5056376 27.4275165,14.1447634 27.8702927,14.1447634 C28.0004933,14.1447634 28.1046069,14.170141 28.1955593,14.2092551 C28.7683012,14.4669891 29.3802912,14.6215829 30.1222469,14.6215829 C31.4757227,14.6215829 32.1137999,13.9771316 32.1137999,12.7389841 L32.1137999,12.4037204 C31.527897,13.1003239 30.8902898,13.5256897 29.8357585,13.5256897 C28.2087204,13.5256897 26.7375,12.352034 26.7375,10.3020362 L26.7375,10.2761929 C26.7375,8.21315707 28.2345725,7.05253935 29.8357585,7.05253935 C30.9159069,7.05253935 31.5539841,7.50398123 32.0874778,8.08394085 L32.0874778,8.07113564 C32.0874778,7.54239686 32.530019,7.10399301 33.0766737,7.10399301 C33.6233284,7.10399301 34.0658696,7.54239686 34.0658696,8.08394085 L34.0658696,12.5327038 C34.0658696,13.7708513 33.7666901,14.6732694 33.1807872,15.2536947 C32.530019,15.8983788 31.527897,16.1821889 30.1744212,16.1821889 C29.2498556,16.1821889 28.4430346,16.0273622 27.6230525,15.7046709 Z M35.5315436,8.05210654 C35.5315436,7.49972039 35.9859169,7.05253935 36.5476701,7.05253935 C37.1089407,7.05253935 37.5633141,7.49972039 37.5633141,8.05210654 L37.5633141,8.36772184 C37.8574624,7.68400743 38.3383791,7.05253935 38.9399473,7.05253935 C39.5680588,7.05253935 39.9285653,7.46053565 39.9285653,8.02574589 C39.9285653,8.55200888 39.5810891,8.8673867 39.1670133,8.9597677 C38.1380977,9.19677603 37.5633141,9.97263396 37.5633141,11.3927841 L37.5633141,13.2608277 C37.5633141,13.8129763 37.1089407,14.2601574 36.5476701,14.2601574 C35.9859169,14.2601574 35.5315436,13.8129763 35.5315436,13.2608277 L35.5315436,8.05210654 Z M39.9285653,12.118996 L39.9285653,12.092591 C39.9285653,10.5651097 41.0750287,9.85971938 42.7113383,9.85971938 C43.406799,9.85971938 43.9094379,9.97736302 44.3988189,10.1471094 L44.3988189,10.0294657 C44.3988189,9.20690326 43.8964126,8.75000271 42.917418,8.75000271 C42.3764007,8.75000271 41.9384233,8.82827463 41.5648749,8.94591827 C41.4488097,8.98505423 41.3713554,8.99825672 41.281341,8.99825672 C40.8303382,8.99825672 40.4695825,8.64556156 40.4695825,8.18842524 C40.4695825,7.8362016 40.6884549,7.53560913 40.997807,7.41796549 C41.6162785,7.18291396 42.2859211,7.05253935 43.2009519,7.05253935 C44.269961,7.05253935 45.042876,7.33992932 45.532257,7.8362016 C46.0476887,8.35817158 46.279819,9.1288671 46.279819,10.0690732 L46.279819,13.2546461 C46.279819,13.7902901 45.8546344,14.2078189 45.3264099,14.2078189 C44.759342,14.2078189 44.3857936,13.8034926 44.3857936,13.3854922 L44.3857936,13.3722897 C43.9094379,13.9079337 43.2523555,14.2601574 42.2989464,14.2601574 C40.997807,14.2601574 39.9285653,13.5029001 39.9285653,12.118996 Z M47.256935,8.09698499 C47.256935,7.54859209 47.7036529,7.10464375 48.2557042,7.10464375 C48.8075183,7.10464375 49.2542362,7.54859209 49.2542362,8.09698499 L49.2542362,8.17549524 C49.713765,7.58772933 50.318483,7.05253935 51.3303003,7.05253935 C52.2498323,7.05253935 52.9463611,7.45711468 53.314079,8.16252808 C53.9316078,7.44414752 54.6675181,7.05253935 55.626906,7.05253935 C57.1117745,7.05253935 58.0052104,7.94043603 58.0052104,9.62498776 L58.0052104,13.2680519 C58.0052104,13.816209 57.5584925,14.2601574 57.0062039,14.2601574 C56.4543898,14.2601574 56.0076719,13.816209 56.0076719,13.2680519 L56.0076719,10.2778252 C56.0076719,9.33758838 55.5875246,8.85426703 54.838329,8.85426703 C54.0893707,8.85426703 53.6298419,9.33758838 53.6298419,10.2778252 L53.6298419,13.2680519 C53.6298419,13.816209 53.183124,14.2601574 52.6308354,14.2601574 C52.0790214,14.2601574 51.6323034,13.816209 51.6323034,13.2680519 L51.6323034,10.2778252 C51.6323034,9.33758838 51.2119188,8.85426703 50.4629605,8.85426703 C49.713765,8.85426703 49.2542362,9.33758838 49.2542362,10.2778252 L49.2542362,13.2680519 C49.2542362,13.816209 48.8075183,14.2601574 48.2557042,14.2601574 C47.7036529,14.2601574 47.256935,13.816209 47.256935,13.2680519 L47.256935,8.09698499 Z M59.4708843,8.09698499 C59.4708843,7.54859209 59.9176023,7.10464375 60.4696536,7.10464375 C61.0214677,7.10464375 61.4681856,7.54859209 61.4681856,8.09698499 L61.4681856,8.17549524 C61.9277144,7.58772933 62.5326696,7.05253935 63.5442497,7.05253935 C64.4637816,7.05253935 65.1603105,7.45711468 65.5280284,8.16252808 C66.1457945,7.44414752 66.8814675,7.05253935 67.8408553,7.05253935 C69.3257239,7.05253935 70.2191598,7.94043603 70.2191598,9.62498776 L70.2191598,13.2680519 C70.2191598,13.816209 69.7724419,14.2601574 69.2201533,14.2601574 C68.6685765,14.2601574 68.2218585,13.816209 68.2218585,13.2680519 L68.2218585,10.2778252 C68.2218585,9.33758838 67.8014739,8.85426703 67.0522784,8.85426703 C66.3033201,8.85426703 65.8437913,9.33758838 65.8437913,10.2778252 L65.8437913,13.2680519 C65.8437913,13.816209 65.3970734,14.2601574 64.8447848,14.2601574 C64.2929707,14.2601574 63.8462528,13.816209 63.8462528,13.2680519 L63.8462528,10.2778252 C63.8462528,9.33758838 63.4261055,8.85426703 62.6769099,8.85426703 C61.9277144,8.85426703 61.4681856,9.33758838 61.4681856,10.2778252 L61.4681856,13.2680519 C61.4681856,13.816209 61.0214677,14.2601574 60.4696536,14.2601574 C59.9176023,14.2601574 59.4708843,13.816209 59.4708843,13.2680519 L59.4708843,8.09698499 Z M70.7077178,12.118996 L70.7077178,12.092591 C70.7077178,10.5651097 71.8542231,9.85971938 73.4903601,9.85971938 C74.1863114,9.85971938 74.6882709,9.97736302 75.1779025,10.1471094 L75.1779025,10.0294657 C75.1779025,9.20690326 74.6757103,8.75000271 73.6964472,8.75000271 C73.1554102,8.75000271 72.7174168,8.82827463 72.3438547,8.94591827 C72.2277853,8.98505423 72.1507933,8.99825672 72.0603103,8.99825672 C71.6092911,8.99825672 71.2487548,8.64556156 71.2487548,8.18842524 C71.2487548,7.8362016 71.4678678,7.53560913 71.776766,7.41796549 C72.3952602,7.18291396 73.0653925,7.05253935 73.979759,7.05253935 C75.0492724,7.05253935 75.8222157,7.33992932 76.3118472,7.8362016 C76.8268326,8.35817158 77.0589714,9.1288671 77.0589714,10.0690732 L77.0589714,13.2546461 C77.0589714,13.7902901 76.6337712,14.2078189 76.10576,14.2078189 C75.538904,14.2078189 75.1653418,13.8034926 75.1653418,13.3854922 L75.1653418,13.3722897 C74.6882709,13.9079337 74.0313971,14.2601574 73.0781857,14.2601574 C71.776766,14.2601574 70.7077178,13.5029001 70.7077178,12.118996 Z M78.5246454,8.05210654 C78.5246454,7.49972039 78.9792601,7.05253935 79.540772,7.05253935 C80.1020425,7.05253935 80.5564159,7.49972039 80.5564159,8.05210654 L80.5564159,8.36772184 C80.8505642,7.68400743 81.3314809,7.05253935 81.9330491,7.05253935 C82.5611606,7.05253935 82.9216671,7.46053565 82.9216671,8.02574589 C82.9216671,8.55200888 82.5741909,8.8673867 82.1603564,8.9597677 C81.1311995,9.19677603 80.5564159,9.97263396 80.5564159,11.3927841 L80.5564159,13.2608277 C80.5564159,13.8129763 80.1020425,14.2601574 79.540772,14.2601574 C78.9792601,14.2601574 78.5246454,13.8129763 78.5246454,13.2608277 L78.5246454,8.05210654 Z M86.930076,16.0926159 C86.6386162,15.9887322 86.293794,15.7541713 86.293794,15.2728277 C86.293794,14.7907791 86.6780997,14.4654962 87.0892063,14.4654962 C87.2480973,14.4654962 87.3407039,14.4915846 87.4203887,14.517438 C87.5926802,14.5696149 87.6986873,14.5957033 87.8446565,14.5957033 C88.2024006,14.5957033 88.374692,14.5305997 88.5601447,14.1789933 L88.6266683,14.0229327 L86.2011873,8.50346419 C86.1483034,8.37349204 86.0951802,8.17794623 86.0951802,8.0482091 C86.0951802,7.48836521 86.5326091,7.09774365 87.0892063,7.09774365 C87.5926802,7.09774365 87.8843792,7.37108473 88.0566707,7.83950155 L89.5941327,11.9010727 L91.0782323,7.85266329 C91.2376019,7.43618832 91.5288223,7.09774365 92.0456967,7.09774365 C92.5628104,7.09774365 93,7.48836521 93,8.00872389 C93,8.16525455 92.9468768,8.38665378 92.9073933,8.47761078 L90.4290285,14.3223623 C89.8324693,15.7412445 89.2361494,16.275 88.0298698,16.275 C87.5792798,16.275 87.2614977,16.2098964 86.930076,16.0926159 Z M83.4102251,5.63428404 C83.4102251,5.09034375 83.8474903,4.65 84.387109,4.65 C84.9274239,4.65 85.364457,5.09034375 85.364457,5.63428404 L85.364457,13.2761072 C85.364457,13.8198136 84.9274239,14.2601574 84.387109,14.2601574 C83.8474903,14.2601574 83.4102251,13.8198136 83.4102251,13.2761072 L83.4102251,5.63428404 Z M44.4248696,11.6618596 L44.4248696,11.3091645 C44.0896995,11.1526206 43.6517221,11.0481795 43.1749012,11.0481795 C42.3373247,11.0481795 41.8223582,11.3876722 41.8223582,12.0145548 L41.8223582,12.0404883 C41.8223582,12.5761323 42.2603356,12.88922 42.8913673,12.88922 C43.8063981,12.88922 44.4248696,12.379981 44.4248696,11.6618596 Z M75.2037215,11.6618596 L75.2037215,11.3091645 C74.8687717,11.1526206 74.4307782,11.0481795 73.9544051,11.0481795 C73.1167979,11.0481795 72.6013474,11.3876722 72.6013474,12.0145548 L72.6013474,12.0404883 C72.6013474,12.5761323 73.0393408,12.88922 73.6708608,12.88922 C74.5854599,12.88922 75.2037215,12.379981 75.2037215,11.6618596 Z",fill:"#2B2D38"}),a.createElement("path",{d:"M22.0875,11.04375 C22.0875,17.1430211 17.1430211,22.0875 11.04375,22.0875 C4.94447894,22.0875 0,17.1430211 0,11.04375 C0,4.94447894 4.94447894,0 11.04375,0 C17.1430211,0 22.0875,4.94447894 22.0875,11.04375 Z M13.08629,12.2595253 C12.6265316,12.2595253 12.2634378,12.6652216 12.3492818,13.1315014 C12.4146868,13.4862794 12.7551774,13.72932 13.1230803,13.72932 L14.2820947,13.72932 L14.9536979,13.6369127 C13.8790847,15.1833207 12.0128791,15.8947626 9.9720999,15.5805306 C8.31100614,15.3247604 6.88387942,14.2231805 6.28200946,12.684316 C4.91523805,9.19122567 7.51749002,5.8563121 10.9086894,5.8563121 C12.6758257,5.8563121 14.2253463,6.86996364 15.1140844,8.09483187 L15.1143248,8.09483187 C15.1145653,8.09483187 15.1148058,8.12076249 15.1152867,8.12123396 C15.3509369,8.45479604 15.8181496,8.55026787 16.1583997,8.31924961 C16.4820581,8.0993108 16.5710281,7.68206354 16.3764964,7.35392332 L16.381546,7.35392332 C15.1523174,5.47301038 12.9436975,4.26912238 10.4599921,4.43224956 C7.22581273,4.64488065 4.60817136,7.23959285 4.42253668,10.4120864 C4.20636365,14.1034282 7.19335071,17.1175092 10.9086894,17.1175092 C12.8600177,17.1175092 14.6069554,16.2844291 15.7974701,14.9365083 L15.6565609,15.7094765 L15.6565609,16.4081889 C15.6565609,16.7688602 15.9044745,17.1026581 16.266366,17.1667774 C16.7419947,17.2509341 17.1558254,16.8949774 17.1558254,16.444256 L17.1558254,12.2595253 L13.08629,12.2595253 Z",fill:"#15C39A"}))),a.createElement("p",{style:{position:"absolute",left:"111.05px",width:"823px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",borderBottom:"2px solid #e4e6f2",transform:"scale(0.563)",transformOrigin:"top left",paddingBottom:"21px",top:0,fontSize:"19px"}},"Report: ",e)),m=()=>a.createElement(u,{style:{marginLeft:"128.8807px",marginRight:"25.4686px",width:"100%",fontFamily:"Akkurat Std",fontSize:"19px",color:"#becafa",letterSpacing:"0.1px",lineHeight:"90px"}},a.createElement("div",{style:{position:"relative",top:"-19px",transform:"scale(0.563)",transformOrigin:"top left",width:"180%",borderTop:"1px solid #e4e6f2"}},a.createElement("div",{style:{position:"absolute",top:0,width:"100%",zIndex:1e3}},"Report was generated on ",(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),a.createElement("span",{style:{float:"right"}},"Page ",a.createElement("span",{className:"pageNumber"})," of ",a.createElement("span",{className:"totalPages"})))))},czBP:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z}));var a=n("ERkP"),r=n("vOOZ"),i=n("D9EC"),o=n("6lhv"),s=n("bO3R"),l=n("3rlE"),c=n("rmZI"),u=n("rk+4"),d=n("BugA"),p=n("ax6a"),m=n("e12y"),h=n("ps/9");const g={position:"fixed",bottom:m.a.rem(1),right:m.a.rem(1),zIndex:h.j,width:m.a.rem(20),padding:m.a.rem(2),background:p.a.CoreNeutral0,transition:`transform ${m.a.seconds(.1)} linear ${m.a.seconds(.1)}`,transform:"perspective(100)",borderRadius:m.a.rem(h.s),boxShadow:"0 12px 48px 0 rgba(96, 101, 123, .24)"},f={transitionDelay:m.a.seconds(0),transform:"perspective(100) rotateY(90deg)"},b={transform:"perspective(100) rotateY(-90deg)"},y={paddingBottom:m.a.rem(1)},v={marginBottom:m.a.rem(1)},S={width:m.a.percent(100),borderRadius:m.a.rem(h.t),padding:`${m.a.rem(.5)} 0 ${m.a.rem(.5)} ${m.a.rem(.5)}`,lineHeight:m.a.rem(1.3125),margin:"0 2px"},C={width:m.a.rem(1),height:m.a.rem(1),minHeight:m.a.rem(1),display:"inline-block",verticalAlign:"top",marginLeft:m.a.rem(.25)},w={color:p.a.CoreBlue50,textDecoration:"none"},k={paddingTop:m.a.rem(2),height:m.a.rem(15),flexGrow:1},E={marginBottom:m.a.rem(.5)},O={$nest:{"& p":{marginTop:m.a.rem(1),marginBottom:m.a.rem(1)},"& p:last-child":{marginBottom:0},"& ul":{paddingLeft:m.a.rem(2)},"& a":{color:p.a.CoreBlue50,textDecoration:"none"}}},A={marginTop:m.a.rem(1),marginBottom:m.a.rem(1)},_={marginTop:m.a.rem(1)},x=m.a.stylesheet({notification:[g],rotateHide:[g,f],rotateShow:[g,b],closeIcon:[{position:"absolute",top:0,right:0}],question:[y],questionText:[v],answerBtn:[S],answer:[{whiteSpace:"normal"}],outcomeIcon:[C],learnMoreLink:[w],completionScreen:[{display:"flex",flexDirection:"column",alignItems:"flex-start"}],completionContent:[k],completionHeader:[E],badExperience:[O],openQuestion:[A],contactSupport:[_]}),I=({onComplete:e})=>{const t=a.useContext(u.a.Context).gbSatisfactionSurvey.thankYou;return a.createElement(r.a.div,{className:x.completionScreen},a.createElement(l.d.NotificationInfo,{width:40}),a.createElement("div",{className:x.completionContent},a.createElement(d.e,{className:x.completionHeader},t)," "),a.createElement(s.a.Primary,{name:"survey.done",onClick:e},"done"))};var j=n("H37f");const T=({answerType:e,viewModel:t,children:n})=>a.createElement(s.a.Flat,{className:x.answerBtn,name:"answer."+e,onClick:()=>t.answer(e)},a.createElement("span",{className:x.answer},n));var M=c.b.Experience;const N=({viewModel:e})=>{const t=a.useContext(u.a.Context).premiumOnboardingSurvey.firstQuestion;return a.createElement("div",{className:x.question},a.createElement(d.e,{className:x.questionText},t.question),a.createElement(T,{answerType:M.VerySatisfied,viewModel:e},a.createElement(j.b,null,"😄")," ",t.answers.verySatisfied),a.createElement(T,{answerType:M.SomewhatSatisfied,viewModel:e},a.createElement(j.b,null,"🙂")," ",t.answers.somewhatSatisfied),a.createElement(T,{answerType:M.Neutral,viewModel:e},a.createElement(j.b,null,"😐")," ",t.answers.neutral),a.createElement(T,{answerType:M.SomewhatDissatisfied,viewModel:e},a.createElement(j.b,null,"🙁")," ",t.answers.somewhatDissatisfied),a.createElement(T,{answerType:M.VeryDissatisfied,viewModel:e},a.createElement(j.b,null,"😞")," ",t.answers.veryDissatisfied))};var P=c.b.dissatisfactionReasons,L=c.b.adminSatisfactionReasons,R=c.b.teamMemberSatisfactionReasons;const B=({viewModel:e})=>a.createElement(r.a.div,{className:x.question},e.state.view(c.a.isSecondQuestionAboutDissatisfaction).view(Object(i.c)(a.createElement(F,{viewModel:e}),a.createElement(D,{viewModel:e})))),F=({viewModel:e})=>{const t=a.useContext(u.a.Context).gbSatisfactionSurvey.secondDissatisfactionQuestion,n=t.answers[e.isAdmin?"admin":"teamMember"];return a.createElement(a.Fragment,null,a.createElement(d.e,{className:x.questionText},t.question),P.map(t=>a.createElement(T,{key:t,answerType:t,viewModel:e},n[t])))},D=({viewModel:e})=>{const t=a.useContext(u.a.Context).gbSatisfactionSurvey.secondSatisfactionQuestion,n=e.isAdmin?L.map(n=>a.createElement(T,{key:n,answerType:n,viewModel:e},t.answers.admin[n])):R.map(n=>a.createElement(T,{key:n,answerType:n,viewModel:e},t.answers.teamMember[n]));return a.createElement(a.Fragment,null,a.createElement(d.e,{className:x.questionText},t.question),n)};var H=n("LNSM"),V=n("umZW"),U=n("rmLU"),W=n("zI3C"),q=n("wsrD");const z=({viewModel:e,onComplete:t})=>a.createElement(r.a.div,{className:x.question},e.state.view(c.a.isSecondQuestionAboutDissatisfaction).view(Object(i.c)(a.createElement(K,{viewModel:e,onComplete:t}),a.createElement(Y,{viewModel:e})))),$=({onComplete:e})=>{const t=a.useContext(U.a.Context),n=a.useContext(W.a.Context),r=a.useContext(u.a.Context).gbSatisfactionSurvey.thirdDissatisfactionQuestion;return a.createElement(a.Fragment,null,a.createElement(d.a,{className:x.badExperience},r.admin.TechnicalDifficulties),a.createElement(s.a.Primary,{className:x.contactSupport,name:"survey.done",onClick:()=>{e(),n.actions.openPopup(new V.a(t.support.newRequest))}},"Contact support"))},G=({viewModel:e})=>{const t=a.useContext(u.a.Context).gbSatisfactionSurvey.thirdDissatisfactionQuestion[e.isAdmin?"admin":"teamMember"].DidntFindItValuable,{title:n,answers:r}=t;return a.createElement(a.Fragment,null,a.createElement(d.e,{className:x.questionText},n),Object.keys(r).map(t=>{const n=r[t];return a.createElement(T,{key:t,answerType:t,viewModel:e},n)}))},K=({viewModel:e,onComplete:t})=>{const n=a.useContext(U.a.Context),r=[n.extension.chrome.installURL,n.extension.edge.infoURL,n.extension.firefox.installURL,n.extension.safari.installURL,n.funnel.keyboardInstall,n.funnel.desktopAppInstall],i=a.useContext(u.a.Context).gbSatisfactionSurvey.thirdDissatisfactionQuestion,o=H.a.create(""),l=e.state.view(c.a.getSecondQuestionAnswer).get();return e.isAdmin&&"TechnicalDifficulties"===l?a.createElement($,{onComplete:t}):"DidntFindItValuable"===l?a.createElement(G,{viewModel:e}):a.createElement(a.Fragment,null,a.createElement(d.a,{className:x.badExperience},(()=>{if(e.isAdmin){if("DoesntIntegrateWithAnAppIUse"===l)return i.admin.DoesntIntegrateWithAnAppIUse(...r)}else{if("DoesntIntegrateWithAnAppIUse"===l)return i.teamMember.DoesntIntegrateWithAnAppIUse(...r);if("NotSureWhatGrammarlyBusinessDoes"===l)return i.teamMember.NotSureWhatGrammarlyBusinessDoes(...r)}return i[e.isAdmin?"admin":"teamMember"][l]})()),a.createElement(q.d,{name:"survey-feedback-disliked",className:x.openQuestion,autofocus:!0,value:o}),a.createElement(s.a.Primary,{name:"survey.done",disabled:o.view(e=>!e),onClick:()=>e.answer(o.get())},"Share feedback"))},Y=({viewModel:e})=>{const t=a.useContext(u.a.Context).gbSatisfactionSurvey.thirdSatisfactionQuestion,n=H.a.create("");return a.createElement(a.Fragment,null,a.createElement(d.e,{className:x.questionText},t.title),a.createElement(d.a,null,t.question),a.createElement(q.d,{name:"survey-feedback-liked",className:x.openQuestion,autofocus:!0,value:n}),a.createElement(s.a.Primary,{name:"survey.done",disabled:n.view(e=>!e),onClick:()=>e.answer(n.get())},"Share feedback"))},Z=({viewModel:e,onClose:t,onComplete:n})=>a.createElement(X,{viewModel:e},r=>a.createElement(a.Fragment,null,c.a.isFirstQuestion(r)?a.createElement(N,{viewModel:e}):c.a.isSecondQuestion(r)?a.createElement(B,{viewModel:e}):c.a.isThirdQuestion(r)?a.createElement(z,{viewModel:e,onComplete:n}):a.createElement(I,{onComplete:n}),a.createElement(s.a,{name:"survey-close",className:x.closeIcon,onClick:c.a.isThirdQuestion(r)?n:t},a.createElement(l.d.Close,null)))),X=({viewModel:e,children:t})=>a.createElement(o.a,{state:e.state,stateToClassMapper:(e,t)=>{const[n,a]=e&&c.a.isFirstQuestion(e)&&c.a.isSecondQuestion(t)||e&&c.a.isSecondQuestion(e)&&c.a.isThirdQuestion(t)||e&&c.a.isThirdQuestion(e)&&c.a.isCompleted(t)?[x.rotateHide,x.rotateShow]:[x.notification,x.notification];return{prev:{start:x.notification,end:n},next:{start:a,end:x.notification}}}},e=>a.createElement(r.a.div,{className:e.view,onTransitionEnd:"prev"===e.type?e.done:i.e},t(e.state)))},dCuA:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("ERkP"),r=n("vOOZ"),i=n("LNSM"),o=n("lrqh"),s=n("hoSD"),l=n("PrA7"),c=n("GGUR"),u=n("zR/0"),d=n("gy42"),p=n("NW9S");class m extends a.Component{constructor(){super(...arguments),this._log=l.Monitoring.Logging.getLogger("CardsListConnectorView",l.Logging.LogLevel.DEBUG),this._subs=new c.a.Keeper}componentDidMount(){!0===this.props.isMaster&&this._setMaster()}componentDidUpdate(e){const t=this.props.name;this._log.debug("lensview did update",{wasMaster:e.isMaster,nowMaster:this.props.isMaster,name:t}),!0===this.props.isMaster?!1===e.isMaster?(this._log.info("reuse released view",t),this.forceUpdate(()=>{this._setMaster(),this._log.trace("view force update complete",t)})):(this._log.trace("set master view",t),this._setMaster()):(this._log.trace("release master view",t),this._clearSubs())}componentWillUnmount(){this._clearSubs()}render(){const{className:e,children:t,height:n}=this.props;return a.createElement(r.a.div,{"data-purpose":"card-list-connector",style:n.pipe(u.a.map(e=>({height:e}))),className:e},t)}_setMaster(){this._setSubs()}_setSubs(){this._clearSubs(),this._subs.push(this.props.stateSyncListener.subscribe())}_clearSubs(){this._subs.dispose()}}!function(e){let t;!function(e){e.create=()=>i.a.create({scrollProvider:o.g.none,scrollConsumer:o.g.none,viewport:o.g.none,title:o.g.none})}(t=e.Elements||(e.Elements={})),e.boundedScrollListener=(e,t)=>u.a.mergeStatic(u.a.defer(()=>{e.paddingTop.set(0)}),t.view("viewport").pipe(u.a.switchMap(o.g.fold(()=>u.a.EMPTY,e=>d.a.getResizeObservable(e).pipe(u.a.map(t=>Object.assign(Object.assign({},t),{top:e.offsetTop,height:e.offsetHeight}))))),u.a.tap(t=>e.viewport.set({top:p.b.FromWindowTop.ISO.wrap(t.top),height:t.height}))),t.view("scrollProvider").pipe(u.a.switchMap(o.g.fold(()=>u.a.EMPTY,t=>u.a.fromEvent(t,"scroll").pipe(u.a.map(()=>t.scrollTop),u.a.startWith(t.scrollTop),u.a.tap(t=>e.scrollTop.set(t)),u.a.mapTo(d.b.voidValue))))),t.view("title").pipe(u.a.switchMap(o.g.fold(()=>u.a.of(s.c.Rect.empty),e=>d.a.getResizeObservable(e))),u.a.map(e=>e.height),u.a.shareReplay({bufferSize:1,refCount:!0}),u.a.tap(t=>e.paddingTop.set(t))),t.view("scrollConsumer").pipe(u.a.switchMap(o.g.fold(()=>u.a.EMPTY,t=>e.scrollOffset.pipe(u.a.tap(e=>{t.scrollTop+=e})))))).pipe(u.a.mapTo(void 0)),e.superScrollListener=(e,t)=>{const n=t.view("title").pipe(u.a.switchMap(o.g.fold(()=>u.a.of(s.c.Rect.empty),e=>d.a.getResizeObservable(e))),u.a.map(e=>e.height),u.a.shareReplay({bufferSize:1,refCount:!0}));return u.a.mergeStatic(u.a.defer(()=>{e.paddingTop.set(0)}),t.view("viewport").pipe(u.a.switchMap(o.g.fold(()=>u.a.EMPTY,e=>d.a.getResizeObservable(e).pipe(u.a.map(t=>Object.assign(Object.assign({},t),{top:e.offsetTop,height:e.offsetHeight}))))),u.a.tap(t=>e.viewport.set({top:p.b.FromWindowTop.ISO.wrap(t.top),height:t.height}))),t.view("scrollProvider").pipe(u.a.switchMap(o.g.fold(()=>u.a.EMPTY,t=>u.a.fromEvent(t,"scroll").pipe(u.a.map(()=>t.scrollTop),u.a.startWith(t.scrollTop),u.a.tap(t=>e.scrollTop.set(t)),u.a.mapTo(d.b.voidValue))))),t.view("scrollConsumer").pipe(u.a.switchMap(o.g.fold(()=>u.a.EMPTY,t=>e.scrollOffset.pipe(u.a.scan((e,t)=>e-t,0),u.a.tap(e=>{t.style.transform=`translateY(${e}px)`})))),u.a.combineLatest(n),u.a.tap(([t,n])=>e.paddingTop.set(t+n)))).pipe(u.a.mapTo(void 0))}}(m||(m={}))},dS2Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a,r,i=n("OA+g"),o=n("I7vG"),s=n("LNSM"),l=n("zR/0"),c=n("kFFO"),u=n("W39u"),d=n("XxrX"),p=n("lrqh"),m=n("6fbX");!function(e){e.id="DraftAIItemId",e.Kind="DraftAIItem",e.eq=p.c.fromEquals((e,t)=>u.a.PositionState.eq.equals(e.positionState,t.positionState)&&e.visibilityState===t.visibilityState),e.isDraftAIItem=function(t){return t.id===e.id},e.changePosition=e=>t=>new h(e.visibilityState,t),e.clone=e=>new h(e.visibilityState,e.positionState),e.createCard=e=>()=>Object(o.pipe)(e,p.g.fold(()=>new h("visible",u.a.PositionState.changeWatched(u.a.PositionState.empty,!0)),e=>new h(e.visibilityState,e.positionState)))}(a||(a={}));class h{constructor(e,t){this.visibilityState=e,this.positionState=t,this.kind=a.Kind,this.id=a.id,this.renderOptions=d.a.defaultOptions}equals(e){return a.eq.equals(this,e)}hashCode(){return Object(c.a)({positionState:JSON.stringify(this.positionState),visibilityState:this.visibilityState})}}!function(e){let t;!function(e){let t,n;!function(e){e.draftAIMiniCardClick="draftAIMiniCardClick",e.draftAIMiniCardMount="draftAIMiniCardMount"}(t=e.Kind||(e.Kind={})),function(e){let t;!function(e){e.collapsed="collapsed",e.expanded="expanded"}(t=e.NextState||(e.NextState={}))}(n=e.ToggleNonPriorityCards||(e.ToggleNonPriorityCards={})),e.match=e=>n=>{switch(n.kind){case t.draftAIMiniCardMount:return e.onMount(n);case t.draftAIMiniCardClick:return e.onCardClick(n);default:return Object(m.c)(n)}},e.isMiniCardClick=function(t){return t.kind===e.Kind.draftAIMiniCardClick}}(t=e.Event||(e.Event={})),e.create=e=>{const a=new l.a.Subject,r=s.a.create({node:p.g.none,title:e});return a.subscribe(Object(i.flow)(t.match({onMount:n,onCardClick:()=>i.identity}),r.modify.bind(r))),{state:r,events:a}};const n=e=>t=>({node:e.node,title:t.title})}(r||(r={}))},dx6p:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ax6a"),r=n("e12y");const i=(e,t,n,i,o,s)=>Object.assign({position:"absolute",right:e,left:e,zIndex:t,display:"block",height:r.a.rem(2),borderRadius:o,backgroundColor:a.a.CoreNeutral0,boxShadow:i,content:"' '"},Boolean(s)&&"bottom"!==s?{top:n}:{bottom:n})},e9jP:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var a=n("ERkP"),r=n("nxFc"),i=n("b+P9"),o=n("OA+g"),s=n("IqZr"),l=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const c=e=>{var{placement:t,onMount:n,onMaxSizeChange:c,children:u}=e,d=l(e,["placement","onMount","onMaxSizeChange","children"]);const[p,m]=a.useState(null),h="initial"===t.kind?t:void 0,g=Object(s.b)(c),f=Object(s.a)(),{styles:b}=Object(r.a)(null==h?void 0:h.referenceElement,p,{placement:null==h?void 0:h.placement,modifiers:[g,{name:"preventOverflow",options:{padding:5,mainAxis:!0,altAxis:!0,tether:!1}},f,...Object(o.pipe)((null==h?void 0:h.offset)||i.none,i.fold(()=>[],e=>[{name:"offset",options:{offset:e}}]))]});return a.createElement("div",Object.assign({ref:e=>{m(e),e&&e!==p&&n(e)},style:"initial"===t.kind?b.popper:{position:"fixed",top:t.referencePosition.top,left:t.referencePosition.left,bottom:t.referencePosition.bottom,right:t.referencePosition.right,transform:`translate(${t.translation.x}px, ${t.translation.y}px)`},tabIndex:0},d),u)};var u=n("LNSM");const d=a.createContext({portalContainer:u.a.create(i.none)})},eLeT:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n("iVSA"),r=n("e12y"),i=n("ax6a"),o=n("ps/9"),s=n("qZUR"),l=n("dx6p");const c=`0 ${r.a.rem(.25)} ${r.a.rem(1.625)} 0 rgba(198, 203, 222, .25)`,u={marginRight:r.a.rem(1),flexShrink:0,maxWidth:r.a.percent(100)},d={padding:"0 "+r.a.rem(1)},p={padding:`0 ${r.a.rem(1.9)} 0 ${r.a.rem(1)}`},m={position:"absolute",top:r.a.rem(.27),right:r.a.rem(.5)},h={display:"grid",width:r.a.percent(100),gridTemplateColumns:"fit-content(60%) auto min-content",columnGap:r.a.rem(.5),alignItems:"center"},g={minWidth:r.a.rem(7)},f={marginLeft:r.a.rem(.5)},b={color:i.a.CoreNeutral90,whiteSpace:"nowrap",fontWeight:300,lineHeight:r.a.rem(1.5)},y={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontStyle:"italic",paddingRight:r.a.rem(a.g.Space1)},v={$nest:{"&:before":Object(l.a)(r.a.rem(.5),-10,r.a.rem(-.5),c,r.a.rem(o.s)),"&:after":Object(l.a)(r.a.rem(1),-20,r.a.rem(-1),c,r.a.rem(o.s))}},S={boxShadow:s.b.llamaShadowToken,borderRadius:r.a.rem(r.d.radius1)},C={transition:"opacity .2s"},w=r.a.prefixedStylesheet("super",{updateAllBtnCommon:[u],updateAllBtn:[u,d],updateAllBtnLoading:[u,p],updateBtnSpinner:[m],optionsContainer:[h],optionLabel:[g],optionRadio:[f],optionSecondaryAttribute:[b],optionExample:[b,y],superWrapper:[v],sduiSuperWrapper:[S],loadingWrapper:[C],loadingWrapperInvisible:[C,{opacity:0,pointerEvents:"none"}]})},ePa0:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("ERkP"),r=n("OA+g"),i=n("lrqh"),o=n("hoSD"),s=n("ax6a"),l=n("17O8"),c=n("e12y"),u=n("PnD2"),d=n("UVty");const p=()=>a.createElement(d.a,null,Object(r.flow)(i.g.map(e=>a.createElement(l.a.ByAbsoluteRect,Object.assign({rect:o.c.Rect.fromEl(e.target),className:g.container},l.a.Alignment.toSelector(e.alignment),{withPin:!0}),a.createElement("div",{className:g.content},e.content))),i.g.toNullable)),m={position:"fixed",zIndex:u.level5,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},h={padding:`${c.a.rem(.25)} ${c.a.rem(1)}`,borderRadius:c.a.rem(u.radius2),background:s.a.BackgroundTooltip,color:s.a.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:c.a.px(.25),fontSize:c.a.rem(.75),lineHeight:c.a.rem(1)},g=c.a.stylesheet({container:[m],content:[h]})},eZux:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("LNSM"),i=n("prnJ"),o=n("lrqh"),s=n("aIes"),l=n("gy42");!function(e){e.create=function(e,t,n,a){const c=s.b.O.unwrap(t.style),u=s.b.O.unwrap(t.audience),d=s.b.O.unwrap(i.a.OutcomeContext.defaultAcademic),p=s.b.O.unwrap(t.domain),m=r.a.create(e),h=m.lens("style").lens(c),g=m.lens("domain").lens(p),f=m.lens("outcomeContext").lens(d).lens("type"),b=m.lens("outcomeContext").lens(d).lens("citation"),y=n.isStudentsOFE?g.view(e=>"academic"!==e):r.a.create(!0),v=l.b.invert(y),S={audience:{items:i.a.audiences,current:m.lens("audience").lens(u),default:o.g.some(t.audience),isVisible:y},formality:{items:i.a.formalityLevels,current:h,default:o.g.some(t.style),isVisible:y,shouldDisable:e=>g.view(t=>!i.a.isStyleValidWithDomain(t,e))},domain:{items:i.a.domains,current:g,default:o.g.some(t.domain),isVisible:r.a.create(!0),shouldDisable:e=>h.view(t=>n.isFree?"general"!==e:!i.a.isStyleValidWithDomain(e,t))},intent:{items:i.a.goals.filter(e=>"sell"!==e),isVisible:y,current:m.lens("goals")},type:{items:i.a.academicTypes,default:o.g.some("essay"),isVisible:v,current:f},format:{items:i.a.citation,default:o.g.some("apa"),isVisible:v,current:b}};return{localContext:m,blocks:S,showSetGoalsLoader:r.a.create(!n.demoMode&&a)}}}(a||(a={}))},eihE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("07Tf"),o=n("BwCH");!function(e){e.Context=r.createContext(i.a.invariantContent("CopyToClipboard")),e.ContextMock=({children:t})=>r.createElement(e.Context.Provider,{value:e=>o.a.copy(e,!1),children:t})}(a||(a={}))},en1W:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var a=n("ERkP"),r=n("wfm3"),i=n("k+B8");class o extends Set{constructor(e,t,n){super(e),e instanceof o?(this.anchorKey=t||e.anchorKey,this.currentKey=n||e.currentKey):(this.anchorKey=t,this.currentKey=n)}}function s(e){let{selectionMode:t="none",disallowEmptySelection:n,allowDuplicateSelectionEvents:i,selectionBehavior:s="toggle",disabledBehavior:c="all"}=e,u=(0,a.useRef)(!1),[,d]=(0,a.useState)(!1),p=(0,a.useRef)(null),m=(0,a.useRef)(null),[,h]=(0,a.useState)(null),g=(0,a.useMemo)(()=>l(e.selectedKeys),[e.selectedKeys]),f=(0,a.useMemo)(()=>l(e.defaultSelectedKeys,new o),[e.defaultSelectedKeys]),[b,y]=(0,r.b)(g,f,e.onSelectionChange),v=(0,a.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),[S,C]=(0,a.useState)(s);"replace"===s&&"toggle"===S&&"object"==typeof b&&0===b.size&&C("replace");let w=(0,a.useRef)(s);return(0,a.useEffect)(()=>{s!==w.current&&(C(s),w.current=s)},[s]),{selectionMode:t,disallowEmptySelection:n,selectionBehavior:S,setSelectionBehavior:C,get isFocused(){return u.current},setFocused(e){u.current=e,d(e)},get focusedKey(){return p.current},get childFocusStrategy(){return m.current},setFocusedKey(e,t="first"){p.current=e,m.current=t,h(e)},selectedKeys:b,setSelectedKeys(e){!i&&function(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}(e,b)||y(e)},disabledKeys:v,disabledBehavior:c}}function l(e,t){return e?"all"===e?"all":new o(e):t}class c{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(null==e||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return"all"===this.state.selectedKeys?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){return"none"!==this.state.selectionMode&&(e=this.getKey(e),"all"===this.state.selectedKeys?this.canSelectItem(e):this.state.selectedKeys.has(e))}get isEmpty(){return"all"!==this.state.selectedKeys&&0===this.state.selectedKeys.size}get isSelectAll(){if(this.isEmpty)return!1;if("all"===this.state.selectedKeys)return!0;if(null!=this._isSelectAll)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(e=>t.has(e)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&(0,i.c)(this.collection,n,e)<0)&&(e=n)}return null==e?void 0:e.key}get lastSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&(0,i.c)(this.collection,n,e)>0)&&(e=n)}return null==e?void 0:e.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode)return void this.replaceSelection(e);let t;if(e=this.getKey(e),"all"===this.state.selectedKeys)t=new o([e],e,e);else{let n=this.state.selectedKeys,a=n.anchorKey||e;t=new o(n,a,e);for(let r of this.getKeyRange(a,n.currentKey||e))t.delete(r);for(let n of this.getKeyRange(e,a))this.canSelectItem(n)&&t.add(n)}this.state.setSelectedKeys(t)}getKeyRange(e,t){let n=this.collection.getItem(e),a=this.collection.getItem(t);return n&&a?(0,i.c)(this.collection,n,a)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){let n=[],a=e;for(;a;){let e=this.collection.getItem(a);if((e&&"item"===e.type||"cell"===e.type&&this.allowsCellSelection)&&n.push(a),a===t)return n;a=this.collection.getKeyAfter(a)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t)return e;if("cell"===t.type&&this.allowsCellSelection)return e;for(;"item"!==t.type&&null!=t.parentKey;)t=this.collection.getItem(t.parentKey);return t&&"item"===t.type?t.key:null}toggleSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode&&!this.isSelected(e))return void this.replaceSelection(e);if(null==(e=this.getKey(e)))return;let t=new o("all"===this.state.selectedKeys?this.getSelectAllKeys():this.state.selectedKeys);t.has(e)?t.delete(e):this.canSelectItem(e)&&(t.add(e),t.anchorKey=e,t.currentKey=e),this.disallowEmptySelection&&0===t.size||this.state.setSelectedKeys(t)}replaceSelection(e){if("none"===this.selectionMode)return;if(null==(e=this.getKey(e)))return;let t=this.canSelectItem(e)?new o([e],e,e):new o;this.state.setSelectedKeys(t)}setSelectedKeys(e){if("none"===this.selectionMode)return;let t=new o;for(let n of e)if(n=this.getKey(n),null!=n&&(t.add(n),"single"===this.selectionMode))break;this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=n=>{for(;n;){if(this.canSelectItem(n)){let a=this.collection.getItem(n);"item"===a.type&&e.push(n),a.hasChildNodes&&(this.allowsCellSelection||"item"!==a.type)&&t((0,i.e)((0,i.d)(a,this.collection)).key)}n=this.collection.getKeyAfter(n)}};return t(this.collection.getFirstKey()),e}selectAll(){this.isSelectAll||"multiple"!==this.selectionMode||this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&("all"===this.state.selectedKeys||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new o)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){"none"!==this.selectionMode&&("single"===this.selectionMode?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):"toggle"===this.selectionBehavior||t&&("touch"===t.pointerType||"virtual"===t.pointerType)?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;for(let n of t)if(!e.has(n))return!1;return!0}canSelectItem(e){if("none"===this.state.selectionMode||this.state.disabledKeys.has(e))return!1;let t=this.collection.getItem(e);return!(!t||"cell"===t.type&&!this.allowsCellSelection)}isDisabled(e){return this.state.disabledKeys.has(e)&&"all"===this.state.disabledBehavior}constructor(e,t,n){var a;this.collection=e,this.state=t,this.allowsCellSelection=null!==(a=null==n?void 0:n.allowsCellSelection)&&void 0!==a&&a,this._isSelectAll=null}}},es5d:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n("ax6a"),r=n("e12y"),i=n("ps/9");const o={$nest:{"&:before":{position:"absolute",width:r.a.px(10),height:r.a.px(10),borderRadius:r.a.percent(50),content:"''",transform:"scale(.5)"}}},s={opacity:1,transition:"opacity .3s"},l={color:a.a.CoreNeutral50,textTransform:"uppercase",letterSpacing:a.h.SubheadingLetterSpacing,fontSize:r.a.rem(a.h.SubheadingSize),lineHeight:r.a.rem(a.h.SubheadingLineHeight),$nest:{"&:not(:last-child)":{marginRight:r.a.rem(.25)}}},c={position:"relative",display:"inline-block",$nest:{"&:before":{top:0,bottom:r.a.px(2),left:r.a.rem(-1.1),margin:"auto 0"}}},u={$nest:{"&:before":{top:0,bottom:0,left:r.a.rem(-1.1),margin:r.a.rem(.25)+" 0 auto 0"}}},d={margin:`0 ${r.a.rem(.4)} 0 ${r.a.rem(.2)}`,width:r.a.rem(.85),height:r.a.rem(.85),objectFit:"contain"},p={position:"absolute",top:0,bottom:0,left:r.a.rem(-1),margin:"auto",transform:"translateX(-50%)"},m={minWidth:"initial",minHeight:"initial",padding:`${r.a.rem(.3)} ${r.a.rem(.25)}`,cursor:"pointer",borderRadius:r.a.percent(100),marginLeft:r.a.rem(.5),$nest:{"&:hover":{background:a.a.CoreNeutral10}}},h={display:"flex",alignItems:"center",padding:"0 "+r.a.rem(.25),borderRadius:r.a.rem(i.t),cursor:"pointer",background:a.a.CoreYellow20,color:a.a.CoreYellow80,marginLeft:r.a.rem(.5),$nest:{"&:hover":{background:a.a.CoreYellow10}}},g={minWidth:"initial",minHeight:"initial",fill:a.a.CoreYellow80,marginLeft:r.a.rem(.3)},f={display:"flex",alignItems:"flex-start",top:r.a.rem(.125),minWidth:"initial",minHeight:"initial",background:a.a.CoreNeutral0},b={color:a.a.CoreNeutral90,textTransform:"none",letterSpacing:a.h.SmallLetterSpacing,fontWeight:a.h.SmallWeight,fontSize:r.a.rem(a.h.SmallSize),lineHeight:r.a.rem(a.h.SmallLineHeight),$nest:{"&:first-letter":{textTransform:"uppercase"}}},y={color:a.a.CoreNeutral50,textTransform:"none"},v={width:r.a.rem(1),height:r.a.rem(1)},S={display:"inline-flex",padding:"0 "+r.a.rem(.25),borderRadius:r.a.rem(i.t),background:"linear-gradient(269.73deg, rgba(215, 248, 240, .8) .02%, rgba(202, 235, 250, .8) 99.98%)",textTransform:"uppercase"},C={display:"inline-flex",marginLeft:r.a.rem(.1),minWidth:0,minHeight:0},w=r.a.stylesheet({lessIcon:[{transform:"rotate(180deg)"}],more:[s],moreHidden:[s,{position:"absolute",overflow:"hidden",height:0,opacity:0,transition:"none"}],commonLabel:[l],labelContainer:[{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"start"}],lens:[l,c],lensMinimal:[u],voxLogo:[d],cardLogo:[p],dualItemLabel:[{display:"inline-flex",alignItems:"center"}],premiumPersistentTooltipIcon:[m],newPremiumLabel:[h],newPremiumLabelIcon:[g],takeawayIcon:[f],minimalTitle:[b],voxTitle:[{display:"flex",alignItems:"center"}],toneTitle:[y],toneLogo:[p,v],fluencyLabel:[l,S],fluencyInfo:[C],dot:[o],ethicalAILabel:[{textTransform:"none"}]})},ev6t:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("e12y"),r=n("SGQG"),i=n("ax6a");const o=a.a.rem(1),s={paddingLeft:a.a.rem(2),paddingRight:o},l={$nest:{["& ."+r.a.header]:{marginBottom:a.a.important(0),marginTop:a.a.rem(.25)}}},c=a.a.prefixedStylesheet("draft_ai_card",{onboardingNotification:[l],blue:[{background:i.a.CoreNeutral10}],titleIcon:[{display:"block",position:"absolute",left:a.a.rem(-1.625),top:a.a.rem(.375),width:a.a.rem(1.25),height:a.a.rem(1.25)}],cardWrapper:[{background:i.a.CoreNeutral0,borderRadius:a.a.rem(.5),paddingBottom:a.a.rem(.5)},s],cardHeader:[{position:"relative",paddingTop:a.a.rem(.5),paddingBottom:a.a.rem(.5),paddingLeft:a.a.rem(2),paddingRight:a.a.rem(.5)},s],cardHeaderSpan:[{lineHeight:a.a.rem(2)}],cardSectionsRow:[{position:"relative"}],cardActionsRow:[{display:"flex",height:a.a.rem(2.5),marginTop:a.a.rem(.25),marginBottom:a.a.rem(.5)}],cardActionsSeparator:[{flex:1}],cornerButton:[{position:"absolute",top:a.a.rem(.5),right:o}]})},f3nf:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("a5W6"),i=n("OA+g"),o=n("I7vG"),s=n("94k3"),l=n("lrqh"),c=n("6fbX"),u=n("wOnQ");function d(e,{text:t,ops:n}){n.reduce((t,n,a)=>s.a.AlternativeOperation.isInsertString(n)?(e.insertString(n.insert,n,a),t):s.a.AlternativeOperation.isInsertGap(n)?(e.insertGap("",n,a),t):s.a.AlternativeOperation.isInsert(n)?t:s.a.AlternativeOperation.isDelete(n)?(e.remove(t.slice(0,n.delete),n,a),t.slice(n.delete)):s.a.AlternativeOperation.isRetain(n)?(e.retain(t.slice(0,n.retain),n,a),t.slice(n.retain)):Object(c.c)(n),t)}function p(e){return 0===e.replace(/ /g,"").length}function m(e,t){Object(o.pipe)(e,r.last,l.g.fold(()=>{p(t.text)||e.push(t)},n=>{n.type===t.type?n.text+=t.text:e.push(t)}))}function h(e){return!0===e.italic?!0===e.bold?"boldItalic":"italic":!0===e.bold?"bold":void 0}function g(e,t){return Object(o.pipe)(l.b.tryCatchError(()=>Object(o.pipe)(e,l.f.map(n=>{const a=[];return d({insertString(t,{type:n}){if(n===s.a.AlternativeOperation.Type.Main)throw new j("Remove transform contains main insert",e)},insertGap(){throw new j("Remove transform contains gap insert",e)},retain(e,{type:t,attributes:n}){s.a.AlternativeOperation.isOptionalType(t)||m(a,{type:u.k.Text,text:e,style:h(n)})},remove(e,{type:n}){m(a,{type:n!==s.a.AlternativeOperation.Type.Main||p(e)&&t?u.k.Text:u.k.Delete,text:e})}},n),a}),r.flatten)),l.b.chain(Object(i.flow)(l.b.fromPredicate(e=>e.length>0,()=>new j("Remove transform contains no data",e)),l.b.map(e=>({type:a.Type.Remove,remove:e})))))}function f(e,t){return Object(o.pipe)(l.b.tryCatchError(()=>Object(o.pipe)(e,l.f.map(n=>{const a=[];return d({insertString(t,{type:n}){if(n===s.a.AlternativeOperation.Type.Main)throw new j("Multi-remove transform contains main insert",e)},insertGap(){throw new j("Multi-remove transform contains gap insert",e)},retain(e,{type:t,attributes:n}){s.a.AlternativeOperation.isOptionalType(t)||m(a,{type:u.k.Text,text:e,style:h(n)})},remove(e,{type:n}){m(a,{type:n!==s.a.AlternativeOperation.Type.Main||p(e)&&t?u.k.Text:u.k.Delete,text:e})}},n),a}))),l.b.chain(Object(i.flow)(l.b.fromPredicate(e=>e.length>=2&&e.every(e=>e.length>=2),()=>new j("Incomplete multi-remove",e)),l.b.map(e=>({type:a.Type.RemoveOr,removes:e})))))}function b(e){return Object(o.pipe)(l.b.tryCatchError(()=>Object(o.pipe)(e,l.f.map(t=>{const n=[];return d({insertString(e,{type:t}){m(n,{type:s.a.AlternativeOperation.isOptionalType(t)?u.k.Text:u.k.Insert,text:e})},insertGap(){throw new j("Insert transform contains gap insert",e)},retain(e,{type:t,attributes:a}){(!s.a.AlternativeOperation.isOptionalType(t)||n.length>0)&&m(n,{type:u.k.Text,text:e,style:h(a)})},remove(t,{type:n}){if(n===s.a.AlternativeOperation.Type.Main)throw new j("Insert transform contains main delete",e)}},t),n}))),l.b.chain(Object(i.flow)(l.f.fromArray,l.b.fromOption(()=>new j("Incomplete insert",e)),l.b.map(e=>({type:a.Type.Insert,inserts:e})))))}function y(e){const{substitutions:t,longestSubstitution:n,inserts:i}=e.reduce((e,[t,n])=>{const a=t.map(e=>e.text).join("");return e.substitutions.push(a),e.inserts.push(n),a.length>e.longestSubstitution.length&&(e.longestSubstitution=a),e},{substitutions:[],inserts:[],longestSubstitution:""}),s=Object(o.pipe)(t,l.f.map(e=>n.split(e).join("")));return Object(o.pipe)(r.zipWith(i,s,(e,t)=>(t&&e.push({type:u.k.Text,text:t}),e)),l.f.fromArray,l.b.fromOption(()=>new Error("Substitution processing error")),l.b.map(e=>({type:a.Type.Substitution,remove:[{type:u.k.Delete,text:n}],inserts:e})))}function v(e,t){return Object(o.pipe)(S(e),l.b.chain(n=>Object(o.pipe)(l.b.tryCatchError(()=>{Object(c.f)(t.length>0,"Drilldown transform - empty drilldown tree");return{inserts:Object(o.pipe)(t,l.f.map((function e([t,a]){return Object(c.f)(void 0!==n.inserts[t],"Drilldown transform - alternative insert not found"),{alternativeId:t,label:n.inserts[t],subLabels:a.map(e)}}))),remove:n.remove,type:a.Type.Drilldown}}),l.b.mapLeft(j.fromError(e)))))}function S(e){return Object(o.pipe)(l.b.tryCatchError(()=>Object(o.pipe)(e,l.f.map(t=>{const n=[[],[]];return d({insertString(e){m(n[1],{type:u.k.Insert,text:"\n"===e?"¶ ":e})},insertGap(){throw new j("Substitution transform contains gap insert",e)},remove(e){m(n[0],{type:u.k.Delete,text:e})},retain(e,{type:t,attributes:a}){if(!s.a.AlternativeOperation.isOptionalType(t)||0!==n[0].length){const t={type:u.k.Text,text:e,style:h(a)};n[0].push(t),n[1].push(t)}}},t),Object(c.f)(n[0].length>0,"Substituted part is empty"),Object(c.f)(n[1].length>0,"Inserts are empty"),n}))),l.b.chain(y),l.b.mapLeft(j.fromError(e)))}function C(e){if(!("list"in e))return l.g.none;switch(e.list){case"bullet":case"dashed":case"ordered":return l.g.some({kind:e.list,indent:"number"==typeof e.indent&&Number.isInteger(e.indent)?e.indent:0});default:return l.g.none}}function w(e){return Object(o.pipe)(e,l.b.fromPredicate(e=>1===e.length,()=>new j("Expected citation transform to have 1 alternative",e)),l.b.map(l.f.head),l.b.chain(l.b.fromPredicate(e=>e.isCitation,()=>new j("Expected citation to have isCitation set to true",e))),l.b.chain(I),l.b.map(e=>({ops:e,type:a.Type.Citation})))}function k(e){return Object(o.pipe)(e,l.b.fromPredicate(e=>1===e.length,()=>new j("Expected full-sentence transform to have 1 alternative",e)),l.b.map(Object(i.flow)(l.f.head,t=>{let n={blockStart:0,ops:[],kind:u.f.PlainText};return d({insertString(e,t){const a=e.split("\n");if(1===a.length)n.ops.push({type:u.k.Insert,text:e,shouldBeCollapsed:!1});else{const e=Object(o.pipe)(t.attributes,C,l.g.fold(()=>i.constVoid,({kind:e,indent:t})=>()=>{n.ops.splice(n.blockStart,1,{type:u.k.List,kind:e,indent:t}),n={kind:u.f.WithFormatting,ops:n.ops,blockStart:n.blockStart}}));for(let t=0,r=a.length-1;t<=r;t++){const i=a[t];i&&n.ops.push({type:u.k.Insert,text:i}),t<r&&(e(),n.blockStart=n.ops.length,n.ops.push({type:u.k.Insert,text:"\n"}))}}},insertGap(){throw new j("Full sentence transform contains gap insert",e)},retain(e,t){n.ops.push({type:u.k.Text,text:e,shouldBeCollapsed:E(t.type,e)})},remove(e,t){n.ops.push({type:u.k.Delete,text:e,shouldBeCollapsed:E(t.type,e)})}},t),n})),l.b.chain(Object(i.flow)(l.g.fromPredicate(e=>e.ops.length>0),l.b.fromOption(()=>new j("Got empty full sentence transform",e)),l.b.map(({ops:e,kind:t})=>({type:a.Type.FullSentence,ops:e,kind:t})))))}!function(e){let t;!function(e){e[e.Remove=0]="Remove",e[e.RemoveOr=1]="RemoveOr",e[e.Insert=2]="Insert",e[e.Substitution=3]="Substitution",e[e.Drilldown=4]="Drilldown",e[e.FullSentence=5]="FullSentence",e[e.OneGap=6]="OneGap",e[e.ShortenIt=7]="ShortenIt",e[e.ToneAI=8]="ToneAI",e[e.Citation=9]="Citation"}(t=e.Type||(e.Type={})),function(e){e.parse=function(t,n){const a=t[0];if(a.isFullSentence)return e.FullSentence;if(l.g.isSome(n.drilldown))return e.Drilldown;if(a.isCitation)return e.Citation;if(a.isShortenIt)return e.ShortenIt;if(a.isToneAI)return e.ToneAI;switch(a.type){case s.a.Alternative.Type.Insert:return e.Insert;case s.a.Alternative.Type.Remove:return t.length>1?e.RemoveOr:e.Remove;case s.a.Alternative.Type.Substitution:return a.ops.find(s.a.AlternativeOperation.isInsertGap)?e.OneGap:e.Substitution;default:return Object(c.c)(a.type)}}}(t=e.Type||(e.Type={})),e.create=function(t){return n=>{const a=e.Type.parse(n,t);switch(a){case e.Type.Remove:return g(n,t.ignoreWhitespaceRemoves);case e.Type.RemoveOr:return f(n,t.ignoreWhitespaceRemoves);case e.Type.Insert:return b(n);case e.Type.Substitution:return S(n);case e.Type.Drilldown:return v(n,Object(o.pipe)(t.drilldown,l.g.getOrElse(()=>s.a.Drilldown.empty)));case e.Type.FullSentence:return k(n);case e.Type.OneGap:return O(n);case e.Type.ShortenIt:return A(n);case e.Type.ToneAI:return _(n);case e.Type.Citation:return w(n);default:return Object(c.c)(a)}}}}(a||(a={}));const E=(e,t)=>e===s.a.AlternativeOperation.Type.Optional&&t.length>3;function O(e){return Object(o.pipe)(l.b.tryCatchError(()=>(Object(c.f)(1===e.length,"One gap transform does not contain exactly one alternative"),Object(o.pipe)(e,l.f.head,e=>{const t=[],n=[];let a=!1;return d({insertString(e,{type:r}){m(a?n:t,{type:s.a.AlternativeOperation.isOptionalType(r)?u.k.Text:u.k.Insert,text:e})},insertGap(){Object(c.f)(!a,"One gap transform does not contain exactly one gap insert"),a=!0},retain(e,{type:r}){const i=a?n:t;(!s.a.AlternativeOperation.isOptionalType(r)||i.length>0)&&m(i,{type:u.k.Text,text:e})},remove:i.constVoid},e),Object(c.f)(a,"One gap transform does not contain exactly one gap insert"),Object(c.f)(t.length>0||n.length>0,"One gap transform does not contain at least one text insert"),{left:t,right:n}}))),l.b.bimap(j.fromError(e),({left:e,right:t})=>({type:a.Type.OneGap,left:e,right:t})))}function A(e){return Object(o.pipe)(e,l.b.fromPredicate(e=>1===e.length,()=>new j("Expected shorten-it transform to have 1 alternative",e)),l.b.chain(l.f.traverse(l.b.either)(x)),l.b.map(l.f.head),l.b.map(e=>({type:a.Type.ShortenIt,ops:e})))}function _(e){return Object(o.pipe)(l.b.tryCatchError(()=>Object(o.pipe)(e,l.f.map(t=>{const n=[];return d({insertString(e){m(n,{type:u.k.Insert,text:e})},insertGap(){throw new j("ToneAI transform should not include gap insert",e)},retain(e){m(n,{type:u.k.Text,text:e})},remove(e){m(n,{type:u.k.Delete,text:e})}},t),n}))),l.b.chain(Object(i.flow)(l.f.fromArray,l.b.fromOption(()=>new j("Incomplete ToneAI transform",e)),l.b.map(e=>({type:a.Type.ToneAI,transformParts:e})))))}function x(e){const t=[];return d({insertString(e,{group:n}){t.push({type:u.k.Insert,text:e,group:n})},insertGap(){throw new j("ShortenIt transform contains gap insert",[e])},retain(e,{group:n}){t.push({type:u.k.Text,text:e,group:n})},remove(e,{group:n}){t.push({type:u.k.Delete,text:e,shouldBeCollapsed:!0,group:n})}},e),Object(o.pipe)(t,l.b.fromPredicate(e=>e.length>0,()=>new j("Got empty ShortenIt transform",[e])))}function I(e){const t=[];return d({insertString(e){t.push({type:u.k.Insert,text:e})},insertGap(){throw new j("Citation transform contains gap insert",[e])},retain(e,{attributes:n}){t.push({type:u.k.Text,text:e,style:h(n)})},remove(e){t.push({type:u.k.Delete,text:e})}},e),Object(o.pipe)(t,l.b.fromPredicate(e=>e.length>0,()=>new j("Got empty Citation transform",[e])))}class j extends c.a{constructor(e,t){super(e),this.alternatives=t}static fromError(e){return t=>{const n=new j(t.message,e);return n.stack=t.stack,n}}toString(){return`Hydration error: ${this.message}\n  ops: ${this.alternatives.map(e=>e.ops.map(s.a.AlternativeOperation.anonymize))}`}}},f9Xq:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return x}));var a={};n.r(a),n.d(a,"ActionNotifyUserAction",(function(){return i})),n.d(a,"ActionInteractPopoverInteraction",(function(){return o})),n.d(a,"ActionOpenGrammarlyGoEntryPoint",(function(){return s})),n.d(a,"AnimationName",(function(){return l})),n.d(a,"ButtonKind",(function(){return c})),n.d(a,"ButtonShape",(function(){return u})),n.d(a,"ButtonState",(function(){return d})),n.d(a,"Color",(function(){return p})),n.d(a,"ComponentKnownName",(function(){return m})),n.d(a,"ContentAssistantFeedOrderingDirection",(function(){return h})),n.d(a,"ContentAssistantFeedFilteringCondition",(function(){return g})),n.d(a,"ContentProgressBarState",(function(){return f})),n.d(a,"HorizontalAlign",(function(){return b})),n.d(a,"IconKnownName",(function(){return y})),n.d(a,"LensKind",(function(){return v})),n.d(a,"Position",(function(){return S})),n.d(a,"Radius",(function(){return C})),n.d(a,"Space",(function(){return w})),n.d(a,"TextFormat",(function(){return k})),n.d(a,"TextSize",(function(){return E})),n.d(a,"TimeCurve",(function(){return O})),n.d(a,"TooltipAlignment",(function(){return A})),n.d(a,"VerticalAlign",(function(){return _}));var r={};n.r(r),n.d(r,"interpreter",(function(){return j.a})),n.d(r,"Root",(function(){return T})),n.d(r,"Action",(function(){return M})),n.d(r,"ActionNotifyUserAction",(function(){return N})),n.d(r,"ActionNotify",(function(){return P})),n.d(r,"ActionOpenSettings",(function(){return L})),n.d(r,"ActionOpenLearnMore",(function(){return R})),n.d(r,"ActionOpenToneDetector",(function(){return B})),n.d(r,"ActionUpgradeToPremium",(function(){return F})),n.d(r,"ActionShowHighlights",(function(){return D})),n.d(r,"ActionHideHighlights",(function(){return H})),n.d(r,"ActionOpenFeedback",(function(){return V})),n.d(r,"ActionOpenCreateSnippetModal",(function(){return U})),n.d(r,"ActionCloseCard",(function(){return W})),n.d(r,"ActionNextCard",(function(){return q})),n.d(r,"ActionPrevCard",(function(){return z})),n.d(r,"ActionRemoveRoot",(function(){return $})),n.d(r,"ActionRemoveAlerts",(function(){return G})),n.d(r,"ActionApplyAlerts",(function(){return K})),n.d(r,"ActionSelectAlternative",(function(){return Y})),n.d(r,"ActionTransition",(function(){return Z})),n.d(r,"ActionOpenLink",(function(){return X})),n.d(r,"ActionCopyToClipboard",(function(){return Q})),n.d(r,"ActionNativeOpenAssistant",(function(){return J})),n.d(r,"ActionPushAssistantFeed",(function(){return ee})),n.d(r,"ActionPopAssistantFeed",(function(){return te})),n.d(r,"ActionFocusAssistantCard",(function(){return ne})),n.d(r,"ActionSwitchView",(function(){return ae})),n.d(r,"ActionNewRevision",(function(){return re})),n.d(r,"ActionHighlightAlert",(function(){return ie})),n.d(r,"ActionStopApplyingAlerts",(function(){return oe})),n.d(r,"ActionClosePopover",(function(){return se})),n.d(r,"ActionInteractPopoverInteraction",(function(){return le})),n.d(r,"ActionInteractPopover",(function(){return ce})),n.d(r,"ActionOpenGrammarlyGoEntryPoint",(function(){return ue})),n.d(r,"ActionOpenGrammarlyGo",(function(){return de})),n.d(r,"Actions",(function(){return pe})),n.d(r,"AnimationName",(function(){return me})),n.d(r,"Behavior",(function(){return he})),n.d(r,"BehaviorStrongAlertRef",(function(){return fe})),n.d(r,"BehaviorAnimationFadeIn",(function(){return be})),n.d(r,"BehaviorAnimationFadeOut",(function(){return ye})),n.d(r,"BehaviorPopoverAnchor",(function(){return ve})),n.d(r,"BehaviorLifecycle",(function(){return Ce})),n.d(r,"Behaviors",(function(){return we})),n.d(r,"BorderRadius",(function(){return ke})),n.d(r,"ButtonKind",(function(){return Ee})),n.d(r,"ButtonShape",(function(){return Oe})),n.d(r,"ButtonState",(function(){return Ae})),n.d(r,"Color",(function(){return _e})),n.d(r,"ComponentKnownName",(function(){return xe})),n.d(r,"ComponentMeta",(function(){return Ie})),n.d(r,"ComponentName",(function(){return je})),n.d(r,"ComponentNameUnknown",(function(){return Te})),n.d(r,"ComponentNameKnown",(function(){return Me})),n.d(r,"Content",(function(){return Ne})),n.d(r,"ContentText",(function(){return Le})),n.d(r,"ContentAssistantFeedOrderingDirection",(function(){return Re})),n.d(r,"ContentAssistantFeedOrdering",(function(){return Be})),n.d(r,"ContentAssistantFeedFilteringCondition",(function(){return Fe})),n.d(r,"ContentAssistantFeedFiltering",(function(){return De})),n.d(r,"ContentAssistantFeed",(function(){return He})),n.d(r,"ContentAssistantCard",(function(){return Ue})),n.d(r,"ContentPopoverStack",(function(){return qe})),n.d(r,"ContentInlineCard",(function(){return $e})),n.d(r,"ContentGButtonDefault",(function(){return Ke})),n.d(r,"ContentGButtonTone",(function(){return Ye})),n.d(r,"ContentGButtonProofit",(function(){return Ze})),n.d(r,"ContentGButtonGetStarted",(function(){return Xe})),n.d(r,"ContentGButton",(function(){return Qe})),n.d(r,"ContentProofitButton",(function(){return Je})),n.d(r,"ContentLensesSwitchPanelLensSwitchButton",(function(){return et})),n.d(r,"ContentLensesSwitchPanel",(function(){return tt})),n.d(r,"ContentStrongAlertRef",(function(){return nt})),n.d(r,"ContentColumn",(function(){return rt})),n.d(r,"ContentRow",(function(){return ot})),n.d(r,"ContentBlockInnerSpacing",(function(){return lt})),n.d(r,"ContentBlock",(function(){return ct})),n.d(r,"ContentBox",(function(){return dt})),n.d(r,"ContentScroll",(function(){return mt})),n.d(r,"ContentListItemSecondaryButtonLabel",(function(){return gt})),n.d(r,"ContentListItemSecondaryButtonLabelText",(function(){return ft})),n.d(r,"ContentListItemSecondaryButtonLabelIcon",(function(){return bt})),n.d(r,"ContentListItemSecondaryButton",(function(){return yt})),n.d(r,"ContentListItem",(function(){return vt})),n.d(r,"ContentList",(function(){return Ct})),n.d(r,"ContentDropDownMenuButton",(function(){return kt})),n.d(r,"ContentIconSource",(function(){return Et})),n.d(r,"ContentIconSourceKnown",(function(){return Ot})),n.d(r,"ContentIconSourceUrl",(function(){return At})),n.d(r,"ContentIcon",(function(){return _t})),n.d(r,"ContentImage",(function(){return xt})),n.d(r,"ContentButton",(function(){return It})),n.d(r,"ContentTooltip",(function(){return Tt})),n.d(r,"ContentClickableText",(function(){return Nt})),n.d(r,"ContentCount",(function(){return Pt})),n.d(r,"ContentAlertsCount",(function(){return Lt})),n.d(r,"ContentAlternativeChoiceAlterna",(function(){return Rt})),n.d(r,"ContentAlternativeChoice",(function(){return Ft})),n.d(r,"ContentSliderChoiceIcon",(function(){return Ht})),n.d(r,"ContentSliderChoiceIconIconSource",(function(){return Vt})),n.d(r,"ContentSliderChoiceIconIcon",(function(){return Ut})),n.d(r,"ContentSliderChoice",(function(){return Wt})),n.d(r,"ContentSlider",(function(){return qt})),n.d(r,"ContentAlternativeSliderChoiceIcon",(function(){return zt})),n.d(r,"ContentAlternativeSliderChoice",(function(){return $t})),n.d(r,"ContentAlternativeSlider",(function(){return Kt})),n.d(r,"ContentNativeSkillsModal",(function(){return Zt})),n.d(r,"ContentNativeSkillsList",(function(){return Xt})),n.d(r,"ContentNativeSkillsView",(function(){return Qt})),n.d(r,"ContentNativeToneInsightsModal",(function(){return Jt})),n.d(r,"ContentNativeLearnMoreModal",(function(){return en})),n.d(r,"ContentNativeSettingsModal",(function(){return tn})),n.d(r,"ContentNativeFeedbackModal",(function(){return nn})),n.d(r,"ContentNativeGetStartedChecklistModal",(function(){return an})),n.d(r,"ContentNativeProofitModal",(function(){return rn})),n.d(r,"ContentNativeKeyTakeawaysAssistantCard",(function(){return on})),n.d(r,"ContentNativeInlineCardContent",(function(){return sn})),n.d(r,"ContentNativePerformanceScoreButton",(function(){return ln})),n.d(r,"ContentViewStack",(function(){return cn})),n.d(r,"ContentNativeExperimentalGbconsistencyUpsellFooter",(function(){return dn})),n.d(r,"ContentRadioButtonsGroupOption",(function(){return pn})),n.d(r,"ContentRadioButtonsGroup",(function(){return mn})),n.d(r,"ContentNativeExperimentalGbtoneInsightsUpsellFooter",(function(){return hn})),n.d(r,"ContentCollapsedCard",(function(){return gn})),n.d(r,"ContentLongFormCard",(function(){return bn})),n.d(r,"ContentProgressBarState",(function(){return vn})),n.d(r,"ContentProgressBar",(function(){return Sn})),n.d(r,"ContentHorizontalRule",(function(){return Cn})),n.d(r,"FeedProperties",(function(){return wn})),n.d(r,"HorizontalAlign",(function(){return kn})),n.d(r,"IconContent",(function(){return En})),n.d(r,"IconKnownName",(function(){return On})),n.d(r,"Id",(function(){return An})),n.d(r,"LensKind",(function(){return _n})),n.d(r,"MenuSectionItem",(function(){return xn})),n.d(r,"MenuSection",(function(){return In})),n.d(r,"Menu",(function(){return jn})),n.d(r,"Percentage",(function(){return Tn})),n.d(r,"PopoverViewAnchor",(function(){return Mn})),n.d(r,"PopoverViewAnchorComponent",(function(){return Nn})),n.d(r,"PopoverViewAnchorGButton",(function(){return Pn})),n.d(r,"PopoverView",(function(){return Ln})),n.d(r,"Position",(function(){return Bn})),n.d(r,"Radius",(function(){return Fn})),n.d(r,"RemSize",(function(){return Dn})),n.d(r,"SelectedView",(function(){return Hn})),n.d(r,"Space",(function(){return Vn})),n.d(r,"Spacing",(function(){return Un})),n.d(r,"TextFormat",(function(){return Wn})),n.d(r,"TextSize",(function(){return qn})),n.d(r,"TimeCurve",(function(){return zn})),n.d(r,"TooltipAlignment",(function(){return $n})),n.d(r,"VerticalAlign",(function(){return Gn}));var i,o,s,l,c,u,d,p,m,h,g,f,b,y,v,S,C,w,k,E,O,A,_,x={};n.r(x),n.d(x,"version",(function(){return Yn})),n.d(x,"unsupportedComponents",(function(){return Zn})),function(e){e.Click="click",e.CloseAssistant="closeAssistant",e.Focus="focus",e.SelectSliderChoice="selectSliderChoice"}(i||(i={})),function(e){e.Dismiss="dismiss",e.Fulfill="fulfill"}(o||(o={})),function(e){e.Ideation="ideation",e.PushRewrite="pushRewrite",e.QuickReply="quickReply",e.QuickRewrite="quickRewrite",e.Rewrite="rewrite"}(s||(s={})),function(e){e.FadeIn="fadeIn",e.FadeOut="fadeOut",e.SlideLeft="slideLeft",e.SlideRight="slideRight"}(l||(l={})),function(e){e.DarkPrimary="darkPrimary",e.DarkSecondary="darkSecondary",e.GgoPrimary="ggoPrimary",e.Link="link",e.Outlined="outlined",e.Primary="primary",e.Secondary="secondary",e.Toggle="toggle",e.Yellow="yellow"}(c||(c={})),function(e){e.Round="round",e.Square="square"}(u||(u={})),function(e){e.Deselected="deselected",e.Disabled="disabled",e.Enabled="enabled",e.Hidden="hidden",e.Selected="selected"}(d||(d={})),function(e){e.CoreBlue1="CoreBlue1",e.CoreBlue10="CoreBlue10",e.CoreBlue20="CoreBlue20",e.CoreBlue30="CoreBlue30",e.CoreBlue40="CoreBlue40",e.CoreBlue50="CoreBlue50",e.CoreBlue60="CoreBlue60",e.CoreBlue70="CoreBlue70",e.CoreCoral1="CoreCoral1",e.CoreCoral10="CoreCoral10",e.CoreCoral30="CoreCoral30",e.CoreCoral40="CoreCoral40",e.CoreCoral50="CoreCoral50",e.CoreCoral60="CoreCoral60",e.CoreCyan1="CoreCyan1",e.CoreCyan10="CoreCyan10",e.CoreCyan20="CoreCyan20",e.CoreCyan30="CoreCyan30",e.CoreCyan40="CoreCyan40",e.CoreCyan50="CoreCyan50",e.CoreCyan60="CoreCyan60",e.CoreGreen1="CoreGreen1",e.CoreGreen10="CoreGreen10",e.CoreGreen20="CoreGreen20",e.CoreGreen30="CoreGreen30",e.CoreGreen40="CoreGreen40",e.CoreGreen50="CoreGreen50",e.CoreGreen60="CoreGreen60",e.CoreGreen70="CoreGreen70",e.CoreIndigo1="CoreIndigo1",e.CoreIndigo10="CoreIndigo10",e.CoreIndigo20="CoreIndigo20",e.CoreIndigo30="CoreIndigo30",e.CoreIndigo40="CoreIndigo40",e.CoreIndigo50="CoreIndigo50",e.CoreIndigo60="CoreIndigo60",e.CoreIndigo70="CoreIndigo70",e.CoreLime1="CoreLime1",e.CoreLime10="CoreLime10",e.CoreLime20="CoreLime20",e.CoreLime30="CoreLime30",e.CoreLime40="CoreLime40",e.CoreLime50="CoreLime50",e.CoreMagenta1="CoreMagenta1",e.CoreMagenta10="CoreMagenta10",e.CoreMagenta30="CoreMagenta30",e.CoreMagenta40="CoreMagenta40",e.CoreMagenta60="CoreMagenta60",e.CoreMagenta70="CoreMagenta70",e.CoreNeutral0="CoreNeutral0",e.CoreNeutral1="CoreNeutral1",e.CoreNeutral10="CoreNeutral10",e.CoreNeutral20="CoreNeutral20",e.CoreNeutral30="CoreNeutral30",e.CoreNeutral40="CoreNeutral40",e.CoreNeutral50="CoreNeutral50",e.CoreNeutral60="CoreNeutral60",e.CoreNeutral70="CoreNeutral70",e.CoreNeutral80="CoreNeutral80",e.CoreNeutral90="CoreNeutral90",e.CorePurple1="CorePurple1",e.CorePurple10="CorePurple10",e.CorePurple20="CorePurple20",e.CorePurple30="CorePurple30",e.CorePurple40="CorePurple40",e.CorePurple50="CorePurple50",e.CorePurple60="CorePurple60",e.CoreRed1="CoreRed1",e.CoreRed10="CoreRed10",e.CoreRed20="CoreRed20",e.CoreRed30="CoreRed30",e.CoreRed40="CoreRed40",e.CoreRed50="CoreRed50",e.CoreRed60="CoreRed60",e.CoreRed70="CoreRed70",e.CoreSky1="CoreSky1",e.CoreSky10="CoreSky10",e.CoreSky20="CoreSky20",e.CoreSky30="CoreSky30",e.CoreSky40="CoreSky40",e.CoreSky50="CoreSky50",e.CoreSky60="CoreSky60",e.CoreSky70="CoreSky70",e.CoreYellow1="CoreYellow1",e.CoreYellow10="CoreYellow10",e.CoreYellow20="CoreYellow20",e.CoreYellow30="CoreYellow30",e.CoreYellow40="CoreYellow40",e.CoreYellow50="CoreYellow50",e.CoreYellow60="CoreYellow60",e.CoreYellow70="CoreYellow70",e.CoreYellow80="CoreYellow80",e.CoreYellowBrand1="CoreYellowBrand1",e.CoreYellowBrand10="CoreYellowBrand10",e.CoreYellowBrand20="CoreYellowBrand20",e.CoreYellowBrand30="CoreYellowBrand30",e.CoreYellowBrand40="CoreYellowBrand40",e.CoreYellowBrand50="CoreYellowBrand50"}(p||(p={})),function(e){e.ButtonAccept="button:accept",e.ButtonGoPremiumYellow="button:goPremiumYellow",e.ButtonNext="button:next",e.ButtonPrev="button:prev",e.StrongAlertRefBulkAccept="strongAlertRef:BulkAccept",e.StrongAlertRefBulkDismiss="strongAlertRef:BulkDismiss",e.StrongAlertRefBulkDismissBufferOuter="strongAlertRef:BulkDismissBufferOuter",e.StrongAlertRefUpgradeHook="strongAlertRef:UpgradeHook"}(m||(m={})),function(e){e.Asc="asc",e.Desc="desc"}(h||(h={})),function(e){e.EqualTo="equalTo",e.NotEqualTo="notEqualTo"}(g||(g={})),function(e){e.Default="default",e.Loading="loading"}(f||(f={})),function(e){e.Center="center",e.Left="left",e.Right="right"}(b||(b={})),function(e){e.Accept="accept",e.ArrowLeft="arrow-left",e.ArrowRight="arrow-right",e.BulletList="bullet-list",e.Clarity="clarity",e.Close="close",e.Controls="controls",e.Copy="copy",e.Correctness="correctness",e.Delivery="delivery",e.Diamond="diamond",e.DiamondSmall="diamondSmall",e.Dictionary="dictionary",e.Edit="edit",e.Engagement="engagement",e.ExternalLink="external-link",e.Feedback="feedback",e.GButtonSmall="gButtonSmall",e.Gear="gear",e.Ignore="ignore",e.Info="info",e.More="more",e.Mute="mute",e.NewSmall="newSmall",e.Performance="performance",e.Proofreader="proofreader",e.Report="report",e.Sensitivity="sensitivity",e.Sparkles="sparkles",e.User="user"}(y||(y={})),function(e){e.AllSuggestions="allSuggestions",e.Clarity="clarity",e.Correctness="correctness",e.Delivery="delivery",e.Engagement="engagement",e.StyleGuide="styleGuide"}(v||(v={})),function(e){e.Bottom="bottom",e.Left="left",e.Right="right",e.Top="top"}(S||(S={})),function(e){e.Radius0="Radius0",e.Radius1="Radius1",e.Radius2="Radius2",e.Radius3="Radius3",e.RadiusHalf="RadiusHalf"}(C||(C={})),function(e){e.D0="0",e.D0125="0.125",e.D025="0.25",e.D03125="0.3125",e.D0375="0.375",e.D05="0.5",e.D075="0.75",e.D1="1",e.D125="1.25"}(w||(w={})),function(e){e.Bold="bold",e.Italic="italic",e.Outline="outline",e.StrikeoutDiagonal="strikeoutDiagonal",e.StrikeoutHorizontal="strikeoutHorizontal"}(k||(k={})),function(e){e.HeadingLevel1="headingLevel1",e.HeadingLevel3="headingLevel3",e.HeadingLevel4="headingLevel4",e.Medium="medium",e.Regular="regular",e.Small="small"}(E||(E={})),function(e){e.EaseIn="easeIn",e.EaseInOut="easeInOut",e.EaseOut="easeOut",e.Linear="linear"}(O||(O={})),function(e){e.Auto="auto",e.Bottom="bottom",e.BottomCenter="bottomCenter",e.BottomLeft="bottomLeft",e.BottomRight="bottomRight",e.Center="center",e.Left="left",e.Right="right",e.Top="top",e.TopCenter="topCenter",e.TopLeft="topLeft",e.TopRight="topRight"}(A||(A={})),function(e){e.Bottom="bottom",e.Middle="middle",e.Top="top"}(_||(_={}));var I=n("D57K"),j=n("AS+/"),T=Object(j.b)((function(e){return Ne(e)})),M=Object(j.b)((function(e){var t;return e.sum("type")(((t={}).notify=P(e),t.openSettings=L(e),t.openLearnMore=R(e),t.openToneDetector=B(e),t.upgradeToPremium=F(e),t.showHighlights=D(e),t.hideHighlights=H(e),t.openFeedback=V(e),t.openCreateSnippetModal=U(e),t.closeCard=W(e),t.nextCard=q(e),t.prevCard=z(e),t.removeRoot=$(e),t.removeAlerts=G(e),t.applyAlerts=K(e),t.selectAlternative=Y(e),t.transition=Z(e),t.openLink=X(e),t.copyToClipboard=Q(e),t.nativeOpenAssistant=J(e),t.pushAssistantFeed=ee(e),t.popAssistantFeed=te(e),t.focusAssistantCard=ne(e),t.switchView=ae(e),t.newRevision=re(e),t.highlightAlert=ie(e),t.stopApplyingAlerts=oe(e),t.closePopover=se(e),t.interactPopover=ce(e),t.openGrammarlyGo=de(e),t))})),N=Kn(i),P=Object(j.b)((function(e){return e.intersect(e.partial({sourceId:An(e)}))(e.struct({type:e.literal("notify"),userAction:N(e)}))})),L=Object(j.b)((function(e){return e.struct({type:e.literal("openSettings")})})),R=Object(j.b)((function(e){return e.struct({type:e.literal("openLearnMore")})})),B=Object(j.b)((function(e){return e.struct({type:e.literal("openToneDetector")})})),F=Object(j.b)((function(e){return e.struct({type:e.literal("upgradeToPremium")})})),D=Object(j.b)((function(e){return e.struct({type:e.literal("showHighlights")})})),H=Object(j.b)((function(e){return e.struct({type:e.literal("hideHighlights")})})),V=Object(j.b)((function(e){return e.struct({type:e.literal("openFeedback")})})),U=Object(j.b)((function(e){return e.struct({type:e.literal("openCreateSnippetModal"),snippetContent:e.string})})),W=Object(j.b)((function(e){return e.struct({type:e.literal("closeCard")})})),q=Object(j.b)((function(e){return e.struct({type:e.literal("nextCard")})})),z=Object(j.b)((function(e){return e.struct({type:e.literal("prevCard")})})),$=Object(j.b)((function(e){return e.struct({type:e.literal("removeRoot")})})),G=Object(j.b)((function(e){return e.struct({type:e.literal("removeAlerts")})})),K=Object(j.b)((function(e){return e.struct({type:e.literal("applyAlerts"),alternativeIndex:e.number})})),Y=Object(j.b)((function(e){return e.struct({type:e.literal("selectAlternative"),alternativeIndex:e.number})})),Z=Object(j.b)((function(e){return e.struct({type:e.literal("transition"),fromName:e.string,toName:e.string,animateFrom:me(e),animateTo:me(e)})})),X=Object(j.b)((function(e){return e.struct({type:e.literal("openLink"),url:e.string})})),Q=Object(j.b)((function(e){return e.struct({type:e.literal("copyToClipboard"),text:e.string})})),J=Object(j.b)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({type:e.literal("nativeOpenAssistant")}))})),ee=Object(j.b)((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({type:e.literal("pushAssistantFeed"),feedId:e.string}))})),te=Object(j.b)((function(e){return e.struct({type:e.literal("popAssistantFeed")})})),ne=Object(j.b)((function(e){return e.struct({type:e.literal("focusAssistantCard"),cardId:e.string})})),ae=Object(j.b)((function(e){return e.struct({type:e.literal("switchView"),where:An(e),selected:Hn(e)})})),re=Object(j.b)((function(e){return e.struct({type:e.literal("newRevision")})})),ie=Object(j.b)((function(e){return e.struct({type:e.literal("highlightAlert")})})),oe=Object(j.b)((function(e){return e.struct({type:e.literal("stopApplyingAlerts")})})),se=Object(j.b)((function(e){return e.struct({type:e.literal("closePopover"),rootPopoverId:An(e)})})),le=Kn(o),ce=Object(j.b)((function(e){return e.struct({type:e.literal("interactPopover"),rootPopoverId:An(e),popoverViewId:An(e),interaction:le(e)})})),ue=Kn(s),de=Object(j.b)((function(e){return e.intersect(e.partial({alertId:e.number}))(e.struct({type:e.literal("openGrammarlyGo"),entryPoint:ue(e)}))})),pe=Object(j.b)((function(e){return e.readonly(e.array(M(e)))})),me=Kn(l),he=Object(j.b)((function(e){return e.lazy("Behavior",(function(){return ge(e)}))})),ge=Object(j.b)((function(e){var t;return e.sum("type")(((t={})["behavior:strongAlertRef"]=fe(e),t["behavior:animation:fadeIn"]=be(e),t["behavior:animation:fadeOut"]=ye(e),t["behavior:popoverAnchor"]=ve(e),t["behavior:lifecycle"]=Ce(e),t))})),fe=Object(j.b)((function(e){return e.intersect(e.partial({name:je(e)}))(e.struct({type:e.literal("behavior:strongAlertRef"),id:An(e),alertIds:e.readonly(e.array(e.string)),onEmpty:pe(e)}))})),be=Object(j.b)((function(e){return e.struct({type:e.literal("behavior:animation:fadeIn"),id:An(e),timeCurve:zn(e)})})),ye=Object(j.b)((function(e){return e.struct({type:e.literal("behavior:animation:fadeOut"),id:An(e),timeCurve:zn(e)})})),ve=Object(j.b)((function(e){return e.lazy("BehaviorPopoverAnchor",(function(){return Se(e)}))})),Se=Object(j.b)((function(e){return e.intersect(e.partial({view:Ln(e)}))(e.struct({type:e.literal("behavior:popoverAnchor"),id:An(e),positionHint:Bn(e)}))})),Ce=Object(j.b)((function(e){return e.struct({type:e.literal("behavior:lifecycle"),onMount:pe(e),onUnmount:pe(e)})})),we=Object(j.b)((function(e){return e.readonly(e.array(he(e)))})),ke=Object(j.b)((function(e){return e.struct({topLeft:Fn(e),topRight:Fn(e),bottomRight:Fn(e),bottomLeft:Fn(e)})})),Ee=Kn(c),Oe=Kn(u),Ae=Kn(d),_e=Kn(p),xe=Kn(m),Ie=Object(j.b)((function(e){return e.intersect(e.partial({label:e.string}))(e.intersect(e.partial({description:e.string}))(e.struct({})))})),je=Object(j.b)((function(e){var t;return e.sum("kind")(((t={}).unknown=Te(e),t.known=Me(e),t))})),Te=Object(j.b)((function(e){return e.struct({kind:e.literal("unknown"),value:e.string})})),Me=Object(j.b)((function(e){return e.struct({kind:e.literal("known"),value:xe(e)})})),Ne=Object(j.b)((function(e){return e.lazy("Content",(function(){return Pe(e)}))})),Pe=Object(j.b)((function(e){var t;return e.sum("type")(((t={}).text=Le(e),t.assistantFeed=He(e),t.assistantCard=Ue(e),t.popoverStack=qe(e),t.inlineCard=$e(e),t["gButton:default"]=Ke(e),t["gButton:tone"]=Ye(e),t["gButton:proofit"]=Ze(e),t["gButton:get-started"]=Xe(e),t.gButton=Qe(e),t.proofitButton=Je(e),t.lensesSwitchPanel=tt(e),t.strongAlertRef=nt(e),t.column=rt(e),t.row=ot(e),t.block=ct(e),t.box=dt(e),t.scroll=mt(e),t.list=Ct(e),t.dropDownMenuButton=kt(e),t.icon=_t(e),t.image=xt(e),t.button=It(e),t.tooltip=Tt(e),t.clickableText=Nt(e),t.count=Pt(e),t.alertsCount=Lt(e),t.alternativeChoice=Ft(e),t.slider=qt(e),t.alternativeSlider=Kt(e),t.nativeSkillsModal=Zt(e),t.nativeSkillsList=Xt(e),t.nativeSkillsView=Qt(e),t.nativeToneInsightsModal=Jt(e),t.nativeLearnMoreModal=en(e),t.nativeSettingsModal=tn(e),t.nativeFeedbackModal=nn(e),t.nativeGetStartedChecklistModal=an(e),t.nativeProofitModal=rn(e),t.nativeKeyTakeawaysAssistantCard=on(e),t.nativeInlineCardContent=sn(e),t.nativePerformanceScoreButton=ln(e),t.viewStack=cn(e),t.nativeExperimentalGBConsistencyUpsellFooter=dn(e),t.radioButtonsGroup=mn(e),t.nativeExperimentalGBToneInsightsUpsellFooter=hn(e),t.collapsedCard=gn(e),t.longFormCard=bn(e),t.progressBar=Sn(e),t.horizontalRule=Cn(e),t))})),Le=Object(j.b)((function(e){return e.intersect(e.partial({backgroundColor:_e(e)}))(e.intersect(e.partial({outlineColor:_e(e)}))(e.struct({type:e.literal("text"),id:An(e),meta:Ie(e),size:qn(e),text:e.string,textColor:_e(e),format:e.readonly(e.array(Wn(e)))})))})),Re=Kn(h),Be=Object(j.b)((function(e){return e.struct({orderBy:e.string,direction:Re(e)})})),Fe=Kn(g),De=Object(j.b)((function(e){return e.struct({property:e.string,condition:Fe(e),value:e.number})})),He=Object(j.b)((function(e){return e.lazy("ContentAssistantFeed",(function(){return Ve(e)}))})),Ve=Object(j.b)((function(e){return e.intersect(e.partial({footer:Ne(e)}))(e.intersect(e.partial({onEmpty:pe(e)}))(e.intersect(e.partial({onAssistantClose:pe(e)}))(e.struct({type:e.literal("assistantFeed"),id:An(e),header:Ne(e),ordering:e.readonly(e.array(Be(e))),filtering:e.readonly(e.array(De(e))),onRemove:pe(e)}))))})),Ue=Object(j.b)((function(e){return e.lazy("ContentAssistantCard",(function(){return We(e)}))})),We=Object(j.b)((function(e){return e.intersect(e.partial({properties:e.readonly(e.record(e.nullable(e.number)))}))(e.intersect(e.partial({footer:Ne(e)}))(e.struct({type:e.literal("assistantCard"),id:An(e),meta:Ie(e),child:Ne(e),onFocus:pe(e),onBlur:pe(e)})))})),qe=Object(j.b)((function(e){return e.lazy("ContentPopoverStack",(function(){return ze(e)}))})),ze=Object(j.b)((function(e){return e.struct({type:e.literal("popoverStack"),id:An(e),views:e.readonly(e.record(Ln(e))),selected:Hn(e)})})),$e=Object(j.b)((function(e){return e.lazy("ContentInlineCard",(function(){return Ge(e)}))})),Ge=Object(j.b)((function(e){return e.intersect(e.partial({minWidth:Dn(e)}))(e.intersect(e.partial({maxWidth:Dn(e)}))(e.intersect(e.partial({behaviors:we(e)}))(e.struct({type:e.literal("inlineCard"),id:An(e),meta:Ie(e),child:Ne(e),onFocus:pe(e)}))))})),Ke=Object(j.b)((function(e){return e.struct({type:e.literal("gButton:default"),id:An(e),meta:Ie(e),actions:pe(e)})})),Ye=Object(j.b)((function(e){return e.struct({type:e.literal("gButton:tone"),id:An(e),meta:Ie(e),actions:pe(e)})})),Ze=Object(j.b)((function(e){return e.struct({type:e.literal("gButton:proofit"),id:An(e),meta:Ie(e),actions:pe(e)})})),Xe=Object(j.b)((function(e){return e.struct({type:e.literal("gButton:get-started"),id:An(e),meta:Ie(e),actions:pe(e)})})),Qe=Object(j.b)((function(e){return e.struct({type:e.literal("gButton"),id:An(e),meta:Ie(e),actions:pe(e)})})),Je=Object(j.b)((function(e){return e.struct({type:e.literal("proofitButton"),id:An(e),meta:Ie(e),actions:pe(e)})})),et=Object(j.b)((function(e){return e.struct({id:An(e),meta:Ie(e),kind:_n(e),label:e.string,onClickActions:pe(e)})})),tt=Object(j.b)((function(e){return e.struct({type:e.literal("lensesSwitchPanel"),id:An(e),meta:Ie(e),lensSwitchButtons:e.readonly(e.array(et(e)))})})),nt=Object(j.b)((function(e){return e.lazy("ContentStrongAlertRef",(function(){return at(e)}))})),at=Object(j.b)((function(e){return e.intersect(e.partial({name:je(e)}))(e.struct({type:e.literal("strongAlertRef"),id:An(e),alertIds:e.readonly(e.array(e.string)),onEmpty:pe(e),child:Ne(e)}))})),rt=Object(j.b)((function(e){return e.lazy("ContentColumn",(function(){return it(e)}))})),it=Object(j.b)((function(e){return e.intersect(e.partial({name:je(e)}))(e.intersect(e.partial({behaviors:we(e)}))(e.struct({type:e.literal("column"),id:An(e),children:e.readonly(e.array(Ne(e)))})))})),ot=Object(j.b)((function(e){return e.lazy("ContentRow",(function(){return st(e)}))})),st=Object(j.b)((function(e){return e.intersect(e.partial({name:je(e)}))(e.intersect(e.partial({spacing:Un(e)}))(e.intersect(e.partial({behaviors:we(e)}))(e.struct({type:e.literal("row"),id:An(e),left:e.readonly(e.array(Ne(e))),right:e.readonly(e.array(Ne(e))),verticalAlign:Gn(e)}))))})),lt=Object(j.b)((function(e){return e.struct({vertical:Vn(e),horizontal:Vn(e)})})),ct=Object(j.b)((function(e){return e.lazy("ContentBlock",(function(){return ut(e)}))})),ut=Object(j.b)((function(e){return e.intersect(e.partial({name:je(e)}))(e.intersect(e.partial({fraction:e.number}))(e.intersect(e.partial({spacing:Un(e)}))(e.intersect(e.partial({innerSpacing:lt(e)}))(e.intersect(e.partial({horizontalAlign:kn(e)}))(e.intersect(e.partial({verticalAlign:Gn(e)}))(e.intersect(e.partial({maxLines:e.number}))(e.struct({type:e.literal("block"),id:An(e),parts:e.readonly(e.array(Ne(e)))}))))))))})),dt=Object(j.b)((function(e){return e.lazy("ContentBox",(function(){return pt(e)}))})),pt=Object(j.b)((function(e){return e.intersect(e.partial({name:je(e)}))(e.intersect(e.partial({padding:Un(e)}))(e.intersect(e.partial({borderRadius:ke(e)}))(e.intersect(e.partial({backgroundColor:_e(e)}))(e.intersect(e.partial({minWidth:Dn(e)}))(e.intersect(e.partial({behaviors:we(e)}))(e.struct({type:e.literal("box"),id:An(e),child:Ne(e)})))))))})),mt=Object(j.b)((function(e){return e.lazy("ContentScroll",(function(){return ht(e)}))})),ht=Object(j.b)((function(e){return e.intersect(e.partial({name:je(e)}))(e.struct({type:e.literal("scroll"),id:An(e),child:Ne(e),maxHeight:Dn(e)}))})),gt=Object(j.b)((function(e){var t;return e.sum("type")(((t={}).text=ft(e),t.icon=bt(e),t))})),ft=Object(j.b)((function(e){return e.struct({type:e.literal("text"),text:e.string})})),bt=Object(j.b)((function(e){return e.struct({type:e.literal("icon"),icon:En(e)})})),yt=Object(j.b)((function(e){return e.intersect(e.partial({tooltip:e.string}))(e.struct({id:An(e),meta:Ie(e),label:gt(e),onClickActions:pe(e)}))})),vt=Object(j.b)((function(e){return e.lazy("ContentListItem",(function(){return St(e)}))})),St=Object(j.b)((function(e){return e.intersect(e.partial({behaviors:we(e)}))(e.intersect(e.partial({tooltip:e.string}))(e.struct({id:An(e),meta:Ie(e),label:Ne(e),actions:pe(e),secondaryButtons:e.readonly(e.array(yt(e)))})))})),Ct=Object(j.b)((function(e){return e.lazy("ContentList",(function(){return wt(e)}))})),wt=Object(j.b)((function(e){return e.intersect(e.partial({name:je(e)}))(e.struct({type:e.literal("list"),id:An(e),meta:Ie(e),items:e.readonly(e.array(vt(e)))}))})),kt=Object(j.b)((function(e){return e.intersect(e.partial({name:je(e)}))(e.struct({type:e.literal("dropDownMenuButton"),id:An(e),meta:Ie(e),icon:En(e),onClickActions:pe(e),menu:jn(e)}))})),Et=Object(j.b)((function(e){var t;return e.sum("kind")(((t={}).known=Ot(e),t.url=At(e),t))})),Ot=Object(j.b)((function(e){return e.struct({kind:e.literal("known"),name:On(e)})})),At=Object(j.b)((function(e){return e.intersect(e.partial({size:Vn(e)}))(e.struct({kind:e.literal("url"),name:e.string,url:e.string}))})),_t=Object(j.b)((function(e){return e.intersect(e.partial({backgroundColor:_e(e)}))(e.struct({type:e.literal("icon"),id:An(e),meta:Ie(e),source:Et(e)}))})),xt=Object(j.b)((function(e){return e.intersect(e.partial({backgroundColor:_e(e)}))(e.intersect(e.partial({borderRadius:Dn(e)}))(e.struct({type:e.literal("image"),id:An(e),meta:Ie(e),name:je(e),url:e.string,width:Dn(e),height:Dn(e)})))})),It=Object(j.b)((function(e){return e.lazy("ContentButton",(function(){return jt(e)}))})),jt=Object(j.b)((function(e){return e.intersect(e.partial({tooltip:e.string}))(e.intersect(e.partial({horizontalAlign:kn(e)}))(e.intersect(e.partial({behaviors:we(e)}))(e.struct({type:e.literal("button"),id:An(e),meta:Ie(e),name:je(e),kind:Ee(e),state:Ae(e),label:Ne(e),actions:pe(e),shape:Oe(e)}))))})),Tt=Object(j.b)((function(e){return e.lazy("ContentTooltip",(function(){return Mt(e)}))})),Mt=Object(j.b)((function(e){return e.struct({type:e.literal("tooltip"),id:An(e),meta:Ie(e),name:je(e),text:e.string,child:Ne(e),alignment:$n(e)})})),Nt=Object(j.b)((function(e){return e.struct({type:e.literal("clickableText"),id:An(e),meta:Ie(e),name:je(e),onClickActions:pe(e),text:e.string,size:qn(e),textColor:_e(e),format:e.readonly(e.array(Wn(e)))})})),Pt=Object(j.b)((function(e){return e.struct({type:e.literal("count"),id:An(e),meta:Ie(e),value:e.string,backgroundColor:_e(e)})})),Lt=Object(j.b)((function(e){return e.intersect(e.partial({backgroundColor:_e(e)}))(e.intersect(e.partial({outlineColor:_e(e)}))(e.struct({type:e.literal("alertsCount"),id:An(e),meta:Ie(e),size:qn(e),textColor:_e(e),format:e.readonly(e.array(Wn(e)))})))})),Rt=Object(j.b)((function(e){return e.lazy("ContentAlternativeChoiceAlterna",(function(){return Bt(e)}))})),Bt=Object(j.b)((function(e){return e.struct({label:Ne(e),preview:Ne(e)})})),Ft=Object(j.b)((function(e){return e.lazy("ContentAlternativeChoice",(function(){return Dt(e)}))})),Dt=Object(j.b)((function(e){return e.struct({type:e.literal("alternativeChoice"),id:An(e),meta:Ie(e),alternatives:e.readonly(e.array(Rt(e)))})})),Ht=Object(j.b)((function(e){var t;return e.sum("type")(((t={}).icon=Ut(e),t))})),Vt=Object(j.b)((function(e){var t;return e.sum("kind")(((t={}).known=Ot(e),t.url=At(e),t))})),Ut=Object(j.b)((function(e){return e.intersect(e.partial({backgroundColor:_e(e)}))(e.struct({type:e.literal("icon"),id:An(e),source:Vt(e)}))})),Wt=Object(j.b)((function(e){return e.struct({id:An(e),icon:Ht(e),label:e.string,actions:pe(e)})})),qt=Object(j.b)((function(e){return e.struct({type:e.literal("slider"),id:An(e),meta:Ie(e),segmentSize:Dn(e),fillColor:_e(e),choices:e.readonly(e.array(Wt(e)))})})),zt=Object(j.b)((function(e){var t;return e.sum("type")(((t={}).icon=Ut(e),t))})),$t=Object(j.b)((function(e){return e.lazy("ContentAlternativeSliderChoice",(function(){return Gt(e)}))})),Gt=Object(j.b)((function(e){return e.struct({id:An(e),icon:zt(e),label:e.string,actions:pe(e),preview:Ne(e)})})),Kt=Object(j.b)((function(e){return e.lazy("ContentAlternativeSlider",(function(){return Yt(e)}))})),Yt=Object(j.b)((function(e){return e.struct({type:e.literal("alternativeSlider"),id:An(e),meta:Ie(e),segmentSize:Dn(e),fillColor:_e(e),choices:e.readonly(e.array($t(e)))})})),Zt=Object(j.b)((function(e){return e.struct({type:e.literal("nativeSkillsModal"),id:An(e)})})),Xt=Object(j.b)((function(e){return e.struct({type:e.literal("nativeSkillsList"),id:An(e),onSelect:pe(e)})})),Qt=Object(j.b)((function(e){return e.struct({type:e.literal("nativeSkillsView"),id:An(e)})})),Jt=Object(j.b)((function(e){return e.struct({type:e.literal("nativeToneInsightsModal"),id:An(e)})})),en=Object(j.b)((function(e){return e.struct({type:e.literal("nativeLearnMoreModal"),id:An(e)})})),tn=Object(j.b)((function(e){return e.struct({type:e.literal("nativeSettingsModal"),id:An(e)})})),nn=Object(j.b)((function(e){return e.struct({type:e.literal("nativeFeedbackModal"),id:An(e)})})),an=Object(j.b)((function(e){return e.struct({type:e.literal("nativeGetStartedChecklistModal"),id:An(e),onComplete:pe(e)})})),rn=Object(j.b)((function(e){return e.struct({type:e.literal("nativeProofitModal"),id:An(e)})})),on=Object(j.b)((function(e){return e.struct({type:e.literal("nativeKeyTakeawaysAssistantCard"),id:An(e)})})),sn=Object(j.b)((function(e){return e.struct({type:e.literal("nativeInlineCardContent"),id:An(e),onDetailsClick:pe(e)})})),ln=Object(j.b)((function(e){return e.struct({type:e.literal("nativePerformanceScoreButton"),id:An(e)})})),cn=Object(j.b)((function(e){return e.lazy("ContentViewStack",(function(){return un(e)}))})),un=Object(j.b)((function(e){return e.struct({type:e.literal("viewStack"),id:An(e),views:e.readonly(e.record(Ne(e))),selected:Hn(e)})})),dn=Object(j.b)((function(e){return e.struct({type:e.literal("nativeExperimentalGBConsistencyUpsellFooter"),id:An(e)})})),pn=Object(j.b)((function(e){return e.struct({id:An(e),meta:Ie(e),label:e.string,onSelect:pe(e)})})),mn=Object(j.b)((function(e){return e.struct({type:e.literal("radioButtonsGroup"),id:An(e),meta:Ie(e),options:e.readonly(e.array(pn(e)))})})),hn=Object(j.b)((function(e){return e.struct({type:e.literal("nativeExperimentalGBToneInsightsUpsellFooter"),id:An(e)})})),gn=Object(j.b)((function(e){return e.lazy("ContentCollapsedCard",(function(){return fn(e)}))})),fn=Object(j.b)((function(e){return e.intersect(e.partial({quickActions:Ne(e)}))(e.struct({type:e.literal("collapsedCard"),id:An(e),meta:Ie(e),child:Ne(e)}))})),bn=Object(j.b)((function(e){return e.lazy("ContentLongFormCard",(function(){return yn(e)}))})),yn=Object(j.b)((function(e){return e.struct({type:e.literal("longFormCard"),id:An(e),collapsedContent:Ne(e),fullContent:Ne(e),behaviors:we(e),feedProperties:wn(e)})})),vn=Kn(f),Sn=Object(j.b)((function(e){return e.intersect(e.partial({pinPointValue:Tn(e)}))(e.intersect(e.partial({borderColor:_e(e)}))(e.struct({type:e.literal("progressBar"),id:An(e),meta:Ie(e),backgroundColor:_e(e),fillColor:_e(e),value:Tn(e),state:vn(e)})))})),Cn=Object(j.b)((function(e){return e.struct({type:e.literal("horizontalRule"),id:An(e),meta:Ie(e)})})),wn=Object(j.b)((function(e){return e.readonly(e.record(e.nullable(e.number)))})),kn=Kn(b),En=Object(j.b)((function(e){var t;return e.sum("type")(((t={}).icon=_t(e),t))})),On=Kn(y),An=Object(j.b)((function(e){return e.string})),_n=Kn(v),xn=Object(j.b)((function(e){return e.intersect(e.partial({icon:En(e)}))(e.struct({id:An(e),meta:Ie(e),text:e.string,onClickActions:pe(e)}))})),In=Object(j.b)((function(e){return e.intersect(e.partial({title:e.string}))(e.struct({items:e.readonly(e.array(xn(e)))}))})),jn=Object(j.b)((function(e){return e.struct({meta:Ie(e),label:e.string,sections:e.readonly(e.array(In(e)))})})),Tn=Object(j.b)((function(e){return e.number})),Mn=Object(j.b)((function(e){var t;return e.sum("kind")(((t={}).component=Nn(e),t.gButton=Pn(e),t))})),Nn=Object(j.b)((function(e){return e.struct({kind:e.literal("component"),id:An(e)})})),Pn=Object(j.b)((function(e){return e.struct({kind:e.literal("gButton")})})),Ln=Object(j.b)((function(e){return e.lazy("PopoverView",(function(){return Rn(e)}))})),Rn=Object(j.b)((function(e){return e.intersect(e.partial({onShow:pe(e)}))(e.intersect(e.partial({onDismiss:pe(e)}))(e.intersect(e.partial({onFulfill:pe(e)}))(e.struct({id:An(e),rootPopoverId:An(e),anchor:Mn(e),child:Ne(e)}))))})),Bn=Kn(S),Fn=Kn(C),Dn=Object(j.b)((function(e){return e.number})),Hn=Object(j.b)((function(e){return e.string})),Vn=Kn(w),Un=Object(j.b)((function(e){return e.struct({top:Vn(e),right:Vn(e),bottom:Vn(e),left:Vn(e)})})),Wn=Kn(k),qn=Kn(E),zn=Kn(O),$n=Kn(A),Gn=Kn(_);function Kn(e){var t=Object.keys(e).map((function(t){return e[t]})),n=t[0],a=t.slice(1);return Object(j.b)((function(e){return e.literal.apply(e,Object(I.__spreadArray)([n],a,!1))}))}var Yn="4.26.1",Zn=["proofitButton","newRevision","gButton:default","gButton:tone","gButton:proofit","gButton:get-started","nativePerformanceScoreButton"]},fEss:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("ERkP"),r=n("vOOZ"),i=n("9NHN"),o=n("Kt6o"),s=n("e12y");const l=({theme:e={}})=>a.createElement(r.a.div,Object.assign({},Object(i.c)(u.container,e.container)),a.createElement(r.a.div,Object.assign({},Object(i.c)(u.swoosh,e.animation)))),c=s.a.keyframes({to:{backgroundPosition:"0 100%"}}),u=s.a.prefixedStylesheet("ai-animation-v2",{container:[{position:"relative",width:s.a.rem(2),height:s.a.rem(2),display:"inline-block"}],swoosh:[{position:"absolute",left:0,right:0,top:0,bottom:0,animationName:c,animationTimingFunction:"steps(119, start)",animationFillMode:"forwards",animationDuration:s.a.seconds(2),animationIterationCount:"infinite",background:`transparent url('${o.a}swoosh.png') 0 0 no-repeat`,backgroundSize:s.a.percent(100)}]})},fHRq:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var a={};n.r(a),n.d(a,"FloatingContainer",(function(){return f})),n.d(a,"CardBase",(function(){return b})),n.d(a,"fromNode",(function(){return y})),n.d(a,"cardTransition",(function(){return x}));var r={};n.r(r),n.d(r,"create",(function(){return L}));var i=n("ERkP"),o=n("vOOZ"),s=n("9NHN"),l=n("lrqh"),c=n("1w6p"),u=n("ax6a"),d=n("e12y"),p=n("WIwS"),m=n("ps/9"),h=n("zR/0"),g=n("PyeZ");const f=c.b.Grid.make(({view:e,notify:t,slots:n})=>i.createElement(o.a.div,Object.assign({tabIndex:-1,"data-name":"inline-card",mount:e=>t({type:g.b.Type.mounted,element:l.g.fromNullable(e)})(),style:e("position")},Object(s.c)(_.container,e("direction").pipe(h.a.map(e=>e===g.a.Direction.Up&&_.directionUp))),{onMouseEnter:t({type:g.b.Type.hovered}),onMouseLeave:t({type:g.b.Type.unhovered})}),n.body)),b=c.b.Grid.make(({slots:e})=>i.createElement("div",{tabIndex:-1,"data-name":"inline-card",className:_.card},e.card)),y=e=>c.b.Animated.make(x,c.b.Union.asOption(c.b.Knot.make(f,{body:c.b.Composite.make(b,e)}))),v=d.a.keyframes({from:{opacity:0,transform:"scale(1, .8)"}}),S=d.a.keyframes({to:{opacity:0,transform:"scale(1, .8)"}}),C={position:"absolute",zIndex:m.l,minWidth:"fit-content",outline:"none",transformOrigin:"top",willChange:"opacity, transform",$nest:{"@media print":{visibility:"hidden"}}},w={marginTop:d.a.rem(.5),transformOrigin:"bottom"},k={$nest:{"& > div[data-name=inline-card]":{animation:`${S} ${d.a.seconds(.1)} linear forwards`,pointerEvents:"none"}}},E={$nest:{"& > div[data-name=inline-card]":{animation:`${v} ${d.a.seconds(.1)} linear forwards`}}},O={display:"flex",flexDirection:"column",overflow:"hidden",marginLeft:d.a.rem(-1),paddingBottom:d.a.rem(.5),minWidth:d.a.rem(12),maxWidth:d.a.rem(20),width:"fit-content",outline:"none",borderRadius:d.a.rem(m.s),background:u.a.CoreNeutral0,boxShadow:u.b.Z300,color:p.k,fontSize:d.a.rem(.8),"-webkit-font-smoothing":"antialiased",$nest:{"&:before":{position:"absolute",marginTop:d.a.px(-2),width:d.a.percent(100),height:d.a.px(2),border:"1px solid transparent",content:"''"}}},A={$nest:{"& .itemInsert, .itemRemove":{paddingBottom:d.a.rem(.3),whiteSpace:"normal",lineHeight:d.a.rem(1.5)}}},_=d.a.prefixedStylesheet("inline-card",{container:[C],directionUp:[w],invisible:[k],visible:[E],card:[O],maxWidthReached:[A]}),x=c.b.Transition.make({visible:_.visible},{invisible:_.invisible});var I=n("OA+g"),j=n("I7vG"),T=n("LNSM"),M=n("Ni70"),N=n("PrA7"),P=n("dE97");function L(e,t,n,a,r=(()=>"left")){return c.a.animatingFlow(function(e,t,n,a,r){const i=T.a.create(l.g.none);return c.a.fromSideEffect(e=>{Object(j.pipe)(e.action.action.action,l.g.fromPredicate(g.b.isMountAction),l.g.tap(e=>i.set(e.element))),t.next(e.action.action.action)},e.pipe(h.a.map(l.g.chain(e=>P.a.State.isBulkApplied(e.alert.state)?l.g.some(e):l.g.none)),h.a.withLatestFrom(n,i),h.a.switchMap(function(e,t){return([n,a,r])=>Object(j.pipe)(n,l.l.fromOption(()=>new Error("Entry is none")),l.l.chain(e=>Object(j.pipe)(e.getMarkRect,l.l.map(t=>({alert:e.alert,rect:Object(j.pipe)(t,M.b.relativeAndAbs,l.g.fromNullable)})))),l.l.map(({alert:n,rect:i})=>Object(j.pipe)(i,l.g.map(({abs:i,relative:o})=>{const s=Object(j.pipe)(r,l.g.fold(()=>0,e=>e.offsetHeight)),c=i.height+i.top+s>a.height+a.top&&o.height<a.height?g.a.Direction.Up:g.a.Direction.Down,u=c===g.a.Direction.Up?o.top-s-8:o.top+o.height;return{root:{position:"right"===t(i,a)?{top:u,right:0}:{top:u,left:o.left},direction:c},body:{alert:n,replacementLabels:R(e,n)}}}))),l.l.getOrElse(e=>()=>Promise.resolve(l.g.none)),e=>e())}(a,r)),h.a.startWith(l.g.none)))}(e,t,n,a,r),(e,t)=>Object(j.pipe)(t,l.g.chain(()=>Object(j.pipe)(e,l.g.map(()=>l.m.both("invisible","visible")),l.g.alt(()=>l.g.some(l.m.right("visible"))))),l.g.alt(()=>Object(j.pipe)(e,l.g.map(()=>l.m.left("invisible"))))))}function R(e,t){return Object(j.pipe)(t.getTransform(),l.g.chain(Object(I.flow)(e,l.b.fold(e=>(N.Monitoring.Logging.getLogger("InlineCard.hydration").error("Failed to hydrate an inline card",e.error,{alertId:t.id}),l.g.none),l.g.some))))}var B,F;(F=B||(B={})).UI=a,F.Flow=r},fNos:function(e,t,n){e.exports=n.p+"files/c85c7276ae2b89bc5aadf1b1cb256291/inter-mediumitalic.woff2"},"fT1+":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return O}));var a,r,i,o=n("a5W6"),s=n("OA+g"),l=n("I7vG"),c=n("LNSM"),u=n("+JVj"),d=n("j7q7"),p=n("Ni70"),m=n("bYZB"),h=n("D6Vf"),g=n("3s0z"),f=n("zR/0"),b=n("gy42"),y=n("Sk6A"),v=n("D9EC"),S=n("lrqh"),C=n("PrA7"),w=n("SfQc");!function(e){e.focus="searchFocus",e.next="searchNext",e.previous="searchPrevious"}(a||(a={})),function(e){e.SEARCH_INPUT_NAME="search-input",e.isSearchInput=function(t){return Boolean(t)&&t.name===e.SEARCH_INPUT_NAME};e.Mock=class{constructor(e){this.getBindings=()=>{throw new Error("Method not implemented.")},this.visible=c.a.create(!1),this.term=c.a.create(""),this.hotkeysActions=new f.a.Subject,this.dispose=v.e,this.result=c.a.create(Object(l.pipe)(S.g.fromNullable(e),S.g.map(e=>Object.assign(Object.assign({},e),{next:v.e,prev:v.e}))))}select(){throw new Error("Method not implemented.")}}}(r||(r={}));class k{constructor(e,t,n){this._ops=e,this._term=t,this.count=n.ranges.length,this.current=Object(l.pipe)(n.selected,S.g.getOrElse(()=>0))+1,this._ops._highlightSelectedRange()}next(){this._ops._forceSearch(),this._ops._selectedPos.modify(Object(s.flow)(S.g.map(e=>e+1),S.g.map(e=>e>this.count-1?0:e),S.g.orElse(S.g.some(0)))),this._ops._highlightSelectedRange(1===this.count)}prev(){this._ops._forceSearch(),this._ops._selectedPos.modify(Object(s.flow)(S.g.map(e=>e-1),S.g.map(e=>e<0?this.count-1:e),S.g.orElse(S.g.some(this.count-1)))),this._ops._highlightSelectedRange()}equals(e){return null!=e&&this.count===e.count&&this.current===e.current&&this._term===e._term}}!function(e){e.create=(e,t)=>u.b.create(e,t,{type:"searchRange"}),e.is=function(e){return"searchRange"==typeof e.meta.type}}(i||(i={}));const E=S.c.fromEquals((e,t)=>e.meta.id===t.meta.id);class O{constructor(e,t,n){this._ded=e,this._rangeManager=t,this._editorViewport=n,this._log=C.Monitoring.Logging.getLogger("SearchViewModel"),this._subs=[],this._forceSearchSubject=new f.a.Subject,this._rangesState=c.a.create({ranges:[],selected:S.g.none}),this._selectedRange=this._rangesState.view(e=>Object(l.pipe)(e.selected,S.g.chain(t=>S.a.lookup(t,e.ranges)))),this._activeMark=c.a.create(S.g.none),this.visible=c.a.create(!1),this.term=c.a.create(""),this.result=c.a.create(S.g.none),this.hotkeysActions=new f.a.Subject,this.select=()=>{this._forceSearch(),this._rangesState.modify(({ranges:e,selected:t})=>({ranges:e,selected:Object(l.pipe)(t,S.g.orElse(S.g.some(0)),S.g.filter(()=>Object(v.n)(e)))})),this._highlightSelectedRange()},this.dispose=()=>{this.term.set(""),this._subs.forEach(e=>e.unsubscribe()),this._subs=[]},this._selectedPos=this._rangesState.lens("selected"),this._forceSearch=()=>this._forceSearchSubject.next(),this._highlightSelectedRange=(e=!1)=>{const t=this._selectedRange.get();e&&S.g.getEq(E).equals(this._activeMark.get(),t)&&this._ensureMarkInViewport(this._currentMark).subscribe({error:e=>this._log.error("Cannot scroll to mark",e)}),this._activeMark.set(t)},this.getBindings=e=>{const t=new Set([g.a.short]),n=f.a.of(!0);return[{action:a.focus,hotkey:e({modifiers:t,key:"f"}),bind:this._bindHotkey,isActive:n},{action:a.next,hotkey:e({modifiers:t,key:"g"}),bind:this._bindHotkey,isActive:n},{action:a.previous,hotkey:e({modifiers:new Set([g.a.short,g.a.shift]),key:"g"}),bind:this._bindHotkey,isActive:n}]},this._bindHotkey=f.a.tap(this.hotkeysActions),this._removeRanges=e=>{Object(l.pipe)(this._activeMark.get(),S.g.filter(t=>e.has(t.meta.id)),S.g.map(()=>this._activeMark.set(S.g.none))),this._rangesState.modify(t=>{const n=t.ranges.filter(({meta:{id:t}})=>!e.has(t)||(this._rangeManager.deregisterRange(t),!1));return{ranges:n,selected:Object(l.pipe)(t.selected,S.g.filter(e=>e<n.length))}})},this._findRanges=e=>Object(v.n)(e)?this._searchTerm(this._ded.getText().toLowerCase(),e.toLowerCase()):[],this._changeActiveMark=({prev:e,next:t})=>{this._currentMark=S.g.none,Object(l.pipe)(e,S.g.tap(e=>{this._ded.changeMarks([d.a.Change.getRemoveAction({range:()=>e})(e.meta.id)])})),Object(l.pipe)(t,S.g.tap(e=>{this._currentMark=Object(l.pipe)(this._ded.changeMarks([d.a.Change.getCreateAction({range:()=>e,order:0,classes:[w.mark]})(e.meta.id)]),t=>t.created.get(e.meta.id),S.g.fromNullable,S.g.chain(S.g.fromEither)),this._ensureMarkInViewport(this._currentMark).subscribe({error:e=>this._log.error("Cannot scroll to mark",e)})}))},this._subs.push(this._listenOpenEvents(),this._listenCloseEvents(),f.a.mergeStatic(this.term.pipe(f.a.filter(e=>e.length<=3),f.a.mapTo("")),this.term.pipe(f.a.filter(e=>e.length>3),f.a.debounceTime(300)),this._forceSearchSubject.pipe(f.a.withLatestFrom(this.term,(e,t)=>t))).pipe(f.a.distinctUntilChanged(),f.a.map(this._findRanges)).subscribe(e=>{this._activeMark.set(S.g.none),this._replaceRanges(e)}),this._rangesState.pipe(f.a.map(e=>Object(l.pipe)(e,S.g.fromPredicate(e=>Object(o.isNonEmpty)(e.ranges)),S.g.map(e=>new k(this,this.term.get(),e))))).subscribe(e=>this.result.set(e)),this._rangesState.pipe(f.a.switchMap(({ranges:e})=>Object(o.isNonEmpty)(e)?this._rangeManager.rangeChanged.pipe(f.a.pluck("affected"),f.a.filter(o.isNonEmpty)):f.a.EMPTY),f.a.map(e=>e.filter(i.is)),f.a.map(e=>new Set(e.map(e=>e.meta.id)))).subscribe(this._removeRanges),this._activeMark.pipe(f.a.scan(({next:e},t)=>({prev:e,next:t}),{prev:S.g.none,next:S.g.none})).subscribe(this._changeActiveMark)),this._subs.push(this._ded.dontFreezeWhen(this.visible,"search"),this.visible.pipe(f.a.skip(1),f.a.filter(e=>!e)).subscribe(()=>{this.term.set("")})),Object(v.r)("searchVM",this)}_searchTerm(e,t){let n=-1;const a=[];for(;n=e.indexOf(t,n+1),n>-1;)a.push(i.create(n,n+t.length));return a}_listenOpenEvents(){return h.b.activeCount.pipe(f.a.map(e=>e<1),f.a.merge(this.visible.pipe(f.a.map(e=>!e)))).pipe(f.a.switchMap(b.b.orEmpty(this.hotkeysActions)),f.a.mapTo(!0)).subscribe(b.b.toAtom(this.visible))}_listenCloseEvents(){const e=y.a.listen("escape");return this.visible.pipe(f.a.switchMap(b.b.orEmpty(e)),f.a.merge(h.b.activeCount.pipe(f.a.filter(e=>e>0))),f.a.mapTo(!1)).subscribe(b.b.toAtom(this.visible))}_replaceRanges(e){this._rangesState.modify(t=>(t.ranges.forEach(e=>this._rangeManager.deregisterRange(e.meta.id)),{ranges:e.map(e=>this._rangeManager.registerRange(`search_${this.term.get().replace(/\s*/g,"_")}_${O.searchMarkCount++}`,e)),selected:e.length>0?S.g.some(0):S.g.none}))}_ensureMarkInViewport(e){return Object(l.pipe)(e,S.b.fromOption(()=>new Error("Mark should not be null at this point")),S.b.chain(e=>e.getRect()),S.b.map(p.b.relativeToViewport),S.b.fold(f.a.throwError,t=>{const{top:n,bottom:a}=this._editorViewport.get();return t.top<n+50||t.top>a-50?this._ded.scrollToMark(S.g.unsafeGet(e).id,{paddingTop:500,animate:m.a.fast}):f.a.EMPTY}))}}O.searchMarkCount=0},fyNw:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d}));var a,r=n("U75S"),i=n("OA+g"),o=n("zR/0"),s=n("lrqh"),l=n("D9EC"),c=n("6fbX"),u=n("tslA");function d(e,t){return e.pipe(o.a.filter(u.OnboardingUIAction.is(u.OnboardingUIAction.Kind.mount)),o.a.tap(e=>{switch(e.step){case u.Onboarding.StepName.initial:return t.trackOnboardingPopupView();case u.Onboarding.StepName.prompts:return t.trackOnboardingPromptsTooltipView();case u.Onboarding.StepName.review:return t.trackOnboardingReviewTooltipView();case u.Onboarding.StepName.rewrite:return t.trackOnboardingRewriteTooltipView();case u.Onboarding.StepName.knowledgeHub:return t.trackOnboardingKnowledgeHubTooltipView();case u.Onboarding.StepName.references:return t.trackOnboardingReferencesTooltipView();default:return Object(c.d)(e.step)}}))}function p(e,t,n,a,r=1e3){return e.pipe(o.a.filter(u.OnboardingUIAction.is(u.OnboardingUIAction.Kind.mount)),o.a.filter(e=>n(e.step)),o.a.switchMap(({step:e})=>t.pipe(o.a.map(s.g.contains(e)),o.a.switchMap(e=>e?a.pipe(o.a.mapTo(Date.now())):o.a.EMPTY),o.a.filter(e=>Date.now()-e>=r),o.a.mapTo(e))))}!function(e){e.completeInitialOrRewriteStepOnSessionInit=({session:e})=>e.pipe(o.a.startWith(s.g.none),o.a.pairwise(),o.a.map(([e,t])=>s.g.isNone(e)&&s.g.isSome(t)?s.g.some(t):s.g.none),o.b.compact,o.a.switchMap(e=>Object(i.pipe)([s.g.some(u.Onboarding.StepName.initial),u.Session.Mode.isRewriteOrQuickRewrite(e.value.mode)?s.g.some(u.Onboarding.StepName.rewrite):s.g.none],r.B))),e.completeReviewStepOnSecondResultReceived=({session:e,activeStep:t})=>e.pipe(o.a.map(Object(i.flow)(s.g.chain(u.Session.toStarted),s.g.fold(()=>0,e=>e.resultHistory.length))),o.a.pairwise(),o.a.filter(([e,t])=>1===e&&2===t),o.a.withLatestFrom(t),o.a.map(([e,t])=>Object(i.pipe)(t,s.g.filter(e=>e===u.Onboarding.StepName.review))),o.b.compact),e.completeActiveAssistantStepOnSessionEnd=({session:e,activeStep:t,visibleForMs:n,onboardingUIActions:a})=>p(a,t.pipe(o.a.observeOn(o.a.asapScheduler)),u.Onboarding.StepName.isAssistantOnboardingStep,e.pipe(o.a.pairwise(),o.a.filter(([e,t])=>s.g.isSome(e)&&s.g.isNone(t))),n),e.completeStepOnCloseClick=({onboardingUIActions:e,trackingService:t})=>e.pipe(o.a.filter(u.OnboardingUIAction.is(u.OnboardingUIAction.Kind.close)),o.a.map(e=>(e.step===u.Onboarding.StepName.initial&&t.trackOnboardingPopupSkip(),e.step))),e.completeInitialStepOnTryItOutClick=({onboardingUIActions:e,trackingService:t})=>e.pipe(o.a.filter(u.OnboardingUIAction.is(u.OnboardingUIAction.Kind.tryItOut)),o.a.map(()=>(t.trackOnboardingPopupNext(),u.Onboarding.StepName.initial))),e.completeReviewStepOnResultInteraction=({assistantUIActions:e})=>e.pipe(o.a.filter(u.AssistantUIAction.isResultAction),o.a.filter(e=>"complete"===e.result.kind),o.a.map(()=>u.Onboarding.StepName.review)),e.completeAssistantStepsOnUserActions=({assistantUIActions:e,activeStep:t})=>e.pipe(o.a.filter(Object(l.p)(u.AssistantUIAction.is(u.AssistantUIAction.Kind.actionBrickClick),u.AssistantUIAction.is(u.AssistantUIAction.Kind.promptSubmitButtonClick),u.AssistantUIAction.is(u.AssistantUIAction.Kind.promptFieldKeyPressEnter),u.AssistantUIAction.is(u.AssistantUIAction.Kind.toolbarVoiceButtonClick),u.AssistantUIAction.is(u.AssistantUIAction.Kind.setVoiceButtonClick),u.AssistantUIAction.is(u.AssistantUIAction.Kind.openFeedbackFormButtonClick))),o.a.withLatestFrom(t),o.a.map(([e,t])=>Object(i.pipe)(t,s.g.filter(u.Onboarding.StepName.isAssistantOnboardingStep))),o.b.compact),e.completeInitialStepOnDispose=({onboardingUIActions:e,activeStep:t,disposed:n,visibleForMs:a})=>p(e,t,e=>e===u.Onboarding.StepName.initial,n,a);const t=e=>t=>n=>t(n).pipe(o.a.tap(t=>{var a;return null===(a=n.logger)||void 0===a?void 0:a.debug(`${e} - step to complete: ${t}`)}));function n(e){return e.pipe(o.a.scan((e,t)=>({seen:new Set(e.seen).add(t),step:e.seen.has(t)?s.g.none:s.g.some(t)}),{seen:new Set,step:s.g.none}),o.a.map(e=>e.step),o.b.compact)}e.defaultCompletionSources=[t("session init")(e.completeInitialOrRewriteStepOnSessionInit),t("second result received")(e.completeReviewStepOnSecondResultReceived),t("session end")(e.completeActiveAssistantStepOnSessionEnd),t("user closed step")(e.completeStepOnCloseClick),t("user clicked try-it-out")(e.completeInitialStepOnTryItOutClick),t("user interacted with results")(e.completeReviewStepOnResultInteraction),t("user interacted with assistant")(e.completeAssistantStepsOnUserActions),t("feature disposed")(e.completeInitialStepOnDispose)],e.extractStepsToComplete=function(e,t){return o.a.mergeStatic(...e.map(e=>e(t))).pipe(n)}}(a||(a={}))},"gT+5":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return F}));var a=n("D9EC"),r=n("ax6a"),i=n("e12y"),o=n("0Hf4");const s=r.a.CoreGreen10;var l;!function(e){e.markHeightStandard="alerts-markHeightStandard",e.markHeightTall="alerts-markHeightTall",e.markSelected="alerts-markSelected",e.markSelectedFocused="alerts-markSelectedFocused",e.markBase="alerts-markBase",e.markAppliedBase="alerts-markAppliedBase",e.markVisible="alerts-markVisible",e.markStart="alerts-markStart",e.correctness="alerts-correctness",e.premium="alerts-premium",e.clarity="alerts-clarity",e.engagement="alerts-engagement",e.delivery="alerts-delivery",e.critical="alerts-critical",e.advanced="alerts-advanced",e.plagiarism="alerts-plagiarism",e.originality="alerts-originality",e.vox="alerts-vox",e.knowledgeHub="alerts-knowledgeHub",e.synonym="alerts-synonym",e.markAnimated="alerts-markAnimated",e.markHidden="alerts-markHidden",e.markApplied="alerts-markApplied",e.markBulkApplied="alerts-markBulkApplied",e.markBulkAppliedAnimation="alerts-markBulkAppliedAnimation",e.markSuccess="alerts-markSuccess",e.noAnimation="alerts-noAnimation"}(l||(l={}));const c="alerts-custom",u={backgroundPosition:"center calc(100% + 3px)",backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},d={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},p=i.a.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),m={standard:`calc(${i.a.rem(.45)} - 4px)`,tall:i.a.rem(.425)},h=e=>({to:{backgroundColor:e}}),g=(e,t=100)=>({borderWidth:"0 0 3px 0",borderImage:i.a.linearGradient("to right",[e,"0%"],[e,`calc(100% - ${t}px)`],[i.a.color(e).fade(0).toRGBA().toString(),"100%"]),borderImageSlice:1}),f=(e,t,n,a)=>Object.assign(Object.assign({$unique:!0},u),{paddingBottom:"1px",borderBottom:"3px solid "+t,transition:"border-bottom-color .5s linear",$nest:Object.assign(Object.assign({},u.$nest),{["&."+l.markStart]:g(t),"&[data-vertical-underline-start]:before":{borderColor:n,color:n},"& > [data-vertical-underline-body]:after":{borderColor:n},"& > [data-vertical-underline-index]":{color:n},"&[data-superscript]":{padding:0,border:"none",color:n,transition:"none"},"&:not([data-superscript])":{$nest:{[`&.${l.markSelected}.${l.markHeightStandard}`]:{paddingTop:m.standard},[`&.${l.markSelected}.${l.markHeightTall}`]:{paddingTop:m.tall},["&."+l.markSelected]:{$unique:!0,borderBottomColor:a,animation:e+" 1s ease forwards",$nest:{["&."+l.markStart]:g(a)}},["&."+l.markSelectedFocused]:{$unique:!0,borderBottomColor:n,$nest:{["&."+l.markStart]:g(n)}},[`&.${l.markSelected} .${l.markBase}:not(.${l.markSelected})`]:{paddingBottom:"calc(3px + 1px)",borderBottomStyle:"hidden"},[`&.${l.markSelectedFocused} .${l.markBase}:not(.${l.markSelected})`]:{paddingBottom:"calc(3px + 1px)",borderBottomStyle:"hidden"}}}})}),b=i.a.keyframes(h(r.a.CoreRed10)),y=i.a.keyframes(h(r.a.CoreYellow10)),v=i.a.keyframes(h(r.a.CoreCyan10)),S=i.a.keyframes(h(r.a.CorePurple10)),C=i.a.keyframes(h(r.a.CoreNeutral10)),w=i.a.keyframes(h(r.a.CoreNeutral10)),k=i.a.keyframes(h(r.a.CoreBlue10)),E=i.a.keyframes(h(r.a.CoreRed10)),O=i.a.keyframes(h(r.a.CoreYellow10)),A=i.a.keyframes(h(r.a.CoreBlue10)),_=i.a.keyframes(h(r.a.CoreGreen10)),x=i.a.keyframes(h(r.a.CorePurple10)),I=i.a.keyframes(h(r.a.CoreGreen10)),j=e=>{const t=i.a.color(s).fade(e).toRGBA().toString();return{borderBottomColor:t,backgroundColor:t,$nest:{["&."+l.markHeightStandard]:{paddingTop:m.standard},["&."+l.markHeightTall]:{paddingTop:m.tall}}}},T=e=>({borderBottomColor:"transparent",backgroundColor:i.a.color(s).fade(e).toRGBA().toString()}),M=i.a.keyframes({from:j("100%"),to:j("50%")}),N={borderBottomWidth:"2px",borderBottomColor:""+r.a.CoreNeutral40,borderBottomStyle:"dotted",backgroundColor:"transparent"},P=i.a.keyframes({to:Object.assign(Object.assign({},j("0%")),N)}),L=i.a.keyframes({from:T("100%"),to:T("50%")}),R={$nest:{["&."+l.markHeightStandard]:{paddingTop:m.standard},["&."+l.markHeightTall]:{paddingTop:m.tall},[`&:not(.${l.markSelected}):not(.${l.markSelectedFocused})`]:{$nest:{[`&.${l.clarity} &.${l.clarity}`]:{borderBottomStyle:"solid",borderBottomColor:r.a.CoreBlue50}}},[`&.${l.correctness}, &.${l.markSelected}, &.${l.markSelectedFocused}`]:{$nest:{[`.${l.markVisible}:not(.${l.markSelected}):not(.${l.markSelectedFocused}).${l.clarity} .${l.markVisible}:not(.${l.markSelected}):not(.${l.markSelectedFocused}).${l.clarity}`]:{}}},["&."+l.clarity]:{$nest:{[`& & &:not(.${l.markSelected}):not(.${l.markSelectedFocused})`]:{borderBottomStyle:"hidden !important"}}}}},B={borderBottom:"0 solid transparent",background:"none",animation:"none"},F=Object(a.l)(()=>({custom(e,t){const n=i.a.color(e).fade(.25).toRGBA().toString(),a=i.a.keyframes(h(n));return[c,l.markBase,i.a.style(f(a,t,t,n)),o.a.style(f(a,t,t,n),d)].join(" ")},markBase:[l.markBase,i.a.style(u),o.a.style(u,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[l.markAppliedBase,l.markBase,i.a.style({paddingBottom:"1px",borderBottom:"3px solid "+s})].join(" "),correctness:[l.correctness,l.markBase,i.a.style(f(E,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10)),o.a.style(f(E,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10),d)].join(" "),premium:[l.premium,l.markBase,i.a.style(f(O,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10)),o.a.style(f(O,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10),d)].join(" "),clarity:[l.clarity,l.markBase,i.a.style(f(A,r.a.CoreBlue20,r.a.CoreBlue50,r.a.CoreBlue10)),o.a.style(f(A,r.a.CoreBlue20,r.a.CoreBlue50,r.a.CoreBlue10),d)].join(" "),markVisible:[l.markVisible,i.a.style(R),o.a.style(R)].join(" "),engagement:[l.engagement,l.markBase,i.a.style(f(_,r.a.CoreGreen20,r.a.CoreGreen50,r.a.CoreGreen10)),o.a.style(f(_,r.a.CoreGreen20,r.a.CoreGreen50,r.a.CoreGreen10),d)].join(" "),delivery:[l.delivery,l.markBase,i.a.style(f(x,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10)),o.a.style(f(x,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10),d)].join(" "),critical:[l.critical,l.markBase,i.a.style(f(b,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10)),o.a.style(f(b,r.a.CoreRed20,r.a.CoreRed50,r.a.CoreRed10),d)].join(" "),advanced:[l.advanced,l.markBase,i.a.style(f(y,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10)),o.a.style(f(y,r.a.CoreYellow30,r.a.CoreYellow40,r.a.CoreYellow10),d)].join(" "),plagiarism:[l.plagiarism,l.markBase,i.a.style(f(v,r.a.CoreCyan20,r.a.CoreCyan50,r.a.CoreCyan10)),o.a.style(f(y,r.a.CoreCyan20,r.a.CoreCyan50,r.a.CoreCyan10),d)].join(" "),originality:[l.originality,l.markBase,i.a.style(f(S,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10)),o.a.style(f(x,r.a.CorePurple20,r.a.CorePurple50,r.a.CorePurple10),d)].join(" "),vox:[l.vox,l.markBase,i.a.style(f(C,r.a.CoreNeutral30,r.a.CoreNeutral50,r.a.CoreNeutral10)),o.a.style(f(C,r.a.CoreNeutral30,r.a.CoreNeutral50,r.a.CoreNeutral10),d)].join(" "),knowledgeHub:[l.knowledgeHub,l.markBase,i.a.style(f(w,r.a.CoreNeutral30,r.a.CoreNeutral50,r.a.CoreNeutral10)),o.a.style(f(w,r.a.CoreNeutral30,r.a.CoreNeutral50,r.a.CoreNeutral10),d)].join(" "),synonym:[l.synonym,l.markBase,i.a.style(f(k,r.a.CoreBlue50,"transparent",r.a.CoreBlue50)),o.a.style(f(k,r.a.CoreBlue50,"transparent",r.a.CoreBlue50),d)].join(" "),markAnimated:[l.markAnimated,i.a.style({animation:p+" .075s ease"})].join(" "),markHidden:[l.markHidden,i.a.style(B),o.a.style(B)].join(" "),markBulkAppliedAnimation:[l.markBulkAppliedAnimation,l.markBase,i.a.style(j("100%"),N,{animation:`${M} 2s linear forwards,\n          ${P} .25s linear 2s forwards`})].join(" "),markBulkApplied:[l.markBulkApplied,l.markBase,i.a.style(f(I,r.a.CoreNeutral40,r.a.CoreGreen10,r.a.CoreGreen10),N)].join(" "),markApplied:[l.markApplied,i.a.style(j("100%"),{animation:M+" .25s linear forwards"})].join(" "),markSuccess:[l.markSuccess,i.a.style(T("100%"),{animation:L+" .25s linear forwards"})].join(" "),noAnimation:[l.noAnimation,i.a.style({animationDuration:"0s !important"})].join(" "),markSelected:l.markSelected,markSelectedFocused:l.markSelectedFocused,markHeightStandard:l.markHeightStandard,markHeightTall:l.markHeightTall,markStart:l.markStart}))},giVc:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return D}));var a,r,i,o=n("IL1e"),s=n("hO7h"),l=n("h6df"),c=n("LNSM"),u=n("lrqh"),d=n("tn8Q"),p=n("7b34"),m=n("hoSD"),h=n("6fbX"),g=n("D9EC"),f=n("PrA7"),b=n("uIDj"),y=n("TA71"),v=n("PK5a");function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r=a||(a={})).iso=function(){return v.iso()},r.empty=function(){return{sduiQueue:new Map}},r.removeAllBySduiId=function(e){return function(t){return Object(l.m)(a.toQueueValuesArray(t),u.a.filter((function(t){return 0===t.id.indexOf("".concat(e.event.sduiRootId,"_"))})),(function(e){return a.removeItems(e)(t),e}))}},r.removeEarlierItemsBySduiId=function(e){return function(t){return Object(l.m)(a.toQueueValuesArray(t),u.a.filter((function(t){return 0===t.id.indexOf("".concat(e.event.sduiRootId,"_"))&&t.order<e.order})),(function(e){return a.removeItems(e)(t),e}))}},r.addItem=function(e){return function(t){t.sduiQueue.set(e.id,e)}},r.removeItems=function(e){return function(t){e.forEach((function(e){return t.sduiQueue.delete(e.id)}))}},r.toQueueValuesArray=function(e){return Array.from(e.sduiQueue.values())},function(e){var t=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};t.QueueCounter=0;e.show={show:function(e){return Array.from(a.iso().unwrap(e).sduiQueue.entries()).map((function(e){var t=C(e,2),n=t[0],a=t[1];return"".concat(n," - { id: ").concat(a.id," sduiRootId: ").concat(a.event.sduiRootId,", kind: ").concat(a.event.kind)})).join(";\n")}};!function(e){var n;(n=e.Id||(e.Id={})).from=function(e){return"".concat(e)};e.fromEvent=function(e){return{id:n.from("".concat(e.sduiRootId,"_").concat(++t.QueueCounter)),order:t.QueueCounter,event:e}}}(e.Item||(e.Item={}));e.empty=function(){return a.iso().wrap(a.empty())},e.removeAllBySduiId=function(e){return function(t){return Object(l.m)(a.iso().unwrap(t),a.removeAllBySduiId(e))}},e.addItem=function(e){return function(t){return Object(l.m)(a.iso().unwrap(t),a.addItem(e))}},e.removeItems=function(e){return function(t){return Object(l.m)(a.iso().unwrap(t),a.removeItems(e))}},e.removeEarlierItemsBySduiId=function(e){return function(t){return Object(l.m)(a.iso().unwrap(t),a.removeEarlierItemsBySduiId(e))}},e.toQueueValuesArray=function(e){return Object(l.m)(a.iso().unwrap(e),a.toQueueValuesArray)}}(i||(i={}));var w,k,E=n("3Wty"),O=n("tSYx"),A=n("zR/0"),_=n("GGUR"),x=n("JSVy"),I=n("AHUR"),j=n("3HQf");function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){P(e,t,n[t])}))}return e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(k=w||(w={})).create=function(e,t){return{card:e,parentStrongAlertRef:t}},k.isAssistantCardContent=function(e){return"assistantCard"===e.card.type},k.isInlineCardContent=function(e){return"inlineCard"===e.card.type};var B,F,D=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new j.a,r=this;M(this,e),this.alertIdResolver=n,this.popoverManager=a,this._state=c.a.create(O.a.empty),this.state=this._state.view((function(e){return O.a.iso.wrap(e)})),this._onAlertsRefEmpty=new A.a.Subject,this._removedAlerts=new A.a.Subject,this._removedRoot=new A.a.Subject,this._switchView=new A.a.Subject,this._sessionEvents=new A.a.Subject,this._reviseSduiQueue=new A.a.Subject,this._flush=new A.a.Subject,this._flushViewSwitch=new A.a.Subject,this._subs=new _.a.Keeper,this._log=f.Monitoring.Logging.getLogger("SDUIManager",f.Logging.LogLevel.TRACE,f.Logging.LogColor.Manager.getColor()),this.loadItems=function(e){var t=r,n=Object(l.m)(e,o.D((function(e){return"popoverStack"===e.content.type}))),a=n.right,i=n.left;a.forEach((function(e){var n=e.content;"popoverStack"===n.type&&t.popoverManager.addPopover(n)})),Object(l.m)(i,o.C((function(e){return L({},e,{invalid:!0})})),r._arrayToDiff,O.a.applyDiff,u.j.map(d.a.recover((function(e){return t._log.error("conflicts on diff apply",e)}))),(function(e){return t._state.modify(e)}))},this._arrayToDiff=function(e){return p.a.fromMutation((function(t){return o.C((function(e){t.set(e.id,u.m.right(e))}))(e)}))},this.findFirstCardWithContent=function(e){return Object(l.m)(r.state.get(),E.a.get(e),u.g.map((function(e){var t=e.content;return I.a.reduce(t,(function(e,t){return Object(l.m)(e,u.b.fold((function(e){return"strongAlertRef"===t.type?u.b.left(u.g.some(t)):"assistantCard"===t.type||"inlineCard"===t.type?u.b.right(w.create(t,e)):u.b.left(e)}),u.b.right))}),I.a.TreeTraversal.PreOrder,u.b.left(u.g.none))})),u.g.chain(u.g.fromEither))},this.notifyAlertsChanged=function(){return r._reviseSduiQueue.next()},this.onSessionStarted=function(){return r._sessionEvents.next(F.Start)},this.onFirstCheckingFinished=function(){return r._sessionEvents.next(F.FirstCheckingFinished)},this._processEvents=function(e){return function(t,n){var a=r,o=Object(l.m)(n,u.b.fold((function(n){return Object(l.m)(i.toQueueValuesArray(t),u.a.filter(e))}),(function(n){if(n.kind===x.a.SduiEventKind.Remove){a._log.debug("[IN - ".concat(n.kind,", {id: ").concat(n.sduiRootId,"}] removeAllBySduiId"));var r=i.Item.fromEvent(n);return i.removeAllBySduiId(r)(t),[r]}var o=i.Item.fromEvent(n);return e(o)?(a._log.debug("[IN - ".concat(o.event.kind," {sduiRootId: ").concat(o.event.sduiRootId,", id: ").concat(o.id," refs: ").concat(JSON.stringify(I.a.getAlertIds(o.event.sdui)),"}, ] hasAllAlerts")),[o]):(i.addItem(o)(t),a._log.debug("[IN - ".concat(o.event.kind," {sduiRootId: ").concat(o.event.sduiRootId,", id: ").concat(o.id," refs: ").concat(JSON.stringify(I.a.getAlertIds(o.event.sdui)),"}] add to queue, [queue]: ").concat(i.show.show(t))),[])})),(function(e){return a._log.debug("[completeItems] ".concat(e.map((function(e){return e.id})).join(", "),", [queue]: ").concat(i.show.show(t))),i.removeItems(e)(t),e.forEach((function(e){return i.removeEarlierItemsBySduiId(e)(t)})),e}),u.a.map(m.e.pick("event")));return L({},t,{completeEvents:o})}},this._getAllAlertsIdsFromEvent=function(e,t){return Object(l.h)((function(e){return e.sdui}),r._getAlertsIdsFromDSL(e,t))},this._getAlertsIdsFromAlertRef=function(e,t){return function(n){return Object(l.m)(n,I.a.getAlertIds,u.g.tapLeft((function(){return t===B.Silent?{}:r._log.error("Provided SDUI dsl doesn't contain alertIds array. StrongAlertRef: ".concat(JSON.stringify({id:n.id,type:n.type,name:n.name,alertIds:n.alertIds})))})),u.g.fold((function(){return[]}),l.k),r._resolveAlertIds(e,t))}},this._getAlertsIdsFromDSL=function(e,t){return function(n){return Object(l.m)(n,I.a.getAllAlertIds,(function(e){return Array.from(new Set(e))}),(function(e){return o.y(e)?(r._log.trace("Provided SDUI dsl doesn't contain any alertIds references. DSL id: ".concat(n.id)),e):e}),r._resolveAlertIds(e,t))}},this._resolveAlertIds=function(e,t){return function(n){return Object(l.m)(n,o.C((function(n){return Object(l.m)(b.a.AlertId.from(n),e,u.g.tapLeft((function(){return t===B.Silent?{}:r._log.error("Alert with raw id ".concat(n,", can not be found. It was either deleted or was not added yet."))})))})),o.I(u.g.option))}},this._hasAllAlerts=function(e,t){return Object(l.h)(r._getAllAlertsIdsFromEvent(e,t),u.g.isSome)},this._toInternalDiff=function(e){var t=r;return function(n){var a=R(n,2),r=a[0],i=a[1],o=t,c=O.a.MutableInternalDiff.empty();return Object(l.m)(r,s.G(c,(function(t,n){var a=o;return n.kind===x.a.SduiEventKind.Remove?o._handleSDUIRemove(n,i,t):Object(l.m)(o._getAllAlertsIdsFromEvent(e,B.Silent)(n),u.g.map(o._toSDUIItem(n)),u.g.fold((function(){return a._log.trace(H.internalDiffParsingError([I.a.getAllAlertIds(n.sdui).join(", "),n.sduiRootId]))}),(function(e){var r=n.kind;switch(r){case x.a.SduiEventKind.Add:a._handleSDUIAdd(e,n.rev,i,t);break;case x.a.SduiEventKind.Update:a._handleSDUIUpdate(e,i,t);break;default:Object(h.c)(r)}})),(function(e){return t}))})))}},this._preserveViewStackForCAPIUpdates=function(e){return Object(l.m)(e,s.y((function(e){return e.kind!==x.a.SduiEventKind.Update||e.source!==y.c.CAPI?e:y.b.of(e.sduiRootId,e.source,e.rev)(u.g.fold((function(){return u.g.some(e.sdui)}),Object(l.h)(I.a.toContentMap,(function(t){return Object(l.m)(t,Object.values,u.a.filterMap((function(e){var t=e.content;return"viewStack"===t.type?u.g.some({type:"switchView",where:t.id,selected:t.selected}):u.g.none})),(function(n){return I.a.bulkSwitchView(e.sdui,n,t)}))}),u.g.some)))})))},this._normalizeSDUIEvents=function(e){var t=R(e,2),n=t[0],a=t[1],i=r;return Object(l.m)(n,o.j((function(e){return"sdui_lazy_update"!==e.kind?u.g.some(e):i._handleSDUILazyUpdate(e,a)})))},this._toSDUIItem=function(e){return function(t){return{id:b.a.Item.Id.from(e.sduiRootId),content:e.sdui,alertIds:t}}},this._emitDomainEvent=function(e){var t=r;r._log.debug("internalDiff",O.a.InternalDiff.show.show(e)),Object(l.m)(e,O.a.createDiff,d.a.recover((function(e){return t._log.error("conflicts on diff creating",e)})),(function(e){return t._log.debug("SDUIItemsCollectionDiff",O.a.diffShow.show(e)),e}),O.a.applyDiff,u.j.map(d.a.recover((function(e){return t._log.error("conflicts on diff apply",e)}))),(function(e){return t._state.modify(e)}))},this._debugLogState=function(e){return r._log.debug("[SDUIManagerState] (SDUIItemsCollection)","_latestChangeDiff: ".concat(O.a.diffShow.show(e.latestChangeDiff),",\n _entriesIds: ").concat(O.a.InternalDiff.showMapKeys.show(e.entries),"}"))},this._getBufferObs=function(){return{bufferObsForSDUIEvents:A.a.mergeStatic(A.a.interval(100).pipe(A.a.startWith(0)),r._flush),bufferObsForViewSwitchEvents:A.a.mergeStatic(A.a.interval(100).pipe(A.a.startWith(0)),r._flushViewSwitch)}};var v=t.pipe(A.a.map(y.a.fromSource(y.c.CAPI))),S=this._getBufferObs(),C=S.bufferObsForSDUIEvents,k=S.bufferObsForViewSwitchEvents,T=Object(y.d)(this._removedAlerts.asObservable(),this._removedRoot.asObservable(),this.state,this._switchView.asObservable(),this.popoverManager,this._log,k),N=T.emptyAlertsRefReasonTuple,P=T.optimisticRemoveSDUIEvent,D=T.emptyStrongAlertRefUpdate,V=T.viewStackUpdates,U=T.activePopoverUpdates,W=A.a.mergeStatic(v,P,D).pipe(A.a.tap((function(e){return r._log.debug("Received SDUI event: ".concat(y.a.show.show(e)," from: ").concat(e.source))})),A.a.scan((function(e,t){var n=t.source;switch(n){case y.c.RemoveAlertsSDUIAction:case y.c.RemoveRootSDUIAction:case y.c.RemoveDuplicate:case y.c.TextChange:return t.kind===x.a.SduiEventKind.Remove&&e.optRemovedSDUIRootIds.add(t.sduiRootId),L({},e,{event:u.g.some(t)});case y.c.CAPI:return Object(l.m)(t,u.g.fromPredicate((function(t){return e.optRemovedSDUIRootIds.has(t.sduiRootId)})),u.g.tap((function(t){return e.optRemovedSDUIRootIds.delete(t.sduiRootId)})),u.g.chain(u.g.fromPredicate(Object(g.p)(y.f,y.e))),u.g.fold((function(){return L({},e,{event:u.g.some(t)})}),(function(t){return t.kind===x.a.SduiEventKind.Remove?L({},e,{event:u.g.none}):L({},e,{event:u.g.some(L({},t,{kind:x.a.SduiEventKind.Add}))})})));case y.c.SwitchView:return L({},e,{event:u.g.some(t)});default:Object(h.c)(n)}}),{optRemovedSDUIRootIds:new Set,event:u.g.none}),A.a.map(m.e.pick("event")),A.b.compact,A.a.map(u.b.right)),q=Object(l.h)(m.e.pick("event"),this._hasAllAlerts(this.alertIdResolver,B.Silent)),z=A.a.mergeStatic(W,this._reviseSduiQueue.pipe(A.a.map(u.b.left))).pipe(A.a.scan(this._processEvents(q),L({},i.empty(),{completeEvents:[]})),A.a.map(m.e.pick("completeEvents"))),$=A.a.mergeStatic(z,V,U).pipe(A.a.buffer(C),A.a.map((function(e){return o.q(e)})),A.a.filter(o.z)),G=$.pipe(A.a.map(this._preserveViewStackForCAPIUpdates),A.a.withLatestFrom(this._state),A.a.map(this._normalizeSDUIEvents),A.a.filter(o.z)),K=this._sessionEvents.pipe(A.a.filter((function(e){return e===F.Start})),A.a.withLatestFrom(this._state),A.a.map((function(e){var t=R(e,2);t[0];return t[1]})),A.a.filter((function(e){return e.entries.size>0})),A.a.map(O.a.MutableInternalDiff.fromState((function(e,t){var n=L({},t,{invalid:!0});return b.a.Item.eq.equals(t,n)||e.updated.set(t.id,[t,n]),e})))),Y=this._sessionEvents.pipe(A.a.filter((function(e){return e===F.FirstCheckingFinished})),A.a.withLatestFrom(this._state),A.a.map((function(e){var t=R(e,2);t[0];return t[1]})),A.a.filter((function(e){return e.entries.size>0})),A.a.map(O.a.MutableInternalDiff.fromState((function(e,t){var n;return null!==(n=t.invalid)&&void 0!==n&&n&&e.removed.set(t.id,t),e})))),Z=A.a.mergeStatic(K,Y);this._subs.push(this._state.pipe(A.a.tap(this._debugLogState)).subscribe(),N.subscribe((function(e){var t=R(e,1)[0];return r._onAlertsRefEmpty.next(t)})),G.pipe(A.a.withLatestFrom(this._state),A.a.map(this._toInternalDiff(this.alertIdResolver)),A.a.filter(Object(l.l)(O.a.InternalDiff.isEmpty)),A.a.map(this._emitDomainEvent)).subscribe(),Z.subscribe(this._emitDomainEvent))}var t,n,a;return t=e,(n=[{key:"onAlertsRefEmpty",get:function(){return this._onAlertsRefEmpty.asObservable()}},{key:"pushRemovedRoot",value:function(e){this._removedRoot.next(e)}},{key:"pushRemovedAlerts",value:function(e){this._removedAlerts.next(e)}},{key:"pushSwitchView",value:function(e){this._switchView.next(e)}},{key:"flush",value:function(){this._flush.next(),this._flushViewSwitch.next(),this._flush.next()}},{key:"resolveStrongAlertRefAlerts",value:function(e){var t=this;return Object(l.m)(this._getAlertsIdsFromAlertRef(this.alertIdResolver,B.Error)(e),u.g.tapLeft((function(){return t._log.error("Alert ids from the provided component were not removed, because AlertIds for the provided DSL was not resolved. SDUI content ".concat(JSON.stringify({id:e.id,type:e.type,name:e.name,alertIds:e.alertIds})))})))}},{key:"_handleSDUIAdd",value:function(e,t,n,a){var r=this;return"popoverStack"===e.content.type?(this.popoverManager.addPopover(e.content,t),O.a.MutableInternalDiff.empty()):(Object(l.m)(n,O.a.get(e.id),u.g.fold((function(){if(Object(h.f)(!a.updated.has(e.id),"SDUI item can not be in the diff.updated until it gets to the collection",(function(){return O.a.InternalDiff.show.show(a)+O.a.diffShow.show(O.a.diff(O.a.empty,n))})),a.removed.has(e.id))return r._log.trace(H.actionOnRemovedItem([e.id,"added"]));a.added.set(e.id,e)}),(function(t){if(Object(h.f)(!a.added.has(e.id),"SDUI item can not be in the diff.added when it is already in the collection",(function(){return O.a.InternalDiff.show.show(a)+O.a.diffShow.show(O.a.diff(O.a.empty,n))})),a.removed.has(e.id))return r._log.trace(H.actionOnRemovedItem([e.id,"added"]));a.updated.set(e.id,[t,e])}))),a)}},{key:"_handleSDUIUpdate",value:function(e,t,n){var a=this;return Object(l.m)(t,O.a.get(e.id),u.g.fold((function(){return Object(h.f)(!n.updated.has(e.id),"SDUI item can not be in the diff.updated until it gets to the collection"+O.a.InternalDiff.show.show(n)+O.a.diffShow.show(O.a.diff(O.a.empty,t))),n.removed.has(e.id)?a._log.trace(H.actionOnRemovedItem([e.id,"updated"])):n.added.has(e.id)?(a._log.trace(H.updateIdMissingFound([e.id])),void n.added.set(e.id,e)):a._log.error(H.updateIdMissingNotFound([e.id]))}),(function(r){return Object(h.f)(!n.added.has(e.id),"SDUI item can not be in the diff.added when it is already in the collection"+O.a.InternalDiff.show.show(n)+O.a.diffShow.show(O.a.diff(O.a.empty,t))),n.removed.has(e.id)?a._log.trace(H.actionOnRemovedItem([e.id,"update"])):b.a.Item.eq.equals(r,e)?a._log.trace(H.updateItemsAreEqual([e.id])):void n.updated.set(e.id,[r,e])}))),n}},{key:"_handleSDUIRemove",value:function(e,t,n){var a=this,r=b.a.Item.Id.from(e.sduiRootId);return this.popoverManager.removePopover(r,e.rev),Object(l.m)(t,O.a.get(r),u.g.fold((function(){if(Object(h.f)(!n.updated.has(r),"SDUI item can not be in the diff.updated until it gets to the collection"+O.a.InternalDiff.show.show(n)+O.a.diffShow.show(O.a.diff(O.a.empty,t))),!n.added.has(r))return a._log.trace(H.removeIdMissingNotFound([r]));a._log.trace(H.removeIdMissingFound([r])),n.added.delete(r)}),(function(e){Object(h.f)(!n.added.has(e.id),"SDUI item can not be in the diff.added when it is already in the collection"+O.a.InternalDiff.show.show(n)+O.a.diffShow.show(O.a.diff(O.a.empty,t))),n.updated.delete(r)?a._log.trace(H.idRemovedFrom([r,"diff.updated"])):Object(l.f)(),n.removed.set(r,e)}))),n}},{key:"_handleSDUILazyUpdate",value:function(e,t){var n=this;return Object(l.m)(t,O.a.get(e.sduiRootId),u.g.tapLeft((function(){return n._log.trace("SDUI Item with sduiRootId ".concat(e.sduiRootId,"  was not found"))})),u.g.fold((function(){return e.toContent(u.g.none)}),(function(t){var a=t.content;return Object(l.m)(e.toContent(u.g.some(a)),u.g.filter((function(e){return!I.a.eq.equals(e,a)})),u.g.tapLeft((function(){return n._log.trace("SDUI Update event ".concat(JSON.stringify(e)," will be skipped, because the new DSL is the same as an old one"))})))})),u.g.map((function(t){return{kind:x.a.SduiEventKind.Update,sdui:t,sduiRootId:x.a.RawSduiItem.Id.create(e.sduiRootId),rev:e.rev,source:e.source}})))}},{key:"dispose",value:function(){this._subs.dispose()}}])&&N(t.prototype,n),a&&N(t,a),e}(),H={removeIdMissingFound:function(e){var t=R(e,1)[0];return"[Remove] SDUI item with ID ".concat(t," was found in the added messages. Removing it.")},removeIdMissingNotFound:function(e){var t=R(e,1)[0];return"[Remove] It is not possible to remove SDUI item with ID ".concat(t,". It is missing from SDUIItemsCollectionInternal and diff.add, probably it was deleted earlier. Skipping the message")},idRemovedFrom:function(e){var t=R(e,2),n=t[0],a=t[1];return"[Remove] SDUI item with ID ".concat(n," is going to be removed. ").concat(a," contains the item with ID ").concat(n," too. Remove ").concat(n," from ").concat(a)},actionOnRemovedItem:function(e){var t=R(e,2),n=t[0],a=t[1];return"[".concat(a,"] It is not possible to ").concat(a," SDUI item with ID ").concat(n,". Because it was already removed. Skipping the ").concat(a,".")},viewStackUpdateIdMissing:function(e){var t=R(e,1)[0];return"[ViewStackUpdate] SDUI item with ID ".concat(t," was found. Skipping the update.")},updateIdMissingFound:function(e){var t=R(e,1)[0];return"[Update] SDUI item with ID ".concat(t," was found in added messages. Updating it in added messages")},updateIdMissingNotFound:function(e){var t=R(e,1)[0];return"[Update] It is not possible to update SDUI item with ID ".concat(t,". It is missing from SDUIItemsCollectionInternal and diff.added, probably it was deleted earlier. Skipping the message")},updateItemsAreEqual:function(e){var t=R(e,1)[0];return"[Update] Received sdui item (sduiId: ".concat(t,") is the same as in the state. Skipping the update message")},internalDiffMissingAlertsIds:function(){return"missing AlertIDs"},internalDiffParsingError:function(e){var t=R(e,2),n=t[0],a=t[1];return"toInternalDiff, either can not resolve ".concat(n," for ").concat(a," or id of the sdui item is missing . The item will be skipped")}};!function(e){e.Silent="Silent",e.Error="Error"}(B||(B={})),function(e){e.Start="Start",e.FirstCheckingFinished="FirstCheckingFinished"}(F||(F={}))},"gw+C":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("OA+g"),i=n("94k3"),o=n("SGhz"),s=n("zR/0"),l=n("lrqh"),c=n("PrA7");!function(e){e.create=(e,t,n)=>{const a=c.Monitoring.Logging.getLogger("DOXConnector",c.Logging.LogLevel.DEBUG,c.Logging.LogColor.Model.getColor("DOXConnector")),u=new s.a.Subject;return{pushChanges:t=>{n.demoMode||(a.debug("Outgoing DeltaChange to DOX",t),u.next(t),l.l.toPromise(e.remoteDocument.pushChanges(t)).catch(e=>o.b.isNotConnectedError(e)?a.warn("Could not push changes to DOX",e):a.error("Error on pushing changes to DOX",e)))},changes:Object(r.pipe)(t,s.a.filter(i.b.DOXEvent.is("change")),s.a.pluck("change"),s.a.startWith(e.initialDelta),s.a.tap(e=>a.debug("Incoming Change from DOX",e))),outgoingChanges:u}},e.Mock=e=>({pushChanges:r.constVoid,changes:(null==e?void 0:e.changes)||s.a.EMPTY,outgoingChanges:s.a.EMPTY})}(a||(a={}))},gyms:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return v}));var a,r=n("ERkP"),i=n("I7vG"),o=n("vOOZ"),s=n("lrqh"),l=n("1w6p"),c=n("rk+4"),u=n("bO3R"),d=n("3rlE"),p=n("BugA"),m=n("zR/0"),h=n("m2o7"),g=n("yV3Z");!function(e){let t;!function(e){e.onFullShow="onFullShow",e.onUpgrade="onUpgrade",e.onContinueWithFreePlan="onContinueWithFreePlan"}(t=e.ActionsKind||(e.ActionsKind={}))}(a||(a={}));const f=l.b.Node.make(({view:e,notify:t})=>{const n=r.useContext(c.a.Context);return r.createElement(o.a.div,{mount:t({type:"upgradeHookAction",kind:a.ActionsKind.onFullShow}),className:h.a.maximizedContainer},r.createElement(g.d,{alertsCount:e("count"),extendedCard:!0}),r.createElement(o.a.div,{className:h.a.alertsContainer},r.createElement(o.a.div,{className:h.a.alertCategoryContainer},e("alerts").pipe(m.a.map(e=>e.map((e,t)=>r.createElement(g.a,{key:t,alert:e}))))),r.createElement(g.c,{alertsCount:e("count")})),r.createElement(o.a.div,{className:h.a.buttonContainer},r.createElement(u.a,{name:"upgrade",className:h.a.premiumButton,onClick:t({type:"upgradeHookAction",kind:a.ActionsKind.onUpgrade})},r.createElement(d.d.UpgradeHookPanel.ButtonDiamond,null),n.goPremium),e("documentType").pipe(m.a.map(e=>"demo"===e?r.createElement(u.a,{className:h.a.continueWithFreePlanButton,name:"go-to-homepage",onClick:t({type:"upgradeHookAction",kind:a.ActionsKind.onContinueWithFreePlan})},"Continue with free plan"):null))),e("documentType").pipe(m.a.map(e=>"default"===e?r.createElement("footer",{key:"footer",className:h.a.footer},r.createElement(p.i,{className:h.a.footerText},"It’s an online service that quickly and easily makes",r.createElement("br",null),"your writing better and makes you sound like a pro,",r.createElement("br",null),"or at least helps you avoid looking like a fool."),r.createElement(b,{className:h.a.footerLogo})):null)))}),b=({className:e})=>r.createElement("svg",{"aria-hidden":!0,width:"77",height:"20",viewBox:"0 0 77 20",className:e},r.createElement("path",{d:"M15.58138.367837l.088647 5.412045-.885505.275407c-.884542-2.75209-2.12367-4.31141-4.51328-4.31141H7.17438c-.08961 1.742595-.177293 4.67895-.177293 7.797587l2.12367-.091142c1.327775 0 1.94734-1.100637 2.212316-2.660947h.796858v6.512683h-.796858c-.264977-1.559318-.88454-2.659955-2.212317-2.659955l-2.12367-.091142c0 2.38455.087682 4.310417.177293 5.504178.17633 1.742594.6186 2.568815 1.769082 2.659957l1.0628.184266v.734088H.004586v-.734087l.885505-.184266c1.150482-.091142 1.592753-.917363 1.769083-2.659956.178257-2.84323.266904-8.80708 0-12.108993-.17633-1.743584-.6186-2.477673-1.769083-2.660947l-.885505-.092133v-.82523H15.58138zm31.331168 5.319616c3.009175 0 5.31014 2.75308 5.31014 6.514664 0 4.77108-2.831883 7.797586-7.522457 7.797586-1.682362 0-3.363762-.274417-4.956514-.641956.088647-1.92686.177294-13.670294 0-15.87058-.177294-1.101627-.44227-1.560308-1.23913-1.743583l-.619563-.092132v-.549824L43.814726 0c-.088647.918354-.088647 3.57831-.088647 6.513674.97415-.550814 1.94734-.82622 3.186468-.82622zM20.62606 5.50517c4.425597 0 6.638878 3.118637 6.638878 7.24677 0 3.94486-2.478258 7.247763-6.903855 7.247763-4.425598 0-6.637915-3.118638-6.637915-7.247763 0-3.943868 2.478258-7.24677 6.902892-7.24677zm32.74759 7.3392c0-3.761584 2.300964-7.339895 6.815208-7.339895 3.716423 0 5.487433 2.845213 5.487433 6.605807h-8.23163c-.088646 3.394045 1.50507 5.870727 4.691538 5.870727 1.41546 0 2.12367-.36556 3.009175-1.008506l.353624.45868C64.613492 18.715098 62.667117 20 60.188857 20c-3.983325 0-6.815207-2.935364-6.815207-7.15563zm22.83408-6.604815l.088646 3.57732-.6186.183274c-.79686-2.477674-1.858694-3.48618-3.45241-3.48618-1.061835 0-1.858693.82523-1.858693 2.018 0 1.193762.88454 1.835718 3.3628 2.844223 2.301926.917363 3.275114 2.018 3.275114 3.94486C77.004587 18.164282 74.79227 20 71.340824 20c-1.682362 0-3.629702-.36655-4.691538-.82523l-.088646-4.036992.619564-.184265c.974152 2.75209 2.21328 3.761584 3.89468 3.761584 1.416422 0 2.212317-1.009495 2.212317-2.110133 0-1.100637-.619563-1.743584-2.83188-2.567824-2.124634-.73508-3.62874-1.743584-3.62874-4.128133 0-2.38653 2.035987-4.404532 5.31014-4.404532 1.592752 0 3.009174.275407 4.07101.73508zM38.77024 5.87152l-1.416424 3.761584c-1.770046-1.19277-3.716423-.641956-4.159657 0-.087684 2.202266-.087684 5.687453.088646 7.432028.088647 1.099647.354587 1.64947 1.23913 1.741603l1.061834.092132v.73409h-8.230667v-.73409l.619564-.092132c.796858-.092133 1.150482-.641956 1.23913-1.741603.088646-1.92686.177293-5.780576 0-7.982842-.088648-1.19277-.442272-1.65046-1.23913-1.742593l-.619564-.092133V6.69774l5.929703-1.19277-.088647 3.21077c1.416422-3.302902 4.071973-3.761583 5.57608-2.84422zm6.107285 13.118687c1.85773 0 3.185505-2.84323 3.185505-6.513674 0-2.935363-1.061835-5.319913-3.009175-5.319913-.44227 0-.795895.091142-1.327776.275408-.087684 4.77009 0 10.183125.088646 11.467037.26594.091142.70821.091142 1.0628.091142zM20.361083 6.422532c-1.94734 0-2.478258 2.75209-2.478258 6.329408 0 3.486178.885505 6.3304 2.655552 6.3304 2.035023 0 2.566904-2.75209 2.566904-6.3304 0-3.486177-.885504-6.329408-2.744197-6.329408zm37.083577 4.679245l4.159657-.092133c0-1.834726-.264977-4.586815-1.769082-4.586815-1.50507 0-2.301928 2.567823-2.390575 4.678947z",fill:"#C6CBDE",fillRule:"evenodd"})),y=l.b.Composite.make(Object(g.b)(h.a.maximizedWrapper),f),v=Object(i.pipe)(l.b.squash(y),l.b.contramapState(e=>{const t=e.alertsState.alerts.slice(0,5),n=e.alertsState.alerts.slice(5).map(e=>e.count).reduce((e,t)=>e+t,0),a=n>0?[...t,{group:"",category:"",categoryHuman:"more...",count:n,lensName:"more...",bundleInfo:s.g.some("more...")}]:t;return Object.assign(Object.assign({},e.alertsState),{alerts:a})}))},h6df:function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"i",(function(){return r})),n.d(t,"k",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"n",(function(){return m})),n.d(t,"o",(function(){return h})),n.d(t,"m",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"l",(function(){return b}));var a=function(e){return function(){return{concat:function(t,n){return function(a){return e.concat(t(a),n(a))}}}}},r=function(e){var t=a(e);return function(){return{concat:t().concat,empty:function(){return e.empty}}}};function i(e){return e}function o(e){return function(){return e}}var s=o(!0),l=o(!1),c=o(null),u=o(void 0),d=u;function p(e,t,n,a,r,i,o,s,l){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return a(n(t(e.apply(this,arguments))))};case 5:return function(){return r(a(n(t(e.apply(this,arguments)))))};case 6:return function(){return i(r(a(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(i(r(a(n(t(e.apply(this,arguments)))))))};case 8:return function(){return s(o(i(r(a(n(t(e.apply(this,arguments))))))))};case 9:return function(){return l(s(o(i(r(a(n(t(e.apply(this,arguments)))))))))}}}function m(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function h(e){return function(t){return e.apply(void 0,t)}}function g(e,t,n,a,r,i,o,s,l){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return a(n(t(e)));case 5:return r(a(n(t(e))));case 6:return i(r(a(n(t(e)))));case 7:return o(i(r(a(n(t(e))))));case 8:return s(o(i(r(a(n(t(e)))))));case 9:return l(s(o(i(r(a(n(t(e))))))));default:for(var c=arguments[0],u=1;u<arguments.length;u++)c=arguments[u](c);return c}}var f=function(e,t){return t};function b(e){return function(t){return!e(t)}}},hJSx:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("OA+g"),r=n("1aGC"),i=n("24uI"),o=n("4ae2"),s=n("GGUR"),l=n("zR/0"),c=n("2yqA"),u=n("D9EC"),d=n("lrqh"),p=n("PrA7"),m=n("rlNc");const h=r.import("core/module"),g=r.import("parchment");class f extends h{constructor(e,t){super(e,t),this.quill=e,this._options=t,this._subs=new s.a.Keeper,this._log=p.Monitoring.Logging.getLogger("DEd.Histor"),this._lastRecorded=0,this._ignoreChange=!1,this._stack={undo:[],redo:[]},this._anonymizedOperationsCache=new m.a(20,!0),this._changed=new l.a.Subject,this.changed=this._changed,this.clear();const n=Object(c.A)(this.quill).pipe(l.a.share());this._subs.push(n.subscribe(e=>{e.name===r.events.TEXT_CHANGE&&this._anonymizedOperationsCache.push({ops:i.a.anonymizeTextAndStringAttrs(e.delta).ops,source:e.source})}),n.subscribe(e=>{e.name!==r.events.TEXT_CHANGE||this._ignoreChange||(t.userOnly&&e.source!==r.sources.USER?this._transform(y(e.delta)):this._record(y(e.delta),y(e.oldDelta)))})),Object(u.r)("dedOpsHistory",()=>this._anonymizedOperationsCache.toArray())}clear(){this._stack={undo:[],redo:[]}}cutoff(){this._lastRecorded=0}commit(e){this.cutoff(),e(),this.cutoff()}redo(e){try{this._log.info("History action: redo"),this._change("redo","undo",e)}catch(e){this._log.error("History action: redo error",e)}}canRedo(){return this._stack.redo.length>0}canUndo(){return this._stack.undo.length>0}undo(e){try{this._log.info("History action: undo"),this._change("undo","redo",e)}catch(e){this._log.error("History action: undo error",e)}}getAnonymizedOperationsHistory(){return this._anonymizedOperationsCache.toArray()}dispose(){this._subs.dispose()}_flush(){this._options.flush()}_change(e,t,n){if(0===this._stack[e].length)return;this._flush();const a=this._stack[e].pop();this._lastRecorded=0,this._ignoreChange=!0,i.a.splitToDeleteThenInsert(a[e]).filter(i.a.nonEmpty).forEach(e=>{this.quill.updateContents(Object(c.z)(e),r.sources.USER)}),this._ignoreChange=!1;const o=b(a[e]);this.quill.setSelection(o,0),this._stack[t].push(a),this._changed.next({source:n})}_record(e,t){Object(a.pipe)(i.a.getOps(e),d.g.tap(()=>{this._stack.redo=[];let n=y(Object(c.y)(this.quill.getContents())).diff(t,b(e));const a=Date.now();if(this._lastRecorded+this._options.delay>a&&this._stack.undo.length>0){const t=this._stack.undo.pop();n=n.compose(t.undo),e=t.redo.compose(e)}else this._lastRecorded=a;this._stack.undo.push({redo:e,undo:n}),this._stack.undo.length>this._options.maxStack&&this._stack.undo.shift()}))}_transform(e){Object(a.pipe)(i.a.getOps(e),d.g.tap(()=>{this._stack.undo.forEach(t=>{t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this._stack.redo.forEach(t=>{t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}))}}function b(e){const t=e.reduce((e,t)=>e+(i.a.isDelete(t)?t.delete:0),0);let n=e.length()-t;return function(e){const t=e.ops[e.ops.length-1];return null!=t&&(i.a.isInsert(t)?"string"==typeof t.insert&&t.insert.endsWith("\n"):!(i.a.isDelete(t)||!t.attributes)&&Object.keys(t.attributes).some(e=>null!=g.query(e,g.Scope.BLOCK)))}(e)&&(n-=1),n}function y(e){return Object(a.pipe)(i.a.getOps(e),d.g.fold(()=>e,t=>{const n=e.reduce((e,t)=>i.a.match(t=>e.insert(t.insert,t.attributes&&S(t.attributes)),t=>e.delete(t.delete),t=>e.retain(t.retain,t.attributes&&S(t.attributes)))(t),new o.a),a=n.ops[0];return Boolean(n.ops)&&1===n.ops.length&&i.a.isRetain(a)&&!a.attributes?new o.a:n}))}const v=new RegExp(`^${c.f}_`);function S(e){return Object.keys(e).reduce((t,n)=>v.test(n)?t:Object.assign(Object.assign({},t),{[n]:e[n]}),{})}},hO7h:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"u",(function(){return u})),n.d(t,"v",(function(){return d})),n.d(t,"E",(function(){return p})),n.d(t,"C",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"R",(function(){return f})),n.d(t,"S",(function(){return b})),n.d(t,"Q",(function(){return y})),n.d(t,"M",(function(){return v})),n.d(t,"P",(function(){return S})),n.d(t,"K",(function(){return C})),n.d(t,"m",(function(){return w})),n.d(t,"x",(function(){return k})),n.d(t,"F",(function(){return E})),n.d(t,"l",(function(){return O})),n.d(t,"p",(function(){return _})),n.d(t,"D",(function(){return I})),n.d(t,"t",(function(){return j})),n.d(t,"c",(function(){return T})),n.d(t,"N",(function(){return M})),n.d(t,"d",(function(){return N})),n.d(t,"B",(function(){return P})),n.d(t,"i",(function(){return B})),n.d(t,"y",(function(){return F})),n.d(t,"G",(function(){return H})),n.d(t,"j",(function(){return V})),n.d(t,"H",(function(){return U})),n.d(t,"J",(function(){return W})),n.d(t,"k",(function(){return q})),n.d(t,"I",(function(){return z})),n.d(t,"o",(function(){return G})),n.d(t,"n",(function(){return K})),n.d(t,"q",(function(){return Y})),n.d(t,"O",(function(){return Z})),n.d(t,"w",(function(){return X})),n.d(t,"r",(function(){return Q})),n.d(t,"A",(function(){return J})),n.d(t,"z",(function(){return ee})),n.d(t,"e",(function(){return te})),n.d(t,"s",(function(){return ne})),n.d(t,"h",(function(){return ae})),n.d(t,"f",(function(){return ie})),n.d(t,"L",(function(){return oe}));n("Y4t5"),n("HQ1c");var a=n("GXGe"),r=n("h6df"),i=(n("5C44"),n("mvgW")),o=n("DFfw"),s=n("SIsI"),l=function(e,t){for(var n=0,a=t.length,r=e.length;n<a;n++,r++)e[r]=t[n];return e},c=i.a,u=i.g,d=function(e,t){return e<0||e>=t.length},p=function(e){return function(t){return l([e],t)}},m=p,h=function(e){return function(t){return l(l([],t),[e])}},g=h,f=function(e,t,n){if(u(n)){var a=i.c(n);return a.splice(e,0,t),a}return[t]},b=function(e,t,n){if(n[e]===t)return n;var a=i.c(n);return a[e]=t,a},y=function(e){return function(t){if(1===t.length)return t;for(var n=[Y(t)],a=function(t){n.every((function(n){return!e.equals(n,t)}))&&n.push(t)},r=0,i=Z(t);r<i.length;r++){a(i[r])}return n}},v=function(e){if(u(e)){var t=Object(o.b)();return x(e.reduce(t.concat,t.empty))}return r.k},S=function(e){var t=y(e);return function(e){return function(n){return t(Object(r.m)(n,A(e)))}}},C=function(e){return function(t){var n=t.length,a=Math.round(e)%n;if(d(Math.abs(a),t)||0===a)return t;if(a<0){var i=M(-a)(t),o=i[0],s=i[1];return Object(r.m)(s,A(o))}return C(a-n)(t)}},w=function(e){return u(e)?i.n(e):i.k},k=function(e){return function(t){for(var n=Math.max(0,Math.floor(t)),a=[e(0)],r=1;r<n;r++)a.push(e(r));return a}},E=function(e,t){return e<=t?k((function(t){return e+t}))(t-e+1):[e]},O=function(e){return w(e.slice())};function A(e,t){return t?e.concat(t):function(t){return t.concat(e)}}var _=function(e){return function(t){for(var n={},a=0,r=t;a<r.length;a++){var i=r[a],o=e(i);n.hasOwnProperty(o)?n[o].push(i):n[o]=[i]}return n}},x=function(e){return function(t){return 1===t.length?t:t.slice().sort(e.compare)}};var I=function(e){return function(t){for(var n=[e,t[0]],a=1;a<t.length;a++)n.push(e,t[a]);return n}},j=function(e){return function(t){var n=Z(t);return u(n)?Object(r.m)(n,I(e),m(Y(t))):t}},T=function(e){return function(t){for(var n=e(t),a=[n[0]],r=n[1];u(r);){var i=e(r),o=i[0],s=i[1];a.push(o),r=s}return a}},M=function(e){return function(t){var n=Math.max(1,e);return n>=t.length?[t,c]:[Object(r.m)(t.slice(1,n),m(Y(t))),t.slice(n)]}},N=function(e){return T(M(e))},P=i.m,L=function(e){return function(e){return function(t){for(var n=i.c(e(0,Y(t))),a=1;a<t.length;a++)n.push.apply(n,e(a,t[a]));return n}}((function(t,n){return e(n)}))},R=function(e){return function(t){for(var n=Z(t),a=[e(t)];u(n);)a.push(e(n)),n=Z(n);return a}},B=(r.k,L(r.k)),F=function(e){return D((function(t,n){return e(n)}))},D=function(e){return function(t){for(var n=[e(0,Y(t))],a=1;a<t.length;a++)n.push(e(a,t[a]));return n}},H=function(e,t){return W(e,(function(e,n,a){return t(n,a)}))},V=function(e){return function(t){return function(n){return n.slice(1).reduce((function(n,a){return e.concat(n,t(a))}),t(n[0]))}}},U=function(e,t){return z(e,(function(e,n,a){return t(n,a)}))},W=function(e,t){return function(n){return n.reduce((function(e,n,a){return t(a,e,n)}),e)}},q=function(e){return function(t){return function(n){return n.slice(1).reduce((function(n,a,r){return e.concat(n,t(r+1,a))}),t(0,n[0]))}}},z=function(e,t){return function(n){return n.reduceRight((function(e,n,a){return t(a,n,e)}),e)}},$=i.e,G=function(e){return{show:function(t){return"["+t.map(e.show).join(", ")+"]"}}},K=function(e){return Object(a.b)((function(t,n){return t.length===n.length&&t.every((function(t,a){return e.equals(t,n[a])}))}))},Y=(i.b,$),Z=i.o,X=function(e){return e[e.length-1]},Q=function(e){return e.slice(0,-1)},J=function(e){var t=s.min(e);return function(e){return e.reduce(t.concat)}},ee=function(e){var t=s.max(e);return function(e){return e.reduce(t.concat)}},te=function(e){return function(t){return t.reduce(e.concat)}},ne=function(e){var t=te(e);return function(e){return Object(r.h)(j(e),t)}};function ae(e){return re((function(t,n){return e(n)}))}var re=function(e){return function(t){return w(t.filter((function(t,n){return e(n,t)})))}};function ie(e,t){return void 0===t?m(e):Object(r.m)(t,m(e))}var oe=function(e,t){return Object(r.m)(e,A([t]))}},hOiz:function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return C})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return k}));var a=n("ERkP"),r=n("I7vG"),i=n("vOOZ"),o=n("rk+4"),s=n("gOzB"),l=n("bO3R"),c=n("BugA"),u=n("Q8bi"),d=n("e12y"),p=n("lrqh"),m=n("ot6E"),h=n("Lmm7"),g=n("/Yt+"),f=n("HeG+");const b=({word:e,apply:t})=>a.createElement(l.a.Primary,{name:"accept-synonym",className:f.item,onClick:t(e)},e),y=({synonyms:e,apply:t})=>a.createElement("div",{className:f.row},e.map((e,n)=>a.createElement(b,Object.assign({},{word:e,key:n,apply:t})))),v=({result:{synonymsOrGroups:e},apply:t})=>{const n=a.useContext(m.a.Context);return a.createElement(i.a.div,{className:f.wrapper},a.createElement(c.a,{className:f.title},n.synonyms.title),Object(r.pipe)(e,p.b.fold(e=>a.createElement(y,Object.assign({key:"single"},{synonyms:e,apply:t})),e=>a.createElement("ol",{className:f.list},e.map(({meaning:e,words:n},r)=>a.createElement(u.Typography,{key:r,styleType:u.Typography.Type.Base,nodeType:"li",className:f.group},a.createElement(c.a,{className:f.groupTitle},e),a.createElement(y,Object.assign({key:"single"},{synonyms:n,apply:t}))))))))},S=d.a.style({position:"absolute",top:d.a.rem(.8),right:d.a.rem(1),margin:0}),C=({result:{synonymsOrGroups:e},apply:t})=>{const n=a.useContext(o.a.Context),l=a.useContext(m.a.Context);return a.createElement(i.a.div,{className:f.wrapper},a.createElement(c.a,{className:f.title},l.synonyms.symfony.title),a.createElement(s.a.Regular,{className:S},n.beta),Object(r.pipe)(e,p.b.fold(e=>a.createElement(y,Object.assign({key:"single"},{synonyms:e,apply:t})),e=>a.createElement(y,Object.assign({key:"single"},{synonyms:e.reduce((e,{words:t})=>[...e,...t],[]),apply:t})))))},w=({synonymsInfo:e,apply:t})=>h.a.isEmpty(e.synonymsState)?a.createElement(g.a,{activeWord:e.activeWord.meta.value}):a.createElement(v,{key:"synonymsCard",apply:t,result:e.synonymsState.synonyms}),k=({synonymsInfo:e,apply:t})=>h.a.isEmpty(e.synonymsState)?a.createElement(g.b,{activeWord:e.activeWord.meta.value}):a.createElement(C,{key:"synonymsCard",apply:t,result:e.synonymsState.synonyms})},hY4K:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("1aGC"),r=n("4ae2"),i=n("2yqA"),o=n("D9EC"),s=n("hoSD");const l=a.import("modules/keyboard"),c=l.DEFAULTS.bindings,u=o.e;class d extends l{addBinding(e,t,n){this.removeBinding(e,u),super.addBinding(e,t,n)}removeBinding(e,t){var n;Boolean(null===(n=this.bindings[e.key])||void 0===n?void 0:n.length)&&(this.bindings[e.key]=this.bindings[e.key].filter(({handler:e})=>t!==e))}}function p(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:u}}var m;!function(e){e.shiftArrowDownBeforeSection={key:"Down",collapsed:!1,empty:!1,shiftKey:!0,handler:function(e){const[t,n]=this.quill.getLeaf(e.index+e.length);if(n>0)return!0;return!Object(i.m)(t,e=>e instanceof i.d)||(this.quill.setSelection(e.index,e.length+1),!1)}},e.shiftArrowDown={key:"Down",offset:0,empty:!0,shiftKey:!0,format:["template_section"],handler:function(e,t){return!t.empty||(this.quill.setSelection(e.index,e.length+1),!1)}},e.arrowDown={key:"Down",collapsed:!0,shiftKey:!1,format:["template_section"],handler:function(e,t){return!t.empty||(this.quill.setSelection(e.index+1,0),!1)}},e.enter={key:"Enter",collapsed:!0,format:["template_section"],handler:function(e,t){return!t.empty||(this.quill.updateContents(Object(i.z)((new r.a).retain(e.index).insert("\n")),"user"),this.quill.setSelection(e.index+1,0,"user"),!1)}}}(m||(m={}));const h={key:" ",collapsed:!0,shiftKey:!1,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*)$/,handler:function(e,t){const n=t.prefix.length,[o,l]=this.quill.getLine(e.index);if(l>n)return!0;const[c,u]=(e=>{switch(e){case"-":return["dashed",/^\s*?-/];case"*":return["bullet",/^\s*?\*/];default:return["ordered",/^\s*?\d+\./]}})(t.prefix.trim());if(Boolean(o.prev)&&!s.c.Guardians.isUL(o.prev.domNode)&&!s.c.Guardians.isOL(o.prev.domNode)&&Boolean(o.prev.domNode.textContent)&&u.test(o.prev.domNode.textContent))return!0;this.quill.insertText(e.index," ",a.sources.USER),this.quill.history.cutoff();const d=(new r.a).retain(e.index-l).delete(n+1).retain(o.length()-2-l).retain(1,{list:c});return this.quill.updateContents(Object(i.z)(d),a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,0,a.sources.SILENT),!1}};var g;!function(e){let t;!function(e){e.plainTextBindings={indent:c.indent,outdent:c.outdent,"outdent backspace":c["outdent backspace"],tab:c.tab,"remove tab":c["remove tab"],bold:p("bold"),italic:p("italic"),underline:p("underline")},e.rtfBindings={indent:c.indent,outdent:c.outdent,"outdent backspace":c["outdent backspace"],tab:c.tab,"remove tab":c["remove tab"],"list empty enter":c["list empty enter"],"list autofill":h,"list autofill with shift":Object.assign(Object.assign({},h),{shiftKey:!0}),"header enter":c["header enter"]},e.templateSectionBindings={"shift down before template_section":m.shiftArrowDownBeforeSection,"template_section down":m.arrowDown,"template_section shift down":m.shiftArrowDown,"template_section enter":m.enter}}(t=e.Bindings||(e.Bindings={})),e.getKeyboardWithBindings=e=>{var t;return(t=class extends d{}).DEFAULTS={bindings:e},t}}(g||(g={}))},hnW1:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Hidden="hidden",e.Dot="dot",e.Popup="popup",e.Passed="passed"}(a||(a={}))},hzDq:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n("KCID"),r=n("ERkP"),i=n.n(r),o=n("UMB3");const s={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function l(e={}){let{style:t,isFocusable:n}=e,[a,i]=(0,r.useState)(!1),{focusWithinProps:l}=(0,o.f)({isDisabled:!n,onFocusWithinChange:e=>i(e)});return{visuallyHiddenProps:{...l,style:(0,r.useMemo)(()=>a?t:t?{...s,...t}:s,[a])}}}function c(e){let{children:t,elementType:n="div",isFocusable:r,style:o,...s}=e,{visuallyHiddenProps:c}=l(e);return i.a.createElement(n,(0,a.l)(s,c),t)}},iEw6:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r,i=n("1w6p"),o=n("zR/0"),s=n("rq0W"),l=n("lrqh"),c=n("OA+g"),u=n("gy42"),d=n("+w1e");function p(e,t,n,a){return i.a.composeUnion({Some:i.a.composeKnot({value:i.a.composeKnot({root:()=>e.pipe(o.a.map(e=>Object(c.pipe)(m(a)(e),l.g.map(t=>({item:e,key:n(e),className:t})))),o.b.compact),shadeItem:t})}),None:()=>o.a.of(l.g.none)},t=>o.a.mergeStatic(e.pipe(o.a.map(m(a))),t.pipe(o.a.filter(e=>"root"===e.action.action.key&&e.action.action.action.type===d.a.Kind.completeTransitionTo),o.a.switchMap(u.b.Scheduler.rafScheduler),o.a.mapTo(l.g.none))))}function m(e){return t=>Object(c.pipe)(t.visualState.from,l.g.chain(()=>e(t.visualState).shade))}function h(e,t,n,a,r){return i.a.composeKnot({root:()=>e.pipe(o.a.map(e=>{const{main:t,shade:n}=r(e.visualState);return{item:e,className:t,hasAnimation:l.g.isSome(t)||l.g.isSome(n)}})),shade:p(e,n,a,r),item:t})}function g(e,t){return i.a.composeKnot({root:()=>e.pipe(o.a.map(e=>e.visualState.transition.type)),staticItemChild:t})}(r=a||(a={})).flow=function(e,t,n,a=(e=>e.id),r=s.a.toOption(s.c)){return i.a.composeKnot({root:()=>e,animatedItem:i.a.composeUnion({static:g(e,t),animating:h(e,t,n,a,r)},()=>e.pipe(o.a.map(e=>({animatedItemKind:e.visualState.incomplete?"animating":"static"}))))})},r.extend=function(e){return i.a.extendActions(o.a.tap(t=>{const n=t.action;if("animating"===n.key)if("root"===n.action.key)e(n.action.action);else if("shade"===n.action.key){const t=n.action.action.action.action;"root"===t.key&&e(t.action)}}))}},ihUS:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return a}));var a,r=n("OA+g"),i=n("I7vG"),o=n("LNSM"),s=n("NaPV"),l=n("GUi3"),c=n("dE97"),u=n("Uwwq"),d=n("zR/0"),p=n("GGUR"),m=n("UEGg"),h=n("BeBM"),g=n("Z86f"),f=n("4lva"),b=n("lrqh"),y=n("D9EC"),v=n("hoSD"),S=n("6fbX"),C=n("+ukg"),w=n("bQye"),k=n("wt7H");class E{constructor(e,t,n,a,s,l,c,m,g,v,S,k,E){this._telemetry=e,this._modalManager=t,this._state=n,this._lensPreviewVM=a,this._features=s,this._getAlertClosestToCursor=l,this._documentModel=c,this._getOutcomes=g,this.defaultLensMode=v,this.cardVisualMode=S,this._isCheetahEnabled=k,this._checksFeedCapabilities=E,this.popover=o.a.create(b.g.none),this.events=new d.a.Subject,this.lensModeEvents=new d.a.Subject,this._subs=new p.a.Keeper,this.activeLensId=this._state.view("currentLens","id"),this.a11yContrast=!0,this.documentActions=o.a.combine(this._features.plagiarism,this._features.proofit,this._documentModel.documentLength.view("full").view(e=>0===e),this._documentModel.title,this._isCheetahEnabled,(e,t,n,a,r)=>({plagiarism:e===C.q.enabled?n?f.c.plagiarismDisabled(f.d.EmptyDocument):f.c.documentActionAvailable:e===C.q.upgradeIsNeeded?f.c.documentActionAvailable:f.c.plagiarismDisabled(f.d.NotAvailable),proofit:t===C.q.enabled?n?f.c.proofitDisabled(f.e.EmptyDocument):a===w.premiumDemoDocument.title?f.c.proofitDisabled(f.e.DemoDoc):f.c.documentActionAvailable:t===C.q.upgradeIsNeeded?f.c.documentActionAvailable:f.c.proofitDisabled(f.e.NotAvailable),cheetah:r?f.c.documentActionAvailable:f.c.cheetahDisabled(f.a.NotAvailable)})),this._lensSwitch=new d.a.Subject,this._alertSwitch=new d.a.Subject,this.lensChangeEffects={id:"focusFirstOnLensChange",when:r.constTrue,what:h.e.Effect.SwitchLens.create(this._lensSwitch.pipe(d.a.map(({lensId:e,focusFirst:t,actionSource:n})=>({lensId:e,alertSource:n,options:{order:"lensOrder",toFocus:t?h.e.Effect.FocusBehavior.focusFirst:h.e.Effect.FocusBehavior.noFocus}}))))},this.alertChangeEffects={id:"highlightOnAlertChange",when:r.constTrue,what:h.e.Effect.SwitchAlert.create(this._alertSwitch.pipe(d.a.map(({alertHighlight:e,actionSource:t})=>({alertHighlight:e,alertSource:t,options:{order:"lensOrder"}}))))},this.premiumButtonData=this._premiumButtonData,this.freePremiumButtonData=this._freePremiumButtonData,this._listenNavigationEvent(),this._listenLensModeEvents(),this.showMuteControl=Object(i.pipe)(m,b.g.fold(()=>o.a.create(!1),e=>e.mutedCategories.view(u.a.BaseMutedCategories.filter(Object(y.m)(u.a.Category.isSpecial))).view(e=>e.size>0))),this.lensMode=o.a.create(v),this.lensTitleType=f.c.LensTitleType.default,this.lensPreviews=this.lensMode.view(this._getOutcomes).view(e=>e.reduce((e,t)=>(e[t]=this._lensPreviewVM.lensPreviews[t],e),{}))}_switchToLens(e,t){const n=this.activeLensId.get(),a=n===e?O(this.lensMode.get()):e;if(n===a)return;const r=this.lensPreviews.get();if(l.a.isEngagement(a)){if((l.a.isPriorityOutcomeId(a)?r.EngagementOutcomePriority:r.EngagementOutcome).isUnavailable.get())return this.popover.set(b.g.some(f.b.EngagementHook))}else if(l.a.isDelivery(a)){if((l.a.isPriorityOutcomeId(a)?r.DeliveryOutcomePriority:r.DeliveryOutcome).isUnavailable.get())return this.popover.set(b.g.some(f.b.DeliveryHook))}else{if(l.a.isVox(a)&&this._features.denali.gbVoxLensUphook)return this.popover.set(b.g.some(f.b.GbVoxHook));if(l.a.isVox(a)&&this._features.denali.gbAdminVoxLensUphook)return this.popover.set(b.g.some(f.b.GbEnableVoxHook))}if(a===l.a.SpecialId.Plagiarism&&this._features.plagiarism.get()!==C.q.enabled)return this.popover.set(b.g.some(f.b.PlagiarismHook));this._lensSwitch.next({lensId:a,focusFirst:t.focusFirst,actionSource:t.actionSource})}_listenNavigationEvent(){this._subs.push(this.events.pipe(d.a.switchMap(e=>{switch(e.type){case"setGoals":return this._modalManager.show(s.c.setGoals("user"));case"preferences":return this._modalManager.show(k.a.preferences);case"performance":return this._modalManager.show(s.c.performance);case"switchToLens":switch(this._switchToLens(e.id,{focusFirst:e.focusFirst,actionSource:e.actionSource}),e.id){case l.a.SpecialId.FreePremiumAlerts:this._telemetry.gnarSpec.freeAdvancedIssuesButtonClick(this._telemetry.pageId,"wiritingAssistant");break;case l.a.SpecialId.Premium:this._telemetry.gnarSpec.advancedIssuesButtonClick(this._telemetry.pageId,"wiritingAssistant");break;default:this._telemetry.gnarSpec.openLensButtonClick(v.f.camelize(e.title),this._telemetry.pageId)}return d.a.EMPTY;case"toggleSidebar":return this.activeLensId.get()===l.a.SpecialId.Closed?this._focusClosestAlert(e.actionSource):this._switchToLens(l.a.SpecialId.Closed,{focusFirst:!0,actionSource:e.actionSource}),d.a.EMPTY;case"switchToCritical":return this._features.isFree.get()?this._focusClosestAlert(e.actionSource):this._focusClosestAlertByPredicate(c.a.isCriticalImpact,e.actionSource),d.a.EMPTY;case"switchToAdvanced":return this._features.isFree.get()?this._switchToLens(l.a.SpecialId.Premium,{focusFirst:!0,actionSource:c.b.sidebar}):this._focusClosestAlertByPredicate(Object(y.m)(c.a.isCriticalImpact),e.actionSource),d.a.EMPTY;case"switchToAll":return this._switchToLens(O(this.lensMode.get()),{actionSource:e.actionSource,focusFirst:e.focusFirst}),d.a.EMPTY;default:return Object(S.c)(e)}})).subscribe())}_listenLensModeEvents(){this._subs.push(this.lensModeEvents.pipe(d.a.tap(e=>{switch(e.type){case"changeLensMode":this.lensMode.set(e.lensMode);const t=function(e,t){switch(t){case g.a.priority:return l.a.isMainOutcomeId(e)?l.a.OutcomeId.toPriorityOutcomeId(e):l.a.SpecialId.Priority;case g.a.all:return l.a.isPriorityOutcomeId(e)?l.a.OutcomeId.fromPriorityOutcomeId(e):l.a.SpecialId.AllAlerts;default:return Object(S.c)(t)}}(this.activeLensId.get(),e.lensMode);this._switchToLens(t,{actionSource:c.b.sidebar,focusFirst:!0});break;default:Object(S.c)(e.type)}})).subscribe())}_focusClosestAlert(e){Object(i.pipe)(this._getAlertClosestToCursor(c.a.isRegisteredApplicableAlert,"cursor"),b.g.fold(()=>this._switchToLens(O(this.lensMode.get()),{focusFirst:!0,actionSource:e}),t=>this._alertSwitch.next({alertHighlight:t,actionSource:e})))}_focusClosestAlertByPredicate(e,t){Object(i.pipe)(this._getAlertClosestToCursor(Object(y.b)(c.a.isRegisteredApplicableAlert,e),"cursor"),b.g.fold(()=>this._focusClosestAlert(t),e=>this._alertSwitch.next({alertHighlight:e,actionSource:t})))}get _premiumButtonData(){const e=this._lensPreviewVM.getLens(l.a.SpecialId.Premium),t=e.get().title,n=e.view("count"),a=this._state.view(Object(r.flow)(h.e.getLens,b.g.chain(e=>e.items.find(Object(r.flow)(this._checksFeedCapabilities.hasActiveAlert,b.g.map(e=>e.alert),b.g.exists(m.a.isFreePremium)))),b.g.isSome));return o.a.combine(this._features.isFree,n.view(e=>e>0),a,(e,a,r)=>e&&a&&!r?b.g.some({id:l.a.SpecialId.Premium,title:t,alerts:n}):b.g.none)}get _freePremiumButtonData(){const e=this._lensPreviewVM.getLens(l.a.SpecialId.FreePremiumAlerts),t=e.get().title,n=e.view("count");return o.a.combine(this._features.isFree,n.view(e=>e>0),(e,a)=>e&&a?b.g.some({id:l.a.SpecialId.FreePremiumAlerts,title:t,alerts:n}):b.g.none)}dispose(){this._subs.dispose()}}function O(e){return e===g.a.all?l.a.SpecialId.AllAlerts:l.a.SpecialId.Priority}!function(e){e.outcomesList=[l.a.SpecialId.Correctness,l.a.SpecialId.Clarity,l.a.SpecialId.Engagement,l.a.SpecialId.Delivery,l.a.SpecialId.Vox],e.priorityOutcomesList=[l.a.SpecialId.CorrectnessPriority,l.a.SpecialId.ClarityPriority,l.a.SpecialId.EngagementPriority,l.a.SpecialId.DeliveryPriority,l.a.SpecialId.VoxPriority],e.lensPreviewFilter=({denali:{voxInfo:e,gbVoxLensUphook:t,gbAdminVoxLensUphook:n}})=>a=>!l.a.isVox(a)||(t||n||Object(i.pipe)(e,b.g.isSome))}(a||(a={}))},j7q7:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("D57K"),i=n("mbuk");!function(e){!function(e){var t;!function(e){e.full="full",e.partial="partial"}(t=e.RemoveType||(e.RemoveType={})),e.getCreateAction=function(e){return function(t){return{id:t,action:i.a.Change.ActionType.create,meta:e}}},e.getUpdateAction=function(e){return function(t){return{id:t,action:i.a.Change.ActionType.update,meta:e}}},e.getRemoveAction=function(e,n){return void 0===n&&(n=t.full),function(t){return{id:t,action:i.a.Change.ActionType.remove,meta:{range:e.range,removeType:n}}}},e.addRange=function(e){return Object(r.__assign)(Object(r.__assign)({},e),{range:e.meta.range()})},e.useRange=function(e,t){return Object(r.__assign)(Object(r.__assign)({},e),{meta:Object(r.__assign)(Object(r.__assign)({},e.meta),{range:function(){return t}})})}}(e.Change||(e.Change={}))}(a||(a={}))},jAb7:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a,r=n("OA+g"),i=n("I7vG"),o=n("lrqh"),s=n("7b34"),l=n("QxMx"),c=n("+X10"),u=n("v0pb");(a||(a={})).modelToCounters=function(e){return u.a.isRegistered(e)?e.counters:c.a.empty};var d,p=n("GUi3");!function(e){e.monoid=o.e.getMonoid(p.a.Id.ord,p.a.Meta.group),e.eq=o.e.getEq(p.a.Id.ord,p.a.Meta.eq),e.isEmpty=o.e.isEmpty,e.lookup=o.e.lookup(p.a.Id.ord),e.applyDiff=t=>a=>d=>Object(i.pipe)(a,s.a.foldMap(e.monoid)(c(t),u(t),n(t)),Object(l.a)(e.monoid.concat)(d),o.e.filter(Object(r.not)(p.a.Meta.isEmpty))),e.updatePercentiles=e=>t=>{let n=t;return e.forEach((e,t)=>{n=Object(i.pipe)(n,o.e.modifyAt(p.a.Id.ord)(t,p.a.Meta.ratioToPercentile(e)),o.g.fold(()=>Object(i.pipe)(n,o.e.insertAt(p.a.Id.ord)(t,p.a.Meta.fromPercentile(e))),r.identity))}),n};const t=Object(r.flow)(a.modelToCounters,p.a.Meta.fromAlertCounters),n=e=>n=>d(e)(n,t),c=e=>n=>d(e)(n,Object(r.flow)(t,p.a.Meta.group.inverse)),u=t=>(a,r)=>e.monoid.concat(n(t)(r),c(t)(a)),d=e=>(t,n)=>Object(i.pipe)(e,o.e.filter(e=>e(t.alert)),o.e.map(()=>n(t)))}(d||(d={}))},jAl6:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("D57K"),r=n("ERkP"),i=n("vOOZ"),o=n("9NHN"),s=n("gy42"),l=n("6fbX"),c=n("ax6a"),u=n("e12y"),d=n("SD38");function p(e){var{wrapperClassName:t,variation:n,isIdle:o,ref:l,label:c}=e,u=Object(a.__rest)(e,["wrapperClassName","variation","isIdle","ref","label"]);return r.createElement(i.a.span,{"data-role":"spinner",role:"status","aria-busy":!Boolean(o),"aria-live":Boolean(o)?"off":"polite","aria-label":null!=c?c:"Content is loading.",className:t},s.b.mapMaybeObservable(n,e=>r.createElement(p.Svg,Object.assign({},u,{type:e,isIdle:o}))))}!function(e){e.getClassName=e=>t=>{switch(t){case"red":return e.red;case"green":return e.green;case"blue":return e.blue;case"white":return e.white;case"violet":return e.violet;case"yellow":return e.yellow;case"yellowPremium":return e.yellowPremium;case"orange":return e.orange;case"gray":return e.gray;case"cyan":return e.cyan;default:return Object(l.c)(t)}},e.Svg=t=>{const{className:n,size:i=64,strokeWidth:s=2,type:c,name:u,isIdle:d}=t,p=Object(a.__rest)(t,["className","size","strokeWidth","type","name","isIdle"]),m=r.useRef(null),g=r.useRef(null);return r.useEffect(()=>(Object(l.f)(null!==m.current,"groupEl should be already created"),g.current=m.current.animate({transform:["rotate(0deg)","rotate(360deg)"]},{duration:2e3,easing:"linear",fill:"forwards",iterations:1/0}),()=>g.current.cancel()),[]),r.useEffect(()=>{Object(l.f)(null!==g.current,"groupAnimation should be already created");const e=g.current;Boolean(e.play)&&(!0===d?e.pause():"running"!==e.playState&&e.play())}),r.createElement("svg",Object.assign({"data-role":u},Object(o.c)(n),{viewBox:"25 25 50 50",width:i,height:i,"aria-hidden":!0},p),r.createElement("g",{transform:"translate(50 50)"},r.createElement("g",{ref:m},r.createElement("circle",Object.assign({},Object(o.c)(O.path,!0===d&&h,e.getClassName(O)(c)),{cx:"50",cy:"50",r:"20",fill:"none",transform:"translate(-50 -50)",strokeWidth:s,strokeMiterlimit:"10"})))))}}(p||(p={}));const m=u.a.keyframes({"0%":{strokeDasharray:"1px, "+u.a.px(200),strokeDashoffset:u.a.px(1)},"50%":{strokeDasharray:"89px, "+u.a.px(200),strokeDashoffset:u.a.px(-35)},"100%":{strokeDasharray:"89px, "+u.a.px(200),strokeDashoffset:u.a.px(-124)}}),h="spinnerIdle",g={animation:m+" 2s ease-in-out infinite",strokeDasharray:"1px, "+u.a.px(200),strokeDashoffset:u.a.px(1),strokeLinecap:"round",$nest:{["&."+h]:{animationIterationCount:0}}},f={stroke:c.a.CoreRed50},b={stroke:c.a.CoreGreen50},y={stroke:c.a.CoreBlue50},v={stroke:c.a.CoreNeutral0},S={stroke:d.purple500},C={stroke:d.yellow600},w={stroke:c.a.CoreYellow60},k={stroke:d.ui500},E={stroke:c.a.CoreCyan50},O=u.a.stylesheet({path:[g],red:[f],green:[b],blue:[y],white:[v],violet:[S],yellow:[C],orange:[w],gray:[k],cyan:[E]})},jROJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("OA+g"),r=n("1KHp"),i=n("lrqh"),o=n("umZW"),s=["http","https","mailto","tel"];var l=function(e){return i.b.tryCatchError((function(){return new URL(e)}))},c=Object(a.flow)(l,i.b.fold((function(){return!1}),(function(e){return s.includes(e.protocol.replace(":",""))}))),u=i.b.fromPredicate((function(e){return e.length<=o.a.MAX_URL_LENGTH}),(function(){return new Error("URL is too long")})),d=i.b.fromPredicate((function(e){return e.length>0}),(function(){return new Error("URL is too short")})),p=i.b.fromPredicate(c,(function(){return new Error("Url contains invalid protocol")})),m=Object(a.flow)(r.sanitize,d,i.b.map((function(e){return r.urlContainsProtocol(e)?e:"http://"+e})),i.b.chain((function(e){return Object(a.pipe)(e,l,i.b.map((function(){return e})))})),i.b.chain(p),i.b.chain(u))},jSKJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ot}));var a,r=n("ERkP"),i=n("OA+g"),o=n("I7vG"),s=n("LNSM"),l=n("vOOZ"),c=n("XXDN"),u=n("3rlE"),d=n("bO3R"),p=n("D9EC"),m=n("lrqh"),h=n("6fbX"),g=n("ax6a"),f=n("PrA7"),b=n("rk+4"),y=n("6lhv"),v=n("gOzB"),S=n("NmGF"),C=n("BugA"),w=n("e12y"),k=n("gy42"),E=n("zR/0"),O=n("aIes"),A=n("xEVj"),_=n("uqkn"),x=n("+w1e"),I=n("E0zP"),j=n("XxrX"),T=n("S3HV"),M=n("yZqL"),N=n("H9T+"),P=n("HUX/");(a||(a={})).Full=({card:e,actions:t,isChecking:n})=>r.createElement(M.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:x.b.Type.alertCardShow,cardType:x.b.getCardType(e),alertId:e.activeAlert.id}),theme:Object(P.b)(e.renderOptions),body:r.createElement(N.j,{card:e,actions:t,isChecking:n}),mainActions:r.createElement(N.e,{card:e,feedbackActions:t}),footer:r.createElement(N.g,{card:e}),subActions:r.createElement(d.a.Primary,{href:e.activeAlert.knowledgeHubTermCreationUrl,target:"_blank",rel:"noopener noreferrer",onClick:()=>t.next({type:x.b.Type.alertResolve,id:e.id,alertId:e.activeAlert.id})},r.createElement(u.d.New,null),"Add term"),extra:r.createElement(N.b,{card:e,actions:t})});var L=n("hoSD"),R=n("1w6p"),B=n("dE97"),F=n("wOnQ"),D=n("fEss"),H=n("IdhR");const V=({card:e,actions:t,disabled:n})=>Object(N.v)(e.activeAlert,e.renderOptions.layoutDensity)?r.createElement(H.a,{key:"card-actions-button",mode:"default",actions:t,card:e,disabled:n}):null,U=R.b.Grid.make(({slots:e,state:t,notify:n})=>r.createElement(l.a.Fragment,null,t.pipe(E.a.map(t=>r.createElement(N.r,{card:t,actions:{next:e=>n(e)(),error:i.constVoid,complete:i.constVoid},isChecking:E.a.of(!1),isCheckingGlobal:E.a.of(!1),cardBody:Object(i.constant)(r.createElement(l.a.Fragment,null,e.body)),cardTheme:{contentBody:W.contentBody}}))))),W=w.a.stylesheet({contentBody:[{paddingLeft:0}]}),q=R.b.Knot.make(U,{body:R.b.Node.make(()=>{const e=r.useContext(b.a.Context);return r.createElement("div",{className:G.container},r.createElement(D.a,{theme:{container:G.animation}}),r.createElement(C.a,{className:G.label},e.card.shortenIt.loadingLabel))})}),z={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:w.a.rem(.25)},$={paddingLeft:w.a.rem(.5)},G=w.a.stylesheet({container:[z],animation:[{transform:"scale(.7)"}],label:[$]}),K=(e,t)=>R.a.composeKnot({body:Object(i.constant)(E.a.of(null)),root:R.a.fromSideEffect(e=>{t.next(e)},e)}),Y=R.b.Knot.make(U,{body:R.b.Node.make(()=>{const e=r.useContext(b.a.Context);return r.createElement("div",{className:Q.container},r.createElement(u.d.ValidationOk,null),r.createElement(C.a,{className:Q.label},e.card.shortenIt.notFoundLabel))})}),Z={display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:w.a.rem(.25)},X={paddingLeft:w.a.rem(.5)},Q=w.a.stylesheet({container:[Z],label:[X]}),J=(e,t)=>R.a.composeKnot({body:Object(i.constant)(E.a.of(null)),root:R.a.fromSideEffect(e=>{t.next(e)},e)});var ee=n("D57K"),te=n("ps/9"),ne=n("8Ioe"),ae=n("ZD0N"),re=n("0Hf4");const ie=R.b.Node.make(({state:e})=>r.createElement(l.a.Fragment,null,e.pipe(E.a.map(({collapsed:e,text:t})=>e?r.createElement("span",{className:_e.shortenItCollapsedDelete},r.createElement(u.d.EllipsisSmall,{width:13,className:_e.shortenItCollapsedIcon})):r.createElement("span",{className:_e.shortenItDelete},t))))),oe=/^\W/,se=R.b.Node.make(({state:e})=>r.createElement(l.a.span,{className:e.pipe(E.a.map(e=>oe.test(e.text)?_e.shortenItInsertPunctuation:_e.shortenItInsert))},e.pipe(E.a.map(e=>e.text)))),le=R.b.Node.make(({state:e})=>r.createElement(l.a.span,null,e.pipe(E.a.map(e=>e.text)))),ce=R.b.Union.make("kind",{insert:se,delete:ie,text:le}),ue=R.b.Grid.make(({slots:e,state:t,notify:n})=>{const a=r.useContext(b.a.Context).card.shortenIt.collapsedButtonTooltip;return r.createElement(l.a.Fragment,null,t.pipe(E.a.map(({isReviewableGroup:t,isInReview:o,group:s})=>Object(i.pipe)(s,m.g.filter(()=>t),m.g.fold(()=>e.parts,t=>o?r.createElement("span",{ref:e=>{e&&Object(i.pipe)(m.g.fromNullable(e.offsetParent),m.g.map(e=>e.getBoundingClientRect()),m.g.tap(a=>{const r=e.getBoundingClientRect();n({kind:"editGroupExpanded",group:t,offsetRect:{width:r.width,height:r.height,top:r.top-a.top,left:r.left-a.left},offsetParentSize:{width:a.width,height:a.height}})()}))},className:_e.shortenItEditGroupExpanded},e.parts):r.createElement(d.a,{name:"shorten-it-review-change",className:_e.shortenItEditGroupButton,animationMode:ne.a.FromClickPoint,title:a,"aria-label":a,tag:ae.b.div,onClick:n({kind:"reviewEdit",group:t})},e.parts))))))}),de=R.b.Knot.make(ue,{parts:R.b.List.make(m.a.array,ce)}),pe=R.b.List.make(m.a.array,de),me=R.b.Grid.make(({slots:e,state:t})=>r.createElement(C.a,{className:t.pipe(E.a.map(e=>Object(i.pipe)(e,j.a.Density.matchOrDefault(j.a.Density.minimal)(()=>_e.minimalShortenItBackground,()=>_e.shortenItBackground))))},e.labels)),he=R.b.Knot.make(me,{labels:pe}),ge="cards-replacements_labels-",fe={shortenItBackground:ge+"shortenItBackground",minimalShortenItBackground:ge+"minimalShortenItBackground",shortenItDelete:ge+"shortenItDelete",shortenItInsert:ge+"shortenItInsert",shortenItInsertPunctuation:ge+"shortenItInsertPunctuation",shortenItEditGroupButton:ge+"shortenItEditGroupButton",shortenItEditGroupExpanded:ge+"shortenItEditGroupExpanded",shortenItCollapsedDelete:ge+"shortenItCollapsedDelete",shortenItCollapsedDeleteButton:ge+"shortenItCollapsedDeleteButton",shortenItCollapsedIcon:ge+"shortenItCollapsedIcon"},be={overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:w.a.rem(1)+" 0",color:g.a.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontFeatureSettings:`${te.e}, ${te.f}`},ye={color:g.a.CoreRed50,textDecoration:"line-through",fontWeight:400},ve={color:g.a.CoreBlue60,fontWeight:600},Se={transitionProperty:"background-color",transitionDuration:".2s",padding:`0 0 ${w.a.rem(.2)} 0`,display:"inline",whiteSpace:"unset",verticalAlign:"unset",borderWidth:"1px",borderStyle:"solid",borderRadius:w.a.rem(te.t)},Ce=Object.assign(Object.assign({},Se),{backgroundColor:g.a.CoreNeutral1,borderColor:g.a.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:g.a.CoreBlue10,borderColor:g.a.CoreBlue10}}}),we=Object.assign(Object.assign({},Se),{backgroundColor:g.a.CoreBlue10,borderColor:g.a.CoreBlue10,position:"relative"}),ke={display:"inline-block",width:w.a.rem(1),lineHeight:w.a.rem(.625),height:w.a.rem(.625),margin:"0 "+w.a.rem(.25),verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:w.a.rem(te.u)},Ee=Object.assign({},ke),Oe=Object.assign(Object.assign({},ke),{backgroundColor:g.a.CoreNeutral20,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:g.a.CoreBlue10}}}),Ae={minWidth:"unset",minHeight:"unset",paddingBottom:w.a.rem(.125),fill:g.a.CoreBlue60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:g.a.CoreNeutral50}}},_e={shortenItBackground:w.a.joinClasses([fe.shortenItBackground,w.a.style(be),re.a.style(be)]),minimalShortenItBackground:w.a.joinClasses([fe.minimalShortenItBackground,w.a.style(be,{lineHeight:w.a.rem(1.3125)}),re.a.style(be,{lineHeight:w.a.rem(1.3125)})]),shortenItDelete:w.a.joinClasses([fe.shortenItDelete,w.a.style(ye),re.a.style(ye)]),shortenItInsert:w.a.joinClasses([fe.shortenItInsert,w.a.style(ve),re.a.style(ve)]),shortenItInsertPunctuation:w.a.joinClasses([fe.shortenItInsertPunctuation,w.a.style(ve),re.a.style(ve)]),shortenItEditGroupButton:w.a.joinClasses([fe.shortenItEditGroupButton,w.a.style(Ce),re.a.style(Ce)]),shortenItEditGroupExpanded:w.a.joinClasses([fe.shortenItEditGroupExpanded,w.a.style(we),re.a.style(we)]),shortenItCollapsedDelete:w.a.joinClasses([fe.shortenItCollapsedDelete,w.a.style(Ee),re.a.style(Ee)]),shortenItCollapsedDeleteButton:w.a.joinClasses([fe.shortenItCollapsedDeleteButton,w.a.style(Oe),re.a.style(Oe)]),shortenItCollapsedIcon:w.a.joinClasses([fe.shortenItCollapsedIcon,w.a.style(Ae),re.a.style(Ae)])};w.a.cssRule(`.${fe.shortenItDelete} + .${fe.shortenItInsert}`,{marginLeft:w.a.rem(.25)});const xe=R.b.Grid.make(({state:e,view:t,notify:n,slots:a})=>{const o=r.useContext(b.a.Context),c=Object.assign(Object.assign({},k.b.noopObserver()),{next:e=>n(e)()}),u=A.a.useMemoOnDidMount(()=>s.a.create(!1));return A.a.useSubscriptionTo(t("transformHidden").pipe(E.a.tap(k.b.toAtom(u)))),r.createElement(l.a.Fragment,null,e.pipe(E.a.map(({item:e})=>r.createElement(M.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:n({type:x.b.Type.alertCardShow,cardType:x.b.getCardType(e),alertId:e.activeAlert.id}),onMouseOut:n({type:x.b.Type.hover,kind:"unhover",id:e.id}),onMouseOver:n({type:x.b.Type.hover,kind:"hover",id:e.id}),theme:Object.assign({content:t("isCheckingGlobal").pipe(E.a.map(Object(p.c)(Fe.loadingWrapperInvisible,Fe.loadingWrapper)))},Object(P.b)(e.renderOptions)),mainActions:r.createElement(N.e,{card:e,feedbackActions:c}),subActions:r.createElement(V,{card:e,actions:c}),body:r.createElement(r.Fragment,null,r.createElement(N.i,{alert:e.activeAlert,options:e.renderOptions,badge:r.createElement(v.a.Regular,null,o.beta)}),Object(i.pipe)(e.renderOptions.layoutDensity,j.a.Density.matchOrDefault(j.a.Density.minimal)(()=>null,()=>r.createElement(N.f,{description:e.meta.explanation,actions:{next:e=>n(e)(),error:i.constVoid,complete:i.constVoid},layoutDensity:e.renderOptions.layoutDensity}))),r.createElement(l.a.div,{className:t("transformHidden").pipe(E.a.map(Object(p.c)(Fe.transformHidden,void 0)))},a.transform)),footer:r.createElement(r.Fragment,null,r.createElement(N.g,{card:e}),r.createElement(l.a.div,{className:Fe.footerBtns},r.createElement(N.q,{className:Fe.applyButton,spinnerClassName:Fe.applyButtonSpinner,messageClassName:Fe.applyButtonMessage,applyMessage:e.activeAlert.todoAction,checkingMessage:o.card.shortenIt.acceptButtonCheckingLabel,checkingInProgress:u,onClick:O.d.callOnce(n({type:x.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:_.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:_.a.isEligibleForGbPrompt(e),cardType:x.b.getCardType(e)}))}))),extra:r.createElement(N.c,{isChecking:t("isCheckingGlobal")})}))))}),Ie=R.b.Grid.make(({slots:e,state:t,notify:n})=>{const a=r.useContext(b.a.Context).card.shortenIt,{ref:o,onMount:s}=A.a.useElWatcher(),c=E.b.compact(t).pipe(E.a.map(e=>e.group),E.a.distinctUntilChanged(),E.a.switchMap(e=>o.pipe(E.b.compactMap(t=>k.a.getResizeObservable(t).pipe(E.a.map(()=>({width:t.clientWidth,height:t.clientHeight})),E.a.startWith({width:t.clientWidth,height:t.clientHeight}),E.a.distinctUntilChanged(L.c.Box.eq.equals),E.a.tap(t=>n(Object.assign(Object.assign({kind:"editPopupSize"},t),{group:e}))()))))));return A.a.useSubscriptionTo(c),r.createElement(l.a.div,{className:Fe.editPopupContainer},e.replacementLabels,t.pipe(E.a.map(m.g.fold(i.constNull,e=>{var{group:t}=e,i=Object(ee.__rest)(e,["group"]);return r.createElement(l.a.div,{className:Fe.editPopup,style:"withPosition"===i.kind?{transform:`translate(${i.left}px, ${i.top}px)`,visibility:"visible",opacity:1}:"withoutPosition"===i.kind?{visibility:"hidden",opacity:0}:Object(h.c)(i),mount:s},r.createElement(d.a.Primary,{name:"shorten-it-keep-change",onClick:n({kind:"keepEdit",group:t})},a.editPopupKeepButtonLabel),r.createElement(d.a.Tertiary,{name:"shorten-it-dismiss-change",onClick:n({kind:"dismissEdit",group:t})},a.editPopupDismissButtonLabel))}))))}),je=R.b.Knot.make(Ie,{replacementLabels:he}),Te=R.b.Knot.make(xe,{transform:je}),Me={padding:"0 "+w.a.rem(1)},Ne={display:"flex",flexDirection:"row",padding:w.a.rem(.25),position:"absolute",backgroundColor:g.a.CoreNeutral0,boxShadow:"0px 0px 0.5px rgba(0, 0, 0, 0.7), 0px 2px 8px rgba(26, 33, 52, 0.2)",borderRadius:w.a.rem(te.t),zIndex:1,top:0,left:0,transition:"visibility 0.15s linear, opacity 0.15s linear"},Pe={$nest:{"&[data-disabled='true']":{backgroundColor:g.a.CoreNeutral10,color:g.a.CoreNeutral40}}},Le={$nest:{"& circle":{stroke:g.a.CoreNeutral40}}},Re={paddingRight:w.a.rem(.25)},Be={transition:"opacity "+w.a.seconds(N.t)},Fe=w.a.stylesheet({loadingWrapper:[Be],loadingWrapperInvisible:[Be,{opacity:0,pointerEvents:"none"}],footerBtns:[{display:"flex"}],expandEditsBtn:[Me],editPopupContainer:[{position:"relative"}],editPopup:[Ne],applyButton:[Pe],applyButtonSpinner:[Le],applyButtonMessage:[Re],transformHidden:[{pointerEvents:"none",opacity:.5}]});var De=n("GRZr");const He=(e,t,n)=>R.a.composeKnot({root:R.a.fromSideEffect(i.constVoid,e.pipe(E.a.map(e=>e.renderOptions.layoutDensity))),labels:a=>E.a.mergeStatic(a.pipe(E.a.withLatestFrom(e),E.a.tap(([e,a])=>{const r=e.action.action;switch(r.kind){case"reviewEdit":t.set(m.g.some({groupId:r.group,expandedEdit:m.g.none,popupSize:m.g.none,popupPosition:m.g.none})),n.next({type:x.b.Type.shortenItReviewEdit,alertId:a.activeAlert.id,itemId:a.id,group:r.group});break;case"editGroupExpanded":t.set(Object(i.pipe)(t.get(),m.g.filter(e=>e.groupId===r.group),m.g.fold(()=>m.g.some({groupId:r.group,popupSize:m.g.none,popupPosition:m.g.none,expandedEdit:m.g.some({offsetRect:r.offsetRect,offsetParentSize:r.offsetParentSize})}),e=>m.g.some(Object.assign(Object.assign({},e),{expandedEdit:m.g.some({offsetRect:r.offsetRect,offsetParentSize:r.offsetParentSize})})))));break;default:Object(h.c)(r)}}),E.a.switchMap(()=>E.a.NEVER)),E.a.sequenceS({item:e,editsInReview:t}).pipe(E.a.map(({item:e,editsInReview:t})=>Object(i.pipe)(e.transform,m.g.filter(F.j.isShortenIt),m.g.map(L.e.pick("labels")),m.g.map(t=>Object(i.pipe)(t,m.a.filterMap(t=>Object(i.pipe)(t.group,m.g.fold(i.constFalse,t=>e.activeAlert.dismissedTransformGroups.has(t)))?t.type===F.k.Delete?m.g.some(Object.assign(Object.assign({},t),{type:F.k.Text})):t.type===F.k.Insert?m.g.none:m.g.some(t):m.g.some(t)))),m.g.fold(()=>[],Object(i.flow)(m.a.reduce([],(e,n)=>{const a=n.type===F.k.Delete?{kind:n.type,text:n.text,collapsed:Object(i.pipe)(n.group,m.g.fold(()=>{var e;return null!==(e=n.shouldBeCollapsed)&&void 0!==e&&e},e=>!Object(i.pipe)(t,m.g.exists(t=>t.groupId===e)))),group:n.group}:n.type===F.k.Insert||n.type===F.k.Text?{kind:n.type,text:n.text,group:n.group}:Object(h.c)(n);return e.length>0&&m.g.getEq(m.c.eqString).equals(e[e.length-1].group,n.group)&&m.g.isSome(n.group)?e.slice(0,-1).concat({group:n.group,parts:e[e.length-1].parts.concat(a)}):e.concat({group:n.group,parts:[a]})}),m.a.map(e=>({root:{isReviewableGroup:e.parts.length>1||1===e.parts.length&&e.parts[0].kind!==F.k.Text,isInReview:Object(i.pipe)(e.group,m.g.fold(i.constFalse,e=>Object(i.pipe)(t,m.g.exists(t=>t.groupId===e)))),group:Object(i.pipe)(e.parts.map(e=>e.group),Object(De.fold)(m.g.getFirstMonoid()))},parts:e.parts}))))))))}),Ve=(e,t,n,a,r,i)=>R.a.composeKnot({root:a=>E.a.mergeStatic(a.pipe(E.a.tap(e=>{e.type===x.b.Type.hover&&i.next("hover"===e.kind),n.next(e)}),E.a.switchMap(()=>E.a.NEVER)),E.a.sequenceS({item:e,isCheckingGlobal:t,transformHidden:r})),transform:R.a.composeKnot({root:Ue(e,a,n),replacementLabels:He(e,a,n)})});const Ue=(e,t,n)=>a=>E.a.mergeStatic(a.pipe(E.a.withLatestFrom(e),E.a.tap(([e,a])=>{"editPopupSize"===e.kind?t.set(Object(i.pipe)(t.get(),m.g.filter(t=>t.groupId===e.group),m.g.fold(()=>m.g.some({groupId:e.group,expandedEdit:m.g.none,popupPosition:m.g.none,popupSize:m.g.some({width:e.width,height:e.height})}),t=>m.g.some(Object.assign(Object.assign({},t),{popupSize:m.g.some({width:e.width,height:e.height})}))))):function(e,t,n,a){switch(n.set(Object(i.pipe)(n.get(),m.g.filter(e=>e.groupId!==t.group))),t.kind){case"dismissEdit":a.next({type:x.b.Type.shortenItDismissEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group}),e.activeAlert.transformGroups.size===new Set(e.activeAlert.dismissedTransformGroups).add(t.group).size&&a.next({type:x.b.Type.alertIgnore,alertId:e.activeAlert.id,id:e.id,eligibleForSurvey:_.a.isEligibleForDismissSurvey(e)});break;case"keepEdit":a.next({type:x.b.Type.shortenItKeepEdit,alertId:e.activeAlert.id,itemId:e.id,group:t.group});break;default:Object(h.c)(t.kind)}}(a,e,t,n)}),E.a.switchMap(()=>E.a.NEVER)),t.view(m.g.chain(e=>Object(i.pipe)(e.expandedEdit,m.g.map(t=>Object(i.pipe)(e.popupSize,m.g.fold(()=>({kind:"withoutPosition",group:e.groupId}),n=>Object.assign({kind:"withPosition",group:e.groupId},function(e,t,n=-10){const a=t.offsetRect.top+t.offsetRect.height,r=t.offsetRect.left+n;if(r+e.width>t.offsetParentSize.width)return{top:a,left:t.offsetParentSize.width-e.width};return{top:a,left:r}}(n,t)))))))));const We={loading:q,summary:Te,notFound:Y},qe=R.b.Union.make("kind",We),ze=e=>e.pipe(E.a.map(e=>{const t=e.activeAlert.summaryState,n=m.g.fold(i.constFalse,F.j.isShortenIt)(e.transform);switch(t){case B.j.SummaryState.notFound:return{kind:"notFound"};case B.j.SummaryState.notRequested:return{kind:"loading"};case B.j.SummaryState.requestSent:return n?{kind:"summary"}:{kind:"loading"};case B.j.SummaryState.invalidated:case B.j.SummaryState.received:return{kind:"summary"};default:Object(h.c)(t)}}));var $e;($e||($e={})).Full=e=>{const t=A.a.useAtomOf(e.card),{isChecking:n,isCheckingGlobal:a}=function(e,t,n){const a=A.a.useAtomOf({isWaiting:e.activeAlert.summaryState===B.j.SummaryState.requestSent||e.activeAlert.summaryState===B.j.SummaryState.invalidated,cardIsOpen:"focused"===e.visualState.transition.type||"expanded"===e.visualState.transition.type});return A.a.useMemoOnDidMount(()=>({isChecking:E.a.combineLatestStatic([t,a]).pipe(E.a.map(([e,t])=>e||t.isWaiting&&t.cardIsOpen),E.a.distinctUntilChanged()),isCheckingGlobal:E.a.combineLatestStatic([n,a]).pipe(E.a.map(([e,t])=>e||t.isWaiting&&!t.cardIsOpen),E.a.distinctUntilChanged())}))}(e.card,e.isChecking,e.isCheckingGlobal),{transformHidden:o,isMouseInside:l}=Object(N.z)(n),c=A.a.useMemoOnDidMount(()=>s.a.create(m.g.none)),u=A.a.useMemoOnDidMount(()=>t.pipe(E.a.map(Object(i.flow)(L.e.pick("transform"),m.g.filter(F.j.isShortenIt))),E.a.skipBy(m.g.getEq(F.j.ShortenIt.eq)),E.a.map(()=>m.g.none),E.a.tap(k.b.toAtom(c))));return A.a.useSubscriptionTo(u),r.createElement(r.Fragment,null,R.b.mount(qe,((e,t,n,a,r,i)=>R.a.composeUnion({loading:K(e,n),notFound:J(e,n),summary:Ve(e,t,n,a,r,i)},()=>ze(e)))(t,a,e.actions,c,o,l)))};var Ge=n("r/bb");const Ke=({card:e,actions:t})=>{const n=r.useContext(b.a.Context),a=m.g.isNone(e.activeAlert.takeawayFeedback)?n.card.takeaway.defaultTitle:e.activeAlert.title,s=m.g.fromNullable(e.activeAlert.highlightTexts[0]),l=Object(o.pipe)(e.activeAlert,m.g.fromPredicate(e=>!e.takeawayIsLikelyToBeRead&&m.g.contains(B.n.correctlyDetected)(e.takeawayFeedback)),m.g.map(()=>e.meta.explanation));return r.createElement(r.Fragment,null,Object(o.pipe)(e.renderOptions.layoutDensity,j.a.Density.matchOrDefault(j.a.Density.minimal)(()=>r.createElement(N.i,{alert:e.activeAlert,options:e.renderOptions},r.createElement(N.o,{text:_.a.miniTitle(e,n)})),()=>r.createElement(r.Fragment,null,r.createElement(N.i,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(N.n,{text:a})))),Object(o.pipe)(s,m.g.fold(i.constNull,t=>r.createElement(N.h,{text:t,layoutDensity:e.renderOptions.layoutDensity}))),Object(o.pipe)(l,m.g.fold(i.constNull,n=>r.createElement(N.f,{description:n,actions:t,layoutDensity:e.renderOptions.layoutDensity}))))},Ye=({card:e,feedbackActions:t})=>r.createElement(r.Fragment,null,r.createElement(d.a.Ghost,{name:"takeaway-like",onClick:O.d.callOnce(()=>{var n;return t.next({type:x.b.Type.takeawayCorrectlyDetected,id:e.id,alertId:e.activeAlert.id,takeawayText:null!==(n=e.activeAlert.highlightTexts[0])&&void 0!==n?n:"",isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead})})},r.createElement(u.d.YesCircle,null)," Yes"),r.createElement(d.a.Ghost,{name:"takeaway-dislike",onClick:O.d.callOnce(()=>t.next({type:x.b.Type.takeawayIncorrectlyDetected,id:e.id,alertId:e.activeAlert.id}))},r.createElement(u.d.NoCircle,null)," No")),Ze=({card:e,feedbackActions:t})=>{const n=r.useContext(b.a.Context);return r.createElement(r.Fragment,null,r.createElement(d.a.Ghost,{name:"resolve",title:n.resolve,"aria-label":n.resolveLabel,onClick:O.d.callOnce(()=>t.next({type:x.b.Type.takeawayResolve,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead}))},r.createElement(u.d.YesCircle,null)),r.createElement(d.a.Ghost,{name:"ignore",title:n.dismiss,"aria-label":n.dismiss,onClick:O.d.callOnce(()=>t.next({type:x.b.Type.takeawayDismiss,id:e.id,alertId:e.activeAlert.id,isLikelyToBeRead:e.activeAlert.takeawayIsLikelyToBeRead}))},r.createElement(u.d.Ignore,null)))};function Xe(e){return!m.g.isNone(e.takeawayFeedback)&&!(!m.g.isSome(e.examples)&&!m.g.isSome(e.details))}var Qe;(Qe||(Qe={})).Full=({card:e,actions:t})=>{return r.createElement(M.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,visualState:e.visualState,onFocus:()=>t.next({type:x.b.Type.alertCardShow,cardType:x.b.getCardType(e),alertId:e.activeAlert.id}),theme:(n=e.renderOptions,Object.assign(Object.assign({},Object(P.a)(n.layoutDensity)),{wrapper:Object(o.pipe)(n.layoutDensity,j.a.Density.matchOrDefault(j.a.Density.minimal)(()=>et.minimalCardWrapper,()=>{}))})),body:r.createElement(Ke,{card:e,actions:t}),mainActions:m.g.isNone(e.activeAlert.takeawayFeedback)?r.createElement(Ye,{card:e,feedbackActions:t}):r.createElement(Ze,{card:e,feedbackActions:t}),footer:Xe(e.activeAlert)?r.createElement(N.g,{card:e}):null,subActions:Xe(e.activeAlert)?r.createElement(H.a,{key:"card-actions-button",mode:"default",actions:t,card:e}):null});var n};const Je={padding:`${w.a.rem(.75)} ${w.a.rem(.5)} ${w.a.rem(.5)} ${w.a.rem(1)}`},et=w.a.stylesheet({minimalCardWrapper:[Je]});var tt=n("CxAE"),nt=n("cVtq"),at=n("iVSA"),rt=n("9NHN");const it=e=>w.a.style({textDecoration:"line-through",color:e,fontWeight:"bold"}),ot=e=>w.a.style({fontWeight:"bold",padding:`${w.a.rem(.0625)} ${w.a.rem(.21875)} ${w.a.rem(.0625)} ${w.a.rem(.21875)}`,border:"1px solid "+e,borderRadius:w.a.rem(.125),color:e}),st=w.a.style({fontSize:w.a.rem(.875),letterSpacing:"0px",lineHeight:w.a.rem(1.3125),padding:w.a.rem(.15625)+" 0"}),lt=w.a.style({fontWeight:"bold",padding:`${w.a.rem(.0625)} ${w.a.rem(.21875)} ${w.a.rem(.0625)} ${w.a.rem(.21875)}`,borderRadius:w.a.rem(.125),color:at.b.CoreNeutral50,background:at.b.CoreNeutral10}),ct=w.a.style({fontStyle:"italic"}),ut=[lt,st],dt=/[\d\w&]/,pt=e=>1===e.length&&!dt.test(e),mt=(e,t,n)=>(a,r,i)=>{const o=i[r-1];switch(a.type){case"insert":return e(a,r,o);case"delete":return t(a,r,o);case"text":return n(a,r,o);default:throw new Error("Unexpected citation alert transform part:"+JSON.stringify(a))}},ht=(e,t)=>"text"===(null==t?void 0:t.type)?null:r.createElement("span",{key:"s"+e,className:st}," "),gt=e=>r.createElement(r.Fragment,null,e.replacement.labels.map(e.isCitationGap?mt((e,t,n)=>r.createElement(r.Fragment,{key:t},ht(t,n),r.createElement("span",Object.assign({},Object(rt.c)(...ut),{key:t}),e.text)),(e,t)=>r.createElement(r.Fragment,{key:t}),(e,t)=>r.createElement("span",{key:t,className:st},e.text)):mt((e,t,n)=>{return r.createElement(r.Fragment,{key:t},ht(t,n),r.createElement("span",Object.assign({key:t},Object(rt.c)(...(a=e.text,[pt(a)?ot(at.b.CoreBlue50):(i=at.b.CoreBlue50,w.a.style({color:i,fontWeight:"bold"})),st,ct]))),e.text));var a,i},(e,t,n)=>{return r.createElement(r.Fragment,{key:t},ht(t,n),r.createElement("span",Object.assign({key:t},Object(rt.c)(...(a=e.text,pt(a)?[ot(at.b.CoreRed50),(i=at.b.CoreRed50,w.a.style({backgroundImage:`linear-gradient(to top left,\n        rgba(0,0,0,0) 0%,\n        rgba(0,0,0,0) calc(50% - 0.5px),\n        ${i} 50%,\n        rgba(0,0,0,0) calc(50% + 0.5px),\n        rgba(0,0,0,0) 100%)`})),st,ct]:[it(at.b.CoreRed50),st,ct]))),e.text));var a,i},(t,n)=>r.createElement("span",Object.assign({key:n},Object(rt.c)(st,("italic"===t.style||!e.isCitationItalicization)&&ct)),t.text)))),ft=({transformHidden:e})=>{const t=r.useContext(b.a.Context);return r.createElement(C.j,{"aria-hidden":k.b.invert(e),className:e.pipe(E.a.map(Object(p.c)(Tt.transformHint,Tt.transformHintInvisible)))},t.card.updatingSuggestion)},bt=({card:e,actions:t,isChecking:n,isCheckingGlobal:a})=>{const o=r.useContext(b.a.Context);return r.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:Object(i.constant)(r.createElement(N.j,{card:e,actions:t,isChecking:n})),cardFooter:n=>r.createElement(r.Fragment,null,r.createElement(N.g,{card:e}),r.createElement("div",{className:Tt.fullSentenceCardFooterBtns},r.createElement(N.q,{title:o.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:O.d.callOnce(()=>{t.next({type:x.b.Type.alertApply,id:e.id,eligibleForSurvey:_.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:_.a.isEligibleForGbPrompt(e),alertId:e.activeAlert.id,alternativeIndex:0,cardType:x.b.getCardType(e)})})})))})},yt=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:c})=>{const u=r.useContext(b.a.Context),d=s.a.create(!0);return A.a.useSubscriptionTo(Object(o.pipe)(d,E.a.skip(1),E.a.tap(e=>t.next({type:x.b.Type.fullSentenceHighlightChangesToggle,showChanges:e})))),r.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:Object(i.constant)(r.createElement(l.a.Fragment,null,r.createElement(N.i,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(At,{isNew:e.renderOptions.isNew,actions:t}),Object(o.pipe)(e.renderOptions.layoutDensity,j.a.Density.matchOrDefault(j.a.Density.minimal)(()=>null,()=>r.createElement(N.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}))),r.createElement(y.b,{classes:{rendered:Tt.replacement,removing:Tt.replacementHidden},timeout:250,content:d.pipe(E.a.combineLatest(c,(t,n)=>Object(o.pipe)(n,m.g.fold(()=>(f.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable in full-sentence card",{cardId:e.id}),null),n=>r.createElement(nt.c,{replacements:n,showDiff:t,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(j.a.Features.a11yContrast)})))))}),r.createElement(N.k,{card:e,isChecking:n}))),cardFooter:n=>r.createElement(r.Fragment,null,r.createElement(N.g,{card:e}),r.createElement(l.a.div,{className:Tt.fullSentenceCardFooterBtns},r.createElement(N.q,{title:c.pipe(E.a.map(m.g.fold(()=>"",e=>u.card.todoAction(e.tooltipText)))),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:O.d.callOnce(()=>{t.next({type:x.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:_.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:_.a.isEligibleForGbPrompt(e),cardType:x.b.getCardType(e)})})}),r.createElement(S.a,{className:Tt.fullSentenceCardCheckbox,checked:d,name:"set-goals"},u.card.showChangesToggle)))})},vt=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:s})=>{const c=r.useContext(b.a.Context),u=Object(o.pipe)(e.activeAlert.extraProperties.citationGap,m.g.contains(!0)),d=Object(o.pipe)(e.activeAlert.extraProperties.citationItalicization,m.g.contains(!0));return r.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:Object(i.constant)(r.createElement(l.a.Fragment,null,r.createElement(N.i,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(At,{isNew:e.renderOptions.isNew,actions:t}),Object(o.pipe)(e.renderOptions.layoutDensity,j.a.Density.matchOrDefault(j.a.Density.minimal)(()=>null,()=>r.createElement(N.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity,className:Mt.description}))),r.createElement(y.b,{classes:{rendered:Tt.replacement,removing:Tt.replacementHidden},timeout:250,content:s.pipe(E.a.map(e=>r.createElement(gt,{replacement:e.value,isCitationGap:u,isCitationItalicization:d})))}),r.createElement(N.k,{card:e,isChecking:n}))),cardFooter:n=>r.createElement(r.Fragment,null,r.createElement(N.g,{card:e}),r.createElement(l.a.div,{className:Tt.fullSentenceCardFooterBtns},!u&&r.createElement(N.q,{title:c.card.todoAction(e.activeAlert.todoAction),applyMessage:"Reformat",checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:O.d.callOnce(()=>{t.next({type:x.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:_.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:_.a.isEligibleForGbPrompt(e),cardType:x.b.getCardType(e)})})})))})},St=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:s})=>{const c=Object(o.pipe)(e.userInput,m.g.getOrElse(Object(i.constant)("")));return r.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:a=>r.createElement(r.Fragment,{key:"content"},r.createElement(N.i,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(At,{isNew:e.renderOptions.isNew,actions:t}),r.createElement(l.a.div,{className:a.pipe(E.a.map(Object(p.c)(Tt.transformContainerInvisible,Tt.transformContainer)))},r.createElement(y.b,{classes:{rendered:Tt.replacement,removing:Tt.replacementHidden},timeout:250,content:s.pipe(E.a.map(m.g.fold(()=>(f.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),n=>r.createElement(nt.e,{key:"label",gapValue:c,replacements:n,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(j.a.Features.a11yContrast),onFocus:()=>t.next({type:x.b.Type.focusUserInput,id:e.id,kind:"focus"}),onChange:n=>t.next({type:x.b.Type.changeUserInput,alertId:e.activeAlert.id,cardId:e.id,userInput:n}),onApply:O.d.callOnce(()=>t.next({type:x.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:0,id:e.id,eligibleForSurvey:_.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:_.a.isEligibleForGbPrompt(e),cardType:x.b.getCardType(e)}))}))))})),r.createElement(ft,{transformHidden:a}),r.createElement(N.k,{card:e,isChecking:n}),Object(o.pipe)(e.renderOptions.layoutDensity,j.a.Density.matchOrDefault(j.a.Density.minimal)(()=>null,()=>r.createElement(N.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(i.constant)(r.createElement(N.g,{card:e}))})},Ct=({card:e,actions:t,isChecking:n,isCheckingGlobal:a})=>{Object(h.f)(m.g.isSome(e.activeAlert.extraProperties.citationDetection),"Should contain citation detection");const p=r.useContext(b.a.Context),g=s.a.create(m.g.unsafeGet(e.activeAlert.extraProperties.citationDetection));return r.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:Object(i.constant)(r.createElement(l.a.Fragment,null,r.createElement(N.i,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(At,{isNew:e.renderOptions.isNew,actions:t}),r.createElement(N.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity}),r.createElement("div",{className:Object(o.pipe)(e.renderOptions.layoutDensity,j.a.Density.matchOrDefault(j.a.Density.cozy)(()=>Nt.dropdownContainer,()=>Nt.minimalDropdownContainer))},r.createElement(c.a,{name:"citationStyle",label:r.createElement(l.a.div,null,g.pipe(E.a.map(e=>r.createElement("span",{className:Nt.dropdownLabel,key:e},p.citation.essayDetectionCard.dropdownOptions[e],r.createElement(u.d.TriangleArrow,{className:Nt.arrowIcon})))))},Object.entries(p.citation.essayDetectionCard.dropdownOptions).map(([t,n])=>r.createElement(d.a.Flat,{key:t,name:t,onClick:()=>g.set(t),textPosition:"right"},g.pipe(E.a.map(e=>t===e?r.createElement(u.d.DocumentSettings.Selected,null):r.createElement("div",{className:Nt.placeholder}))),n,void 0!==p.citation.essayDetectionCard.examples[t]&&Object(o.pipe)(e.renderOptions.layoutDensity,j.a.Density.matchOrDefault(j.a.Density.cozy)(()=>r.createElement("span",{className:Nt.example},p.citation.essayDetectionCard.examples[t]),()=>null)))))),r.createElement(N.k,{card:e,isChecking:n}))),cardFooter:n=>r.createElement(r.Fragment,null,r.createElement(N.g,{card:e}),r.createElement(l.a.div,{className:Tt.fullSentenceCardFooterBtns},r.createElement(N.q,{title:p.card.todoAction(e.activeAlert.todoAction),applyMessage:"Set style",checkingMessage:e.activeAlert.todoAction,checkingInProgress:n,onClick:O.d.callOnce(()=>{t.next({type:x.c.Kind.setAcademicDomainAndCitationStyle,citationStyle:g.get(),id:e.id}),t.next({type:x.b.Type.alertResolve,id:e.id,alertId:e.activeAlert.id})})})))})},wt=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:s})=>{const c=r.useContext(b.a.Context);return r.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:a=>r.createElement(r.Fragment,null,r.createElement(l.a.Fragment,null,r.createElement(N.i,{alert:e.activeAlert,options:e.renderOptions,badge:r.createElement(v.a.Regular,{a11yContrast:e.renderOptions.features.has(j.a.Features.a11yContrast)},c.beta)})),r.createElement(l.a.div,{className:a.pipe(E.a.map(Object(p.c)(Tt.transformContainerInvisible,Tt.transformContainer)))},r.createElement(y.b,{classes:{rendered:Tt.replacement,removing:Tt.replacementHidden},timeout:250,content:s.pipe(E.a.map(m.g.fold(()=>(f.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),n=>{const a=Object(o.pipe)(e.synfonySelection,m.g.getOrElse(()=>[]));return r.createElement(nt.b,{replacements:n,onClick:n=>O.d.callOnce(()=>{t.next({type:x.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n,cardType:x.b.getCardType(e),id:e.id,eligibleForSurvey:_.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:_.a.isEligibleForGbPrompt(e),drilldownSuggestionIds:a})}),onDive:(n,r)=>t.next({type:x.f.Kind.drilldown,alertId:e.activeAlert.id,wordIndex:n,cardId:e.id,alternativeId:r,drilldownSuggestionIds:a}),onBack:()=>t.next({type:x.f.Kind.back,cardId:e.id}),selection:a,layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(j.a.Features.a11yContrast)})})))})),r.createElement(ft,{transformHidden:a}),r.createElement(N.k,{card:e,isChecking:n}),Object(o.pipe)(e.renderOptions.layoutDensity,j.a.Density.matchOrDefault(j.a.Density.minimal)(()=>null,()=>r.createElement(N.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(i.constant)(r.createElement(N.g,{card:e}))})},kt=({card:e,actions:t,isChecking:n,isCheckingGlobal:a,transform:s})=>r.createElement(Et,{card:e,actions:t,isChecking:n,isCheckingGlobal:a,cardBody:a=>r.createElement(r.Fragment,null,r.createElement(N.i,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(l.a.div,{className:a.pipe(E.a.map(Object(p.c)(Tt.transformContainerInvisible,Tt.transformContainer)))},r.createElement(y.b,{classes:{rendered:Tt.replacement,removing:Tt.replacementHidden},timeout:250,content:s.pipe(E.a.map(m.g.fold(()=>(f.Monitoring.Logging.getLogger("WithTransformsCard").error("Transforms are unavailable",{cardId:e.id}),null),n=>r.createElement(N.l,{rl:n,onClick:n=>O.d.callOnce(()=>{t.next({type:x.b.Type.alertApply,alertId:e.activeAlert.id,alternativeIndex:n,id:e.id,eligibleForSurvey:_.a.isEligibleForAcceptSurvey(e),eligibleForGbPrompt:_.a.isEligibleForGbPrompt(e),cardType:x.b.getCardType(e)})}),layoutDensity:e.renderOptions.layoutDensity,a11yContrast:e.renderOptions.features.has(j.a.Features.a11yContrast),demoDocOnboardingCopyV1:e.renderOptions.features.has(j.a.Features.demoDocOnboardingCopyV1)}))))})),r.createElement(ft,{transformHidden:a}),r.createElement(N.k,{card:e,isChecking:n}),Object(o.pipe)(e.renderOptions.layoutDensity,j.a.Density.matchOrDefault(j.a.Density.minimal)(()=>null,()=>r.createElement(N.f,{description:e.meta.explanation,actions:t,layoutDensity:e.renderOptions.layoutDensity})))),cardFooter:Object(i.constant)(r.createElement(N.g,{card:e}))}),Et=e=>{var t,n,a;return r.createElement(N.r,Object.assign({},e,{cardExtra:null!==(t=e.cardExtra)&&void 0!==t?t:Object(i.constant)(r.createElement(N.b,{card:e.card,actions:e.actions})),mainActions:null!==(n=e.mainActions)&&void 0!==n?n:Object(i.constant)(r.createElement(N.e,{card:e.card,feedbackActions:e.actions})),subActions:null!==(a=e.subActions)&&void 0!==a?a:Object(i.constant)(r.createElement(N.m,{card:e.card,actions:e.actions}))}))},Ot=({card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:o})=>I.a.isTakeawayItem(e)?r.createElement(Qe.Full,{card:e,actions:t}):I.a.isShortenItItem(e)?r.createElement($e.Full,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}):I.a.isToneAIItem(e)?r.createElement(tt.a.Full,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}):I.a.isEthicalAIItem(e)?r.createElement(T.a.Full,{card:e,actions:t,isChecking:n}):I.a.isSuggestedSnippetItem(e)?r.createElement(Ge.a.Full,{card:e,actions:t,isChecking:n}):I.a.isKnowledgeHubSuggestedTermItem(e)?r.createElement(a.Full,{card:e,actions:t,isChecking:n}):_.a.isCitationDetectionCard(e)?r.createElement(Ct,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}):_.a.hasTransform(e)?_.a.hasFullSentenceTransform(e)?r.createElement(yt,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:o}):_.a.hasCitationTransform(e)?r.createElement(vt,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:o}):_.a.hasOneGapTransform(e)?r.createElement(St,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:o}):_.a.hasSynfonyTransform(e)?r.createElement(wt,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:o}):r.createElement(kt,{card:e,actions:t,isChecking:n,isCheckingGlobal:i,transform:o}):_.a.isSimple(e)?r.createElement(bt,{card:e,actions:t,isChecking:n,isCheckingGlobal:i}):r.createElement(N.s,{card:e,actions:t,isChecking:n}),At=e=>r.createElement(l.a.Fragment,null,e.isNew.pipe(E.a.map(m.g.fold(i.constNull,t=>r.createElement(N.d,{type:t,actions:e.actions,key:"new-notification"}))),E.a.startWith(null))),_t={transition:"opacity "+w.a.seconds(N.t),transitionDelay:w.a.seconds(N.t)},xt={position:"absolute",top:w.a.rem(2),color:g.a.CoreNeutral40,lineHeight:w.a.rem(2),transition:"opacity "+w.a.seconds(N.t),transitionDelay:w.a.seconds(N.t)},It={transition:"opacity "+w.a.seconds(N.t)},jt={fontSize:w.a.rem(g.h.BodySize),lineHeight:w.a.rem(2.0625)},Tt=Object.assign({},w.a.stylesheet({invisible:[N.w],transformContainer:[_t],transformContainerInvisible:[_t,N.w,{transitionDelay:"initial"}],transformHint:[xt],transformHintInvisible:[xt,N.w,{transitionDelay:"initial"}],replacement:[It],replacementHidden:[It,{opacity:0}],fullSentenceCardFooterBtns:[{display:"flex",flexWrap:"wrap"}],fullSentenceCardCheckbox:[jt]})),Mt=w.a.prefixedStylesheet("withCitation",{description:[{$nest:{"& a":{backgroundImage:`repeating-linear-gradient(90deg, ${g.a.CoreBlue50}, ${g.a.CoreBlue50} 1px, transparent 1px, transparent 2px, ${g.a.CoreBlue50} 2px)`,backgroundSize:"100% 1px",backgroundPosition:"0 100%",backgroundRepeat:"no-repeat",borderBottom:"none",paddingBottom:w.a.px(1)}}}]}),Nt=w.a.prefixedStylesheet("withCitationDetection",{dropdownLabel:[{color:g.a.CoreBlue50,fontSize:w.a.rem(.875),fontWeight:700,lineHeight:w.a.rem(1.3125),cursor:"pointer"}],dropdownContainer:[{width:w.a.rem(18.75)}],minimalDropdownContainer:[{width:w.a.rem(10)}],arrowIcon:[{transform:"rotate(180deg)",position:"absolute",marginLeft:w.a.rem(-.5625),top:w.a.rem(-.34375),$nest:{"*":{fill:g.a.CoreBlue50}}}],placeholder:[{width:w.a.rem(2),margin:`0 ${w.a.rem(.25)} 0 0`}],example:[{display:"inline-block",marginLeft:"auto",marginRight:0,color:g.a.CoreNeutral50,fontStyle:"italic",fontSize:w.a.rem(.75),lineHeight:w.a.rem(2)}]})},jW1I:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return v}));var a=n("D57K"),r=n("ERkP"),i=n("rk+4"),o=n("e12y"),s=n("0Hf4"),l=n("ax6a"),c=n("Ov/9"),u=n("3BTE");const d="report-sections-document_insights-",p={insightsSection:d+"insightsSection",insightTable:d+"insightTable",insightHeader:d+"insightHeader",insightBody:d+"insightBody",insightTextCell:d+"insightTextCell",insightTextHeader:d+"insightTextHeader",insightScoreCell:d+"insightScoreCell",insightScore:d+"insightScore"},m={paddingRight:o.a.px(32*c.a),width:o.a.px(321*c.a)},h={width:o.a.px(191*c.a),verticalAlign:"top",textTransform:"lowercase"},g={insightsSection:o.a.joinClasses([p.insightsSection,s.a.style(u.d,{$nest:{"&:not(:first-child)":{marginTop:o.a.px(24*c.a)}}})]),insightTable:o.a.joinClasses([p.insightTable,s.a.style(u.b,{marginTop:o.a.px(24*c.a),width:o.a.px(512*c.a)})]),insightHeader:o.a.joinClasses([p.insightHeader,s.a.style({letterSpacing:0,fontWeight:"bold",fontSize:o.a.px(18*c.a),lineHeight:o.a.px(32*c.a)})]),insightBody:o.a.joinClasses([p.insightBody,s.a.style({color:l.a.CoreNeutral50,letterSpacing:o.a.px(.11*c.a),fontSize:o.a.px(13*c.a),lineHeight:o.a.px(20*c.a)})]),insightTextCell:o.a.joinClasses([p.insightTextCell,s.a.style(m)]),insightTextHeader:o.a.joinClasses([p.insightTextHeader,s.a.style(m,{textTransform:"capitalize"})]),insightScoreCell:o.a.joinClasses([p.insightScoreCell,s.a.style(h)]),insightScore:o.a.joinClasses([p.insightScore,s.a.style(h,{color:l.a.CoreBlue50,letterSpacing:o.a.px(-.1*c.a)})])},f=({header:e,description:t,measure:n,score:a})=>r.createElement("section",{className:g.insightsSection},r.createElement("table",{className:g.insightTable},r.createElement("tbody",null,r.createElement("tr",{className:g.insightHeader},r.createElement("td",{className:g.insightTextHeader},e),r.createElement("td",{className:g.insightScore},a)),r.createElement("tr",{className:g.insightBody},r.createElement("td",{className:g.insightTextCell},t),r.createElement("td",{className:g.insightScoreCell},n))))),b=e=>{var{score:t}=e,n=Object(a.__rest)(e,["score"]);return r.createElement(f,Object.assign({},n,{score:("number"!=typeof t||t<0?0:t>100?100:Math.round(t))+"%"}))},y=e=>{var{score:t}=e,n=Object(a.__rest)(e,["score"]);return r.createElement(f,Object.assign({},n,{score:""+("number"!=typeof t?0:Math.round(10*t)/10)}))},v=({stats:e})=>{const t=r.useContext(i.a.Context);return r.createElement("div",null,r.createElement(b,{header:t.performance.uniqueWordsTitle,description:t.performance.report.uniqueWordsDescription,measure:t.performance.uniqueWordsTitle,score:e.uniqueWords}),r.createElement(b,{header:t.performance.rareWordsTitle,description:t.performance.rareWords,measure:t.performance.rareWordsTitle,score:e.rareWords}),r.createElement(y,{header:t.performance.wordLengthTitle,description:t.performance.report.wordLengthDescription,measure:t.performance.report.wordLengthMeasure,score:e.wordLength}),r.createElement(y,{header:t.performance.sentenceLengthTitle,description:t.performance.report.sentenceLengthDescription,measure:t.performance.report.sentenceLengthMeasure,score:e.sentenceLength}))}},jcJZ:function(e,t,n){"use strict";n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return _}));var a=n("ERkP"),r=n("OA+g"),i=n("9NHN"),o=n("LNSM"),s=n("vOOZ"),l=n("p7l/"),c=n("xEVj"),u=n("XXDN"),d=n("8cPE"),p=n("GUi3"),m=n("dE97"),h=n("zR/0"),g=n("gy42"),f=n("lrqh"),b=n("hoSD"),y=n("PDIG"),v=n("3gtx"),S=n("BM24"),C=n("/by5");const w=({lensPreview:e,activeLensId:t,cardVisualMode:n,onClick:r})=>a.createElement(C.c,{lens:e,activeLensId:t,tooltipAlignment:"left",cardVisualMode:n,onClick:r}),k=(e,t)=>{const n=(e=>(t,n,a)=>()=>{if("list"===t){if(n===p.a.SpecialId.AllAlerts)return void e.events.next({type:"switchToAll",focusFirst:!0,actionSource:m.b.sidebar});e.events.next({type:"switchToLens",id:n,title:a,focusFirst:!0,actionSource:m.b.sidebar})}})(e);return o.a.combine(e.lensPreviews,e.premiumButtonData,(o,s)=>Object.assign(Object.assign({[p.a.SpecialId.AllAlerts]:({mode:t,className:r})=>((e,t,n,r)=>a.createElement(S.a,Object.assign({isActive:e.activeLensId.view(p.a.isMainLens),onClick:n(t,p.a.SpecialId.AllAlerts)},Object(i.c)(v.a.allAlertsBtn,r))))(e,t,n,r)},Object.values(o).reduce((t,r)=>Object.assign(Object.assign({},t),{[r.id]:({mode:t})=>((e,t,n,r)=>a.createElement(w,{key:t.id,lensPreview:t,activeLensId:e.activeLensId,cardVisualMode:e.cardVisualMode,onClick:r(n,t.id,t.title)}))(e,r,t,n)}),{})),t?((e,t,n)=>Object(r.pipe)(t,f.g.fold(()=>({[p.a.SpecialId.FreePremiumAlerts]:({mode:t})=>a.createElement(C.b,{id:p.a.SpecialId.FreePremiumAlerts,name:"lens-free-premium",activeLensId:e.activeLensId,data:e.freePremiumButtonData,onClick:n(t,p.a.SpecialId.FreePremiumAlerts)})}),()=>({[p.a.SpecialId.Premium]:({mode:t})=>a.createElement(C.b,{id:p.a.SpecialId.Premium,name:"lens-premium",activeLensId:e.activeLensId,data:e.premiumButtonData,onClick:n(t,p.a.SpecialId.Premium)})}))))(e,s,n):{}))};const E=e=>t=>e.denali.isPremiumLenseFirst&&!e.premiumLensButtonInFooter?function(e){return[e[e.length-1],...e.slice(0,e.length-1)]}(t):t,O=({children:e,mount:t})=>a.createElement(s.a.div,{mount:t,className:v.a.wrapper},e),A=({navigationViewModel:e,renderLensButtons:t=k,features:n})=>{const i=a.useContext(l.a.Context),{rect:d,onMount:m}=c.a.useRectWatcher(),{rect:g,onMount:y}=c.a.useRectWatcher(),S=d.pipe(h.b.compact,h.a.pluck("height"),h.a.filter(Boolean),h.a.take(1),h.a.withLatestFrom(g.pipe(h.b.compact,h.a.pluck("top"))),h.a.switchMap(([e,t])=>i.pipe(h.a.map(n=>(n.rect.height-e)/2-t))),h.a.startWith(0),h.a.distinctUntilChanged(),h.a.map(v.c)),C=t(e,!n.premiumLensButtonInFooter),w=a.createElement(s.a.Fragment,null,C.view(Object.values).view(E(n)).view(f.a.mapWithIndex((e,t)=>a.createElement(t,{key:e,mode:"list"})))),O=a.createElement(s.a.Fragment,null,o.a.combine(e.activeLensId,C,(e,t)=>Object(r.pipe)(t,b.e.pick(e),f.g.fromNullable,f.g.getOrElse(()=>t[p.a.SpecialId.AllAlerts]),e=>a.createElement(e,{mode:"single"}))));return a.createElement("div",{ref:y},a.createElement(u.a,{activeDescendantId:e.activeLensId,label:O,name:"lenses-navigation-dropdown",appearanceBehavior:"mouseHover",align:"left",customPosition:{top:S,left:v.b}},a.createElement("div",{ref:m},w)))},_=({navigationViewModel:e,features:t,renderLensButtons:n=k})=>{const r=n(e,!t.premiumLensButtonInFooter),i=a.createElement(s.a.Fragment,null,r.view(e=>b.e.omit(e,p.a.SpecialId.AllAlerts)).view(Object.values).view(E(t)).view(f.a.mapWithIndex((e,t)=>a.createElement(t,{key:e,mode:"list"})))),o=()=>window.matchMedia(y.a.collapsedSidebarQuery).matches,l=g.a.getResizeObservable(document.documentElement).pipe(h.a.map(o),h.a.startWith(o()));return a.createElement(s.a.Fragment,null,l.pipe(h.a.map(n=>n?a.createElement(A,{navigationViewModel:e,features:t}):a.createElement(s.a.Fragment,null,r.view(b.e.pick(p.a.SpecialId.AllAlerts)).view(e=>a.createElement(e,{mode:"list"})),a.createElement(d.a,{name:"lenses"},i)))))}},joH1:function(e,t,n){"use strict";n.d(t,"a",(function(){return se}));var a,r=n("ERkP"),i=n("rk+4"),o=n("Z5Rd"),s=n("czBP"),l=n("1nqz"),c=n("VRL6"),u=n("YnIn"),d=n("3rlE"),p=n("o79T"),m=n("a0Ed"),h=n("4Edb");!function(e){const t={content:{wrapper:h.wrapper,icon:h.icon}};e.View=({notification:e,savedPrice:n,onClose:a,onChangePlan:s})=>{const l=r.useContext(i.a.Context).changePlan.hook;return r.createElement(o.b.Wrapper,{notification:e,onClose:a,theme:t},r.createElement(o.b.Content,null,r.createElement("div",{className:h.content},r.createElement(d.d.Paid,{width:18,className:h.iconPremium}),r.createElement("div",{className:h.text},l.title,r.createElement(p.a,{onClick:s,name:"changePlanNotification",className:h.changePlanBtn},r.createElement("b",null,l.button.switchTo,r.createElement("span",{className:h.price},l.button.price(r.createElement(m.a,Object.assign({},n.pricePerYear,{periodInMonths:12}))))))))))}}(a||(a={}));var g=n("bO3R"),f=n("BugA"),b=n("xEVj"),y=n("e12y"),v=n("ps/9"),S=n("ax6a");y.a.style({display:"flex",flexDirection:"column",width:"100vw",height:"100vh",background:S.a.CoreNeutral1,justifyContent:"center",alignItems:"center"});const C=y.a.style({padding:y.a.rem(1.5),width:y.a.rem(v.v-v.b),borderRadius:y.a.rem(v.s),background:S.a.CoreNeutral0,boxShadow:S.b.Z300,transform:`translateX(${y.a.rem(-1*(v.p-v.c+v.b))})`,$nest:{[`@media (${v.y})`]:{width:y.a.rem(v.w-v.b)}}}),w=y.a.style({display:"flex",marginBottom:y.a.rem(1)}),k=(y.a.style({marginBottom:y.a.rem(1)}),y.a.style({marginBottom:y.a.rem(1),fontWeight:700})),E=(y.a.style({marginLeft:y.a.rem(.5)}),y.a.style({maxWidth:"100%"})),O=y.a.style({paddingRight:y.a.rem(.5),paddingLeft:y.a.rem(.5)}),A=y.a.joinClasses([y.a.style({marginRight:y.a.rem(.5),marginLeft:y.a.rem(-.5),textTransform:"none",letterSpacing:"normal",fontSize:y.a.rem(S.h.BodySize)}),O]);var _;(_||(_={})).View=({name:e,title:t,description:n,cta:a,dismiss:i,topPart:o,rightPart:s,onCTA:l,onDismiss:c,onShow:u})=>(b.a.useEffectOnDidMount(()=>u&&u()),r.createElement("section",{className:C},o,r.createElement("div",{className:w},r.createElement("div",null,r.createElement(f.a,{className:k},t),r.createElement(f.a,null,n)),s),r.createElement("div",{className:E},r.createElement(g.a.Ghost,{name:e,className:A,onClick:l},a),r.createElement(g.a.Flat,{name:"dismiss."+e,className:O,onClick:c},i))));var x=n("gOzB");const I=({className:e})=>r.createElement("svg",{viewBox:"0 0 68 68",width:"68",height:"68",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e},r.createElement("path",{d:"M12.965 22.107c3.688-6.33 10.104-10.96 17.954-11.942 4.466-.621 8.752.094 12.604 1.714.68.292 1.411.648 2.027.994.616.346 1.284.755 1.9 1.102a23.872 23.872 0 016.326 6.12c.467.686.987 1.435 1.391 2.175.35.676.701 1.352.998 1.965.872 2.073 1.552 4.305 1.808 6.678.831 6.42-1.022 12.61-4.636 17.478-.806 1.107-1.718 2.088-2.683 3.006-1.484 1.461-3.18 2.67-4.92 3.698-2.662 1.48-5.578 2.526-8.793 2.96-5.77.745-11.235-.6-15.809-3.338a18.989 18.989 0 01-3.523-2.65",stroke:"#8383EF"}),r.createElement("path",{d:"M31.985 18.544c.297-.034.594-.067.827-.048M34.467 18.401c1.995.051 3.841.443 5.592 1.238M40.791 19.995c.223.136.51.22.733.356.392.21.838.482 1.23.692 1.55 1.071 3.015 2.43 4.109 3.992.308.496.68.94.87 1.426.255.433.457.803.648 1.289a16.01 16.01 0 011.202 4.275c.565 4.163-.621 8.178-2.964 11.33-.53.66-1.124 1.374-1.707 1.972A16.193 16.193 0 0141.7 47.7c-1.24.718-2.64 1.246-4.083 1.594",stroke:"#00B18F"}),r.createElement("path",{d:"M34.82 41.18a7.096 7.096 0 01-4.615-.978c-.392-.21-.721-.473-1.05-.736-.16-.19-.436-.39-.595-.579-.85-1.012-1.497-2.302-1.657-3.785-.138-1.07-.044-2.12.274-3.033.021-.234.159-.457.233-.627.138-.224.223-.51.36-.734 1.05-1.851 2.937-3.22 5.26-3.552 1.305-.125 2.589-.016 3.66.486.17.073.393.21.563.283.17.073.392.21.562.283a6.731 6.731 0 011.837 1.801",stroke:"#1CA6D0"}),r.createElement("path",{d:"M8.764 63.084h18.649c3.813 0 6.933-3.139 6.933-6.974V32.818c0-3.835-3.12-6.973-6.933-6.973H8.764c-3.812 0-6.932 3.138-6.932 6.973V56.11c.07 3.836 3.12 6.974 6.932 6.974z",fill:"#F2F3FA",stroke:"#1C1E33"}),r.createElement("path",{d:"M18.123 54.297c6.012 0 10.885-4.902 10.885-10.949 0-6.046-4.873-10.948-10.884-10.948-6.012 0-10.885 4.902-10.885 10.948 0 6.047 4.873 10.949 10.884 10.949z",fill:"#AFE4F4",stroke:"#1C1E33"}),r.createElement("path",{d:"M8.14 47.672c-2.148-4.951-.277-10.67 4.091-13.529 1.872 0 4.16-.558 9.498 6.346a482.407 482.407 0 012.426 3.627c-1.11.627-2.218 1.045-2.218 1.045.97 2.093 3.05 5.37 1.317 7.88l-.832.42c-5.477 2.3-11.924-.21-14.281-5.789z",fill:"#fff",stroke:"#1C1E33"}),r.createElement("path",{d:"M19.302 36.096c-2.08-2.72-3.605-2.86-4.853-3.138-.277.14-.554.209-.901.348h-.07l-.831.419h-.07c-.277.14-.485.349-.762.488-1.248.907-2.288 2.022-3.05 3.347 0 .07-.07.07-.07.14-.138.209-.208.348-.277.558-.07.14-.139.209-.139.348-.069.14-.138.349-.208.558-.069.21-.138.349-.208.488-.069.14-.138.35-.138.489-.07.139-.07.348-.139.488-.07.14-.07.348-.139.488-.069.21-.069.349-.069.558-.07.14-.07.279-.07.418 0 .21 0 .419-.069.628V44.186c0 .348.07.697.14 1.045a11.92 11.92 0 001.039 3.138c.139.35.347.628.555.907.97 1.534 2.287 2.72 3.812 3.626.14-1.604-.623-3.696-1.317-5.37-1.109-2.72 1.317-3.068 2.565-1.882 1.248 1.116.902-.349.763-2.86-.07-3.556 2.773-5.509 4.506-6.694z",fill:"#1C1E33"}),r.createElement("path",{d:"M47.605 40.74H28.956c-3.813 0-6.932-3.139-6.932-6.974V10.474c0-3.835 3.12-6.973 6.932-6.973h18.649c3.813 0 6.932 3.138 6.932 6.973v23.292c0 3.835-3.12 6.974-6.932 6.974z",fill:"#fff",stroke:"#1C1E33"}),r.createElement("path",{d:"M38.246 31.954c-6.011 0-10.884-4.902-10.884-10.949s4.873-10.948 10.884-10.948c6.01 0 10.884 4.901 10.884 10.948 0 6.047-4.873 10.949-10.884 10.949z",fill:"#B9CDFF",stroke:"#1C1E33"}),r.createElement("path",{d:"M48.991 22.888c.971-5.37-2.149-10.46-7.07-12.204-1.803.419-4.16.419-7.835 8.438-.554 1.534-1.525 4.045-1.525 4.045 1.248.349 2.427.488 2.427.488-.486 2.232-1.803 5.928.485 7.95.277.07.555.14.901.21 5.893 1.045 11.578-2.93 12.617-8.927z",fill:"#fff",stroke:"#1C1E33"}),r.createElement("path",{d:"M45.04 24.84c1.178-2.37-1.179-3.975-1.872-2.58-.693 1.464-2.01 1.813-1.664.628.486-2.371 1.525-5.37-2.149-6.137-3.674-.697-3.882-3.975-2.98-6.555.831-.14 1.663-.21 2.564-.14 6.032.349 10.607 5.58 10.191 11.646-.208 3.417-1.941 6.346-4.506 8.229-.901-1.186-.416-3.487.416-5.09z",fill:"#1C1E33"}));var j,T=n("Qr4B");(j||(j={})).View=({type:e,dismissCount:t,onShow:n,onCTA:a,onDismiss:o})=>{const s=r.useContext(i.a.Context).gbUpHook;return b.a.useEffectOnDidMount(n),r.createElement("section",{className:T.container},r.createElement(x.a.Regular,null,s.proTipBadge),r.createElement("div",{className:T.content},r.createElement("div",null,r.createElement(f.a,{className:T.title},s[e].title),r.createElement(f.a,null,s[e].description)),r.createElement(I,{className:T.image})),r.createElement("div",{className:T.buttonsContainer},r.createElement(g.a.Ghost,{name:e,className:T.ctaButton,onClick:a},s[e].cta),r.createElement(g.a.Flat,{name:"dismiss."+e,className:T.dismissButton,onClick:o},1===t?s.dontShowAgain:s.dismiss)))};var M=n("4L0w"),N=n("hoSD");const P=({expiryDate:e,notification:t,onShow:n,onDismiss:a,onUpdateBilling:s})=>{const l=r.useContext(i.a.Context).gbBillingMigration,c=N.d.Local.fullDate(N.d.Local.Timestamp.toLocal(e.getTime()));return r.useEffect(n),r.createElement(o.b.Wrapper,{notification:t,onClose:a},r.createElement("div",null,r.createElement(f.g,{className:L.title},l.title),r.createElement(M.a,null),r.createElement(f.a,{className:L.description},l.description(c)),r.createElement(M.a,null),r.createElement(p.a,{name:"addBillingInformation",onClick:s,className:L.cta},l.cta)))},L=y.a.prefixedStylesheet("gb_billing_migration_notification",{title:[{color:S.a.CoreNeutral0,lineHeight:y.a.rem(1.5)}],description:[{color:S.a.CoreNeutral0}],cta:[{fontWeight:600}]});var R=n("ztZG");const B=({notification:e,onClose:t,link:n})=>{const a=r.useContext(i.a.Context).gbRuleCreated;return r.createElement(o.a.Wrapper,{notification:e,onClose:t},r.createElement(o.b.Content,null,r.createElement("div",{className:V.wrapper},r.createElement("div",{className:V.content},r.createElement("div",null,a.ruleSaved),r.createElement(R.a,{href:n,target:"_blank",className:V.link},a.viewStyleGuide)))))},F={display:"flex",marginTop:y.a.rem(-1.1),marginBottom:y.a.rem(-.8),alignItems:"center",justifyContent:"space-between"},D={maxWidth:y.a.rem(14),wordWrap:"break-word",flexBasis:"auto",flexGrow:1,paddingTop:y.a.rem(.5),paddingRight:y.a.rem(2)},H={color:S.a.CoreBlue40,textDecoration:"none"},V=y.a.stylesheet({wrapper:[F],content:[D],link:[H]});var U,W=n("WiMv");(U||(U={})).CardMute=({onClose:e,onShow:t})=>{const a=n("PDwX"),o=n("s9lZ"),s=r.useContext(i.a.Context).mutedAlerts.onboarding.cardMute;return r.useEffect(()=>t()),r.createElement("div",{className:W.wrapper},r.createElement("video",{className:W.media,muted:!0,autoPlay:!0,loop:!0,src:a,poster:o}),r.createElement(f.a,{className:W.description},s.description),r.createElement(p.a,{name:"gotItMutedOnboarding",className:W.btn,onClick:e},s.buttonText))};var q,z=n("oCNB"),$=n("OA+g"),G=n("karx");!function(e){const t={content:{wrapper:G.wrapper,icon:G.icon}};e.View=({trialEndDate:e,notification:n,onManageSubscription:a,onClose:s})=>{const l=r.useContext(i.a.Context).premiumUngatingRenewalNotification,c=N.d.Local.fullDate(N.d.Local.Timestamp.toLocal(e.getTime())),u=Object($.flow)(a,s);return r.createElement(o.b.Wrapper,{notification:n,onClose:s,theme:t},r.createElement(o.b.Content,null,r.createElement("div",{className:G.content},r.createElement(d.d.Info,{width:18,className:G.iconInfo}),r.createElement("div",{className:G.message},r.createElement("div",{className:G.title},l.title),l.message(c),r.createElement(p.a,{onClick:u,name:"manageSubscription",className:G.manageSubscriptionBtn},l.cta)))))}}(q||(q={}));const K=()=>r.createElement("svg",{"aria-hidden":!0,width:"300",height:"120",viewBox:"0 0 200 100",xmlns:"http://www.w3.org/2000/svg"},r.createElement("defs",null,r.createElement("radialGradient",{cy:"51.039%",fx:"50%",fy:"51.039%",r:"53.934%",gradientTransform:"matrix(0 1 -.99155 0 1.006 .01)",id:"a"},r.createElement("stop",{stopColor:"#03C1E2",offset:"0%"}),r.createElement("stop",{stopColor:"#0279D8",offset:"100%"}))),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M180.34 114.801c0 25.152-20.564 45.544-45.933 45.544-25.366 0-45.932-20.392-45.932-45.544 0-25.154 20.566-45.544 45.932-45.544 25.369 0 45.933 20.39 45.933 45.544",fill:"#15C39A"}),r.createElement("path",{d:"M143.47 120.973c-1.91 0-3.417 1.705-3.06 3.662.272 1.49 1.686 2.513 3.214 2.513h4.813l2.79-.389c-4.464 6.493-12.214 9.481-20.688 8.163-6.898-1.074-12.823-5.701-15.323-12.165-5.676-14.67 5.13-28.678 19.211-28.678 7.34 0 13.774 4.259 17.465 9.403.002 0 .004.107.004.111.98 1.4 2.92 1.802 4.333.83a3.03 3.03 0 0 0 .905-4.053h.022c-5.105-7.901-14.277-12.957-24.592-12.272-13.43.893-24.298 11.79-25.07 25.115-.898 15.505 11.506 28.164 26.933 28.164 8.104 0 15.36-3.499 20.302-9.16l-.585 3.247v2.935c0 1.513 1.029 2.917 2.533 3.186 1.975.352 3.692-1.143 3.692-3.036v-17.576H143.47",fill:"#FFF",fillRule:"nonzero"}),r.createElement("g",{transform:"translate(3 69.257)"},r.createElement("ellipse",{stroke:"#FFF",strokeWidth:"2.649",fill:"url(#a)",cx:"45.765",cy:"45.378",rx:"47.089",ry:"46.703"}),r.createElement("path",{fill:"#EDEDED",d:"M40.217 39.83l33.05-21.955-21.955 33.05-33.05 21.956z"}),r.createElement("path",{fill:"#FE4E4D",d:"M40.217 39.83l33.05-21.955-21.955 33.05z"}),r.createElement("path",{fillOpacity:".199",fill:"#1C1E29",d:"M73.268 17.875l-21.956 33.05-33.05 21.956z"}),r.createElement("path",{d:"M46.637 77.791v6.483H45.11V77.79h1.526zm-17.783-4.666l1.321.756-3.269 5.614-1.32-.756 3.268-5.614zm33.822 0l3.269 5.614-1.322.756-3.268-5.614 1.32-.756zM17.128 61.023l.763 1.31-5.662 3.242-.763-1.31 5.662-3.242zm57.273 0l5.662 3.242-.762 1.31-5.662-3.242.762-1.31zm10.59-16.293v1.513h-6.537V44.73h6.538zm-71.915 0v1.513H6.538V44.73h6.538zM79.41 25.369l.762 1.31-5.662 3.241-.762-1.31 5.662-3.241zm-67.29 0l5.662 3.241-.763 1.31-5.662-3.241.763-1.31zm52.692-14l1.321.757-3.269 5.614-1.32-.756 3.268-5.615zm-38.094 0l3.268 5.615-1.32.756-3.27-5.614 1.322-.757zm19.919-4.886v6.482H45.11V6.483h1.526z",fill:"#F3F5FA"})),r.createElement("g",null,r.createElement("path",{d:"M76.732 36.02h35.03a2.55 2.55 0 0 0 2.205-3.833L96.452 2.074a2.55 2.55 0 0 0-4.409 0L74.528 32.187a2.55 2.55 0 0 0 2.204 3.832z",fill:"#EA1537"}),r.createElement("path",{d:"M95.86 17.988l-.695 6.792h-1.859l-.694-6.792v-5.483h3.247v5.483zm.024 12.028h-3.272v-3.285h3.272v3.285z",fill:"#FFF",fillRule:"nonzero"}))));var Y=n("JbXn"),Z=n("xlCj"),X=n("LNSM"),Q=n("D8Xd"),J=n("zR/0"),ee=n("lrqh"),te=n("XaD9"),ne=n("Fgeo"),ae=n("vXpH"),re=n("0sKd");const ie=Z.a.create(ee.g.isNone,e=>e?ee.g.none:ee.g.some("closedByUser")),oe=({onClose:e,onGetStarted:t})=>{const n=r.useContext(i.a.Context).survey.proofitPromo,{gnarSpec:a,pageId:o}=r.useContext(te.a.Context),s=X.a.create(ee.g.none);return r.useEffect(()=>{a.surveyPopupShow(o,ne.p.ProofitPromo)},[a,o]),b.a.useSubscriptionTo(s.pipe(J.b.compact,J.a.tap(n=>Q.a.isCloseAction(n)?e():"getStarted"===n?t():void 0))),r.createElement(ae.c.WithOverlay,{key:"proofit-modal-notification",position:ae.b.BottomRight,isVisibleAtom:s.lens(ie),title:n.title,content:n.content,icon:r.createElement("picture",null,r.createElement("div",{className:re.proofitIconBig})),iconPosition:ae.a.Right,isCloseButton:!1,buttons:r.createElement(r.Fragment,null,r.createElement(g.a.Primary,{name:"getStartedBtn",className:re.getStartedBtn,onClick:()=>{s.set(ee.g.some("getStarted")),a.professionalProofreadingButtonClick(o,"proofitPromo")}},n.actions.view),r.createElement(g.a.Caps,{name:"closeBtn",className:re.closeBtn,onClick:()=>s.set(ee.g.some("closedByUser"))},n.actions.close))})},se=Object.assign(Object.assign({},l.a),{alertUndo:(e,t)=>r.createElement(c.a.Flexible,{notification:e,onClose:t("closedByUser"),action:t("undo"),params:e.args.params}),textRemoved:(e,t)=>r.createElement(ce,{action:t("undo")}),cardMuteOnboarding:(e,t)=>r.createElement(U.CardMute,{onShow:t("shown"),onClose:t("closedByUser")}),externalSurvey:(e,t)=>r.createElement(Y.a,{surveyType:e.args.surveyType,onClose:t("closedByUser"),onRemindLater:t("remindLater")}),proofitPromo:(e,t)=>r.createElement(oe,{onClose:t("closedByUser"),onGetStarted:t("getStarted")}),premiumOnboardingSurvey:(e,t)=>r.createElement(u.a,{viewModel:e.args.viewModel,onClose:t("closedByUser")}),changePlanCta:(e,t)=>r.createElement(a.View,{notification:e,savedPrice:e.args.model.savedPrice,onClose:t("closedByUser"),onChangePlan:t("changePlan")}),gbUpHook:(e,t)=>r.createElement(j.View,{type:e.args.type,dismissCount:e.args.dismissCount,onShow:t("shown"),onCTA:t("cta"),onDismiss:t("dismiss")}),gbBillingMigration:(e,t)=>r.createElement(P,{notification:e,expiryDate:e.args.expiryDate,onShow:t("shown"),onUpdateBilling:t("cta"),onDismiss:t("closedByUser")}),changePlanSuccess:e=>r.createElement(ue,{planName:e.args.planName}),premiumUngatingRenewal:(e,t)=>r.createElement(q.View,{trialEndDate:e.args.trialEndDate,notification:e,onClose:t("closedByUser"),onManageSubscription:t("ctaManageSubscription")}),gbSatisfactionSurvey:(e,t)=>r.createElement(s.a,{viewModel:e.args.viewModel,onClose:t("closedByUser"),onComplete:t("completeSurvey")}),safariExtActivation:(e,t)=>r.createElement(le,{cta:t("activate"),close:t("closedByUser"),onShow:t("shown")}),obtainGrades:(e,t)=>r.createElement(z.a.ObtainGrades,{onShow:t("shown"),onClose:t("closedByUser"),notification:e,viewModel:e.args.viewModel}),citationStyleChange:e=>r.createElement(de,{citationStyle:e.args.citationStyle}),gbRuleCreated:(e,t)=>r.createElement(B,{notification:e,onClose:t("closedByUser"),link:e.args.link})}),le=({cta:e,close:t,onShow:n})=>{const{safariExtActivationNotification:a,actions:o}=r.useContext(i.a.Context);return r.createElement(_.View,{title:a.title,description:a.description,cta:a.cta,dismiss:o.close,name:"safariExtActivationNotification",onCTA:e,onDismiss:t,onShow:n,rightPart:r.createElement(K,null)})},ce=({action:e})=>{const t=r.useContext(i.a.Context);return r.createElement(o.b.Content,null,r.createElement(c.a.Content,{action:e,content:t.textRemoved}))},ue=({planName:e})=>{const t=r.useContext(i.a.Context).changePlan;return r.createElement(o.b.Content,null,t.successfulNotificationCopy(e))},de=({citationStyle:e})=>{const t=r.useContext(i.a.Context);return r.createElement(o.b.Content,null,t.citation.citationStyleChangeNotification.content(t.goals.sections.format.formatTitle(e)))}},"k+B8":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return h})),n.d(t,"f",(function(){return w})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return f})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return b})),n.d(t,"c",(function(){return v}));var a=n("ERkP"),r=n.n(a);function i(e){return null}function o(e){return null!=e.hasChildItems?e.hasChildItems:!!e.childItems||!!(e.title&&r.a.Children.count(e.children)>0)}i.getCollectionNode=function*(e,t){let{childItems:n,title:a,children:i}=e,s=e.title||e.children,l=e.textValue||("string"==typeof s?s:"")||e["aria-label"]||"";l||(null==t?void 0:t.suppressTextValueWarning)||console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:s,textValue:l,"aria-label":e["aria-label"],hasChildNodes:o(e),*childNodes(){if(n)for(let e of n)yield{type:"item",value:e};else if(a){let e=[];r.a.Children.forEach(i,t=>{e.push({type:"item",element:t})}),yield*e}}}};let s=i;function l(e){return null}l.getCollectionNode=function*(e){let{children:t,title:n,items:a}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:n,"aria-label":e["aria-label"],*childNodes(){if("function"==typeof t){if(!a)throw new Error("props.children was a function but props.items is missing");for(let e of a)yield{type:"item",value:e,renderer:t}}else{let e=[];r.a.Children.forEach(t,t=>{e.push({type:"item",element:t})}),yield*e}}}};let c=l;class u{build(e,t){return this.context=t,d(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:n}=e;if("function"==typeof t){if(!n)throw new Error("props.children was a function but props.items is missing");for(let n of e.items)yield*this.getFullNode({value:n},{renderer:t})}else{let e=[];r.a.Children.forEach(t,t=>{e.push(t)});let n=0;for(let t of e){let e=this.getFullNode({element:t,index:n},{});for(let t of e)n++,yield t}}}getKey(e,t,n,a){if(null!=e.key)return e.key;if("cell"===t.type&&null!=t.key)return`${a}${t.key}`;let r=t.value;if(null!=r){var i;let e=null!==(i=r.key)&&void 0!==i?i:r.id;if(null==e)throw new Error("No key found for item");return e}return a?`${a}.${t.index}`:"$."+t.index}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,n,a){let i=e.element;if(!i&&e.value&&t&&t.renderer){let n=this.cache.get(e.value);if(n&&(!n.shouldInvalidate||!n.shouldInvalidate(this.context)))return n.index=e.index,n.parentKey=a?a.key:null,void(yield n);i=t.renderer(e.value)}if(r.a.isValidElement(i)){let r=i.type;if("function"!=typeof r&&"function"!=typeof r.getCollectionNode){let e="function"==typeof i.type?i.type.name:i.type;throw new Error(`Unknown element <${e}> in collection.`)}let o=r.getCollectionNode(i.props,this.context),s=e.index,l=o.next();for(;!l.done&&l.value;){let r=l.value;e.index=s;let c=r.key;c||(c=r.element?null:this.getKey(i,e,t,n));let u=[...this.getFullNode({...r,key:c,index:s,wrapper:p(e.wrapper,r.wrapper)},this.getChildState(t,r),n?`${n}${i.key}`:i.key,a)];for(let t of u){if(t.value=r.value||e.value,t.value&&this.cache.set(t.value,t),e.type&&t.type!==e.type)throw new Error(`Unsupported type <${m(t.type)}> in <${m(a.type)}>. Only <${m(e.type)}> is supported.`);s++,yield t}l=o.next(u)}return}if(null==e.key)return;let o=this,s={type:e.type,props:e.props,key:e.key,parentKey:a?a.key:null,value:e.value,level:a?a.level+1:0,index:e.index,rendered:e.rendered,textValue:e.textValue,"aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes,childNodes:d((function*(){if(!e.hasChildNodes)return;let n=0;for(let a of e.childNodes()){null!=a.key&&(a.key=`${s.key}${a.key}`),a.index=n;let e=o.getFullNode(a,o.getChildState(t,a),s.key,s);for(let t of e)n++,yield t}}))};yield s}constructor(){this.cache=new WeakMap}}function d(e){let t=[],n=null;return{*[Symbol.iterator](){for(let e of t)yield e;n||(n=e());for(let e of n)t.push(e),yield e}}}function p(e,t){return e&&t?n=>e(t(n)):e||(t||void 0)}function m(e){return e[0].toUpperCase()+e.slice(1)}function h(e,t,n){let r=(0,a.useMemo)(()=>new u,[]),{children:i,items:o,collection:s}=e;return(0,a.useMemo)(()=>{if(s)return s;let e=r.build({children:i,items:o},n);return t(e)},[r,i,o,s,n,t])}function g(e,t){return"function"==typeof t.getChildren?t.getChildren(e.key):e.childNodes}function f(e){return b(e,0)}function b(e,t){if(t<0)return;let n=0;for(let a of e){if(n===t)return a;n++}}function y(e){let t=void 0;for(let n of e)t=n;return t}function v(e,t,n){if(t.parentKey===n.parentKey)return t.index-n.index;let a=S(e,t),r=S(e,n),i=a.slice(0,r.length).findIndex((e,t)=>e!==r[t]);return-1!==i?(t=a[i],n=r[i],t.index-n.index):-1}function S(e,t){let n=[];for(;null!=(null==t?void 0:t.parentKey);)t=e.getItem(t.parentKey),n.unshift(t);return n}const C=new WeakMap;function w(e){let t=C.get(e);if(null!=t)return t;t=0;let n=a=>{for(let r of a)"section"===r.type?n(g(r,e)):t++};return n(e),C.set(e,t),t}},kCgn:function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return _}));var a=n("Arv5"),r=n("bYZB"),i=n("3s0z"),o=n("GGUR"),s=n("zR/0"),l=n("lrqh"),c=n("6fbX"),u=n("PrA7"),d=n("nQSW"),p=n("+ukg"),m=n("zGI0"),h=n("I7vG"),g=n("D9EC"),f=n("T/5E"),b=n("F40h"),y=n("Pe9T"),v=n("wt7H"),S=n("GqpD");function C(e,t,n){const{appRouter:a,ded:i,downloadViewModel:o,upgradeViewModel:d,modalManager:p,notificationsManager:C,telemetry:w}=t,k=()=>n.visualState.set({type:S.a.Collapsed}),E=e.name;switch(E){case S.b.myGrammarly:return()=>{w.gnarSpec.backToMyGrammarlyButtonClick(w.pageId,"documentSetting"),a.navigate(f.a.routes.documents.href())};case S.b.newDocument:return()=>{Object(b.b)({time:Date.now(),page:"editor",source:"editorNew"}),a.navigate(f.a.routes.new_document.href())};case S.b.download:return()=>{k(),o.downloadOriginal()};case S.b.print:return()=>{k(),setTimeout(window.print,200)};case r.d.undo:return()=>{k(),i.undo()};case r.d.redo:return()=>{k(),i.redo()};case r.d.cut:return()=>{k(),i.cut()};case r.d.copy:return()=>{k(),i.copy()};case r.d.paste:return(t,a)=>(k(),a===m.a.Source.View?C.enqueue("clipboardNotSupported",{hotkey:Object(h.pipe)(e.hotkey,l.g.map(e=>n.getHotkeyString(e[0])),l.g.getOrElse(()=>"hotkeys"))}):s.a.EMPTY);case r.d.selectAll:return()=>{k(),l.b.getOrElse(e=>u.Monitoring.Logging.getLogger("documentSettings").error("Failed to execute 'Select all'. "+e))(i.setCursor(0,i.getLastPossibleCursorPosition()))};case S.b.editorSettings:return()=>(k(),p.show(v.a.preferences));case S.b.upgradeToPremium:return()=>{k(),d.openUpgradeUrl(y.i.Place.DenaliDocument.editorDenaliDocumentSettings)};case S.b.logout:return()=>(k(),s.a.from(t.userAccount.features.denali.showSignOutConfirmationPopup).pipe(s.a.switchMap(e=>e?p.show(v.a.signOut):(t.userAccount.logout(),s.a.EMPTY))));case S.b.feedback:return()=>(k(),p.show(v.a.feedback));case S.b.whatsNew:return()=>(k(),p.show(v.a.news));case S.b.language:return g.e;case S.b.close:case S.b.documentHeader:case S.b.uploadFile:case S.b.editHeader:case S.b.accountHeader:case S.b.userName:case S.b.email:case S.b.subscription:case S.b.support:case S.b.privacyPolicy:case S.b.termsOfService:case S.b.reportABug:return k;default:return Object(c.c)(E)}}var w=n("5p8x"),k=n("gy42"),E=n("Sk6A");function O(e,t,n,a){const i=n.visualState.pipe(s.a.tap(e=>{e.type===S.a.Expanded?t.gnarSpec.docSettingsSidebarShow(t.pageId):t.gnarSpec.docSettingsSidebarClose(t.pageId)})),o=E.a.listen("escape"),l=e.contentUpdated.pipe(s.a.merge(a.visible.pipe(s.a.filter(Boolean))),s.a.merge(o),s.a.first());return n.visualState.pipe(s.a.filter(e=>e.type===S.a.Expanded),s.a.tap(()=>{n.itemsState.modify(Object(w.k)((t,n)=>function(e,t,n){switch(e){case r.d.undo:return Object.assign(Object.assign({},t),{disabled:!n.canUndo()});case r.d.redo:return Object.assign(Object.assign({},t),{disabled:!n.canRedo()});case r.d.cut:case r.d.copy:return Object.assign(Object.assign({},t),{disabled:r.g.isEmpty(n.getCursor())});case r.d.selectAll:return Object.assign(Object.assign({},t),{disabled:n.getTextLength()<=1});default:return t}}(t,n,e))),a.visible.set(!1)}),s.a.switchMap(()=>l.pipe(s.a.tap(()=>n.visualState.set({type:S.a.Collapsed})))),s.a.merge(i),s.a.mapTo(k.b.voidValue))}function A(e,t){const n=new Set([i.a.short]),o={active:!1,disabled:!1},s={active:!1,disabled:!0},u=[{name:S.b.close,hotkey:l.g.none,initialState:o},"separator",{name:S.b.myGrammarly,hotkey:l.g.none,initialState:o},"separator",{name:S.b.documentHeader,hotkey:l.g.none,initialState:o},{name:S.b.newDocument,hotkey:"desktop"===t.platform?a.E([{modifiers:n,key:"N"}]):l.g.none,initialState:o},{name:S.b.uploadFile,hotkey:l.g.none,initialState:o},{name:S.b.download,hotkey:l.g.none,initialState:o},{name:S.b.print,hotkey:a.E([{modifiers:n,key:"P"}]),initialState:o},"separator",{name:S.b.editHeader,hotkey:l.g.none,initialState:o},{name:r.d.undo,hotkey:a.E([{modifiers:n,key:"Z"}]),initialState:s},{name:r.d.redo,hotkey:a.E([{modifiers:n,key:"Y"},{modifiers:new Set([i.a.short,i.a.shift]),key:"Z"}]),initialState:s},"separator",{name:r.d.cut,hotkey:a.E([{modifiers:n,key:"X"}]),initialState:s},{name:r.d.copy,hotkey:a.E([{modifiers:n,key:"C"}]),initialState:s},{name:r.d.paste,hotkey:a.E([{modifiers:n,key:"V",source:i.b.Keydown,preventDefault:!1}]),initialState:o},{name:r.d.selectAll,hotkey:a.E([{modifiers:n,key:"A"}]),initialState:o},"separator",{name:S.b.editorSettings,hotkey:l.g.none,initialState:o},"separator",{name:S.b.accountHeader,hotkey:l.g.none,initialState:o},{name:S.b.userName,hotkey:l.g.none,initialState:o},{name:S.b.email,hotkey:l.g.none,initialState:o},{name:S.b.upgradeToPremium,hotkey:l.g.none,initialState:o},{name:S.b.language,hotkey:l.g.none,initialState:o},{name:S.b.subscription,hotkey:l.g.none,initialState:o},{name:S.b.logout,hotkey:l.g.none,initialState:o},"separator",{name:S.b.support,hotkey:l.g.none,initialState:o},{name:S.b.whatsNew,hotkey:l.g.none,initialState:o},{name:S.b.feedback,hotkey:l.g.none,initialState:o},{name:S.b.reportABug,hotkey:l.g.none,initialState:o},"separator",{name:S.b.privacyPolicy,hotkey:l.g.none,initialState:o},{name:S.b.termsOfService,hotkey:l.g.none,initialState:o}],d=function(e){const t=e.isPremium.get();return n=>{if(!m.a.isItem(n))return!0;const a=n.name;switch(a){case S.b.reportABug:return e.denali.isInternalUser;case S.b.upgradeToPremium:return!t&&!e.demoMode;case S.b.subscription:return!e.disableAppsPromotion&&!e.demoMode&&!p.g.isBusinessTeamMember(e.denaliUserType);case S.b.myGrammarly:case S.b.newDocument:case S.b.language:case S.b.editorSettings:case S.b.uploadFile:case S.b.support:case S.b.feedback:return!e.demoMode;case S.b.close:case S.b.documentHeader:case S.b.uploadFile:case S.b.download:case S.b.print:case S.b.editHeader:case S.b.accountHeader:case S.b.userName:case S.b.email:case S.b.logout:case S.b.support:case S.b.whatsNew:case S.b.privacyPolicy:case S.b.termsOfService:case r.d.undo:case r.d.redo:case r.d.cut:case r.d.copy:case r.d.paste:case r.d.selectAll:return!0;default:return Object(c.c)(a)}}}(e);return u.filter(d).filter((e,t,n)=>n[t-1]!==e)}function _(e,t,n,l,c,h,g,f,b,y,v,w,k,E,_){const x=new o.a.Keeper,I=l.features.denali.documentToolbar===p.d.documentSettings?A(l.features,y):y.platform===d.b.Platform.IPAD?function(e,t){const n=new Set([i.a.short]),o={active:!1,disabled:!0};return[...A(e,t),"separator",{name:r.d.undo,hotkey:a.E([{modifiers:n,key:"UNDO",source:i.b.Input}]),initialState:o},{name:r.d.redo,hotkey:a.E([{modifiers:n,key:"UNDO",source:i.b.Input}]),initialState:o}]}(l.features,y):(()=>{const e=new Set([i.a.short]),t={active:!1,disabled:!0};return[{name:r.d.undo,hotkey:a.E([{modifiers:e,key:"Z"}]),initialState:t},{name:r.d.redo,hotkey:a.E([{modifiers:e,key:"Y"},{modifiers:new Set([i.a.short,i.a.shift]),key:"Z"}]),initialState:t}]})(),{viewModel:j,events:T}=Object(S.d)(I,n,l,c,b,y,v,k,_,t,e.isEditorFocused),M=function(e,t,n){return e.filter(m.a.isItem).reduce((e,a)=>Object.assign(Object.assign({},e),{[a.name]:C(a,n,t)}),{})}(I,j,{appRouter:t,ded:e,userAccount:l,downloadViewModel:h,upgradeViewModel:g,modalManager:f,notificationsManager:v,docId:E,telemetry:k}),N=m.a.toMenuEvents(e.getCursor.bind(e),T).pipe(s.a.tap(([e,t,n])=>{e!==S.b.upgradeToPremium?k.gnarSpec.docSettingsEventFire(e,k.pageId,n):k.gnarSpec.getPremiumButtonClick(k.pageId,"upgradeToPremium","documentSettings")})),P=u.Monitoring.Logging.getLogger("documentSettings"),L=m.a.linkEvents(N,M).pipe(s.a.catchError((e,t)=>(P.error("Error handling document settings event",e),t)));return x.push(L.pipe(s.a.merge(O(e,k,j,w))).subscribe(),e.dontFreezeWhen(j.visualState.view("type").view(e=>e===S.a.Expanded),"documentSettings")),{viewModel:j,dispose:()=>x.dispose()}}},kHl6:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("ERkP"),r=n("LNSM"),i=n("vOOZ"),o=n("9NHN"),s=n("rk+4"),l=n("BugA"),c=n("e12y"),u=n("WIwS"),d=n("ps/9"),p=n("zR/0"),m=n("gy42");function h({value:e,className:t,leftCustomClass:n,rightCustomClass:s}){const l=r.a.create(!1);requestAnimationFrame(()=>requestAnimationFrame(()=>l.set(!0)));const c=p.a.combineLatestStatic(m.b.toObservable(e),l,(e,t)=>t?Math.max(5,Math.abs(e-50))+"%":0),u=(e,t,n)=>m.b.toObservable(e).pipe(p.a.map(e=>e<50?t:n));return a.createElement(i.a.div,Object.assign({},Object(o.c)((e=>m.b.toObservable(e).pipe(p.a.map(e=>e<50?v.leftSideWrapper:v.rightSideWrapper)))(e),t)),a.createElement(i.a.div,Object.assign({},Object(o.c)(u(e,v.leftSideProgress,v.rightSideProgress),Boolean(n)&&Boolean(s)&&u(e,n,s)),{style:{width:c}})))}!function(e){e.Label=({value:e,className:t})=>{const n=a.useContext(s.a.Context).performance,r=e>66?n.aboveAverage:e>50?n.average:n.belowAverage;return a.createElement(l.l,{className:t},r)}}(h||(h={}));const g={position:"relative",zIndex:1,display:"flex",width:c.a.percent(100),height:c.a.rem(.25),borderRadius:c.a.rem(d.t)},f={height:c.a.percent(100),backgroundColor:u.i,transition:"width .8s ease-in-out 0s"},b={marginRight:c.a.percent(50),borderTopLeftRadius:c.a.rem(.25),borderBottomLeftRadius:c.a.rem(.25)},y={marginLeft:c.a.percent(50),borderTopRightRadius:c.a.rem(.25),borderBottomRightRadius:c.a.rem(.25)},v=c.a.stylesheet({wrapper:[g],leftSideWrapper:[g,{justifyContent:"flex-end"}],rightSideWrapper:[g,{justifyContent:"flex-start"}],progress:[f],leftSideProgress:[f,b],rightSideProgress:[f,y]})},kQ5X:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ou}));var a=n("ERkP"),r=n("OA+g"),i=n("vOOZ"),o=n("LNSM"),s=n("lrqh"),l=n("Z+UA"),c=n("Z2Lj"),u=n("MsKq"),d=n("BBZl"),p=n("ePa0"),m=n("e12y"),h=n("xEVj"),g=n("zR/0"),f=n("gy42"),b=n("RC7t"),y=n("PrA7"),v=n("mEc7"),S=n("XaD9"),C=n("Pe9T"),w=n("pYfS"),k=n("gw+C"),E=n("vLzu"),O=n("joH1"),A=n("1aGC"),_=n("24uI"),x=n("bYZB"),I=n("BugA"),j=n("2yqA"),T=n("D9EC"),M=n("hoSD"),N=n("b0nb"),P=n("PPsJ");const L=A.import("formats/list");class R extends L{static create(e){const t=super.create(e);return t.setAttribute("data-type",e),t}static formats(e){if(M.c.Guardians.isOL(e))return"ordered";if(M.c.Guardians.isUL(e)){switch(e.getAttribute("data-type")){case"dashed":return"dashed";default:return"bullet"}}}}var B,F,D=n("hJSx"),H=n("hY4K"),V=n("lg/X"),U=n("2yqQ"),W=n("nQSW"),q=n("Fgeo"),z=n("q9Ib"),$=n("fT1+"),G=n("LOBD"),K=n("m0pz"),Y=n("bZiY"),Z=n("I7vG"),X=n("rk+4"),Q=n("BeBM"),J=n("1w6p"),ee=n("sDKV"),te=n("QwZm"),ne=n("sv6e"),ae=n("9NHN"),re=n("26kZ"),ie=n("Q8bi"),oe=n("mAhp"),se=n("9/oM"),le=n("aYRv");(F=B||(B={})).HEADER_TITLE_INPUT_NAME="header-title-input",F.TOOLTIP_DURATION=2e3,F.TITLE_MAX_LENGTH=5e3,F.TITLE_WIDTH_BUFFER=10,F.TITLE_WIDTH_BUFFER_DELAY=500,F.TITLE_VISIBILITY_OFFSET=3.45,F.create=(e,t,n,a,i)=>{const o=new g.a.BehaviorSubject(0),l=new g.a.BehaviorSubject(!1),c=g.a.combineLatestStatic([t.scrollPosition,t.viewport.pipe(g.a.map(({text:e})=>e)),n]).pipe(g.a.map(([e,t,n])=>({textTop:t.top-e,remSize:n})),g.a.auditTime(100),g.a.skip(1),g.a.map(({textTop:e,remSize:t})=>e<t*F.TITLE_VISIBILITY_OFFSET),g.a.startWith(!1),g.a.distinctUntilChanged(),g.a.tap(e=>e||l.next(!1))),u=t=>e.title.set(t);return{title:e.title,isSidebarOpened:a,isFocused:l,isVisible:c,isSaved:e.saved,inputWidth:o,setInputWidth:e=>o.next(e),setFocus:e=>l.next(e),trackTitleClick:()=>i.gnarSpec.newTitleButtonClick(i.pageId),setTitle:u,setPastedTitle:e=>{const t=M.f.sanitize(e,{allowedTags:[]}),n=window.getSelection();null!=(null==n?void 0:n.rangeCount)&&(n.deleteFromDocument(),n.getRangeAt(0).insertNode(document.createTextNode(t)));const a=Object(r.pipe)(n,s.g.fromNullable,s.g.chain(e=>s.g.fromNullable(e.focusNode)),s.g.map(e=>e.textContent),s.g.getOrElse(Object(r.constant)(t)));u(a)}}};var ce=n("WIwS");const ue=m.a.keyframes({"5%":{opacity:1},"95%":{opacity:1},"100%":{opacity:0}}),de={display:"inline-block",marginTop:m.a.rem(1),color:ce.i,verticalAlign:"top",fontSize:m.a.rem(.6875),lineHeight:m.a.rem(2),opacity:0,pointerEvents:"none",flexShrink:0},pe={animation:ue+" 2s linear"},me=m.a.stylesheet({notSaved:[de],saved:[de,pe]}),he=({isSaved:e,className:t})=>a.createElement(I.l,Object.assign({key:"saved-wrapper","data-name":"save-status"},Object(ae.c)(e.pipe(g.a.audit(e=>g.a.timer(e?1e3:0)),g.a.startWith(!1),g.a.map(e=>e?me.saved:me.notSaved)),t)),a.createElement(i.a.span,{"data-saved":e.pipe(g.a.startWith(!0))}),"Saved");var ge=n("ax6a"),fe=n("PDIG");const be={position:"absolute",top:0,right:0,left:0,zIndex:m.d.level4,marginLeft:m.a.rem(-3),paddingLeft:m.a.rem(3),height:m.a.rem(m.d.toolbarHeight+.5),background:m.c.toolbarGradient,textAlign:"center",lineHeight:m.a.rem(m.d.toolbarHeight),pointerEvents:"all",$nest:{"@media print":{display:"none"}}},ye={position:"relative",display:"inline-block",marginTop:m.a.rem(1),marginRight:m.a.rem(.5),maxWidth:`calc(100% - ${m.a.rem(3)})`},ve={$nest:{"&:before":{position:"absolute",top:0,left:m.a.rem(-.375),zIndex:-1,width:m.a.percent(100),height:m.a.rem(2),borderRadius:m.a.rem(m.d.radius2),background:ge.a.CoreNeutral10,content:'""',opacity:0,transition:"all .2s"},"&:hover:before":{opacity:1}}},Se={$nest:{[fe.a.normal]:{maxWidth:"calc(100% - 5rem)"},[fe.a.small]:{maxWidth:"calc(100% -10rem)"},[fe.a.tiny]:{maxWidth:"calc(100% - 12rem)"},[fe.a.xs]:{maxWidth:"calc(100% - 15rem)"},[fe.a.xsLower]:{maxWidth:"calc(100% - 21rem)"},[fe.a.xssUpper]:{marginRight:m.a.rem(.5),maxWidth:"calc(100% - 24rem)"}}},Ce={display:"inline-block",overflow:"hidden",padding:".25rem 0",maxWidth:"calc(100% - .5rem)",outline:"none",border:"none",background:"transparent",verticalAlign:"top",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:"bold",cursor:"pointer",transition:"all .2s",pointerEvents:"all",$nest:{"&[placeholder]:empty:before":{color:ge.a.CoreNeutral50,opacity:1,content:"attr(placeholder)"},"&:focus":{textOverflow:"unset"}}},we={opacity:1,transition:"opacity .2s",pointerEvents:"none"},ke={opacity:0},Ee={position:"absolute",left:0,opacity:1},Oe={fontSize:m.a.rem(.75)},Ae={position:"relative",padding:0,letterSpacing:m.a.rem(.05),minWidth:m.a.px(250),maxWidth:m.a.rem(46),width:m.a.percent(100),$nest:{[fe.a.xs]:{padding:0}}},_e={position:"relative",width:m.a.percent(100),height:m.a.vh(100),pointerEvents:"none"},xe={position:"relative",zIndex:m.d.level5,display:"flex",width:m.a.percent(100),justifyContent:"center"},Ie={width:m.a.percent(100)},je={position:"absolute",top:0,zIndex:m.d.level4,width:m.a.percent(100),height:m.a.percent(100)},Te={position:"relative",height:m.a.percent(100)},Me={marginLeft:m.a.rem(-.75),$nest:{[fe.a.xs]:{marginLeft:m.a.rem(-1.5)}}},Ne={marginRight:m.a.rem(2.25),padding:`0 ${m.a.rem(.125)} 0 0`,background:ge.a.CoreNeutral0,$nest:{[fe.a.xs]:{marginRight:m.a.rem(1.75)},[fe.a.xsLower]:{marginRight:m.a.rem(1.75)}}},Pe={display:"inline-flex",cursor:"pointer",border:"1px solid rgba(198, 203, 222, .7)",borderRadius:m.d.radius2,$nest:{"&:focus-within":{boxShadow:"0 0 0 2px rgb(99 142 235)"}}},Le={top:m.a.important(m.a.rem(-10)),zIndex:m.d.level4,minWidth:m.a.rem(14.5)},Re={left:m.a.important(0)},Be={right:m.a.important(0)},Fe=m.a.prefixedStylesheet("toolbar",{toolbarTitleContainer:[be],titleWrapper:[{position:"relative"}],headerTitleContainer:[ye],headerTitleHighlight:[ve],headerTitleContainerFull:[ye,Se],headerTitleContainerFocused:[ve,{$nest:{"&:before":{opacity:1}}}],savedContainer:[we],savedContainerHidden:[we,ke],savedContainerAbsolute:[we,Ee],savedContainerAbsoluteHidden:[ke,Ee],savedIndicator:[Oe],headerContainer:[Ae],toolbarWrapperTier:[_e],headerWrapper:[xe],headerWrapperSqueezed:[xe,{paddingLeft:0}],headerOnboardingWrapper:[Ie],absoluteWrapper:[je],toolbarContainer:[Te],formattingShiftedLeft:[Me],wordCounter:[Ne],footerEmotions:[{position:"absolute",right:0}],flex:[{display:"flex"}],dropdownContainer:[Pe],dropdownList:[Le],dropdownListRight:[Le,Re],dropdownListLeft:[Le,Be]}),De=m.a.style({position:"absolute",visibility:"hidden",paddingLeft:m.a.important(m.a.rem(1)),maxWidth:m.a.important(`calc(100% - ${m.a.rem(3)})`),width:"auto",height:0,whiteSpace:m.a.important("pre")}),He=m.a.style(Ce),Ve=m.a.style({opacity:0,pointerEvents:"none"}),Ue=m.a.joinClasses([ie.Typography.style.base,He,De]),We=m.a.joinClasses([ie.Typography.style.base,He]),qe=m.a.joinClasses([We,Ve]),ze=Object.assign(Object.assign({},Fe),{shadow:Ue,headerTitle:We,headerTitleHidden:qe});var $e=n("pKPl"),Ge=n("/LZ8");const Ke=({position:e,children:t,className:n})=>{const r="top"===e;return a.createElement("div",Object.assign({},Object(ae.c)(Ge.container,n)),a.createElement("div",{className:Ge.scrollWrap},a.createElement("div",{className:r?Ge.editorTopContentWrap:Ge.editorContentWrap},a.createElement("div",{className:r?Ge.editorTopContent:Ge.editorContent},t))))},Ye=({children:e,selectionEffect:t})=>{const{withSelectionEffect:n}=a.useContext(ee.a.Context),r=n($e.b,t);return a.createElement(r,{theme:{editorContent:Ge.editorContentFullWidth,editorContentWrap:Ge.editorContentWrapFullWidth}},e)},Ze=e=>Object(r.flow)(s.g.fromNullable,s.g.tap(t=>e({kind:"mount",element:t})())),Xe=J.b.Grid.make(({slots:e,view:t,notify:n})=>{const r=a.useContext(X.a.Context),{withSelectionEffect:o}=a.useContext(ee.a.Context),s=ne.b.createComponent({component:i.a.div,section:ne.b.create(ne.b.Id.title),behavior:oe.a.FocusBehavior.captureTab}),l=o(ee.a.Effect.PlainContainer,ee.a.Effect.collapse),c=f.b.chooseWhen(t("isOpened")),u=f.b.chooseWhen(t("isFocused"));return a.createElement(i.a.Fragment,null,a.createElement(l,Object.assign({},Object(ae.c)(ze.toolbarTitleContainer),{onMount:Ze(n)})),a.createElement("div",{className:ze.absoluteWrapper},a.createElement(Ye,{selectionEffect:ee.a.Effect.prevent},a.createElement(i.a.div,Object.assign({},Object(ae.c)(c(ze.headerWrapperSqueezed,ze.headerWrapper))),a.createElement("div",{className:ze.headerContainer},a.createElement(i.a.div,{className:ze.titleWrapper},a.createElement(s,Object.assign({},Object(ae.c)(ze.headerTitleHighlight,c(ze.headerTitleContainer,ze.headerTitleContainerFull),u(ze.headerTitleContainerFocused,void 0))),a.createElement(i.a.Fragment,null,t("isDemoDocOnboardingGateActive").pipe(g.a.map(t=>a.createElement(se.b,{alignment:"bottom",eventType:"onclick",themes:{containerWrapperClassName:ze.headerOnboardingWrapper},stepId:le.b.StepId.DocumentTitle,title:t?void 0:r.toolbar.title.onboarding.title,message:r.toolbar.title.onboarding.message},a.createElement(re.a,{title:r.toolbar.title.rename,align:"bottomCenter",duration:B.TOOLTIP_DURATION},e.input)))))),e.savedIndicator))))),e.measurer)}),Qe=J.b.Node.make(({view:e})=>a.createElement(i.a.span,{"data-name":"saved-container",className:ze.savedContainer},a.createElement(he,{className:ze.savedIndicator,isSaved:e("saved")}))),Je=J.b.Node.make(({view:e,notify:t})=>{const n=a.useContext(X.a.Context);return a.createElement("span",{ref:Ze(t),className:ze.shadow},a.createElement(i.a.Fragment,null,e("title").pipe(g.a.map(e=>Boolean(e)?e:n.toolbar.title.untitledDocument))))}),et=J.b.Node.make(({state:e,view:t,notify:n})=>{const r=a.useContext(X.a.Context);return a.createElement(i.a.Fragment,null,t("key").pipe(g.a.map(i=>a.createElement(ie.Typography.H1,{key:i,style:t("inputWidth").pipe(g.a.map(e=>({width:e}))),"data-name":B.HEADER_TITLE_INPUT_NAME,mount:Ze(n),contentEditable:!0,spellCheck:!1,maxLength:B.TITLE_MAX_LENGTH,onClick:n({kind:"click"}),onFocus:n({kind:"focus"}),onBlur:n({kind:"blur"}),onKeyDown:e=>(e.persist(),n({kind:"keydown",event:e})()),onPaste:e=>{e.preventDefault(),n({kind:"paste",value:e.clipboardData.getData("text")})()},onDrop:e=>e.preventDefault(),placeholder:r.toolbar.title.untitledDocument,className:ze.headerTitle,"aria-label":e.pipe(g.a.map(({title:e})=>Boolean(e)?r.toolbar.title.renameLabel(e):r.toolbar.title.untitledDocumentLabel)),onInput:e=>n({kind:"input",element:e.currentTarget})()}))))}),tt=J.b.Knot.make(Xe,{input:et,measurer:Je,savedIndicator:Qe});var nt=n("q4n/"),at=n("6fbX");const rt=(e,t,n)=>J.a.fromSideEffect(e=>t(e.element),g.a.combineLatestStatic([e.isSidebarOpened,e.isFocused]).pipe(g.a.map(([e,t])=>({isOpened:e,isFocused:t,isDemoDocOnboardingGateActive:n.denali.demoDocOnboardingCopyV1})))),it=e=>Object(r.flow)(g.a.switchMap(({element:t})=>e.title.pipe(g.a.scan((e,t)=>[e[1],Boolean(t)?t.length:0],[0,0]),g.a.switchMap(([e,n])=>g.a.timer(0,B.TITLE_WIDTH_BUFFER_DELAY).pipe(g.a.map(a=>t.offsetWidth+(Boolean(a)||!Boolean(n)||e>n?0:B.TITLE_WIDTH_BUFFER)),g.a.take(2))),g.a.startWith(0),g.a.distinctUntilChanged(),g.a.tap(e.setInputWidth))),g.a.switchMapTo(e.title),g.a.startWith(e.title.get()),g.a.distinctUntilChanged(),g.a.map(e=>({title:e}))),ot=e=>J.a.fromSideEffect(r.constVoid,e.isSaved.pipe(g.a.startWith(!0),g.a.map(e=>({saved:e})))),st=e=>{const t=new g.a.BehaviorSubject(M.f.alphanumeric(5));return J.a.fromSideEffect(n=>{var a;switch(n.kind){case"mount":return n.element.textContent=null!==(a=e.title.get())&&void 0!==a?a:"";case"input":const r=Boolean(n.element.textContent)?M.f.sanitize(n.element.textContent,{allowedTags:[]}):"";return Boolean(r)||(n.element.innerHTML=""),r!==n.element.textContent&&(n.element.textContent=r,function(e){const t=document.createRange();t.selectNodeContents(e),t.collapse(!1);const n=window.getSelection();null==n||n.removeAllRanges(),null==n||n.addRange(t)}(n.element)),e.setTitle(r);case"click":return e.trackTitleClick();case"focus":return e.setFocus(!0);case"blur":return t.next(M.f.alphanumeric(5)),e.setFocus(!1);case"keydown":return void(n.event.keyCode===nt.a.ENTER_CODE&&n.event.preventDefault());case"paste":return e.setPastedTitle(n.value);default:return Object(at.c)(n)}},g.a.combineLatestStatic([e.title,e.inputWidth,t]).pipe(g.a.map(([e,t,n])=>({inputWidth:t,title:e,key:n}))))},lt=(e,t,n)=>J.a.composeKnot({root:rt(e,t,n),input:st(e),measurer:it(e),savedIndicator:ot(e)});var ct,ut;(ut=ct||(ct={})).UI=tt,ut.Flow=lt;var dt=n("D57K"),pt=n("bO3R"),mt=n("XXDN"),ht=n("3rlE"),gt=n("ttzm");const ft=(e,{footer:t})=>{switch(e[0]){case q.b.wordsCount:return`${e[1].toLocaleString()} ${M.f.pluralize(e[1],t.word,t.words)}`;case q.b.charsCount:return`${e[1].toLocaleString()} ${M.f.pluralize(e[1],t.character,t.characters)}`;case q.b.readingTime:return`${M.d.convertTimeToShortString(e[1])} ${t.readingTime}`;case q.b.speakingTime:return`${M.d.convertTimeToShortString(e[1])} ${t.speakingTime}`;case q.b.readabilityScore:return Object(Z.pipe)(e[1],s.g.fold(()=>t.disabledReadabilityScore,e=>`${e} ${t.readabilityScore}`));default:return Object(at.c)(e[1])}},bt=(e,t)=>t===q.b.readabilityScore&&s.g.isNone(e[t]);class yt extends a.Component{render(){const{state:e,className:t,children:n,mount:r}=this.props;return a.createElement(X.a.Context.Consumer,null,o=>a.createElement(i.a.aside,Object.assign({},Object(ae.c)(e.view(Q.e.isSidebarOpened).view(Object(T.c)(gt.footerSqueezed,gt.footerWrapper)),t),{"aria-label":o.toolbar.label,mount:r}),a.createElement(Ye,{selectionEffect:ee.a.Effect.collapse},n)))}}!function(e){e.Container=({children:e,mount:t})=>a.createElement(i.a.div,Object.assign({},Object(ae.c)(gt.footerContainer,gt.fContainer),{mount:t}),e),e.Item=({children:e,order:t,className:n,ariaLabel:r,responsive:i=!1})=>a.createElement("section",Object.assign({style:{zIndex:t},"aria-label":r},Object(ae.c)(n,gt.fItem,i&&gt.fItemResponsive)),e),e.IconCounters=({counterTuple:e,dropdownShown:t})=>{const n=a.useContext(X.a.Context);return a.createElement(i.a.div,{tabIndex:0,role:"button","aria-disabled":"false","aria-haspopup":"listbox","aria-expanded":t,"aria-label":e.view(Object(r.flow)(s.g.map(e=>ft(e,n)),s.g.toUndefined))},e.view(Object(r.flow)(s.g.map(e=>a.createElement(ht.d.WordCounter,{key:e[0],className:gt.footerWordCounter})),s.g.toNullable)))},e.Counters=({counterTuple:e,dropdownShown:t})=>{const n=a.useContext(X.a.Context);return a.createElement(i.a.div,{tabIndex:0,role:"button","aria-disabled":"false","aria-haspopup":"listbox","aria-expanded":t,className:gt.footerLabelContainer},e.view(Object(r.flow)(s.g.map(e=>a.createElement("div",{key:e[0],className:gt.counterContainer},a.createElement("div",{className:gt.footerLabel},ft(e,n)),a.createElement(ht.d.TriangleArrow,{className:gt.footerArrow}))),s.g.toNullable)))};class t extends a.Component{constructor(){super(...arguments),this._subs=[],this._dropdownShown=o.a.create(!1),this._counters=o.a.create(s.g.none),this._currentCounter=this.props.settingsModel.footerCounterType,this._setCounter=e=>this.props.settingsModel.updateFooterCounterType(e)}componentDidMount(){this._subs.push(this.props.documentModel.checkingState.pipe(g.a.filter(e=>"idle"===e),g.a.first(),g.a.switchMapTo(this.props.documentModel.score),g.a.combineLatest(this.props.documentModel.textInfo)).subscribe(([e,t])=>this._counters.set(Object(Z.pipe)(t,s.g.map(t=>({wordsCount:t.wordsCount,charsCount:t.charsCount,readingTime:t.readingTime,speakingTime:t.speakingTime,readabilityScore:Object(Z.pipe)(e,s.g.map(()=>t.readabilityScore))}))))))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}render(){const{renderLabel:e,id:t,theme:n}=this.props;return a.createElement(X.a.Context.Consumer,null,i=>a.createElement(mt.a,{id:t,name:"footer-stats",customPosition:{top:"auto",left:"auto"},showDelay:300,theme:n,label:e(o.a.combine(this._counters,this._currentCounter,(e,t)=>Object(Z.pipe)(e,s.g.map(e=>[t,e[t]]))),this._dropdownShown),onVisibilityChange:e=>this._dropdownShown.set(e),activeDescendantId:this._currentCounter},this._counters.view(Object(r.flow)(s.g.map(e=>Object.keys(e).map(t=>a.createElement(pt.a.Flat,{key:t,name:t,id:t,className:gt.listItem,disabled:bt(e,t),onClick:()=>this._setCounter(t)},!bt(e,t)&&this._currentCounter.view(e=>e===t?a.createElement(ht.d.Helpfull,{key:"helpfull-icon"}):null),ft([t,e[t]],i)))),s.g.toNullable))))}}e.WordCounter=t,e.ResponsiveWordCounter=e=>{var{alignToEnd:n,renderLabel:r,renderCompactLabel:o}=e,s=Object(dt.__rest)(e,["alignToEnd","renderLabel","renderCompactLabel"]);const{rect:l,onMount:c}=h.a.useRectWatcher(),{rect:u,onMount:d}=h.a.useRectWatcher(),p=g.a.combineLatestStatic([l.pipe(g.b.compact),u.pipe(g.b.compact)]).pipe(g.a.map(([e,t])=>e.width<t.width),g.a.startWith(!1));return a.createElement(i.a.div,Object.assign({mount:c},Object(ae.c)(n?gt.counterWrapperEnd:gt.counterWrapperStart)),a.createElement(t,Object.assign({},s,{renderLabel:(...e)=>a.createElement(a.Fragment,null,a.createElement(i.a.div,Object.assign({mount:d},Object(ae.c)(gt.counterLabelContainerFull,p.pipe(g.a.map(Object(T.c)(gt.counterLabelShadow,null))))),r(...e)),a.createElement(i.a.div,Object.assign({},Object(ae.c)(p.pipe(g.a.map(Object(T.c)(null,gt.counterLabelShadow))))),o(...e)))})))}}(yt||(yt={}));var vt=n("8Ioe"),St=n("H37f"),Ct=n("wI8h"),wt=n("uth1");const kt=({view:e})=>{const{emogenie:{popup:{title:t,subtitle:n}}}=a.useContext(X.a.Context),{gnarSpec:r,pageId:o}=a.useContext(S.a.Context);return a.useEffect(()=>{const t=e.subscribe(e=>{if(Ct.a.View.isReport(e)){const t=e.primaryItem.name;r.emotionsPopupShow(t,o)}});return()=>t.unsubscribe()},[e,r,o]),a.createElement(i.a.Fragment,null,e.view(l=>Ct.a.View.isReport(l)?a.createElement(mt.a,{key:"emogenie-dropdown",name:"emotions",align:"right",appearanceBehavior:"mouseHover",dontCloseOnClickInside:!0,theme:{dropdownList:wt.wrapper},onVisibilityChange:e=>{if(e){const e=l.primaryItem.name;r.emotionsPopupClick(e,o)}},label:a.createElement(i.a.Fragment,null,e.view(e=>e).view(({primaryItem:e})=>a.createElement("div",{className:wt.primaryItemWrapper},a.createElement(St.b,{className:wt.primaryItem},e.emoji))))},a.createElement(a.Fragment,null,a.createElement(I.e,null,t),a.createElement(I.a,null,n),a.createElement(i.a.div,{className:wt.report},e.view(e=>e).view(({primaryItem:e,secondaryItems:t})=>a.createElement(a.Fragment,null,a.createElement(Et,{item:e}),t.map(e=>a.createElement(Et,{item:e,key:e.name}))))))):a.createElement(pt.a.Ghost,{name:"emogenie-zero",disabled:!0,title:Object(Z.pipe)(l.tooltipText,s.g.map(e=>a.createElement("div",{className:wt.zeroStateTooltip},e)),s.g.orUndefined)},a.createElement(ht.d.NoTone,{className:wt.primaryItemIcon}))))},Et=({item:e})=>a.createElement("div",{className:wt.reportItem},a.createElement(St.b,{className:wt.reportItemEmoji},e.emoji),a.createElement(I.a,{className:wt.reportItemName},e.name),a.createElement(Ot,{className:wt.reportItemIntensity,intensity:e.intensity,caption:e.intensityCaption}),a.createElement("div",{className:wt.reportItemActions},a.createElement(pt.a.Ghost,{className:wt.button,animationMode:vt.a.None,title:e.actions.like.tooltip,name:e.actions.like.name,onClick:e.actions.like.handler,disabled:e.actions.like.disabled,active:e.actions.like.active},a.createElement(ht.d.VotedUp,null)),a.createElement(pt.a.Ghost,{className:wt.button,animationMode:vt.a.None,disabled:e.actions.dislike.disabled,title:e.actions.dislike.tooltip,name:e.actions.dislike.name,onClick:e.actions.dislike.handler,active:e.actions.dislike.active},a.createElement(ht.d.VotedDown,null)))),Ot=({intensity:e,caption:t,className:n})=>a.createElement("span",{className:n},a.createElement(re.a,{title:t,align:"topCenter"},a.createElement("span",null,Ct.a.intensitiesOrder.map(t=>a.createElement("span",Object.assign({key:t},Object(ae.c)(wt.intensityItem,t<=e?wt.intensityColor:wt.intensityNoColor)))))));var At=n("Hj4v");const _t=()=>{const{footer:{rtfCompatibilityInfo:e}}=a.useContext(X.a.Context),{gnarSpec:t,pageId:n}=a.useContext(S.a.Context);return a.useEffect(()=>{t.rtfCompatibilityViewBlockShow(n)}),a.createElement(I.l,{className:At.rtfDisabledMessage},a.createElement(St.b,null,e.message.plainText),a.createElement(re.a,{align:"topCenter",title:a.createElement("div",{className:At.rtfTooltip},e.tooltip)},a.createElement("span",{className:At.rtfDisabled},e.message.textWithTooltip)),".")};var xt,It=n("ythQ");!function(e){e.isTitleInput=function(e){return Boolean(e)&&e.dataset.name===B.HEADER_TITLE_INPUT_NAME},e.Component=({denaliEditor:e,documentModel:t,state:r,settingsModel:l,formattingViewModel:c,emotionsViewModel:d,viewportPadding:p,features:m})=>{const f=a.useContext(u.a.Context),b=a.useContext(S.a.Context),{ref:y,onMount:v}=h.a.useElWatcher(),C=o.a.create(s.g.none);return h.a.useSubscriptionTo(g.a.combineLatestStatic([C,y.pipe(g.b.compact),f]).pipe(g.a.map(([e,t])=>p.set({top:t.offsetHeight,bottom:Object(Z.pipe)(e,s.g.fold(()=>0,e=>e.offsetHeight))})))),a.createElement(i.a.div,{className:ze.toolbarWrapperTier},J.b.mount(ct.UI,ct.Flow(B.create(t,e,f,r.view(Q.e.isSidebarOpened),b),v,m)),a.createElement(i.a.div,{className:ze.toolbarContainer},a.createElement(n,{footerEl:C,state:r,formattingViewModel:c,documentModel:t,settingsModel:l,emotionsViewModel:d})))};const t=ne.b.createComponent({component:yt.Container,section:ne.b.create(ne.b.Id.formatting)}),n=({footerEl:e,state:n,formattingViewModel:r,documentModel:o,settingsModel:c,emotionsViewModel:u})=>a.createElement(yt,{className:Ge.overlayClickableEl,mount:t=>e.set(s.g.fromNullable(t)),state:n},a.createElement(t,null,a.createElement(l,{rtfMode:o.rtfMode,toolbarViewModel:Object(Z.pipe)(r,s.g.map(({toolbarViewModel:e})=>e))}),a.createElement(yt.Item,{className:ze.wordCounter,order:2,responsive:!0},a.createElement(yt.ResponsiveWordCounter,{id:"big-word-counter",alignToEnd:o.rtfMode!==te.DocumentFeatures.FormattingMode.off,theme:{dropdownContainer:ze.dropdownContainer,dropdownList:o.rtfMode!==te.DocumentFeatures.FormattingMode.off?ze.dropdownListLeft:ze.dropdownListRight},documentModel:o,settingsModel:c,renderLabel:(e,t)=>a.createElement(yt.Counters,{counterTuple:e,dropdownShown:t}),renderCompactLabel:(e,t)=>a.createElement(yt.IconCounters,{counterTuple:e,dropdownShown:t})})),a.createElement(i.a.Fragment,null,Object(Z.pipe)(u,s.g.map(e=>a.createElement(yt.Item,{className:ze.footerEmotions,order:2},a.createElement(kt,{view:e.visualState}))),s.g.orNull)))),l=({rtfMode:e,toolbarViewModel:t})=>{const{withSelectionEffect:n}=a.useContext(ee.a.Context),i=a.useContext(X.a.Context),o=n(ee.a.Effect.PlainContainer,ee.a.Effect.resetAsap),l=e===te.DocumentFeatures.FormattingMode.compatibility;return a.createElement(a.Fragment,null,l?a.createElement(yt.Item,{order:0},a.createElement(_t,null)):Object(Z.pipe)(t,s.g.fold(r.constNull,e=>a.createElement(yt.Item,{className:ze.formattingShiftedLeft,order:0,ariaLabel:i.toolbar.formatting.head},a.createElement(o,null,a.createElement(It.b,{viewModel:e}))))))}}(xt||(xt={}));var jt=n("SGhz"),Tt=n("QshB");class Mt{constructor(e,t,n,a){this._docModel=e,this._doxInit=t,this._doxEvents=n,this._log=y.Monitoring.Logging.getLogger("DoxSyncManager"),this._log.debug("Got initial text, len: "+t.initialDelta.length),this._settingsHolder=t.meta.settings,this._title=t.meta.title;const r=Object(Z.pipe)(n.dox,g.a.filter(e=>"metadata_change"===e.kind),g.a.map(e=>e));this._subs=[a.subscribe(()=>this._docModel.saved.next(!1)),this._docModel.title.pipe(g.a.filter(e=>e!==this._title),g.a.tap(e=>this._docModel.saved.next(!1)),g.a.debounceTime(1e3)).subscribe(e=>{this._updateTitle(Boolean(e)?e:"")}),this._docModel.context.pipe(g.a.skip(1)).subscribe(e=>{const t=this._settingsHolder.changeContext(e);this._updateSettings(t)}),this._docModel.extraSettings.changes.subscribe(e=>{const t=this._settingsHolder.changeExtra(e);this._updateSettings(t)}),this._docModel.checkingState.pipe(g.a.combineLatest(this._docModel.counters),g.a.filter(([e,t])=>"idle"===e&&Tt.b.isValid(t)),g.a.map(([e,t])=>t),g.a.skip(1),g.a.debounceTime(1e3),g.a.distinctUntilChanged()).subscribe(e=>{this._updateMetadata({errors:e.advanced+e.critical})}),r.subscribe(({documentMetadata:e})=>{this._settingsHolder=e.settings,Object(Z.pipe)(e.proofit,s.g.fold(T.e,e=>this._docModel.proofit.updateState(e))),this._title=e.title,this._docModel.title.set(e.title)}),this._doxEvents.acceptedMessage.subscribe(()=>{this._docModel.saved.next(this._doxInit.remoteDocument.inSync)}),this._doxEvents.droppedMessages.subscribe(({messages:e,reason:t})=>{const n=this._groupMessages(e);Boolean(n.change)&&this._log.warn("got dropped messages",{counts:n,reason:t}),this._docModel.saved.next(this._doxInit.remoteDocument.inSync)})]}static createDoxEventsCollector(){return{dox:new g.a.Subject,acceptedMessage:new g.a.Subject,droppedMessages:new g.a.Subject}}dispose(){this._subs.forEach(e=>e.unsubscribe())}_updateSettings(e){this._docModel.saved.next(!1),this._settingsHolder=e,this._updateMetadata({settings:e})}_updateTitle(e){this._docModel.saved.next(!1),this._title=e,this._updateMetadata({title:e})}_updateMetadata(e){s.l.toPromise(this._doxInit.remoteDocument.updateMetadata(e)).catch(e=>jt.b.isNotConnectedError(e)?this._log.warn("Could not update document metadata",e):this._log.error("Error on update document metadata",e))}_groupMessages(e){return e.reduce((e,t)=>(void 0===e[t.kind]&&(e[t.kind]=0),e[t.kind]++,e),{})}}var Nt=n("h6df");function Pt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var Lt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._capiSDUIClient=t,this._log=y.Monitoring.Logging.getLogger("SDUIFeedbackServiceImpl")}var t,n,a;return t=e,(n=[{key:"sendUserAction",value:function(e,t){var n=this;Object(Nt.m)(this._capiSDUIClient.sendUserAction(e,t),s.l.toPromise,(function(e){return e.catch((function(e){jt.a.isDroppedError(e)?n._log.debug("Stopped listening for sendUserAction message acknowledge",e):jt.b.isNotConnectedError(e)?n._log.warn("Failed to sendUserAction as CAPI was not connected",e):n._log.error("Failed to sendUserAction",e)}))}))}}])&&Pt(t.prototype,n),a&&Pt(t,a),e}(),Rt=n("WOlp"),Bt=n("94k3"),Ft=n("dE97"),Dt=n("v0pb"),Ht=n("yA7V"),Vt=n("GGUR"),Ut=n("7b34"),Wt=n("giVc"),qt=n("TA71"),zt=n("uIDj"),$t=n("JSVy"),Gt=n("3HQf");function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||Jt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e){return function(e){if(Array.isArray(e))return Kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Jt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){if(e){if("string"==typeof e)return Kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kt(e,t):void 0}}var en=function(){function e(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Gt.a,i=this;Yt(this,e),this._getByRawAlertId=a,this.popoverManager=r,this._subs=new Vt.a.Keeper,this._log=y.Monitoring.Logging.getLogger("SDUIManager",y.Logging.LogLevel.TRACE,y.Logging.LogColor.Manager.getColor()),this.findFirstCardWithContent=function(e){return i._sduiManager.findFirstCardWithContent(e)},this.onSessionStarted=function(){return i._sduiManager.onSessionStarted()},this.onFirstCheckingFinished=function(){return i._sduiManager.onFirstCheckingFinished()},this.notifyAlertsChanged=function(){return i._sduiManager.notifyAlertsChanged()},this.loadItems=function(e){return i._sduiManager.loadItems(e)},this._toRemovedAlertIdsByClient=function(e){var t=i,n=function(e,n,a){var r=t;return Object(T.p)(Ft.a.isRemovedByTextChange,Ft.a.isDuplicated)(n.alert)?Object(Nt.m)(a,s.g.fromNullable,s.g.chain((function(e){return e.alert.rawId})),s.g.alt((function(){return n.alert.rawId})),s.g.fold((function(){return e}),(function(t){var a,i=Ft.a.isRemovedByTextChange(n.alert)?qt.c.TextChange:qt.c.RemoveDuplicate;return r._log.debug("[Optimistic update] alert ".concat(Ft.a.State.Type.REMOVED," by ").concat(i," ").concat(Dt.a.show.show(n))),e.set(i,Qt(null!==(a=e.get(i))&&void 0!==a?a:[]).concat([zt.a.AlertId.from(t)]))}))):e};return e.pipe(g.a.pairwise(),g.a.map(Object(Nt.o)(Ht.a.diff)),g.a.map((function(e){return Ut.a.reduce(new Map,(function(e,t){return n(e,t)}),(function(e,t,a){return n(e,a,t)}),Nt.k)(e)})),g.a.filter((function(e){return Object(Nt.m)(Array.from(e.values()),s.a.flatten,Object(T.m)(s.a.isEmpty))})))};var o=n.pipe(g.a.filter($t.a.isSduiEvent),g.a.map(qt.a.fromSource(qt.c.CAPI))),l=Object(Nt.h)(Rt.B.Id.create,this._getByRawAlertId,s.g.map((function(e){return zt.a.AlertId.from(e.id)})));this._sduiManager=new Wt.b(o,l,r),this.alertIdResolver=l,this.state=this._sduiManager.state,this._subs.push(t.subscribe((function(e){return i._sduiManager.notifyAlertsChanged()})),this._toRemovedAlertIdsByClient(t).subscribe((function(e){return e.forEach((function(e,t){return i.pushRemovedAlerts([e,t])}))})),n.pipe(g.a.filter(Bt.a.CAPIEvent.is("session_started")),g.a.filter((function(e){return e.isNewSession}))).subscribe((function(e){return i._sduiManager.onSessionStarted()})),n.pipe(g.a.filter(Bt.a.CAPIEvent.is("finish")),g.a.filter((function(e){return 0===e.revision}))).subscribe((function(e){return i._sduiManager.onFirstCheckingFinished()})))}var t,n,a;return t=e,(n=[{key:"onAlertsRefEmpty",get:function(){return this._sduiManager.onAlertsRefEmpty}},{key:"pushRemovedRoot",value:function(e){this._sduiManager.pushRemovedRoot(e)}},{key:"pushRemovedAlerts",value:function(e){var t=Xt(e,2),n=t[0],a=t[1];this._sduiManager.pushRemovedAlerts([n,a])}},{key:"pushRemovedDenaliAlerts",value:function(e){var t=Xt(e,2),n=t[0],a=t[1];this._sduiManager.pushRemovedAlerts([n.map(zt.a.AlertId.from),a])}},{key:"pushSwitchView",value:function(e){this._sduiManager.pushSwitchView(e)}},{key:"resolveStrongAlertRefAlerts",value:function(e){return this._sduiManager.resolveStrongAlertRefAlerts(e)}},{key:"flush",value:function(){this._sduiManager.flush()}},{key:"dispose",value:function(){this._subs.dispose(),this._sduiManager.dispose()}}])&&Zt(t.prototype,n),a&&Zt(t,a),e}(),tn=n("TTz4"),nn=n("tn8Q"),an=(n("GXGe"),n("5C44"),n("mvgW"));n("Y4t5");n("HQ1c"),n("AKgc"),n("SIsI"),n("vuzl"),n("FzYa"),n("Osoa");var rn=an.k,on=an.n;var sn=on,ln=function(e){return function(t){return un(t)?rn:e(t.value)}},cn=function(e){return function(t){return un(t)?rn:on(e(t))}},un=(Nt.k,an.i,function(e){return"None"===e._tag}),dn=function(e,t){return function(n){return un(n)?e():t(n.value)}},pn=dn;Nt.k,Nt.c,Nt.k,Nt.e,Nt.k;an.b;var mn=sn(an.a),hn=function(e){var t=function(e){return function(t){var n=e(0,an.e(t));if(un(n))return rn;for(var a=[n.value],r=1;r<t.length;r++){var i=e(r,t[r]);if(un(i))return rn;a.push(i.value)}return on(a)}}(e);return function(e){return an.g(e)?t(e):mn}};Nt.k;new Map;var gn=function(e,t){return fn(e,(function(e,n){return t(n)}))},fn=function(e,t){return Object(Nt.m)(e,(n=t,function(e){for(var t,a=new Map,r=e.entries();!(t=r.next()).done;){var i=t.value,o=i[0],s=i[1];n(o,s)&&a.set(o,s)}return a}));var n};var bn=n("3Wty"),yn=n("tSYx"),vn=n("f9Xq"),Sn=n("AHUR");function Cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function wn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){kn(e,t,n[t])}))}return e}function On(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var An=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onFeedRemove=new g.a.Subject,this.onFeedEmpty=new g.a.Subject,this._header=new g.a.ReplaySubject(1),this._footer=new g.a.ReplaySubject(1),this._feeds=new Map,this._currentCards=o.a.create(yn.a.empty),this._feed=new g.a.BehaviorSubject(void 0),this._feedStack=new g.a.BehaviorSubject([]),this._cardIdToFocus=new g.a.Subject,this._subs=new Vt.a.Keeper,this._log=y.Monitoring.Logging.getLogger("SDUIFeedManager",y.Logging.LogLevel.TRACE,y.Logging.LogColor.Manager.getColor()),this._forceFeedInternalInfo=new g.a.Subject,this._getFeedContent=Object(Nt.h)(this._getFeed,s.b.map((function(e){return e.content})),s.b.unsafeGet),this._changeFeed=function(e){var t=n;n._feed.next(e),Object(Nt.m)(e.cards,yn.a.applyDiff,s.j.map(nn.a.recover((function(e){return t._log.error("conflicts on diff apply",e)}))),(function(n){var a=t._currentCards.get(),r=n(a);if(a.entries.size>0&&0===r.entries.size){var i=t._feeds.get(e.feedId);void 0!==i&&t.onFeedEmpty.next(i)}t._currentCards.modify(n)}))};var a=g.a.mergeStatic(this._feedStack.pipe(g.a.map((function(e){return s.g.fromNullable(e[e.length-1])})),g.b.compact,g.a.map((function(e){return n._getFeedInternalInfo(e.feedId,e.focusedCardId)}))),this._forceFeedInternalInfo),r=g.a.mergeStatic(this._feedStack.pipe(g.a.distinctUntilKeyChanged("length"),g.a.map((function(e){return s.g.fromNullable(e[e.length-1])})),g.b.compact,g.a.map((function(e){return n._getFeedInternalInfo(e.feedId,e.focusedCardId)}))),this._forceFeedInternalInfo),i=this._cardIdToFocus.pipe(g.a.withLatestFrom(this._feedStack.pipe(g.a.map((function(e){var t;return null===(t=e[e.length-1])||void 0===t?void 0:t.focusedCardId})))),g.a.filter((function(e){var t=On(e,2);return t[0]!==t[1]})),g.a.map((function(e){return On(e,1)[0]})),g.a.withLatestFrom(this.feed),g.a.map((function(e){var t=On(e,2),a=t[0],r=t[1];return n._getFeedInternalInfo(r.feedId,zt.a.Item.Id.from(a))}))),l=t.pipe(g.a.startWith(bn.a.empty),g.a.pairwise(),g.a.map((function(e){var t=On(e,2),n=t[0],a=t[1];return bn.a.diff(n,a)})),g.a.map((function(e){return n._processSDUIItems(e)})),g.a.withLatestFrom(a),g.a.map((function(e){var t=On(e,2),n=t[0],a=t[1],r=a.feedOrd,i=a.feedFilter;return{feedId:a.feedId,cards:Object(Nt.m)(n,Ut.a.filter(i,(function(e,t){return i(t)}),i)),feedOrd:r,itemIdToSelect:s.g.none}}))),c=g.a.mergeStatic(r,i).pipe(g.a.withLatestFrom(t,this._currentCards),g.a.map((function(e){var t=On(e,3),n=t[0],a=n.feedOrd,r=n.feedFilter,i=n.feedId,o=n.itemIdToSelect,s=t[1],l=t[2],c=Object(Nt.m)(s,yn.a.iso.unwrap,(function(e){return Object(Nt.m)(e.entries,(t=r,function(e){return gn(e,t)}));var t}));return{feedId:i,cards:yn.a.diffFromEntries(l.entries,c),feedOrd:a,itemIdToSelect:o}})));this._subs.push(g.a.mergeStatic(l,c).subscribe(this._changeFeed)),this._subs.push(r.pipe(g.a.pluck("header")).subscribe((function(e){return n._header.next(e)}))),this._subs.push(r.pipe(g.a.pluck("footer")).subscribe((function(e){return n._footer.next(e)})))}var t,n,a;return t=e,(n=[{key:"header",get:function(){return this._header.asObservable()}},{key:"footer",get:function(){return this._footer.asObservable()}},{key:"feed",get:function(){return this._feed.pipe(g.a.filter(T.i))}},{key:"currentFeed",get:function(){return s.g.fromNullable(this._feed.getValue())}},{key:"_getFeed",value:function(e){var t=this._feeds.get(e);return void 0===t?s.b.left("Cannot switch to feed. Feed with id '".concat(e,"' not found.")):s.b.right(t)}},{key:"_getFeedInternalInfo",value:function(e,t){var n=this._getFeedContent(e);return{feedId:e,feedFilter:function(e){var t=_n(e.content);return!s.g.isNone(t)&&n.filtering.reduce((function(e,n){return!1===e?e:Object(Nt.m)(t,s.g.chain((function(e){return s.g.fromNullable(e[n.property])})),s.g.fold((function(){return n.condition===vn.a.ContentAssistantFeedFilteringCondition.NotEqualTo}),(function(e){return n.condition===vn.a.ContentAssistantFeedFilteringCondition.EqualTo?e===n.value:e!==n.value})))}),!0)},feedOrd:Object(tn.a)(s.h.getMonoid())(n.ordering.map((function(e){return Object(Nt.m)(s.h.ordNumber,s.h.contramap(Object(Nt.h)(_n,s.g.chain((function(t){return s.g.fromNullable(t[e.orderBy])})),s.g.fold((function(){return Number.MAX_VALUE}),(function(t){return e.direction===vn.a.ContentAssistantFeedOrderingDirection.Asc?t:-1*t})))))}))),itemIdToSelect:s.g.some(t),header:n.header,footer:s.g.fromNullable(n.footer)}}},{key:"pushFeed",value:function(e,t){var n=this;return Object(Nt.m)(this._getFeed(e),s.b.map((function(){var a=n._feedStack.getValue();return a=a.concat({feedId:e,focusedCardId:t?zt.a.Item.Id.from(t):void 0}),n._feedStack.next(a),null})))}},{key:"popFeed",value:function(){var e=this._feedStack.getValue();e.length>1?(e=e.slice(0,e.length-1),this._feedStack.next(e)):this._log.warn("Invoked `popFeed()` when there are less than 2 feeds in the feed stack, this is a no-op.")}},{key:"focusCard",value:function(e){var t=this;return Object(Nt.m)(this.currentFeed,s.b.fromOption((function(){return"Cannot focus card when there is no active feed."})),s.b.map((function(){return t._cardIdToFocus.next(e),null})))}},{key:"notifyCardFocused",value:function(e){var t=this._feedStack.getValue(),n=t[t.length-1];Object(at.f)(void 0!==n,"notifyCardFocused: Feed stack cannot be empty."),t=t.slice(0,t.length-1).concat(En({},n,{focusedCardId:e})),this._feedStack.next(t)}},{key:"_processSDUIItems",value:function(e){var t=this;return Ut.a.fromMutation((function(n){var a=t;Object(Nt.m)(e,Ut.a.forEach((function(e){if(void 0!==a._feeds.get(e.id)){var t=a;a._feeds.delete(e.id),Object(Nt.m)(a.currentFeed,s.g.filter((function(t){return t.feedId.toString()===e.id.toString()})),s.g.tap((function(){return t.onFeedRemove.next(e)})))}else n.set(e.id,s.m.left(e))}),(function(e,t){if("assistantFeed"===t.content.type){var r=t.content;if(void 0!==a._feeds.get(e.id)){var i=a;a._feeds.set(e.id,En({},t,{content:r})),Object(Nt.m)(a.currentFeed,s.g.filter((function(t){return t.feedId===e.id})),s.g.map((function(e){i._header.next(r.header),i._footer.next(s.g.fromNullable(r.footer))})))}else a._log.warn("Feed with id '".concat(e.id,"' not found for update"))}else n.set(e.id,s.m.both(e,t))}),(function(e){if("assistantFeed"===e.content.type){var t=e.content;a._feeds.set(e.id,En({},e,{content:t}))}else n.set(e.id,s.m.right(e))})))}))}},{key:"dispose",value:function(){this._subs.dispose()}}])&&wn(t.prototype,n),a&&wn(t,a),e}();function _n(e){var t=!0,n=!1,a=void 0;try{for(var r,i=Sn.a.traverse(e)[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;if("longFormCard"===o.type)return s.g.some(o.feedProperties);if("assistantCard"===o.type&&o.properties)return s.g.some(o.properties)}}catch(e){n=!0,a=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}return s.g.none}var xn=n("8Js9"),In=n("98ts"),jn=n("NSdk"),Tn=n("hUf6"),Mn=n("E3+O"),Nn=n("prnJ"),Pn=n("FYFc"),Ln=n("4Gi8"),Rn=n("HvFA"),Bn=n("FiSa");class Fn{constructor(e,t,n,a){this._events=e,this._capi=t,this._ded=n,this._capiConnection=a,this._log=y.Monitoring.Logging.getLogger("CapiSyncManager"),this._subs=[],this._isReady=!1,this.connectFromIdleSource=()=>{this._ded.flushChanges();const e=this._ded.getContents();return this._log.debug("sending ded current delta",_.a.anonymizeTextAndStringAttrs(e.delta)),e},this.connectFromResetSource=()=>{const e=this._initialDelta?this._initialDelta:this._ded.getContents();return this._initialDelta=void 0,e},this.setSessionOption=e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.setSessionOption(e))),this.sendFeedback=e=>Object(Z.pipe)(this._capi.sendFeedback(e),s.l.fold(e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.fold(at.c,()=>s.l.left(e))),()=>s.l.right(void 0))),this.requestDocStats=Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.requestDocStats)),this.requestSynonyms=(e,t)=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.requestSynonyms(e,t))),this.requestSnippets=e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.requestSnippets(e))),this.shortenItSubmit=e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.shortenItSubmit(e))),this.enablePlagiarismSearch=Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.enablePlagiarismSearch)),this.disablePlagiarismSearch=Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.disablePlagiarismSearch)),this.realtimeProofitSubmit=e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.realtimeProofitSubmit(e))),this.realtimeProofitCancel=Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.realtimeProofitCancel)),this.submitRecipients=e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.submitRecipients(e))),this.submitScoreSurveyResult=(e,t)=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.submitScoreSurveyResult(e,t))),this.submitSurvey=e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.submitSurvey(e))),this.sendUserAction=(e,t)=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.sendUserAction(e,t))),this.sendDebugReport=(e,t)=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.sendDebugReport(e,t))),this.ping=Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.ping)),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.resetReconnectInfo=()=>this._capi.resetReconnectInfo(),this.updateContextInfo=e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.updateContextInfo(e))),this.setContext=e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.setContext(e))),this.published=()=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.published())),this.cheetahStartSession=e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.cheetahStartSession(e))),this.cheetahAction=e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.cheetahAction(e))),this.cheetahInterrupt=e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.cheetahInterrupt(e))),this.cheetahSetVoice=e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.cheetahSetVoice(e))),this.cheetahSetVoiceProfile=e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.cheetahSetVoiceProfile(e))),this.cheetahSearchReferences=e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.cheetahSearchReferences(e))),this.cheetahEndSession=()=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.cheetahEndSession())),this.cheetahGetState=()=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.cheetahGetState())),this.enqueueExternalCommand=e=>Object(Z.pipe)(s.l.rightIO(()=>this._checkConnected()),s.l.chain(()=>this._capi.enqueueExternalCommand(e))),this._subs.push(this._events.pipe(g.a.filter(Bt.a.CAPIEvent.is("ready")),g.a.switchMapTo(this._events.pipe(g.a.filter(Bt.a.CAPIEvent.is("disconnect")),g.a.take(1),g.a.mapTo(!1),g.a.startWith(!0))),g.a.startWith(!1)).subscribe(e=>{this._isReady=e}))}pushChanges(e){return()=>Bn.a.isReset(e)&&!this._capiConnection.wasStarted?(this._log.debug("Got new Reset, triggering connection"),this._initialDelta=e,this._capiConnection.connect(this.connectFromResetSource,!1).then(([e,t])=>s.b.right(void 0!==t?s.g.some(t):s.g.none)).catch(e=>(this._log.warn("failed to connect to CAPI",e),s.b.left(e)))):this._capiConnection.wasStarted?this._isReady?this._capi.pushChanges(e)():(this._log.debug("Skipped sending change to CAPI as it is not ready yet"),this._initialDelta&&Bn.a.isDelta(e)&&(this._log.debug("Got change while establishing new CAPI connection, appending to initial Delta"),Object(Z.pipe)(this._initialDelta.compose(e),s.b.fold(()=>{this._log.error("Got invalid change while establishing new CAPI connection, skiping")},e=>{this._initialDelta=e}))),this._capiConnection.isIdle?(this._log.debug("received new change while CAPI is idle, connecting"),this._capiConnection.connect(this.connectFromIdleSource,!1).catch(e=>this._log.warn("failed to connect to CAPI",e)).then(()=>s.b.right(s.g.none))):(this._log.debug("capi is not idle, skip capi reconnect"),Promise.resolve(s.b.right(s.g.none)))):(this._log.debug("Skipped sending change to CAPI as it is not started yet, triggering new connection"),this._capiConnection.connect(this.connectFromIdleSource,!1).catch(e=>this._log.warn("failed to connect to CAPI",e)).then(()=>s.b.right(s.g.none)))}registerExternalMessageHandler(e){this._capi.registerExternalMessageHandler(e)}get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}_checkConnected(){this._capiConnection.isIdle?(this._log.debug("received new command while CAPI connection is idle, connecting"),this._capiConnection.connect(this.connectFromIdleSource,!1).catch(e=>this._log.warn("failed to connect to CAPI",e))):this._log.trace("already connected or cannot connect, skipping")}dispose(){this._subs.forEach(e=>e.unsubscribe())}}class Dn{constructor(e,t=new Set){this._events=e,this._debugTools=t,this._subs=new Vt.a.Keeper,this._allMessages=[],this._debugTools.has("captureCapiMessages")&&(this._subs.push(this._events.subscribe(e=>{Bt.a.CAPIEvent.is("message_sent")(e)&&this._allMessages.push({direction:"SENT",data:e.message}),Bt.a.CAPIEvent.is("message_received")(e)&&this._allMessages.push({direction:"RECEIVED",data:e.message})})),Object(T.r)("popAllMessages",()=>JSON.stringify(this._allMessages.splice(0,this._allMessages.length))))}dispose(){this._subs.dispose()}}class Hn{constructor(e,t,n,a,i,o=0){this._capi=e,this.events=t,this._sessionChecksState=n,this._log=y.Monitoring.Logging.getLogger("CheckingStateCAPIClient"),this._subs=[],this._checkingStateInt=new g.a.Subject,this.pushChanges=e=>Object(Z.pipe)(this._capi.pushChanges(e),s.l.map(e=>(this._checkingStateInt.next(this._capi.checkingState),this._updateAsyncChecksState(),e))),this.setSessionOption=e=>Object(Z.pipe)(s.l.fromIOEither(()=>(e.kind===Bt.a.CAPISessionOptionType.Context&&(this._sessionChecksState.score.set(s.g.none),this._sessionChecksState.scoreStatus.set(s.g.none),this._checkingStateInt.next(this._capi.checkingState)),s.b.right(null))),s.l.chain(()=>this._capi.setSessionOption(e))),this.resetReconnectInfo=()=>this._capi.resetReconnectInfo(),this.sendFeedback=e=>this._capi.sendFeedback(e),this.requestDocStats=()=>this._capi.requestDocStats(),this.requestSynonyms=(e,t)=>this._capi.requestSynonyms(e,t),this.requestSnippets=e=>this._capi.requestSnippets(e),this.shortenItSubmit=e=>this._capi.shortenItSubmit(e),this.enablePlagiarismSearch=()=>this._capi.enablePlagiarismSearch(),this.disablePlagiarismSearch=()=>this._capi.disablePlagiarismSearch(),this.realtimeProofitSubmit=e=>this._capi.realtimeProofitSubmit(e),this.realtimeProofitCancel=()=>this._capi.realtimeProofitCancel(),this.submitRecipients=e=>this._capi.submitRecipients(e),this.submitScoreSurveyResult=(e,t)=>this._capi.submitScoreSurveyResult(e,t),this.submitSurvey=e=>this._capi.submitSurvey(e),this.sendUserAction=(e,t)=>this._capi.sendUserAction(e,t),this.sendDebugReport=(e,t)=>this._capi.sendDebugReport(e,t),this.ping=()=>this._capi.ping(),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.updateContextInfo=e=>this._capi.updateContextInfo(e),this.setContext=e=>this._capi.setContext(e),this.published=()=>this._capi.published(),this.cheetahStartSession=e=>this._capi.cheetahStartSession(e),this.cheetahAction=e=>this._capi.cheetahAction(e),this.cheetahInterrupt=e=>this._capi.cheetahInterrupt(e),this.cheetahSetVoice=e=>this._capi.cheetahSetVoice(e),this.cheetahSetVoiceProfile=e=>this._capi.cheetahSetVoiceProfile(e),this.cheetahSearchReferences=e=>this._capi.cheetahSearchReferences(e),this.cheetahEndSession=()=>this._capi.cheetahEndSession(),this.cheetahGetState=()=>this._capi.cheetahGetState(),this.enqueueExternalCommand=e=>this._capi.enqueueExternalCommand(e),this.registerExternalMessageHandler=e=>this._capi.registerExternalMessageHandler(e),this._log.debug("Constructing client with _hasAlertsCache = "+a);const l=Bt.a.CAPIEvent.is("session_started"),c=Bt.a.CAPIEvent.is("session_started","queue_msgs_dropped");this._subs.push(this.events.subscribe(e=>{"finish"===e.kind&&this._checkingStateInt.next(this._capi.checkingState)}),this.events.pipe(g.a.filter(c),g.a.map(l),g.a.switchMap(f.b.orEmptyRight(g.a.of(void 0).pipe(g.a.delay(1e3)))),g.a.map(()=>this._capi.checkingState)).subscribe(this._checkingStateInt));const u=t.pipe(g.a.filter(l),g.a.skip(1),g.a.switchMapTo(t.pipe(g.a.filter(Bt.a.CAPIEvent.is("finish")),g.a.first(),g.a.mapTo(!1),g.a.startWith(!0))),g.a.startWith(!1)),d=this._checkingStateInt.pipe(g.a.withLatestFrom(u,(e,t)=>t&&"full"===e?"checking":e),g.a.share()),p=d.pipe(g.a.takeWhile(e=>"full"!==e)),m=d.pipe(g.a.filter(e=>"full"===e),g.a.switchMap(()=>p.pipe(g.a.combineLatest(g.a.timer(o),e=>e),g.a.startWith("full"))));this._subs.push(t.subscribe(e=>{"text_info"===e.kind?n.textInfo.set(s.g.some(e.data)):"finish"===e.kind?(n.score.set(e.score),n.scoreStatus.set(e.scoreStatus)):"feedback_ack"===e.kind?(Object(Z.pipe)(e,s.g.fromPredicate(Bt.a.CAPIEvent.isUserFeedbackWithGeneralScore),s.g.map(e=>e.outcomeScores.GeneralScore),s.g.map(e=>Math.trunc(100*e)),s.g.tap(e=>n.score.modify(Object(r.flow)(s.g.map(t=>Object.assign(Object.assign({},t),{rank:e})),s.g.orElse(s.g.some({errorRateScore:0,rank:e})))))),Object(Z.pipe)(e,s.g.fromPredicate(Bt.a.CAPIEvent.isUserFeedbackWithScoreStatus),s.g.map(e=>e.scoreStatus),s.g.tap(e=>n.scoreStatus.set(s.g.some(e))))):"async_check_finished"===e.kind&&this._updateAsyncChecksState()})),this._subs.push(g.a.mergeStatic(p,m).pipe(g.a.skipWhile(e=>a&&"idle"!==e),g.a.startWith(i>1?a?"checking":"full":"idle"),g.a.distinctUntilChanged()).subscribe(e=>{this._log.debug("Switching checking state to "+e),n.checkingState.set(e),"full"===e&&s.l.toPromise(this.sendFeedback({kind:Bt.a.SystemFeedbackType.RECHECK_SHOWN})).catch(e=>{jt.b.isNotConnectedError(e)?this._log.error("tried to send RECHECK_SHOWN event to Capi when not connected and failed to wait for new connection",e):this._log.error("Failed to send RECHECK_SHOWN event on Capi",e)})}))}get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}dispose(){this._subs.forEach(e=>e.unsubscribe())}_updateAsyncChecksState(){this._sessionChecksState.asyncChecksState.set(this._capi.asyncChecksState)}}var Vn=n("NNUY"),Un=n("aVfF");class Wn{constructor(e,t){this._events=e,this._capi=t,this.retryCommandWhen=Object(T.p)(jt.a.isDroppedError,jt.d.isTimeoutError),this.pushChanges=e=>this._capi.pushChanges(e),this.setSessionOption=e=>this._capi.setSessionOption(e),this.resetReconnectInfo=()=>this._capi.resetReconnectInfo(),this.sendFeedback=e=>{switch(e.kind){case Bt.a.MutedFeedbackType.MUTE:case Bt.a.MutedFeedbackType.UNMUTE:return Object(Z.pipe)(s.l.tryDelay(this._capi.sendFeedback(e),e=>this._untilWaitingForOT(e),1e4),Object(jt.h)([Un.limitRetries(2),Un.exponentialBackoff(200)],this.retryCommandWhen));case Bt.a.SystemFeedbackType.RECHECK_SHOWN:return Object(Z.pipe)(this._capi.sendFeedback(e),s.l.orElse(()=>s.l.right(Object(T.e)())));default:return this._capi.sendFeedback(e)}},this.requestSynonyms=(e,t)=>Object(Z.pipe)(s.l.tryDelay(this._capi.requestSynonyms(e,t),e=>this._untilFinished(e),1e4),Object(jt.h)([Un.limitRetries(2),Un.exponentialBackoff(200)],this.retryCommandWhen)),this.requestSnippets=e=>Object(Z.pipe)(s.l.tryDelay(this._capi.requestSnippets(e),e=>this._untilFinished(e),1e4),Object(jt.h)([Un.limitRetries(2),Un.exponentialBackoff(200)],this.retryCommandWhen)),this.shortenItSubmit=e=>Object(Z.pipe)(s.l.tryDelay(this._capi.shortenItSubmit(e),e=>this._untilFinished(e),1e4),Object(jt.h)([Un.limitRetries(2),Un.exponentialBackoff(200)],this.retryCommandWhen)),this.requestDocStats=Object(Z.pipe)(s.l.tryDelay(this._capi.requestDocStats,e=>this._untilFinished(e),1e4),Object(jt.h)([Un.limitRetries(2),Un.exponentialBackoff(200)],this.retryCommandWhen)),this.enablePlagiarismSearch=Object(Z.pipe)(s.l.tryDelay(this._capi.enablePlagiarismSearch,e=>this._untilFinished(e),1e4),Object(jt.h)([Un.limitRetries(2),Un.exponentialBackoff(200)],this.retryCommandWhen)),this.disablePlagiarismSearch=()=>this._capi.disablePlagiarismSearch(),this.realtimeProofitSubmit=e=>this._capi.realtimeProofitSubmit(e),this.realtimeProofitCancel=()=>this._capi.realtimeProofitCancel(),this.submitRecipients=e=>Object(Z.pipe)(s.l.tryDelay(this._capi.submitRecipients(e),e=>this._untilFinished(e),1e4),Object(jt.h)([Un.limitRetries(2),Un.exponentialBackoff(200)],this.retryCommandWhen)),this.submitScoreSurveyResult=(e,t)=>this._capi.submitScoreSurveyResult(e,t),this.submitSurvey=e=>this._capi.submitSurvey(e),this.sendUserAction=(e,t)=>this._capi.sendUserAction(e,t),this.sendDebugReport=(e,t)=>this._capi.sendDebugReport(e,t),this.ping=()=>this._capi.ping(),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.updateContextInfo=e=>this._capi.updateContextInfo(e),this.setContext=e=>this._capi.setContext(e),this.published=()=>this._capi.published(),this.cheetahStartSession=e=>this._sendCheetahCommand(()=>this._capi.cheetahStartSession(e)),this.cheetahAction=e=>this._sendCheetahCommand(()=>this._capi.cheetahAction(e)),this.cheetahInterrupt=e=>this._sendCheetahCommand(()=>this._capi.cheetahInterrupt(e)),this.cheetahSetVoice=e=>this._sendCheetahCommand(()=>this._capi.cheetahSetVoice(e)),this.cheetahSetVoiceProfile=e=>this._sendCheetahCommand(()=>this._capi.cheetahSetVoiceProfile(e)),this.cheetahSearchReferences=e=>this._sendCheetahCommand(()=>this._capi.cheetahSearchReferences(e)),this.cheetahEndSession=()=>this._sendCheetahCommand(()=>this._capi.cheetahEndSession()),this.cheetahGetState=()=>this._sendCheetahCommand(()=>this._capi.cheetahGetState()),this.enqueueExternalCommand=e=>this._capi.enqueueExternalCommand(e),this.registerExternalMessageHandler=e=>this._capi.registerExternalMessageHandler(e)}_sendCheetahCommand(e){return Object(Z.pipe)(s.l.tryDelay(e(),e=>this._untilFinished(e),1e4),Object(jt.h)([Un.limitRetries(2),Un.exponentialBackoff(200)],jt.a.isDroppedError))}get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}_untilWaitingForOT(e){return this._untilEvent(e,"wait_for_ot")}_untilFinished(e){return this._untilEvent(e,"finish")}_untilEvent(e,t){return jt.b.isNotConnectedError(e)?Object(Z.pipe)(this._events,g.a.filter(e=>e.kind===t),g.a.take(1),g.a.map(T.e),f.b.toTask,s.g.some):s.g.none}}var qn,zn,$n;(zn=qn||(qn={})).noopSync={pushChanges:T.e},zn.ignoreResult=function(e){return{pushChanges:t=>{e.pushChanges(t)}}},zn.ignoreTEResult=function(e){return{pushChanges:Object(r.flow)(e.pushChanges,s.l.map(T.e))}},zn.pushDeleteThenInsert=function(e){return{pushChanges:t=>{(Bn.a.isDelta(t)?Bn.a.fromArrayOfDeltas(_.a.splitToDeleteThenInsert(t.delta).filter(_.a.nonEmpty),t.prevLen):[t]).forEach(t=>e.pushChanges(t))}}},($n||($n={})).merge=function(e){return{changes:g.a.mergeStatic(...e.map(e=>e.changes))}};class Gn{static init(e,t,n,a,r,i){const o=new g.a.Subject;return new Gn(e,t,n,a,r,i,o),o}constructor(e,t,n,a,r,i,o){const s=Gn.NamedChangesSink.factory(o),l={pm:s(Gn.Receiver.PM,a),dm:s(Gn.Receiver.PM,r),capi:s(Gn.Receiver.CAPI,n),userTextEcho:s(Gn.Receiver.UserText,e)};Gn.Producer.create(Gn.Producer.UserText,{changes:e.changes})(l.dm,l.pm,l.capi),Gn.Producer.create(Gn.Producer.ALERT_APPLY,i)(l.userTextEcho),t.subscribe(t=>{"before_alert"===t.kind&&e.flushChanges()})}}!function(e){let t,n,a,r;!function(e){e.DEd="denali_editor",e.UserText="user_text",e.DOX="remote_document",e.ALERT_APPLY="alert_synonyms_manager"}(t=e.Producer||(e.Producer={})),function(e){e.create=function(e,t){return(...n)=>t.changes.subscribe(t=>{n.forEach(n=>n.pushChanges(e,t))})}}(t=e.Producer||(e.Producer={})),function(e){e.DEd="denali_editor",e.UserText="user_text",e.DOX="remote_document",e.CAPI="checking_service",e.PM="position_manager"}(n=e.Receiver||(e.Receiver={})),function(e){function t(e,t,n){return{pushChanges:(a,r)=>{try{let i=t.pushChanges(r);"function"==typeof i&&(i=s.l.toPromise(i)),void 0!==i&&i.catch(t=>n.next({exception:t,details:{from:a,to:e}}))}catch(t){n.next({exception:t,details:{from:a,to:e}})}}}}e.factory=function(e){return(n,a)=>t(n,a,e)},e.create=t}(a=e.NamedChangesSink||(e.NamedChangesSink={})),function(e){e.create=e=>({changes:e.changes,pushChanges(t){e.pushChanges(t,"user")},getContents:()=>e.getContents(),flushChanges:()=>e.flushChanges()})}(r=e.UserTextChangesSync||(e.UserTextChangesSync={}))}(Gn||(Gn={}));var Kn=n("Uwwq"),Yn=n("9ZtS");const Zn={disabledFeedbacks:Object.keys(Bt.a.AlertFeedbackType).map(e=>Bt.a.AlertFeedbackType[e]).filter(e=>e!==Bt.a.AlertFeedbackType.CLOSED&&e!==Bt.a.AlertFeedbackType.LOOKED&&e!==Bt.a.AlertFeedbackType.IGNORE)};var Xn,Qn,Jn=n("aIes"),ea=n("rbBt"),ta=n("b+P9"),na=n("YcRB"),aa=n("rQ7a"),ra=n("4ae2"),ia=n("sPc3"),oa=n("AS+/"),sa={URI:na.URI,literal:function(){return na.id()},string:na.id(),number:na.id(),boolean:na.id(),nullable:na.nullable,type:na.type,struct:na.struct,partial:na.partial,record:na.record,array:na.array,tuple:na.tuple,intersect:na.intersect,sum:na.sum,lazy:function(e,t){return na.lazy(t)},readonly:na.readonly};(Qn=Xn||(Xn={})).interpreter=Object(r.unsafeCoerce)(oa.a),Qn.extend=function(e){return function(t){return Object(dt.__assign)(Object(dt.__assign)({},e),t)}};var la,ca,ua,da={patterns:{email:{regex:'(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))',prefixes:[],priority:0,description:"Email"},url:{regex:"[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=\\[\\]]*)?",prefixes:["http://","https://"],priority:1,description:"URL"},creditCardNumber:{regex:"(\\d{4}\\d{4}\\d{4}\\d{4})|(\\d{4}\\-\\d{4}\\-\\d{4}\\-\\d{4})|(\\d{4}\\s\\d{4}\\s\\d{4}\\s\\d{4})",prefixes:[],priority:2,description:"Credit card number"},phoneNumber:{regex:"[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}",prefixes:[],priority:3,description:"Phone number"},usSSN:{regex:"[0-9]{3}[-]*[0-9]{2}[-]*[0-9]{4}",prefixes:[],priority:4,description:"US SSN"}}},pa=function(e,t){var n=this;void 0===e&&(e=da),void 0===t&&(t=[]),this._externalMessagesSchemas=t,this._sanitizationSeed=-1,this._sensitiveToSanitizedMap=new Map,this._sanitizedToSensitiveMap=new Map,this.sanitizeMessage=function(e){var t=n._externalMessagesHandlers.find((function(t){return t.is(e)}));return t?t.sanitizer.encode(e):ua.replaceInRequest(e,n.sanitizeText,n.matchInText)},this.sanitizeStaticMessage=function(e){return ua.replaceInStaticRequest(e,n.sanitizeText,n.matchInText)},this.sanitizeChange=function(e){return ua.replaceInChangeWithAttributes(e,n.sanitizeText,n.matchInText)},this.sanitizeDelta=function(e){return ua.replaceInDeltaWithAttributes(e,n.sanitizeText,n.matchInText)},this.sanitizeSdui=function(e){return ua.replaceInSdui(e,n.sanitizeText)},this.sanitizeText=function(e){return la.replaceInText(n._dlpRegexConfiguration,e,n._sanitizeDlpMatch)},this.unsanitizeMessage=function(e){var t=n._externalMessagesHandlers.find((function(t){return t.is(e)}));return t?t.unsanitizer.encode(e):ua.replaceInResponse(e,n.unsanitizeText)},this.unsanitizeChange=function(e){return ua.replaceInChange(e,n.unsanitizeText)},this.unsanitizeDelta=function(e){return ua.replaceInDelta(e,n.unsanitizeText)},this.unsanitizeSdui=function(e){return ua.replaceInSdui(e,n.unsanitizeText)},this.unsanitizeText=function(e){return la.replaceInText(n._dlpRegexConfiguration,e,n._unsanitizeDlpMatch)},this.matchInText=function(e){return la.matchInText(n._dlpRegexConfiguration,e)},this.clear=function(){n._sanitizationSeed=-1,n._sensitiveToSanitizedMap.clear(),n._sanitizedToSensitiveMap.clear()},this._sanitizeDlpMatch=function(e){var t=e.text;if(!n._sensitiveToSanitizedMap.has(t)){var a=ca.sanitizeDlpMatch(e,++n._sanitizationSeed);n._sensitiveToSanitizedMap.set(t,a),n._sanitizedToSensitiveMap.set(a,t)}return n._sensitiveToSanitizedMap.get(t)},this._unsanitizeDlpMatch=function(e){var t=e.text;return n._sanitizedToSensitiveMap.has(t)?n._sanitizedToSensitiveMap.get(t):t},this.sanitizingEncoder=Xn.extend(sa)({any:na.id(),sensitiveString:{encode:this.sanitizeText},sensitiveDelta:{encode:this.sanitizeDelta}}),this.unsanitizingEncoder=Xn.extend(sa)({any:na.id(),sensitiveString:{encode:this.unsanitizeText},sensitiveDelta:{encode:this.unsanitizeDelta}}),this.sensitiveGuard=Xn.extend(aa.Schemable)({any:aa.id(),sensitiveString:aa.string,sensitiveDelta:aa.id()}),this._externalMessagesHandlers=this._externalMessagesSchemas.map((function(e){return Object(dt.__assign)(Object(dt.__assign)({},Xn.interpreter(n.sensitiveGuard)(e)),{sanitizer:Xn.interpreter(n.sanitizingEncoder)(e),unsanitizer:Xn.interpreter(n.unsanitizingEncoder)(e)})})),this._dlpRegexConfiguration=la.getRegexConfiguration(e)};!function(e){e.getRegexConfiguration=function(e){return{dlpConfiguration:e,dlpRegex:t(e)}},e.replaceInText=function(e,t,a){var r=e.dlpConfiguration,i=e.dlpRegex;return t.replace(i,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(n(r,{groups:e[e.length-1],index:e[e.length-3]}))}))},e.matchInText=function(e,t){var r=e.dlpConfiguration,i=e.dlpRegex;return a(i,t).map((function(e){return n(r,e)}))};var t=function(e){var t=e.patterns;return new RegExp(Object.entries(t).sort((function(e,t){return e[1].priority-t[1].priority})).map((function(e){var t=e[0],n=e[1],a=n.regex,r=n.prefixes;return a=r.length?"(".concat(r.join("|"),")").concat(a):a,"(?<".concat(t,">").concat(a,")")})).join("|"),"g")},n=function(e,t){var n=t.groups,a=t.index,r=Object.entries(n).find((function(e){return void 0!==e[1]})),i=r[0],o=r[1],s=e.patterns[i];return Object(dt.__assign)(Object(dt.__assign)({id:i},s),{text:o,start:a,end:a+o.length})},a=function(e,t){var n=[];for(e.lastIndex=0;;){var a=e.exec(t);if(!a)break;n.push(a)}return e.lastIndex=0,n}}(la||(la={})),function(e){e.sanitizeDlpMatch=function(e,t){var n=e.prefixes,a=e.text,r=n.find((function(e){return 0===a.indexOf(e)}));return void 0!==r?"".concat(r).concat(u(a.slice(r.length),t)):u(a,t)};var t="a".charCodeAt(0),n="z".charCodeAt(0),a="A".charCodeAt(0),r="Z".charCodeAt(0),i="0".charCodeAt(0),o="9".charCodeAt(0),s=function(e){return e>=t&&e<=n},l=function(e){return e>=a&&e<=r},c=function(e){return e>=i&&e<=o},u=function(e,n){for(var r=new Array(e.length),o=n,u=e.length-1;u>=0;u--){var d=e.charCodeAt(u);s(d)?(r[u]=t+(u+o)%26,o/=26):l(d)?(r[u]=a+(u+o)%26,o/=26):c(d)?(r[u]=i+(u+1+o)%10,o/=10):r[u]=d}return String.fromCharCode.apply(String,r)}}(ca||(ca={})),function(e){e.replaceInRequest=function(e,t,n){switch(e.action){case"submit_ot":return a(e,t,n);default:return e}},e.replaceInStaticRequest=function(t,n,a){switch(t.action){case"update_context_info":return e.replaceInUpdateContextInfoMessage(t,n,a);default:return t}},e.replaceInResponse=function(e,t){switch(e.action){case"alert":return l(e,t);case"alert_changes":return c(e,t);case"sdui_add":return u(e,t);case"sdui_update":return d(e,t);default:return e}},e.replaceInUpdateContextInfoMessage=function(e,n,a){return"docContext"in e?Object(dt.__assign)(Object(dt.__assign)({},e),{docContext:t(e.docContext,n,a)}):e};var t=function(n,a,r){var i,o,s;return Object(dt.__assign)(Object(dt.__assign)({},n),{delta:void 0!==n.delta?e.replaceInDeltaWithAttributes(n.delta,a,r):void 0,siblings:null===(i=n.siblings)||void 0===i?void 0:i.map((function(e){return t(e,a,r)})),children:null===(o=n.children)||void 0===o?void 0:o.map((function(e){return t(e,a,r)})),parents:null===(s=n.parents)||void 0===s?void 0:s.map((function(e){return t(e,a,r)})),audience:void 0,authors:void 0})};e.replaceInChangeWithAttributes=function(e,t,n){return Bn.a.isDelta(e)?i(e,t,n):Bn.a.isReset(e)?s(e,t):e},e.replaceInChange=function(e,t){return Bn.a.isDelta(e)?o(e,t):Bn.a.isReset(e)?s(e,t):e},e.replaceInDeltaWithAttributes=function(e,t,a){var i=n(e),o=i.text,s=i.ranges,l=t(o);return{ops:e.ops.map((function(e,t){return _.a.match((function(e){if(_.a.isInsertString(e)){var n=s[t],r=n.start,i=n.end,o=l.slice(r,i),c=Object(dt.__assign)(Object(dt.__assign)({},e),{insert:o}),u=a(o);if(u.length>0){var d=Object.values(u).map((function(e){return{type:e.id,start:e.start,end:e.end}}));c=c.attributes?Object(dt.__assign)(Object(dt.__assign)({},c),{attributes:ia.a.compose(c.attributes,{sanitized:{matches:d}},!1)}):Object(dt.__assign)(Object(dt.__assign)({},c),{attributes:{sanitized:{matches:d}}})}return c}return e}),r.identity,r.identity)(e)}))}},e.replaceInDelta=function(e,t){var a=n(e),i=a.text,o=a.ranges,s=t(i);return{ops:e.ops.map((function(e,t){return _.a.match((function(e){if(_.a.isInsertString(e)){var n=o[t],a=n.start,r=n.end,i=s.slice(a,r);return Object(dt.__assign)(Object(dt.__assign)({},e),{insert:i})}return e}),r.identity,r.identity)(e)}))}},e.replaceInSdui=function(e,t){return Object(r.pipe)(e,Sn.a.dslRootParser,ea.map((function(e){return m(e,t)})),ea.getOrElse(Object(r.constant)(e)))};var n=function(e){return e.ops.reduce((function(e,t){var n=e.text,a=e.ranges,i=_.a.match((function(e){return _.a.isInsertString(e)?e.insert:"\n"}),Object(r.constant)(""),Object(r.constant)("\n"))(t),o=a.length?a[a.length-1].end:0;return{text:n+i,ranges:Object(dt.__spreadArray)(Object(dt.__spreadArray)([],a,!0),[{start:o,end:o+i.length}],!1)}}),{text:"",ranges:[]})},a=function(t,n,a){if("deltas"in t){var r=t.deltas.map((function(t){return e.replaceInDeltaWithAttributes(t,n,a)}));return Object(dt.__assign)(Object(dt.__assign)({},t),{deltas:r,deltasString:JSON.stringify(r)})}return t},i=function(t,n,a){return Bn.a.delta(new ra.a(e.replaceInDeltaWithAttributes(t.delta,n,a).ops),t.prevLen)},o=function(t,n){return Bn.a.delta(new ra.a(e.replaceInDelta(t.delta,n).ops),t.prevLen)},s=function(t,n){return Bn.a.unsafeRes(new ra.a(e.replaceInDelta(t.delta,n).ops))},l=function(e,t){var n=Object(dt.__assign)(Object(dt.__assign)({},e),{replacements:e.replacements.map(t)});return void 0!==e.text&&(n.text=t(e.text)),void 0!==e.highlightText&&(n.highlightText=t(e.highlightText)),void 0!==e.transforms&&(n.transforms=e.transforms.map(t)),e.transformJson&&(n.transformJson=p(e.transformJson,t)),e.subalerts&&(n.subalerts=e.subalerts.map((function(e){return Object(dt.__assign)(Object(dt.__assign)({},e),{highlightText:t(e.highlightText),transformJson:p(e.transformJson,t)})}))),n},c=function(e,t){return e.transformJson?Object(dt.__assign)(Object(dt.__assign)({},e),{transformJson:p(e.transformJson,t)}):e},u=function(t,n){return Object(dt.__assign)(Object(dt.__assign)({},t),{sdui:e.replaceInSdui(t.sdui,n)})},d=function(t,n){return Object(dt.__assign)(Object(dt.__assign)({},t),{sdui:e.replaceInSdui(t.sdui,n)})},p=function(t,n){return t.alternatives?Object(dt.__assign)(Object(dt.__assign)({},t),{alternatives:t.alternatives.map((function(t){return e.replaceInDelta(t,n)}))}):t},m=function(e,t){return Object(r.pipe)(Sn.a.map(e,(function(e){return h(e,t)})),ta.getOrElse(Object(r.constant)(e)))},h=function(e,t){switch(e.type){case"text":return Object(dt.__assign)(Object(dt.__assign)({},e),{text:t(e.text)});default:return e}}}(ua||(ua={}));var ma=function(e,t){var n=this;this._innerWSHandler=e,this._dlpDataSanitizer=t,this.onConnecting=function(e){return n._innerWSHandler.onConnecting(e),n},this.onConnect=function(e){return n._innerWSHandler.onConnect(e),n},this.onDisconnect=function(e){return n._innerWSHandler.onDisconnect((function(t){return n._dlpDataSanitizer.clear(),e(t)})),n},this.onMessage=function(e){return n._innerWSHandler.onMessage((function(t,a){e(t,n._dlpDataSanitizer.unsanitizeMessage(a))})),n},this.connect=function(e){return n._innerWSHandler.connect(e)},this.isDisconnected=function(){return n._innerWSHandler.isDisconnected()}},ha=function(e,t){var n=this;void 0===e&&(e=da),this.sanitizeWS=function(e,t){return e.writer((function(e){return t(n._dlpDataSanitizer.sanitizeMessage(e))}))},this.sanitizeStaticWS=function(e,t){return e.writer((function(e){return t(n._dlpDataSanitizer.sanitizeStaticMessage(e))}))},this.sanitizeWSHandler=function(e){return new ma(e,n._dlpDataSanitizer)},this._dlpDataSanitizer=new pa(e,t)},ga=n("F40h"),fa=n("zgnf"),ba=n("51Eb"),ya=n("CrFT"),va=n("a5W6"),Sa=n("MMoU"),Ca=n("GUi3");class wa{constructor(e,t,n,a,i,o,l,c,u,d){this._documentId=e,this._checkingDomain=n,this._mutedCategoriesModel=a,this._context=o,this._isFree=l,this._alertCache=c,this._scoresCache=u,this._mutedCategoriesCache=d,this._log=y.Monitoring.Logging.getLogger("CacheManager"),this.saveScores=e=>this._scoresCache.save(this._documentId,this._context.get(),this._isFree,e),this._saveMutedCategories=e=>{this._mutedCategoriesCache.save("mutedCategoriesDocumentId","mutedCategoriesContextId",this._isFree,Array.from(e.values()))},this._subs=[t.view(e=>"idle"===e).pipe(g.a.switchMap((e,t)=>e?g.a.mergeStatic(g.a.of("update"),i.pipe(g.a.skip(1),g.a.mapTo("update"),g.a.auditTime(1500))):0===t?g.a.EMPTY:g.a.of("clear"))).subscribe(e=>{switch(e){case"clear":return this._alertCache.remove(this._documentId);case"update":return this.saveAlerts(this._getCacheableAlerts());default:return Object(at.c)(e)}}),this._checkingDomain.lensesScores.pipe(g.a.auditTime(3e3),g.a.map(Object(r.flow)(Sa.toArray(Ca.a.Id.ord),va.filterMap(Object(r.flow)(s.g.fromPredicate(([e])=>e!==Ca.a.SpecialId.Plagiarism),s.g.map(([e,t])=>({lensId:e,score:t}))))))).subscribe(this.saveScores),this._mutedCategoriesModel.events.pipe(g.a.filter(Kn.a.CategoriesModel.Events.isChangedEvent),g.a.tap(()=>{this._saveMutedCategories(this._mutedCategoriesModel.mutedCategories.get())})).subscribe()]}getCorrectAlerts(e,t){return Object(Z.pipe)(this._alertCache.load(this._documentId,this._context.get(),this._isFree),s.g.fromNullable,s.g.tap(e=>this._log.isEnabled(y.Logging.LogLevel.TRACE)&&this._log.trace("loaded alerts from cache: ",e)),s.g.map(t=>t.filter(t=>Ln.a.isHighlightValid(t,e))),s.g.map(e=>[e,e.map(ka(t))]),s.g.tap(([e,t])=>{this._logChangedOfMutedState(e,t),this._logDuplicates(e,"save")}),s.g.map(xn.d))}getScores(){return Object(Z.pipe)(s.g.fromNullable(this._scoresCache.load(this._documentId,this._context.get(),this._isFree)),s.g.filter(va.isNonEmpty),s.g.map(e=>new Map(e.map(({lensId:e,score:t})=>[e,t]))))}getMutedCategories(){const e=this._mutedCategoriesCache.load("mutedCategoriesDocumentId","mutedCategoriesContextId",this._isFree);return Object(Z.pipe)(s.g.fromNullable(e),s.g.map(e=>new Map(e.map(e=>[e.id,e]))))}saveAlerts(e){this._logDuplicates(e,"save"),this._alertCache.save(this._documentId,this._context.get(),this._isFree,e)}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_logDuplicates(e,t){const n=new Map,a=e.reduce((e,t)=>{if(!Rt.B.hasPosition(t))return e;const a=(e=>`${e.pname}_${e.begin}_${e.end}`)(t);if(n.has(a)){const r=n.get(a);e.push({existing:{begin:r.begin,end:r.end,pname:r.pname},duplicate:{begin:t.begin,end:t.end,pname:t.pname}})}return n.set(a,t),e},[]);a.length&&this._log.info("Found duplicates in cache on "+t,a)}_logChangedOfMutedState(e,t){const n=[];e.length!==t.length&&y.Monitoring.Logging.getLogger("CacheManager").warn("Cannot calculate change of mute state"),e.forEach((e,a)=>{const r=t[a];r.muted!==e.muted&&n.push({range:Rt.B.hasPosition(e)?{begin:e.begin,end:e.end,pname:e.pname}:{pname:e.pname},was:e.muted,now:r.muted})}),n.length&&y.Monitoring.Logging.getLogger("CacheManager").info("Muted state was changed on load from cache",n)}_getCacheableAlerts(){return Object(Z.pipe)(this._checkingDomain.state.get(),Ht.a.reduce([],(e,t)=>(Ft.a.isCacheable(t.alert)&&e.push(t.alert.toLocalRawAlert()),e)))}}const ka=e=>t=>Object(Z.pipe)(s.g.fromNullable(t.cardLayout.userMuteCategory),s.g.alt(()=>Object(Z.pipe)(Array.from(e.keys()),va.filter(Kn.a.Category.isSpecial),va.findFirst(Rt.B.belongsToSpecialCategory(t)))),s.g.fold(()=>t,n=>{const{muted:a}=t,r=Object(dt.__rest)(t,["muted"]);return e.has(n)?Object.assign(Object.assign({},r),{muted:Bt.a.MutedAlerts.MutedByType.MUTED_BY_USER}):Object.assign(Object.assign({},r),{muted:void 0===a?void 0:Bt.a.MutedAlerts.MutedByType.NOT_MUTED})}));function Ea(e,t){const n=function(e){const t=t=>{e.next(t)};return{onSessionStarted:t,onWaitForOT:t,onReady:t,onSessionInbound:t,beforeAlert:t,onAlert:t,onRemove:t,onChange:t,onSynonyms:t,onPlagiarism:t,onTextInfo:t,onEmotions:t,onBeforeAsyncCheckFinish:t,onAsyncCheckFinish:t,onError:t,onBeforeFinish:t,onFinish:t,onConnect:t,onDisconnect:t,onQueueMsgDropped:t,onAck:t,onPong:t,onMessageReceived:t,onMessageSent:t,onAutoComplete:t,onAttentionHeatmap:t,onAttentionInfo:t,onProofitAvailability:t,onProofitCancelled:t,onProofitCompleted:t,onProofitProgress:t,onProofitProgressProblem:t,onProofitSubmit:t,onShortenItFinished:t,onSDUI:t,onGbRuleCreated:t,onReconnectInfo:t,onCheetahSetContext:t,onCheetahChunk:t,onCheetahResult:t,onCheetahSearchReferencesResult:t,onCheetahError:t,onCheetahUpdateState:t,onShowSurvey:t}}(e),a=new g.a.Subject;return a.pipe(g.a.debounceTime(1e3),g.a.distinctUntilChanged()).subscribe(e=>t.setState({type:"wsCapi",state:{type:e}})),Object.assign(Object.assign({},n),{onFinish:e=>{a.next("online"),n.onFinish&&n.onFinish(e)},onDisconnect:e=>{e.reason.code===l.a.WsCodes.UNAUTHORIZED?a.next("unauthorized"):(e.reconnectCounter>1||s.b.isLeft(e.reconnectResult))&&a.next("offline"),n.onDisconnect&&n.onDisconnect(e)}})}var Oa=n("AW4s");var Aa,_a=n("4e/B"),xa=n("+JVj");(Aa||(Aa={})).create=e=>{const t=new g.a.Subject;function n(e){t.next(Bn.a.flush()),t.next(e)}return{changes:t,insertLink:function(t,a){return s.b.tryCatchError(()=>{n(Bn.a.delta((new ra.a).retain(t.start).retain(xa.b.size(t),{[x.e.Type.link]:a}),e.getTextLength()))})},insertLinkWithCaption:function(t,a,r){return Object(Z.pipe)(s.b.tryCatchError(()=>{n(Bn.a.delta((new ra.a).retain(t).insert(r,{[x.e.Type.link]:a}),e.getTextLength()))}))},removeLink:function(t){return s.b.tryCatchError(()=>{n(Bn.a.delta((new ra.a).retain(t.start).retain(xa.b.size(t),{[x.e.Type.link]:null}),e.getTextLength()))})},pushChanges:t.next.bind(t)}};var Ia=n("CFZe");const ja={supportedComponents:{text:!0,clickableText:!0,button:!0,alternativeChoice:!0,count:!0,icon:!0,block:!0,box:!0,row:!0,column:!0,slider:!0,alternativeSlider:!0,transition:!0,openSettings:!1,openToneDetector:!1,openFeedback:!1,openLearnMore:!1,notify:!0,closeCard:!0,nextCard:!0,prevCard:!0,selectAlternative:!0,upgradeToPremium:!0,strongAlertRef:!0,openLink:!0,scroll:!0,list:!0,image:!0,assistantFeed:!0,assistantCard:!0,gButton:!0,"gButton:default":!1,"gButton:tone":!1,"gButton:proofit":!1,"gButton:get-started":!1,nativePerformanceScoreButton:!1,stopApplyingAlerts:!1,alertsCount:!0,applyAlerts:!0,removeAlerts:!0,removeRoot:!0,nativeToneInsightsModal:!1,nativeLearnMoreModal:!1,nativeSettingsModal:!1,nativeFeedbackModal:!1,viewStack:!0,switchView:!0,dropDownMenuButton:!0,radioButtonsGroup:!0,proofitButton:!1,nativeProofitModal:!1,nativeKeyTakeawaysAssistantCard:!1,nativeExperimentalGBConsistencyUpsellFooter:!1,nativeExperimentalGBToneInsightsUpsellFooter:!1,nativeSkillsModal:!1,openCreateSnippetModal:!1,showHighlights:!1,hideHighlights:!1,pushAssistantFeed:!0,popAssistantFeed:!0,focusAssistantCard:!0,lensesSwitchPanel:!0,newRevision:!1,longFormCard:!0,collapsedCard:!0,inlineCard:!1,nativeSkillsList:!1,nativeSkillsView:!1,nativeGetStartedChecklistModal:!1,nativeInlineCardContent:!1,nativeOpenAssistant:!1,"behavior:strongAlertRef":!0,"behavior:animation:fadeIn":!0,"behavior:animation:fadeOut":!0,"behavior:popoverAnchor":!1,"behavior:lifecycle":!0,progressBar:!0,highlightAlert:!0,horizontalRule:!0,copyToClipboard:!1,popoverStack:!1,closePopover:!1,interactPopover:!1,openGrammarlyGo:!1,tooltip:!0},dslParser:Sn.a.dslRootParser,dslSchemaVersion:vn.c.version};var Ta=n("Lmm7");class Ma{constructor(e,t,n,a,r,i,l,c,u,d,p,m,h,g,f,b,v,S,C,w,k,E,O,A,_){this.obsCapiClient=e,this._remoteDocument=t,this.sessionModel=n,this.positionManager=a,this.alternativeManager=r,this.checkingDomain=i,this.alertsService=l,this.alertsReader=c,this.synonymsModel=u,this.plagiarismModel=d,this.formattingModel=p,this.emotionsModel=m,this.sduiService=h,this.mutedAlertsModel=g,this.mutingAlertsReader=f,this.hasAlertsCache=b,this._sduiFactory=v,this._sduiFeedFactory=S,this.rangeChanged=C,this._onShutdown=w,this._capiConnection=k,this._doxConnection=E,this._capiWatcher=O,this._doxSyncManager=A,this._capiConManager=_,this.sduiFeedManager=s.g.none,this.sduiManager=s.g.none,this.resetSDUI=(e,t)=>()=>{y.Monitoring.Logging.getLogger("StEngine").debug("resetting SDUI managers, reason: "+t),Object(Z.pipe)(s.g.sequenceT(this.sduiFeedManager,this.sduiManager),s.g.tapLeft(()=>{const e=this._sduiFactory();this.sduiManager=Object(Z.pipe)(e,s.g.map(e=>o.a.create(e))),Object(Z.pipe)(this._sduiFeedFactory(e),s.g.tap(e=>{this.sduiFeedManager=s.g.some(o.a.create(e))}))}),s.g.tap(([t,n])=>{t.get().dispose(),"full"===e&&(n.get().dispose(),Object(Z.pipe)(this._sduiFactory(),s.g.map(e=>n.set(e)))),Object(Z.pipe)(this._sduiFeedFactory(Object(Z.pipe)(this.sduiManager,s.g.map(e=>e.get()))),s.g.tap(e=>{t.set(e)}))}))},this.resetSDUI("full","engine init")()}static create(e,t,n,a,i,o,l,c,u,d,p,m,h){const f=new Vt.a.Keeper;o.setState({type:"wsDox",state:{type:"online"}});const b=u.features.denali.supportUkraineCardAppearanceLimit,v="Style/Sensitivity/SupportUkraine/WarLanguage",S=e=>"alert_received"===e.kind&&e.alert.pname===v||"message_received"===e.kind&&"alert"===e.message.action&&e.message.pname===v,w=new g.a.Subject,k=w.pipe(g.a.withLatestFrom(u.settings.supportUkraineCardAppearanceCount),g.a.filter(([e,t])=>!S(e)||t<b),g.a.map(xn.b),g.a.tap(e=>{"alert_received"===e.kind&&S(e)&&u.settings.supportUkraineCardSeen()}),g.a.share());f.push(w.pipe(g.a.filter(e=>"session_inbound"===e.kind),g.a.take(1)).subscribe(()=>Object(ga.a)("capiSessionInbound")));const E=Object(Z.pipe)(u.settings.dialect.get(),s.g.getOrElse(()=>"undefined")),O=te.DocumentFeatures.getFormattingMode(e.meta.originalFilename,e.meta.createdAt,u.features.denali),A=new Tn.a(Bt.a.MAX_SAFE_ID,0,!1),_=new Bt.a.AccessTokenWSHandler(u.features.denali.dlp?(()=>{const e=new ha(s.g.toUndefined(fa.b.getDLPConfig(u)),[In.a.Message]);return e.sanitizeWSHandler(new Bt.a.LatencyMeasuringWSHandler(e.sanitizeWS(Mn.b.create(h),Bt.a.optimizedOTSerializer),A,10))})():new Bt.a.LatencyMeasuringWSHandler(Mn.b.create(h).writer(Bt.a.optimizedOTSerializer),A,10),m),x=u.features.denali.sdui?{sduiConfig:ja,sduiProtocolVersion:Bt.a.SduiProtocolVersion.v2,shouldSendFeedback:e=>!0!==Zn.disabledFeedbacks.some(t=>t===e.kind)}:{shouldSendFeedback:r.constTrue},I=new Bt.a.CAPIConnection(Object.assign({client:d.names.capi,clientVersion:d.buildVersion.toString(),context:Object(Z.pipe)(e.meta.settings.context,s.g.getOrElse(()=>Nn.a.unset)),handler:Ea(w,o),docid:c,dialect:E,clientSupports:(()=>{const e=[jn.a.textInfo,jn.a.freeAdvancedChecks,jn.a.readability,jn.a.sentenceVariety,jn.a.fillerWords,jn.a.alertsUpdate,jn.a.alertsChanges,jn.a.freeClarityChecks,jn.a.superAlerts,jn.a.consistency,jn.a.setGoalsLink,jn.a.voxCheck,jn.a.toneCards,jn.a.plagiarismAlertsUpdate,jn.a.alternativeDeletesCard,jn.a.fullSentenceRewrite,jn.a.listCard,jn.a.muteQuotedAlerts,jn.a.userMutes,jn.a.supportsButtonTransformCards,jn.a.gapTransformCard,jn.a.enclosingHighlight,jn.a.drilldownCard,jn.a.ideasGalleryLink,jn.a.freeOccasionalPremiumAlerts,jn.a.ethicalAI,jn.a.citations,jn.a.citation_detection_card,jn.a.citation_gap,jn.a.toneAI];return u.features.denali.toneDetector&&e.push(jn.a.emogenieCheck),O===te.DocumentFeatures.FormattingMode.on&&e.push(jn.a.supportsFormatting),u.features.denali.cheetah&&e.push(jn.a.cheetah),e})(),isDemoDoc:e.meta.isDemoDocument,idGenerator:A},x),e=>e.connect(n.api.capiWsUrl),_),j=new Fn(k,I.client,l,I),M=new Wn(k,j);Object(T.r)("capi",I.client);const N=Ma._getDocumentModel(c,e,l,M.requestDocStats,i,u.features,O),P=new Mt(N,e,t,p.outgoingChanges),L=N.context.view(e=>(Boolean(e.domain)?e.domain:"_default_")+"."+E),R=new ba.a(e=>e.filter(e=>Rt.B.isRawAlert(e)),e=>e,"DN-"+n.alertCache.prefix,n.alertCache.version,Jn.c.DenaliStorage.fromLocalStorage(Jn.c.ls),12096e5),B=new ba.a(e=>e,e=>e,n.outcomeScoreCache.prefix,n.outcomeScoreCache.version,Jn.c.DenaliStorage.fromLocalStorage(Jn.c.ls),12096e5),F=new ba.a(r.identity,r.identity,n.mutedCategoriesCache.prefix,n.mutedCategoriesCache.version,Jn.c.DenaliStorage.fromLocalStorage(Jn.c.ls),12096e5),D=L.get(),H=u.features.isFree.get(),V=R.hasCache(c,D,H)&&B.hasCache(c,D,H),U=new Hn(M,k,N,V,e.initialDelta.length),W=new Dn(k,(()=>{const e=new Set;return"off"!==u.features.denali.recordCapiMessages&&e.add("captureCapiMessages"),e})()),q=new Vn.b(U,k,N,u.settings,a),z=u.features.denali.useTransformJson?Ln.a.Transform.identity:Ln.a.Transform.forcePositionOverTransformJson;let $=s.g.none;const G=()=>Object(Z.pipe)($,s.g.fold(()=>e.initialDelta.delta,e=>e())),{alertManager:K,alertsService:Y,alertsReader:X,alertsRepository:Q,positionManager:J,altManager:ee}=Object(Rn.a)(G,z,q,k,N.counters);Object(T.r)("alertManager",K);const ne=new Ta.b(J,G,q,l),ae=Object(Z.pipe)(s.g.fromNullable(N.rtfMode===C.d.DocumentFeatures.FormattingMode.on),s.g.filter(Boolean),s.g.map(()=>Aa.create(l))),re=new Ia.b(N,k,q),ie=u.features.denali.toneDetector?s.g.some(_a.b.create(k,q,y.Monitoring.Logging.getLogger("EmotionsModel"))):s.g.none,oe=Gn.UserTextChangesSync.create(l),se=Object(Z.pipe)(ae,s.g.fold(()=>[K,ne],e=>[K,ne,e]));f.push(Gn.init(oe,k,qn.ignoreTEResult(q),qn.ignoreResult(qn.pushDeleteThenInsert(J)),ee,$n.merge(se)).subscribe(Ma._getChangesDispatcherFailHandler()));const le=Kn.a.CategoriesModel.create(k,q,K.state,Y,u.features.demoMode?Bt.a.MutedAlerts.ScopeType.DOCUMENT:Bt.a.MutedAlerts.ScopeType.GLOBAL),ce=Object(Z.pipe)(u.features.denali.mutedAlerts,s.g.fromPredicate(r.identity),s.g.map(()=>Yn.a.create(X))),ue=new wa(c,N.checkingState,K,le,N.counters.view("unread"),L,H,R,B,F),de=y.Monitoring.Logging.getLogger("StEngine");try{Object(Z.pipe)(ue.getMutedCategories(),s.g.tap(e=>{de.debug("Loading muted alerts categories from cache..."),le.loadCachedMutedCategories(e)})),Object(Z.pipe)(ue.getCorrectAlerts(s.b.unsafeGet(e.initialDelta.text),le.mutedCategories.get()),s.g.tap(e=>{de.debug("Loading alerts from cache..."),K.loadAlerts(e),de.debug(e.length+" cached alert(s) where loaded"),K.flushAlerts(),Object(Z.pipe)(ue.getScores(),s.g.tap(e=>K.loadScores(e)))}))}catch(e){de.warn("Cannot read alerts OR muted categories cache",e)}$=s.g.some(()=>l.getContents().delta);let pe=s.g.none,me=Object(r.constant)(s.g.none),he=Object(r.constant)(s.g.none);u.features.denali.sdui&&(pe=s.g.some(new Lt(q)),me=()=>{const e=new en(K.state,w,Q.getByRawAlertId.bind(Q));return Object(T.r)("sduiManager",e),s.g.some(e)},he=e=>Object(Z.pipe)(e,s.g.map(e=>{const t=new An(e.state);return Object(T.r)("sduiFeedManager",t),t})));const ge=new g.a.Subject,fe=new Ma(q,e.remoteDocument,N,J,ee,K,Y,X,ne,re,ae,ie,pe,le,ce,V,me,he,ge,()=>f.dispose(),I,e.remoteConnection,W,P,j);return f.push(w.pipe(g.a.filter(Bt.a.CAPIEvent.is("connect")),g.a.skip(1),g.a.tap(fe.resetSDUI("full","CAPI reconnect"))).subscribe()),Object(T.r)("engine",fe),Object(T.r)("text",()=>{U.getText().then(e=>{const t=l.getText();t!==e?console.log("Text DIFF",{capiText:e,capiLen:e.length,dedText:t,dedTextLen:t.length}):console.log("Texts are the same, len: "+t.length)}).catch(e=>{throw e})}),fe}shutdown(){return Object(dt.__awaiter)(this,void 0,void 0,(function*(){y.Monitoring.Logging.getLogger("StEngine").debug("shutdown"),this._onShutdown(),yield this._capiConnection.close(void 0,"StEngine shutdown"),yield this._doxConnection.close(void 0,"StEngine shutdown"),this._doxSyncManager&&this._doxSyncManager.dispose(),null!=this._capiConManager&&this._capiConManager.dispose(),this.plagiarismModel.dispose(),this.checkingDomain.dispose(),this._capiWatcher.dispose(),this.sessionModel.dispose(),Object(Z.pipe)(this.sduiManager,s.g.map(e=>e.get().dispose())),Object(Z.pipe)(this.sduiFeedManager,s.g.map(e=>e.get().dispose())),Object(Z.pipe)(this.emotionsModel,s.g.map(e=>e.dispose()))}))}static _getDocumentModel(e,t,n,a,r,i,o){return new Oa.b(e,t,n,a,r,i.enableTrackingOnDownload.get(),o,e=>Object(Z.pipe)(i.proofitTest,s.g.fold(()=>new ya.b(t.remoteDocument,e),e=>new ya.a.Mock(e,i.proofitLastJob))))}static _getChangesDispatcherFailHandler(){const e=y.Monitoring.Logging.getLogger("ChangesDispatcher");return t=>{"UnsubscriptionError"===t.exception.name?e.warn("shutdown error",t):t.details.to===Gn.Receiver.CAPI&&jt.b.isNotConnectedError(t.exception)?e.warn("tried to send change to not connected CAPI",t):t.details.to===Gn.Receiver.CAPI&&Boolean(jt.c.isNotReadyError(t.exception))?e.warn("tried to send delta change to CAPI that expected a reset",t):t.details.to===Gn.Receiver.CAPI?e.warn("failed pushing changes to CAPI",t):e.error("can not dispatch changes",t.exception,t.details)}}}Ma.getDoxInit=(e,t,n,a)=>{const r=Pn.a.Queue.create({acceptedMsgHandler:e=>a.acceptedMessage.next(e),droppedMsgsHandler:e=>a.droppedMessages.next(e)});return t.openDocumentById(e,function(e,t){const n=y.Monitoring.Logging.getLogger("DoxConnectivity");return{changeHandler:(t,n)=>e.dox.next({kind:"change",doc:t,change:n}),connectHandler:()=>{n.debug("WS DOX connectivity online"),t.setState({type:"wsDox",state:{type:"online"}})},disconnectHandler:(e,a,r)=>Object(dt.__awaiter)(this,void 0,void 0,(function*(){n.debug("Disconnected from dox",{reason:e,reconnectStatus:a,reconnectResult:r});const i=e=>{s.b.isLeft(r)?n.debug("WS DOX connectivity error: "+e):n.debug("WS DOX connectivity error, reconnecting: "+e),t.setState({type:"wsDox",state:{type:e}})};switch(e.code){case l.a.WsCodes.NOT_FOUND:i("documentNotFoundError");break;case l.a.WsCodes.UNAUTHORIZED:i("unauthorized");break;case l.a.WsCodes.BLOCKED_BY_CLIENT:i("blockedByClient");break;case l.a.WsCodes.CLIENT_MALFUNCTION:case l.a.WsCodes.PRECONDITION_FAILED:i("unknownConnectionError");break;default:a.iterNumber>=2?[0,l.a.WsCodes.UNKNOWN_WS_ERROR,l.a.WsCodes.CLOSED_ABNORMALLY].indexOf(e.code)>=0?i("unknownConnectionError"):i("serverError"):s.b.isLeft(r)&&i("serverError")}})),metadataChangeHandler:(t,n)=>e.dox.next({kind:"metadata_change",doc:t,documentMetadata:n})}}(a,n),r,5e3)};var Na=n("F8cT"),Pa=n("DMXH"),La=n("/NN6"),Ra=n("zI3C"),Ba=n("eihE"),Fa=n("SfpF"),Da=n("D6Vf"),Ha=n("b+sJ"),Va=n("rmLU");var Ua=n("NaPV"),Wa=n("D8Xd"),qa=n("CvSs"),za=n("umZW"),$a=n("+ukg"),Ga=n("Hw2j"),Ka=n("u4+s"),Ya=n("wt7H"),Za=n("DLWy");class Xa{constructor(e,t,n,a,r,i,o,s,l,c,u){this._modalManager=e,this._userAccount=t,this._documentModel=n,this._loaderViewModel=a,this._documentLoaderState=r,this._appRouter=i,this._notificationsManager=o,this._config=s,this._telemetry=l,this._environment=c,this._cheetahUsedDuringSession=u,this._showGBBillingMigrationNotification=({expiryDate:e})=>this._notificationsManager.enqueue("gbBillingMigration",{expiryDate:e}).pipe(g.a.takeWhile(Object(T.m)(e=>Wa.a.isCloseAction(e)||"cta"===e),!0),g.a.switchMap(e=>this._handleGBBillingMigrationNotificationAction(e)))}init(){const e=this._documentLoaderState.view("text").pipe(g.a.filter(s.g.isNone),g.a.first(),g.a.filter(()=>Object(Z.pipe)(this._appRouter.locationState,s.g.exists(e=>{var t;return!(null===(t=e.showDocumentUploadedNotification)||void 0===t||!t)}))),g.a.switchMap(()=>this._showUploadNotification(this._documentModel.rtfMode))),t=this._userAccount.features.denali.gbBillingMigrationNotification.pipe(g.b.compactMap(this._showGBBillingMigrationNotification)),n=this._userAccount.settings.dunningSettings.pipe(g.a.combineLatest(this._userAccount.settings.dunningStatus,this._userAccount.subscription.state.pipe(g.a.filter(qa.a.isOk))),g.a.first(),g.a.filter(([e,t,n])=>this._shouldShowDunningModal(e,t,n.value)),g.a.switchMap(()=>this._showDunningModal()));return this._loadModal().pipe(g.a.tap(()=>this._loaderViewModel.init()),g.a.switchMap(s.g.fold(()=>g.a.EMPTY,e=>this._modalManager.showPreloaded(e))),g.a.merge(g.a.concatStatic(e,this._showChangePlanNotification()),this._showPremiumUngatingRenewalNotification(),t,this._showSafariExtActivationNotification(),n))}_loadModal(){return this._shouldShowTour()?this._modalManager.preload(Ya.a.tour).pipe(g.a.map(s.g.some)):this._shouldShowWhatsNew()?this._modalManager.preload(Ya.a.news).pipe(g.a.map(s.g.some)):this._shouldShowSetGoals()?this._modalManager.preload(Ua.c.setGoals("setGoalsLoader")).pipe(g.a.map(s.g.some),g.a.tap(()=>this._loaderViewModel.init()),g.a.switchMap(e=>this._loaderViewModel.loaderState.pipe(g.a.first(Object(T.p)(s.g.contains(Za.a.Checking),s.g.contains(Za.a.CheckingIn))),g.a.mapTo(e))),g.a.delay(50),g.a.map(e=>this._cheetahUsedDuringSession.get()?s.g.none:e)):g.a.of(s.g.none)}_shouldShowTour(){return s.g.isSome(this._userAccount.features.denali.tour)}_shouldShowWhatsNew(){return this._userAccount.features.denali.showcaseNewFeaturesOnStartup}_shouldShowSetGoals(){const e=this._userAccount.features.denali.removeWelcomeTour&&this._documentModel.isDemoDocument;return this._documentModel.isInitialRevision&&this._userAccount.settings.enableSetGoalsLoader.get()&&!e}_shouldShowDunningModal(e,t,n){const a=Object(Z.pipe)(t,s.g.map(e=>"IN_PROGRESS"===e),s.g.getOrElse(()=>Boolean(n.isDunning)));return $a.g.isPremium(this._userAccount.features.denaliUserType)&&Object(Ga.a)(e)&&!this._shouldShowTour()&&a}_showDunningModal(){return this._telemetry.gnarSpec.inProductDunningNotificationShow(this._telemetry.pageId),this._modalManager.show(Ya.a.dunning)}_showUploadNotification(e){const t=e===te.DocumentFeatures.FormattingMode.compatibility?"denaliFormattingCompatibility":"denaliDocumentUploaded";return this._notificationsManager.enqueue(t).pipe(g.a.filter(e=>"navigateToDocuments"===e),g.a.tap(()=>this._appRouter.navigate(v.a.routes.documents.href())))}_handleGBBillingMigrationNotificationAction(e){switch(e){case"shown":return this._telemetry.gnarSpec.gbBillingMigrationNotificationShow(this._telemetry.pageId);case"closedByUser":return this._telemetry.gnarSpec.gbBillingMigrationCloseButtonClick(this._telemetry.pageId),this._userAccount.settings.dismissGBBillingMigrationNotification();case"cta":return this._telemetry.gnarSpec.gbBillingMigrationUpdateBillingButtonClick(this._telemetry.pageId),this._environment.actions.openPopup(new za.a(this._config.account.adminSubscription,new URLSearchParams({popup:"add_billing_info"}))),Promise.resolve();default:return Object(at.c)(e)}}_showChangePlanNotification(){return this._userAccount.features.denali.changePlanHook.pipe(g.b.compactMap(()=>this._userAccount.subscription.state),g.a.filter(qa.a.isOk),g.a.first(),g.a.map(({value:e})=>Ka.a.create(e,this._userAccount.subscription)),g.a.switchMap(s.b.fold(e=>(y.Monitoring.Logging.getLogger("change.plan.hook").warn(e),g.a.EMPTY),e=>e.shouldShowOffer?this._notificationsManager.enqueue("changePlanCta",{model:e}).pipe(g.a.takeWhile(Object(T.m)(e=>Wa.a.isCloseAction(e)||"changePlan"===e),!0),g.a.switchMap(t=>this._handleChangePlanNotificationAction(t,e))):g.a.EMPTY)))}_handleChangePlanNotificationAction(e,t){switch(e){case"shown":return this._telemetry.gnarSpec.changePlanNotificationShow(t.daysToRenewal,t.currentPlanType,this._telemetry.pageId),this._userAccount.settings.changePlanHookSeen();case"closedByUser":return this._telemetry.gnarSpec.changePlanNotificationCloseButtonClick(t.daysToRenewal,t.currentPlanType,this._telemetry.pageId),this._userAccount.settings.dismissChangePlanHook();case"changePlan":return this._telemetry.gnarSpec.changePlanNotificationSwitchPlanButtonClick(t.daysToRenewal,t.currentPlanType,this._telemetry.pageId),this._modalManager.show(Ya.a.changePlan(t)).pipe(g.a.filter(e=>"closed"===e),g.a.first(),g.a.switchMap(()=>this._userAccount.settings.dismissChangePlanHook())).toPromise().catch(e=>y.Monitoring.Logging.getLogger("change.plan.modal").error(e));default:return Promise.resolve()}}_showSafariExtActivationNotification(){return this._userAccount.features.denali.safariExtActivationWeb||this._userAccount.features.denali.safariExtActivationNative?this._notificationsManager.enqueue("safariExtActivation",{}).pipe(g.a.tap(e=>{switch(e){case"shown":return this._telemetry.gnarSpec.safariExtensionActivationNotificationShow(this._telemetry.pageId),void this._userAccount.settings.markSafariExtNotificationSeen();case"activate":return this._telemetry.gnarSpec.safariExtensionActivationCtaButtonClick(this._telemetry.pageId),void this._environment.actions.openUrl(new za.a("grammarly.extension://enable"));case"closedByUser":return void this._telemetry.gnarSpec.safariExtensionActivationCloseButtonClick(this._telemetry.pageId);case"timeout":case"closedByMaxNotificationOnScreen":case"closedByNotificationWithMorePriority":return;default:Object(at.c)(e)}})):g.a.EMPTY}_showPremiumUngatingRenewalNotification(){return this._userAccount.features.denali.premiumUngatingRenewalNotification.pipe(g.b.compactMap(e=>(this._telemetry.gnarSpec.premiumUngatingRenewalNotificationShow(this._telemetry.pageId),this._userAccount.settings.ungatedRenewalNotificationSeen(),this._notificationsManager.enqueue("premiumUngatingRenewal",{trialEndDate:e}).pipe(g.a.first(e=>Wa.a.isCloseAction(e)?(this._telemetry.gnarSpec.premiumUngatingRenewalDismissButtonClick(this._telemetry.pageId),this._userAccount.settings.ungatedRenewalNotificationDismissed(),!0):"ctaManageSubscription"===e&&(this._telemetry.gnarSpec.premiumUngatingRenewalCtaButtonClick(this._telemetry.pageId),this._userAccount.settings.ungatedRenewalNotificationDismissed(),this._environment.actions.openPopup(new za.a(this._config.account.adminSubscription)),!0))))))}}var Qa=n("BwCH");function Ja(e,t){const n=t.has(W.b.Flag.useSetDataOnCopy);return(t,a)=>g.a.from(Qa.a.copy(t,n)).pipe(g.a.switchMap(()=>e.enqueue("copySuccess",{copyType:a})),g.a.catchError(t=>(Qa.a.copyApiAvailable.next(!1),y.Monitoring.Logging.getLogger("clipboard").warn("Copy to clipboard failed",t),e.enqueue("copyToClipboardFailed")))).toPromise()}var er=n("p7hf"),tr=n("ps/9");const nr=m.a.keyframes({from:{transform:"scale(0)"},to:{transform:"scale(6)"}}),ar={margin:`${m.a.rem(1.7)} 0 ${m.a.rem(1.15)}`,$nest:{"@media print":{marginTop:0}}},rr=Object.assign(Object.assign({},Object(fe.b)()),{padding:m.a.rem(0),width:m.a.percent(95),outline:"none",border:"none",background:"transparent",lineHeight:"normal",$nest:{"@media print":{display:"none"},"&::placeholder":{color:ce.i}}}),ir={position:"relative",zIndex:tr.i,paddingTop:m.a.rem(4)},or={color:ce.i},sr={display:"block",minHeight:m.a.px(100)},lr={position:"absolute",top:0,left:0,zIndex:tr.o,overflow:"hidden",width:m.a.percent(100),height:m.a.percent(100),background:ge.a.CoreNeutral0},cr={position:"absolute",top:m.a.percent(32),left:m.a.percent(38),margin:"0 auto",width:m.a.px(300),height:m.a.px(300),border:"20px solid "+ge.a.CoreNeutral1,borderRadius:m.a.percent(50),pointerEvents:"none"},ur={animation:nr+" 4s infinite linear"},dr={animation:nr+" 3s infinite linear"},pr={animation:nr+" 2s infinite linear"},mr=m.a.stylesheet({textWrapper:[ir],text:[or],titleWrap:[or,ar],title:[or,rr],content:[or,sr],animation:[lr],circle:[cr],one:[cr,ur],two:[cr,dr],three:[cr,pr]}),hr=e=>{const t=a.useContext(X.a.Context);return a.createElement(er.b,{documentUpload:e.documentUpload,multiple:!1,canDrop:()=>!0,render:(n,r)=>a.createElement(i.a.Fragment,null,o.a.combine(n,r,(n,r)=>(n||r)&&a.createElement(W.c,{className:mr.animation,onMount:()=>e.modalManager.hideAll()},a.createElement("div",{className:mr.one}),a.createElement("div",{className:mr.two}),a.createElement("div",{className:mr.three}),a.createElement(Ke,{position:"center",className:mr.textWrapper},a.createElement("div",{className:mr.titleWrap},a.createElement(I.c,{className:mr.title},t.uploadDropZone)),a.createElement(I.j,{className:mr.content},t.uploadDropZoneTypes)))))})};var gr=n("p7l/"),fr=n("FPs0"),br=n("lRnN"),yr=n("Ni70"),vr=n("SGQG");function Sr({stepId:e,onboardingViewModel:t,denaliEditorModel:n,getFirstTargetRect:r,overlay:i,completionTrigger:l},c){const d=a.useContext(u.a.Context),p=o.a.create({display:"none",pointerEvents:"none"}),m=o.a.create(!1),b=t.subscribeForStep(e),y=o.a.create(s.g.none);return h.a.useSubscriptionTo(g.a.mergeStatic(b.state.pipe(g.a.tap(e=>{"popup"===e&&i&&m.set(!0),p.modify(t=>Object.assign(Object.assign({},t),{pointerEvents:"dot"===e?"all":"none"}))}),g.a.merge(n.changes,c),g.a.combineLatest(d,y.pipe(g.a.skip(1))),g.a.tap(([e,t,a])=>((e,t)=>requestAnimationFrame(()=>{n.flushChanges(),Object(Z.pipe)(t,s.g.map(yr.b.relativeToRoot),s.g.fold(()=>{p.set({display:"none"})},({top:t,left:n,width:a,height:r})=>{p.modify(i=>Object.assign(Object.assign({},i),{position:"absolute",left:n/e+"rem",top:t/e+"rem",width:a/e+"rem",height:r/e+"rem",display:"block"}))}))}))(t,a))),b.state.view(e=>"dot"===e||"popup"===e).pipe(g.a.switchMap(e=>e?r():g.a.EMPTY),g.a.tap(f.b.toAtom(y))),g.a.mergeStatic(f.b.orEmpty(m.pipe(g.a.skip(1),g.a.filter(e=>!e)))(!!i),l).pipe(g.a.tap(t.getStepCompletionCallback(e))),m.pipe(g.a.switchMap(f.b.orEmpty(g.a.fromEvent(document,"click",{capture:!0,passive:!0}))),g.a.tap(()=>m.set(!1))))),{visibilityOverlay:m,customStyles:p,onboardingStep:b}}const Cr=e=>{const t=a.useContext(gr.a.Context).pipe(g.a.map(e=>e.rect)),{visibilityOverlay:n,customStyles:r,onboardingStep:o}=Sr(e,t);return a.createElement(a.Fragment,null,e.overlay&&e.overlay(n),a.createElement("div",{className:vr.a.editor},a.createElement(i.a.div,{style:r,className:vr.a.onboardingPopup},a.createElement(se.c,Object.assign({},e,{onboardingStep:o,viewportRect:t,eventType:"none"}),a.createElement(i.a.div,{style:r.view(({width:e,height:t})=>({width:e,height:t}))})))))},wr=e=>e.onboardingViewModel.isStepEnabled(e.stepId)?a.createElement(Cr,Object.assign({},e)):null;var kr=n("aH3e");class Er{constructor(e,t){this._ded=e,this._env=t,this._log=y.Monitoring.Logging.root.getLogger("GraySelection"),this.state=this._ded.isEditorFocused.pipe(g.a.switchMap(Object(T.c)(g.a.of(!1),g.a.mergeStatic(this._ded.contentUpdated.pipe(g.a.auditTime(50)),f.a.windowResize.pipe(g.a.auditTime(50))).pipe(g.a.startWith(f.b.toVoid()),g.a.mapTo(!0)))),g.a.switchMap(e=>{return e?g.a.of(Object(Z.pipe)(this._ded.getSelectionRect(),s.b.chain((t=this._env.has(kr.a.Flag.supportsMixBlendMode),e=>Object(Z.pipe)(e.getRect(),s.b.map(({clientRects:e,rootClientRect:t})=>e.map(e=>M.c.absToRelative(e,t))),s.b.map(e=>e.map(e=>({top:e.top,left:e.left,width:Math.max(e.width,2),height:e.height,zIndex:t?"inherit":"-1",mixBlendMode:t?"darken":"inherit"})))))),s.g.fromEither)):g.a.of(s.g.none);var t}),g.a.tap(e=>{s.g.isSome(e)&&!document.hasFocus()&&Object(Z.pipe)(Jn.e.collapseSelection(),s.b.mapLeft(e=>{this._log.info("Cannot collapse selection",e)}))}),g.a.share())}}var Or=n("GZ3w");const Ar=({ded:e})=>{const t=a.useContext(kr.a.Context);return a.createElement(i.a.Fragment,null,new Er(e,t).state.pipe(g.a.map(e=>a.createElement(a.Fragment,null,Object(Z.pipe)(e,s.g.fold(()=>null,e=>e.map((e,t)=>a.createElement("div",{"data-name":"gray-selection",key:"gray-selection-"+t,style:e,className:Or.graySelection})))))),g.a.startWith(null)))};var _r=n("0/nD");const xr=(e,t)=>{const n={root:e,rootMargin:"0px",threshold:[0,1]};return f.a.getIntersectionObservable(t,n).pipe(g.a.filter(T.n),g.a.map(e=>1!==e[0].intersectionRatio),g.a.startWith(t.offsetHeight>e.offsetHeight))};class Ir{constructor(){this._log=y.Monitoring.Logging.getLogger("DocumentView"),this._nativeScrollbarState=Object(Z.pipe)(M.c.Scrollbar.getState(),s.b.getOrElse(e=>(this._log.error("Cannot get scrollbar width",e),M.c.Scrollbar.UNKNOWN_SCROLLBAR))),this.detector=o.a.create(s.g.none),this.target=o.a.create(s.g.none),this._xssWindowSize=f.a.getResizeObservable(document.body).pipe(g.a.map(e=>e.width<=_r.a.navigationHideWidthThreshold),g.a.distinctUntilChanged(),g.a.startWith(!1)),this._visible="visible"===this._nativeScrollbarState.type?o.a.combine(this.target,this.detector,s.g.map2(xr)).pipe(g.a.switchMap(s.g.fold(()=>g.a.EMPTY,r.identity)),g.a.onErrorResumeNext(g.a.of(!0))):o.a.create(!0),this.width=g.a.combineLatestStatic([this._visible,this._xssWindowSize]).pipe(g.a.map(([e,t])=>!t&&e?this._nativeScrollbarState.width:0),g.a.startWith(0),g.a.shareReplay({bufferSize:1,refCount:!0})),this.scrollTop=this.target.pipe(g.b.compact,g.a.switchMap(e=>g.a.fromEvent(e,"scroll").pipe(g.a.debounceTime(50),g.a.map(e=>e.target.scrollTop))),g.a.startWith(0)),this.fakeWidth=this._xssWindowSize.pipe(g.a.map(e=>e||"hidden"!==this._nativeScrollbarState.type?0:this._nativeScrollbarState.width))}}const jr={color:ge.a.CoreNeutral50},Tr={borderBottom:"1px solid "+ge.a.CoreNeutral30,cursor:"pointer",pointerEvents:"auto"},Mr=m.a.stylesheet({placeholder:[jr],hiddenPlaceholder:[{display:"none"}],label:[Tr],input:[{display:"none"}]}),Nr=({viewModel:e,strings:t,className:n})=>a.createElement(i.a.div,Object.assign({},Object(ae.c)(n,I.o.paper,e.visible.pipe(g.a.map(Object(T.c)(Mr.placeholder,Mr.hiddenPlaceholder))),e.size.view(q.e.match("",G.a.bigSize)))),t.typeOrPasteText,a.createElement("label",{className:Mr.label},t.upload,a.createElement("input",{className:Mr.input,onChange:({target:t})=>t.files&&e.upload(t.files),type:"file",accept:e.uploadInputAccept})),t.ending);var Pr=n("9T0W"),Lr=n("PyeZ"),Rr=n("fHRq"),Br=n("l0MP"),Fr=n("akIQ"),Dr=n("op3b");const Hr=({viewModel:e})=>{const{gnarSpec:t,pageId:n}=a.useContext(S.a.Context),r=a.useContext(X.a.Context);return a.createElement("div",Object.assign({},Object(ae.c)(Dr.a.card,Dr.a.cardUphook)),a.createElement(I.l,{className:Dr.a.title},r.inlineUpgradeHook.suggestionIsPartOfPremium),a.createElement(pt.a.Group,{align:"vertical"},a.createElement(pt.a.Ghost,{className:Dr.a.upgradeButton,name:"upgrade",onClick:()=>{t.getPremiumButtonClick(n,"upgradeToPremium","inlinePremiumCard"),e.upgrade()}},a.createElement(ht.d.PaidSmall,{width:15,className:Dr.a.upgradeIcon}),a.createElement(I.l,{className:Dr.a.upgradeButtonText},r.inlineUpgradeHook.upgradeToPremium))))},Vr=(e,t)=>e.right+300>t.width?"right":"left",Ur=(e,t)=>M.c.classes((e=>{switch(e){case"invisible":return Dr.a.invisible;case"visible":return Dr.a.visible;default:return Object(at.c)(e)}})(e),"up"===t&&Dr.a.directionUp);function Wr(e,t){const n=a.useRef(null),[r]=a.useState(()=>o.a.create({visibility:"visible",position:{top:0,left:0},direction:"down"})),i=a.useContext(gr.a.Context),l=e=>{const a=n.current;a&&function(e,t,n,a){Object(Z.pipe)(e,s.g.map(({abs:e,relative:r})=>{const i=t.offsetHeight,o=e.height+e.top+i>n.height+n.top&&r.height<n.height?"up":"down";a.modify(e=>Object.assign(Object.assign({},e),{direction:o,position:{top:"up"===o?r.top-i-8:r.top+r.height,left:r.left}}))}))}(t,a,e,r)},[c]=a.useState(()=>g.a.combineLatestStatic(i.pipe(g.a.map(e=>e.rect)),r.pipe(g.a.filter(({visibility:e})=>"visible"===e)),e=>e).pipe(g.a.tap(l)));return h.a.useSubscriptionTo(c),a.useEffect(()=>{switch(e){case"removed":r.modify(e=>Object.assign(Object.assign({},e),{visibility:"invisible"}));break;case"added":requestAnimationFrame(()=>r.modify(e=>Object.assign(Object.assign({},e),{visibility:"visible"})));break;default:Object(at.c)(e)}},[e,r]),{_el:n,_state:r}}const qr=({card:e,position:t,mode:n,name:r,onMouseEnter:o=T.e,onMouseLeave:s=T.e})=>{a.useEffect(()=>{"added"===n&&s()},[n]);const l={onMouseEnter:o,onMouseLeave:s,"data-name":r},{_el:c,_state:u}=Wr(n,t);return a.createElement(i.a.div,Object.assign({tabIndex:-1,mount:e=>c.current=e,style:u.view("position")},Object(ae.c)(Dr.a.container,u.view(({visibility:e,direction:t})=>Ur(e,t))),l),e)};const zr=(e,t,n)=>{const{key:r,card:i,onMouseEnter:o,onMouseLeave:l,name:c,isHidden:u}=t(e),d=function(e,t){return"added"===t?Object(Z.pipe)(e.rect,yr.b.relativeAndAbs,s.g.fromNullable):s.g.some({abs:M.c.Rect.empty,relative:M.c.Rect.empty})}(n,e);return!(null!=u&&u)&&a.createElement(qr,{key:r,position:d,mode:e,card:i,name:c,onMouseEnter:o,onMouseLeave:l})},$r=({viewModel:e,entry:t,index:n})=>r=>{const i=Ft.a.State.isBulkApplied(t.alert.state),o="added"===r?n+1:n,s="added"===r?e.events:f.b.noopObserver(),l=z.a.DATA_NAME;return{key:o,card:a.createElement(Fr.a,{alert:t.alert,hydrate:e.hydrate,events:s,highlightIndex:t.highlightIndex}),onMouseEnter:()=>e.events.next({type:Lr.b.Type.hovered}),onMouseLeave:()=>e.events.next({type:Lr.b.Type.unhovered}),name:l,isHidden:i}},Gr=({viewModel:e,index:t})=>n=>({key:"added"===n?t+1:t,card:a.createElement(Hr,{viewModel:e})});function Kr(e,t,n){return Object(Z.pipe)(t.state,g.b.chain(e=>Object(Z.pipe)(g.a.from(e.getMarkRect()),g.a.tap(s.b.mapLeft(t=>console.error("Could not get mark rect",{error:t,entry:e}))),g.a.map(s.g.fromEither),g.a.map(s.g.map(t=>Object.assign(Object.assign({},e),{rect:t}))))),g.a.startWith(s.g.none),g.a.pairwise(),g.a.tap(([e,t])=>s.g.isNone(t)&&n&&n()),g.a.map(([n,a],r)=>[Object(Z.pipe)(n,s.g.map(n=>zr("removed",e({viewModel:t,entry:n,index:r}),n)),s.g.toNullable),Object(Z.pipe)(a,s.g.map(n=>zr("added",e({viewModel:t,entry:n,index:r}),n)),s.g.toNullable)]),g.a.startWith(null))}const Yr=a.memo(({className:e,inlineCardVM:t,inlineUpgradeHookVM:n})=>{const r=a.useContext(gr.a.Context).pipe(g.a.map(e=>e.rect)),o=a.useMemo(()=>Pr.a.emptyWithName("inline-card"),[]);return a.createElement(Pr.a.Context.Provider,{value:o},a.createElement(i.a.Fragment,null,a.createElement("div",{className:e},J.b.mount(Br.a.View,Rr.a.Flow.create(t.state,t.events,r,t.hydrate,Vr))),a.createElement(i.a.div,{className:e},Kr($r,t,()=>t.events.next({type:Lr.b.Type.closed}))),a.createElement(i.a.div,{className:e},Kr(Gr,n))))});var Zr=n("zicx"),Xr=n("6lhv"),Qr=n("kFFO"),Jr=n("5o4I"),ei=n("+w1e"),ti=n("ZvPX"),ni=n("2BTG"),ai=n("v7oR"),ri=n("ot6E"),ii=n("+dDf"),oi=n("CXK/");class si extends a.Component{constructor(){super(...arguments),this._subs=[],this._classes=o.a.create(""),this._state=o.a.create(s.g.none),this._content=o.a.create(null),this._onTransitionEnd=()=>{const e=this._state.get();Object(r.pipe)(e,s.g.contains(Pa.a.Type.checkingOut))&&this._state.set(s.g.none),s.g.isNone(e)&&this._content.set(null)}}componentDidMount(){const{theme:e,state:t}=this.props;this._subs.push(this._state.pipe(g.a.pairwise(),g.a.map(([t,n])=>Object(r.pipe)(n,s.g.fold(()=>Object(r.pipe)(t,s.g.fold(()=>{throw new at.b("Cannot animate sidebar loader from None to None")},t=>{switch(t){case Pa.a.Type.checkingOut:return[e.checkingOutEnd+" "+e.hideEnd];case Pa.a.Type.checkingIn:return[e.checkingInEnd+" "+e.hideEnd];case Pa.a.Type.checking:return[e.hideStart,e.hideEnd];default:return Object(at.c)(t)}})),n=>{switch(n){case Pa.a.Type.checkingOut:return Object(r.pipe)(t,s.g.contains(Pa.a.Type.checkingIn))?[e.checkingOutEnd]:s.g.isNone(t)?[e.hideEnd]:[e.checkingOutStart,e.checkingOutEnd];case Pa.a.Type.checkingIn:return Object(r.pipe)(t,s.g.contains(Pa.a.Type.checkingOut))?[e.checkingInEnd]:Object(r.pipe)(t,s.g.contains(Pa.a.Type.checking))?[]:[e.checkingInStart,e.checkingInEnd];case Pa.a.Type.checking:return[e.checkingStart,e.checkingEnd];default:return Object(at.c)(n)}}))),g.a.switchMap(e=>oi.a.rafSequence(e,!0))).subscribe(f.b.toAtom(this._classes)),t.subscribe(e=>{this._state.set(e),null===this._content.get()&&s.g.isSome(e)&&this._content.set(this.props.children)}),t.pipe(g.a.switchMap(()=>g.a.timer(500))).subscribe(this._onTransitionEnd))}componentWillUnmount(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}render(){return a.createElement(i.a.div,{"data-role":"loader-content",key:"content",className:this._classes,mount:e=>e&&(this._el=e),onTransitionEnd:e=>e.target===this._el&&this._onTransitionEnd()},this._content)}}var li=n("yB2L"),ci=n("viRF"),ui=n("4lva"),di=n("/by5"),pi=n("Jmy1");const mi=({plagiarismModel:e,lensPreviewVM:t,navigationViewModel:n,state:r,proofitViewModel:l,features:c})=>{const{gnarSpec:u,pageId:d}=a.useContext(S.a.Context),p=a.useContext(X.a.Context),h=r.view(Q.e.isSidebarOpened),g=()=>h.get()?"wiritingAssistant":"writingMode",f=r.view("currentLens","type").view(e=>e===Q.i.plagiarism),b=e=>"disabled"===e.kind&&(e.reason===ui.e.EmptyDocument||e.reason===ui.e.DemoDoc),y=e=>"disabled"===e.kind&&e.reason===ui.d.EmptyDocument,v=a.createElement(di.a,{name:"proofread",isDisabled:n.documentActions.view(e=>e.proofit).view(b),tooltipAlignment:"left",tooltip:n.documentActions.view(e=>e.proofit).view(e=>b(e)?p.documentActions.proofit.tooltip.disabled(e.reason):p.documentActions.proofit.tooltip.available),title:a.createElement(i.a.div,{className:h.view(Object(T.c)("",pi.hidden))},p.sidebar.sendToProofreaders),"aria-label":p.sidebar.sendToProofreadersLabel,onClick:()=>{c.proofit.get()===$a.q.enabled?l.showOrderModal():n.popover.set(s.g.some(ui.b.ProofitHook)),u.professionalProofreadingButtonClick(d,g())},className:h.view(Object(T.c)(m.a.joinClasses([pi.proofitBtn,pi.outcomeBtnLeft]),pi.proofitBtnTeaser))},a.createElement(ht.d.ProofreadOutcomes,{className:h.view(Object(T.c)(m.a.joinClasses([pi.actionIconTeaser,pi.actionIconTeaserLeft]),pi.actionIcon))})),C=a.createElement(di.a,{onClick:()=>{n.events.next({type:"switchToLens",id:Ca.a.SpecialId.Plagiarism,focusFirst:!0,actionSource:Ft.b.sidebar}),u.plagiarismButtonClick(d,g())},name:"plagiarism",isActive:f,isDisabled:n.documentActions.view(e=>e.plagiarism).view(y),tooltipAlignment:"left",tooltip:n.documentActions.view(e=>e.plagiarism).view(e=>Object(T.c)(p.documentActions.plagiarism.tooltip.emptyDocument,p.documentActions.plagiarism.tooltip.available)(y(e))),title:h.view(Object(T.c)(p.plagiarism.title,"")),"aria-label":p.plagiarism.title,className:h.view(Object(T.c)(m.a.joinClasses([pi.plagiarismBtn,pi.outcomeBtnLeft]),pi.plagiarismBtnTeaser))},a.createElement(i.a.Fragment,null,o.a.combine(f,e.checkingState,(n,r)=>n&&"full"!==r?a.createElement(li.a.PlagiarismOutcomesMeter,{key:"plagiarism-counter",className:m.a.joinClasses([pi.plagiarismScore,pi.actionIconTeaserLeft]),isChecking:e.checkingState.view(e=>"checking"===e),count:t.getLens(Ca.a.SpecialId.Plagiarism).view("percentile").view(ci.a.fromRatio)}):a.createElement(ht.d.PlagiarismOutcomes,{className:h.view(Object(T.c)(m.a.joinClasses([pi.actionIconTeaser,pi.actionIconTeaserLeft]),pi.actionIcon)),key:"plagiarism-icon"}))));return a.createElement(i.a.Fragment,null,n.documentActions.view(e=>{return a.createElement(i.a.div,{className:h.view(Object(T.c)(pi.outcomeDocumentActionsFull,pi.outcomeDocumentActionsTeaser))},c.premiumLensButtonInFooter?a.createElement(i.a.Fragment,null,a.createElement(hi,{navigationViewModel:n,isSidebarOpen:h}),h.view(e=>e&&a.createElement("div",{className:pi.buttonsDelimiter}))):null,("available"===(t=e.proofit).kind||t.reason!==ui.e.NotAvailable)&&v,h.view(e=>e&&a.createElement("div",{className:pi.buttonsDelimiter})),(e=>"available"===e.kind||e.reason===ui.d.EmptyDocument)(e.plagiarism)&&C);var t}))},hi=({isSidebarOpen:e,navigationViewModel:t})=>{const n=e=>()=>{t.events.next({type:"switchToLens",id:e,focusFirst:!0,actionSource:Ft.b.sidebar})},r=e.view(Object(T.c)(di.b,fi));return a.createElement(i.a.Fragment,null,r.view(e=>a.createElement(i.a.Fragment,null,t.premiumButtonData.view(s.g.fold(()=>a.createElement(e,{id:Ca.a.SpecialId.FreePremiumAlerts,name:"lens-free-premium",activeLensId:t.activeLensId,data:t.freePremiumButtonData,onClick:n(Ca.a.SpecialId.FreePremiumAlerts)}),()=>a.createElement(e,{id:Ca.a.SpecialId.Premium,name:"lens-premium",activeLensId:t.activeLensId,data:t.premiumButtonData,onClick:n(Ca.a.SpecialId.Premium)}))))))},gi={counterWrapper:pi.premiumCounterWrapper,counterContent:pi.premiumCounterContent},fi=({id:e,data:t,name:n,onClick:o})=>a.createElement(i.a.Fragment,null,t.view(Object(r.flow)(s.g.map(t=>a.createElement(di.a,{className:pi.premiumButton,id:e,key:t.id,name:n,onClick:o},a.createElement(i.a.Fragment,null,t.alerts.view(e=>a.createElement(li.a.OutcomeCounter,{theme:gi,count:e}))))),s.g.toNullable)));var bi=n("jcJZ"),yi=n("0REP");const vi={opacity:1},Si=m.a.stylesheet({baseNavigationLoader:[vi],checkingInStart:[yi.d,vi],checkingInEnd:[yi.c,vi],checkingOutStart:[yi.f,vi],checkingOutEnd:[yi.e,vi],checkingStart:[{opacity:.99}],checkingEnd:[{opacity:1,transition:"opacity .01s"}],hideStart:[{pointerEvents:"none"}],hideEnd:[{opacity:0,transition:"opacity .01s",pointerEvents:"none"}]});var Ci=n("xGXC"),wi=n("6Gma"),ki=n("qZUR");const Ei={overflowY:"hidden"},Oi={marginLeft:m.a.rem(-4),paddingLeft:m.a.rem(4)},Ai={zIndex:m.d.level2},_i={marginTop:m.a.rem(m.d.sidebarHeaderHeight),paddingTop:0,$nest:{"&:before":{position:"absolute",top:m.a.rem(-4),width:"100%",height:m.a.rem(4),boxShadow:ki.a.z100,content:"",pointerEvents:"none"}}},xi={background:ge.a.CoreNeutral0,color:ge.a.CoreNeutral90},Ii={width:m.a.rem(m.d.navigationWidth),boxShadow:ki.a.z100,$nest:{[fe.a.xs]:{width:m.a.rem(m.d.navigationWidthXs)}}},ji={marginTop:m.a.rem(-4),paddingTop:m.a.rem(4),height:`calc(100% + ${m.a.rem(4)})`,boxShadow:"none"},Ti={zIndex:m.d.level2},Mi={position:"relative",zIndex:m.d.level2,height:"100%"},Ni={marginTop:m.a.rem(-.4)},Pi=m.a.stylesheet({fullHeightLoaderNavigation:[Ei],fullHeightLoader:[Ei,Oi],navigationWrapper:[Ai],navigationLoaderWrapper:[Ai,{position:"absolute",right:0}],navigationLoaderWithToolbar:[_i],baseWrapper:[xi],wrapper:[xi,Ii],loaderWrapper:[xi,Ii,ji],loaderWrapperNoShadow:[xi,Ii,ji,{boxShadow:"none"}],narrowWrapper:[xi,Ii,Ti],lensesAnimationWrapper:[Mi],onboardingNotification:[Ni],ensureClickable:[{pointerEvents:"auto"}]});class Li extends Xr.a{}function Ri(e,t){return!e||Q.e.isForceSidebar(t)?{prev:{start:{},end:{}},next:{start:{},end:{}}}:Q.e.isSidebarOpened(e)?{prev:{start:{base:yi.a.navigationLeaveRightStart},end:{base:yi.a.navigationLeaveRight}},next:{start:{},end:{}}}:{prev:{start:{},end:{}},next:{start:{base:yi.a.navigationEnterLeftStart},end:{base:yi.a.navigationEnterLeft}}}}function Bi({state:e,checkingState:t,children:n}){const o=Pi.wrapper,{ref:s,onMount:l}=h.a.useElWatcher();return h.a.useSubscriptionTo(Object(r.pipe)(s,g.b.compact,g.a.switchMap(t=>e.view(Q.e.isSidebarOpened).pipe(g.a.tap(e=>e?t.removeAttribute("inert"):t.setAttribute("inert","true")))))),a.createElement(Li,{state:e.pipe(g.a.distinctUntilChanged((e,t)=>Q.e.isSidebarOpened(e)===Q.e.isSidebarOpened(t))),stateToClassMapper:Ri,onMount:l,className:Pi.navigationWrapper},({state:r,view:s})=>Q.e.isSidebarOpened(r)?a.createElement(i.a.div,Object.assign({key:"sidebar"},Object(ae.c)(s.pipe(g.a.map(e=>e.base)),e.view(Q.e.isSidebarOpened).view(e=>e?o:Pi.narrowWrapper))),t.view(e=>"full"===e?null:n)):null)}var Fi;(Fi=Bi||(Bi={})).Loader=({baseLoaderClass:e,state:t,showToolbar:n})=>a.createElement(si,{state:t.view("navigation"),theme:Si},a.createElement(i.a.div,Object.assign({},Object(ae.c)(Pi.navigationLoaderWrapper,e,n.view(e=>e&&m.a.joinClasses([Pi.navigationLoaderWithToolbar])))),a.createElement(i.a.div,{className:t.view("lens").view(s.g.fold(()=>Pi.fullHeightLoader,e=>e===Pa.a.Type.checkingOut?Pi.fullHeightLoaderNavigation:Pi.fullHeightLoader))},a.createElement(i.a.div,{className:t.view("lens").view(s.g.fold(()=>Pi.loaderWrapperNoShadow,e=>e===Pa.a.Type.checkingOut?Pi.loaderWrapperNoShadow:Pi.loaderWrapper))},a.createElement(Ci.a,null))))),Fi.Content=({denaliViewModels:{lensPreviewViewModel:e,cheetahViewModel:t,navigationViewModel:n,proofitViewModel:r,lensState:i},documentModel:o,plagiarismModel:s,modalManager:l,features:c})=>a.createElement(bi.b,null,a.createElement(wi.a,{documentModel:o,modalManager:l,navigationViewModel:n,cheetahViewModel:t,features:c}),a.createElement(bi.a,{navigationViewModel:n,features:c,renderLensButtons:bi.c}),i.view(Q.e.isSidebarOpened).view(Object(T.c)(a.createElement(mi,{state:i,plagiarismModel:s,proofitViewModel:r,lensPreviewVM:e,features:c,navigationViewModel:n}),null)));var Di=n("vz4c"),Hi=n("z1Kw"),Vi=n("gOzB"),Ui=n("SwwS"),Wi=n("XZxw");const qi=({desc:e})=>{const t=a.useContext(X.a.Context);return a.createElement(ht.d.CheckmarkOutcomes,{role:"figure",title:t.proofitOrderModal.promo.step3.header.editingOptions.checkedLabel,desc:e,className:Wi.optionCheckedIcon,width:16})},zi=({option:{title:e,description:t,availableInCorrectness:n,availableInClarity:r,isNew:i}})=>{const o=a.useContext(X.a.Context).proofitOrderModal.promo;return a.createElement("tr",{className:Wi.option},a.createElement("th",{className:Wi.optionCell},a.createElement(ie.Typography.Base,{className:Wi.optionTitle},a.createElement("span",{className:Wi.optionTitleTextWithBadge},e,i&&a.createElement(Vi.a.New,null)),Object(Z.pipe)(t,s.g.mapOrDefault(e=>a.createElement(re.a,{title:e,align:"right"},a.createElement(ht.d.QuestionMark,{className:Wi.questionMarkIcon})),null)))),a.createElement("td",{className:Wi.optionChecked},n?a.createElement(qi,{desc:o.step3.header.editingOptions.featureIsAvailable(e,o.step3.header.correctness.h1)}):a.createElement(Ui.a,null,o.step3.header.editingOptions.unavailable)),a.createElement("td",{className:Wi.optionChecked},r?a.createElement(qi,{desc:o.step3.header.editingOptions.featureIsAvailable(e,o.step3.header.correctnessClarity.h1)}):a.createElement(Ui.a,null,o.step3.header.editingOptions.unavailable)))},$i=({title:e,description:t,className:n})=>a.createElement("th",{className:n},a.createElement(ie.Typography.Base,{className:Wi.columnTitle},e),a.createElement(ie.Typography.Small,{className:Wi.columnDescription},t)),Gi=()=>{const e=a.useContext(X.a.Context).proofitOrderModal.promo.step3,t=[{title:e.spelling.h1,description:s.g.none,availableInCorrectness:!0,availableInClarity:!0,isNew:!1},{title:e.grammar.h1,description:s.g.none,availableInCorrectness:!0,availableInClarity:!0,isNew:!1},{title:e.punctuation.h1,description:s.g.none,availableInCorrectness:!0,availableInClarity:!0,isNew:!1},{title:e.conciseness.h1,description:s.g.some(e.conciseness.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!1},{title:e.preciseness.h1,description:s.g.some(e.preciseness.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!1},{title:e.focus.h1,description:s.g.some(e.focus.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!0},{title:e.flow.h1,description:s.g.some(e.flow.h2),availableInCorrectness:!1,availableInClarity:!0,isNew:!0}];return a.createElement("table",{className:Wi.optionsTable},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:Wi.optionsTableColumn1},a.createElement(Ui.a,null,e.header.features)),a.createElement($i,{title:e.header.correctness.h1,description:e.header.correctness.h2,className:Wi.optionsTableColumn2}),a.createElement($i,{title:e.header.correctnessClarity.h1,description:e.header.correctnessClarity.h2,className:Wi.optionsTableColumn3}))),a.createElement("tbody",null,t.map(e=>a.createElement(zi,{option:e,key:"proofit-option-"+e.title}))))};var Ki,Yi;(Yi=Ki||(Ki={})).Dots=()=>a.createElement("svg",{"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(16 16)"},a.createElement("circle",{cx:"10",cy:"10",r:"26",fill:"#EFF4FF"}),a.createElement("circle",{cx:"10",cy:"10",r:"18",fill:"#DCE7FF"}),a.createElement("circle",{cx:"10",cy:"10",r:"9",fill:"#9DBBFF"}))),Yi.PathFrom1To2=()=>a.createElement("svg",{"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 314 99"},a.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#EBF0FF",strokeWidth:"2",d:"M1 0v58c0 8.837 7.163 16 16 16h280c8.837 0 16 7.163 16 16V89"})),Yi.PathFrom2To3=()=>a.createElement("svg",{"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 314 49"},a.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#EBF0FF",strokeWidth:"2",d:"M313 0v8.5c0 8.837-7.163 16-16 16H17c-8.837 0-16 7.163-16 16v8.054"})),Yi.Illustration=()=>a.createElement("svg",{viewBox:"0 0 432 296",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.createElement("defs",null,a.createElement("path",{d:"M562,3 C562,83 430.204272,225.039762 318.380193,227 C251.656819,228.169638 194.76078,245.646649 156.426437,283 C122.849899,315.7173 28.718061,288.818016 12.9452193,301.609489 C-20.6124065,328.824083 12.9452193,419 94.3182261,362.425988 C175.691233,305.851977 173.663757,404.669157 238.24,392.399927 C269.889017,386.386739 323.865886,388.63911 362.242863,396.392987 C511.421672,426.533823 511.844211,635.1185 548,615.5 C605.82398,584.124119 562,-42.6094389 562,3 Z",id:"path-1"}),a.createElement("path",{d:"M19.3089215,7.937541 C17.6497662,9.75781021 11.3030739,19.3772256 10.9573251,21.58956 C10.6111662,23.8014846 9.82369558,40.4892442 10.9573251,40.6740835 C12.0905445,40.8589229 15.6173464,40.6740835 15.6173464,40.6740835 C15.6173464,40.6740835 17.6217051,25.3197123 18.1934416,23.656568 C18.7647679,21.9934237 27.4076677,15.0137914 31.660419,10.9481454 C35.9135805,6.88290921 34.064255,2.91029763 34.064255,2.91029763 L20.0579422,0.319267969 C20.0579422,0.319267969 7.57079144,7.18291455 1.97728943,15.2236312 C-0.695188878,19.0655028 0.323601194,33.676828 0.323601194,33.676828 C0.323601194,33.676828 3.2155049,34.1965094 4.57799307,33.1940326 C4.94794019,29.6824948 5.23339828,24.3360883 6.50155404,20.4544619 C6.66437999,19.9565022 6.94286568,19.5048549 7.32921843,19.1507502",id:"path-3"}),a.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-5"},a.createElement("stop",{stopColor:"#B6CAFF",offset:"0%"}),a.createElement("stop",{stopColor:"#7CA1FF",offset:"100%"})),a.createElement("path",{d:"M0.260606478,48.0753261 L12.1340822,48.0753261 C17.114047,57.187615 26.7976771,63.3697253 37.9276223,63.3697253 C54.1444201,63.3697253 67.2907322,50.2452817 67.2907322,34.0554601 C67.2907322,25.5804005 63.6882211,17.9453528 57.9285812,12.593295 L57.9285812,0.815669031 C68.6856756,7.78180737 75.8017785,19.8765665 75.8017785,33.6306157 C75.8017785,55.2170445 58.2733624,72.7163027 36.6509653,72.7163027 C20.1393555,72.7163027 6.01510052,62.5118246 0.260610064,48.0753266 Z",id:"path-6"}),a.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-8"},a.createElement("stop",{stopColor:"#B6CAFF",offset:"0%"}),a.createElement("stop",{stopColor:"#7CA1FF",offset:"100%"}))),a.createElement("g",{id:"Page-1",fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"Initial---Proofread-02-08",transform:"translate(-288 -265)"},a.createElement("g",{id:"Popup",transform:"translate(288 60)"},a.createElement("g",{id:"Left",transform:"translate(0 68)"},a.createElement("g",{transform:"translate(-28 -27)",id:"Illustration"},a.createElement("g",{id:"Group-3"},a.createElement("mask",{id:"mask-2",fill:"#fff"},a.createElement("use",{xlinkHref:"#path-1"})),a.createElement("use",{id:"Oval-5",fill:"#F5F5FF",xlinkHref:"#path-1"}),a.createElement("path",{d:"M146.788506,257.081856 L280.453567,257.081856 C287.080984,257.081856 292.453567,262.454439 292.453567,269.081856 L292.453567,390.02113 L134.788506,372.12887 L134.788506,269.081856 C134.788506,262.454439 140.161089,257.081856 146.788506,257.081856 Z",id:"Rectangle",fill:"#E4E6F2",mask:"url(#mask-2)"})),a.createElement("ellipse",{id:"Oval",fill:"#F1F2FA",cx:"130.315",cy:"408.986",rx:"43.706",ry:"5.763"}),a.createElement("ellipse",{id:"Oval",fill:"#F1F2FA",cx:"329.556",cy:"436.032",rx:"75.885",ry:"12.968"}),a.createElement("g",{id:"Paper",transform:"translate(131.678 263.563)"},a.createElement("path",{d:"M8,0 L144.952351,-3.01980663e-14 C149.370629,-3.10096908e-14 152.952351,3.581722 152.952351,8 L152.952351,126.001947 C152.952351,130.386158 149.423632,133.953611 145.039682,134.001471 L70.9944988,134.809829 L0,112.933059 L0,8 C-5.41083001e-16,3.581722 3.581722,8.11624501e-16 8,0 Z",id:"Rectangle",fill:"#FFF"}),a.createElement("path",{d:"M25.1170739,54.1515434 C24.314287,54.1515434 23.6634997,53.5038202 23.6634997,52.7048131 C23.6634997,51.905806 24.314287,51.2580827 25.1170739,51.2580827 L128.391903,51.2580827 C129.19469,51.2580827 129.845477,51.905806 129.845477,52.7048131 C129.845477,53.5038202 129.19469,54.1515434 128.391903,54.1515434 L25.1170739,54.1515434 Z M25.1170739,65.002021 C24.314287,65.002021 23.6634997,64.3542978 23.6634997,63.5552907 C23.6634997,62.7562835 24.314287,62.1085603 25.1170739,62.1085603 L76.1646321,62.1085603 C76.967419,62.1085603 77.6182064,62.7562835 77.6182064,63.5552907 C77.6182064,64.3542978 76.967419,65.002021 76.1646321,65.002021 L25.1170739,65.002021 Z M71.0771224,42.9393832 C70.2743355,42.9393832 69.6235482,42.29166 69.6235482,41.4926529 C69.6235482,40.6936458 70.2743355,40.0459225 71.0771224,40.0459225 L128.391903,40.0459225 C129.19469,40.0459225 129.845477,40.6936458 129.845477,41.4926529 C129.845477,42.29166 129.19469,42.9393832 128.391903,42.9393832 L71.0771224,42.9393832 Z M25.1170739,75.8524986 C24.314287,75.8524986 23.6634997,75.2047754 23.6634997,74.4057682 C23.6634997,73.6067611 24.314287,72.9590379 25.1170739,72.9590379 L128.391903,72.9590379 C129.19469,72.9590379 129.845477,73.6067611 129.845477,74.4057682 C129.845477,75.2047754 129.19469,75.8524986 128.391903,75.8524986 L25.1170739,75.8524986 Z M25.1170739,30.3457684 C24.314287,30.3457684 23.6634997,29.6980452 23.6634997,28.8990381 C23.6634997,28.100031 24.314287,27.4523077 25.1170739,27.4523077 L128.391903,27.4523077 C129.19469,27.4523077 129.845477,28.100031 129.845477,28.8990381 C129.845477,29.6980452 129.19469,30.3457684 128.391903,30.3457684 L25.1170739,30.3457684 Z M25.1170739,86.7029762 C24.314287,86.7029762 23.6634997,86.0552529 23.6634997,85.2562458 C23.6634997,84.4572387 24.314287,83.8095155 25.1170739,83.8095155 L58.7217415,83.8095155 C59.5245284,83.8095155 60.1753157,84.4572387 60.1753157,85.2562458 C60.1753157,86.0552529 59.5245284,86.7029762 58.7217415,86.7029762 L25.1170739,86.7029762 Z",id:"Combined-Shape",fill:"#E4E6F2",fillRule:"nonzero"}),a.createElement("path",{d:"M64.5360384,86.7029762 C63.7332515,86.7029762 63.0824642,86.0552529 63.0824642,85.2562458 C63.0824642,84.4572387 63.7332515,83.8095155 64.5360384,83.8095155 L87.7932259,83.8095155 C88.5960128,83.8095155 89.2468001,84.4572387 89.2468001,85.2562458 C89.2468001,86.0552529 88.5960128,86.7029762 87.7932259,86.7029762 L64.5360384,86.7029762 Z M25.1170739,42.9393832 C24.314287,42.9393832 23.6634997,42.29166 23.6634997,41.4926529 C23.6634997,40.6936458 24.314287,40.0459225 25.1170739,40.0459225 L64.5360384,40.0459225 C65.3388253,40.0459225 65.9896126,40.6936458 65.9896126,41.4926529 C65.9896126,42.29166 65.3388253,42.9393832 64.5360384,42.9393832 L25.1170739,42.9393832 Z M81.978929,65.002021 C81.1761421,65.002021 80.5253548,64.3542978 80.5253548,63.5552907 C80.5253548,62.7562835 81.1761421,62.1085603 81.978929,62.1085603 L128.391903,62.1085603 C129.19469,62.1085603 129.845477,62.7562835 129.845477,63.5552907 C129.845477,64.3542978 129.19469,65.002021 128.391903,65.002021 L81.978929,65.002021 Z",id:"Combined-Shape",fill:"#EC5050",fillRule:"nonzero"})),a.createElement("g",{id:"Man-w-Pencil",transform:"translate(85.83 290.871)"},a.createElement("g",{id:"Pencil",transform:"rotate(-20 53.447 9.198)"},a.createElement("polygon",{id:"Fill-7",fill:"#6089F3",points:"42.7306681 76.025911 38.0871006 78.5584871 5.7923657 19.3303867 10.4363805 16.7978106"}),a.createElement("polygon",{id:"Fill-9",fill:"#7CA1FF",points:"47.3737436 73.4936929 42.7306234 76.0258215 10.4363358 16.7981685 15.0799033 14.2651451"}),a.createElement("polygon",{id:"Fill-14",fill:"#A2BCFF",points:"52.0172216 70.9610721 47.3736541 73.4936481 15.0798138 14.2655477 19.7233813 11.7329717"}),a.createElement("path",{d:"M52.6528102,81.32316 L53.0585241,87.968432 C53.0938619,88.6260697 52.3455054,89.0345208 51.8190167,88.6444119 L46.4534843,84.7044018 L52.6528102,81.32316 Z",id:"Fill-16",fill:"#EC5050"}),a.createElement("polygon",{id:"Fill-19",fill:"#FFF",points:"19.7232471 11.7331059 5.79254463 19.3299393 3.91695668 15.889197 17.8467646 8.29191616"}),a.createElement("path",{d:"M17.8466304,8.29178195 L3.91682248,15.8890627 L0.608487518,9.82269085 C-0.349659249,8.06406932 0.298051544,5.86165421 2.05644321,4.90293482 L9.61962974,0.777712456 C11.3780214,-0.181006937 13.5801486,0.4672359 14.5387427,2.22496268 L17.8466304,8.29178195 Z",id:"Fill-21",fill:"#FFC2C2"})),a.createElement("g",{id:"Foots",transform:"translate(20.342 66.04)"},a.createElement("path",{d:"M22.9728849,46.0241608 C22.9728849,46.0241608 21.9372998,46.5011779 20.2725812,46.4607201 L20.3172716,49.3228228 C20.3172716,49.3228228 21.4903955,49.511626 22.2682401,49.3659778 L22.5687447,48.62926 L23.2051981,49.4106741 C23.2051981,49.4106741 26.9314554,49.9512678 28.8535292,49.7882806 C28.8535292,49.7882806 29.0738993,48.9529226 28.1581307,48.5676099 C27.2419769,48.1826825 25.1542403,47.6494098 24.5624773,47.2259511 C23.9703291,46.8024925 22.9728849,46.0241608 22.9728849,46.0241608",id:"Fill-23",fill:"#3B3E4D"}),a.createElement("path",{d:"M4.13320993,43.43983 C4.13320993,43.43983 3.0267365,43.166258 1.7511329,42.095474 L-0.000269683636,44.3588008 C-0.000269683636,44.3588008 0.79837914,45.238855 1.49685976,45.6110671 L2.19148775,45.2226718 L2.20073405,46.2302646 C2.20073405,46.2302646 4.77428646,48.9794707 6.37736304,50.0517959 C6.37736304,50.0517959 7.07160577,49.5370181 6.59657731,48.6646702 C6.12116358,47.7915516 4.82321477,46.071901 4.62480467,45.3714026 C4.42677983,44.6705188 4.13320993,43.43983 4.13320993,43.43983",id:"Fill-27",fill:"#3B3E4D"}),a.createElement("path",{d:"M7.77756387,2.8459536 C4.72919113,8.61268399 11.8341253,20.6008102 14.5745244,24.8489352 L14.5745244,24.8489352 C15.2562232,25.9060036 15.7062805,27.095158 15.8990002,28.3419567 L15.8990002,28.3419567 L18.6223946,45.4535629 L23.2922583,44.4736081 C23.2922583,44.4736081 23.8662608,28.355318 23.2079906,24.1999585 L23.2079906,24.1999585 C22.5497205,20.0438355 21.233558,6.05724289 21.233558,6.05724289 L21.233558,6.05724289 C21.233558,6.05724289 15.8555438,0.360372931 11.5612947,0.360372931 L11.5612947,0.360372931 C10.0841546,0.360372931 8.73511643,1.03454517 7.77756387,2.8459536",id:"Fill-33",fill:"#C6CBDE"}),a.createElement("path",{d:"M6.76242072,28.533 C6.07445196,30.0274634 1.70046824,40.3121095 1.70046824,40.3121095 L6.66086342,43.2651117 C6.66086342,43.2651117 14.3506694,30.8491914 15.3564142,27.5225733 C18.010205,20.3519742 22.5283497,6.65570873 20.917261,3.88569821 C20.917261,3.88569821 17.7020601,3.3933421 14.1358546,3.3933421 C9.65376155,3.39372025 4.61801741,4.17120425 4.71817068,7.68047057 C4.89882098,13.9816456 7.45038948,27.0389147 6.76242072,28.533 Z",id:"Clip-37",fill:"#E4E6F2"}),a.createElement("path",{d:"M15.8990002,28.3419567 L18.6223946,45.4535629 L23.2922583,44.4736081 C23.2922583,44.4736081 23.8662608,28.355318 23.2079906,24.1999585 C22.9678434,22.6837403 22.6401371,19.8591813 22.3207189,16.8826816",id:"Fill-33",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4.38018352,7.17986789 C4.43184215,9.38630245 4.71940381,12.415885 5.04863335,15.492005 C5.66561059,21.2566637 6.42892078,27.1847565 6.06024614,28.1651834 C5.49484045,29.6691633 1.90009107,40.0193007 1.90009107,40.0193007 L5.97678149,42.9911073 C5.97678149,42.9911073 13.5016783,30.5767367 14.3282476,27.2289352 C15.8990002,24.0434641 17.0905734,21.1594864 17.9675545,17.6725218",id:"Clip-37",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),a.createElement("g",{id:"Group-53",transform:"translate(23.743 31.196)"},a.createElement("path",{d:"M5.88330653,16.7886512 C7.71829147,14.4054718 11.7570817,13.3014505 14.1361803,16.3023169 C17.4145376,20.4378064 18.8620539,42.1072252 18.6917335,47.5251683 C18.6917335,47.5251683 6.00348395,47.8151799 0,46.8961822 C0,46.8961822 2.46653803,21.226393 5.88330653,16.7886512",id:"Fill-39",fill:"#FFF"}),a.createElement("path",{d:"M18.6917335,39.5094009 L18.6917335,47.5251683 C18.6917335,47.5251683 6.00348395,47.8151799 0,46.8961822 C0,46.8961822 2.46653803,21.226393 5.88330653,16.7886512",id:"Fill-39",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M14.9421691,6.41326474 C14.9962749,6.53196769 15.0809118,6.73057424 15.1705729,6.94454687 C15.3603297,7.397462 15.7529832,7.70132618 16.1916267,7.92567091 C16.2426408,7.95140909 16.278969,7.98713522 16.2901766,8.03592251 C16.3160701,8.14771073 16.1672791,8.35745768 15.9995511,8.5499178 C15.7522103,8.83572684 15.6629357,9.22256784 15.7553021,9.58828048 C15.9381024,10.3108703 16.1576174,11.4456551 15.8101808,11.6784512 C15.2923109,12.0257245 13.5605386,12.6253857 13.5605386,12.6253857 L13.0909775,15.5234279 C13.0909775,15.5234279 12.4730119,16.4661367 9.75651385,15.8707012 C8.83671512,15.6694056 8.451018,15.2871744 8.451018,15.2871744 L8.80541104,12.4456026 C8.80541104,12.4456026 6.16929879,9.67471467 7.54088102,6.97796808 C8.91284972,4.28045319 13.6583155,3.58244913 14.9421691,6.41326474",id:"Fill-41",fill:"#FFF"}),a.createElement("path",{d:"M8.86995889,8.11469929 C9.21616083,7.20911238 11.7652159,6.145276 13.841969,5.96876698 C15.917805,5.79225796 18.9854752,3.72675465 18.028032,2.76073731 C17.0701302,1.79471997 14.8594818,1.50474087 14.2207277,1.6855974 C13.5815151,1.86688868 14.5687638,0.307870601 13.5310751,0.190053005 C12.4929278,0.0722354085 6.21910668,1.50126286 5.62162174,4.7505939 C4.94022295,8.45510954 6.59144572,11.67053 8.8589538,12.9252222 L8.79521596,11.3579438 C8.79521596,11.3579438 6.91151056,10.5271341 7.1793012,9.5476395 C7.34942162,8.92507567 8.18168192,9.13940805 8.56502606,9.52590193 C8.56502606,9.52590193 8.74064903,8.45337053 8.86995889,8.11469929",id:"Fill-45",fill:"#3B3E4D"}),a.createElement("path",{d:"M22.1015227,32.9159145 C22.9821402,33.1976128 26.5951289,32.8827012 26.9494449,32.731806 C27.555489,32.4738901 27.4128144,32.2475474 27.4128144,32.2475474 C28.0925666,32.0560582 28.0214448,31.655448 28.0214448,31.655448 C28.7339561,31.2376161 27.8498903,31.0022524 27.8498903,31.0022524 C28.4878315,30.2088228 26.7028892,30.2289148 26.1843465,30.300262 C25.9033075,30.3388059 24.6748396,30.3215841 24.6748396,30.3215841 C24.6748396,30.3215841 24.7382027,30.0296348 25.053725,29.811903 C25.3024359,29.6405058 25.8597723,29.5023219 26.0317578,29.034875 C26.1472769,28.7220136 24.1950906,29.3026319 23.5226661,29.7134931 C22.9812781,30.0443963 22.1105746,31.1535576 22.1105746,31.1535576 L16.7876448,30.0800699 L15.6165055,32.6235552 L22.1015227,32.9159145 Z",id:"Fill-47",fill:"#FFF"}),a.createElement("path",{d:"M13.9235043,20.3536067 C13.7079836,22.6699292 14.0597134,26.8658803 14.566618,27.8548996 M17.4433881,33.6118774 C17.4433881,33.6118774 12.4351185,32.5711929 11.3368251,31.4837638 C9.57731428,29.7410889 6.91261659,24.0698097 7.28288112,20.0723185 C7.53719552,17.3283231 10.6174171,15.5606357 12.440291,16.8022403",id:"Fill-49",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M17.2332067,35.5617231 C17.2332067,35.5617231 18.6601238,35.9953446 19.5185243,35.786864 C19.5185243,35.786864 20.0910119,31.1840821 19.2306259,30.0664823",id:"Fill-51",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),a.createElement("g",{id:"Man-on-the-ladder",transform:"translate(324.404 272.184)"},a.createElement("g",{id:"Ladder",transform:"translate(0 53.704)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"},a.createElement("path",{d:"M42.2873305,0.458915597 L63.6754936,103.759193",id:"Path-3",stroke:"#8189A9"}),a.createElement("path",{d:"M32.9242085,34.1090085 L44.562667,103.759193",id:"Path-3",stroke:"#8189A9"}),a.createElement("path",{d:"M32.9242085,8.08373708 L16.0882387,103.759193",id:"Path-3",stroke:"#C6CBDE"}),a.createElement("path",{d:"M18.1687635,14.8540285 L0.61595046,103.759193",id:"Path-3",stroke:"#C6CBDE"}),a.createElement("path",{d:"M0.910134603,95.109066 L14.1070863,95.109066",id:"Path-4",stroke:"#C6CBDE"}),a.createElement("path",{d:"M48.237134,95.109066 L61.4340857,95.109066",id:"Path-4",stroke:"#8189A9"}),a.createElement("path",{d:"M33.6749803,22.2982978 L46.8719321,22.2982978",id:"Path-4",stroke:"#8189A9"}),a.createElement("path",{d:"M4.55067302,79.6367778 L17.7476248,79.6367778",id:"Path-4",stroke:"#C6CBDE"}),a.createElement("path",{d:"M10.0114806,65.0746241 L23.2084324,65.0746241",id:"Path-4",stroke:"#C6CBDE"}),a.createElement("path",{d:"M10.0114806,50.5124705 L23.2084324,50.5124705",id:"Path-4",stroke:"#C6CBDE"}),a.createElement("path",{d:"M12.7418844,35.0401822 L25.9388362,35.0401822",id:"Path-4",stroke:"#C6CBDE"})),a.createElement("g",{id:"Group-26",transform:"translate(6.502 20.418)"},a.createElement("path",{d:"M9.75957787,4.94046636 C9.70096056,4.96496089 7.92645459,4.90005037 7.38004284,5.42586642 C7.07670849,5.72388328 4.6406057,5.16132543 4.27578465,5.44342084 C4.03885593,5.62141447 3.76708474,5.80675646 3.48383604,5.97291107 C3.21083512,5.87901535 1.43263995,5.25317994 1.09241358,2.89803026 C1.66956868,2.83434446 0.252505354,2.4861138 0.252505354,2.4861138 C1.04814317,2.24198492 1.29572958,1.88477293 0.612817377,1.15810168 C0.471807893,1.00827677 0.353753442,0.462865091 0.428357297,0.257519227 C0.530425208,-0.0449882986 0.861633529,0.0272705839 1.0313368,0.27425716 C1.86878556,1.45407733 2.9193882,1.53613403 3.80889569,2.4175291 C3.86259407,2.46366048 8.4716366,3.5589745 8.61141635,3.48385792 C9.60053229,2.9090528 10.7417253,4.47180423 9.75957787,4.94046636",id:"Fill-16",fill:"#E4E6F2"}),a.createElement("path",{d:"M19.1178936,61.1367709 C18.9617174,59.9696062 18.3821028,57.9504399 18.3821028,57.9504399 L16.5395516,58.1945688 C16.5395516,58.1945688 16.1427574,58.8383669 14.7556176,59.2437515 C13.3705274,59.6536267 11.7304723,59.3119279 10.9135191,59.6287239 C10.4413013,59.8095752 10.2392151,60.6517791 10.1478049,61.330686 C10.128539,61.4809191 10.1150119,61.6229874 10.1059939,61.7487261 C10.0863182,62.0144918 10.2998819,62.2398415 10.5683738,62.2382085 C12.3908394,62.2275942 18.7665996,62.1712568 19.0773124,61.9287609 C19.1724118,61.8569103 19.171592,61.5486873 19.1178936,61.1367709",id:"Fill-18",fill:"#3B3E4D"}),a.createElement("path",{d:"M16.024744,55.4544875 L16.2956954,58.3966896 C16.343655,58.9176067 16.7711924,59.3229913 17.2962888,59.3446281 C17.8845115,59.3695309 18.3780447,58.9061759 18.3882925,58.3195318 L18.4374818,55.4508133 L16.024744,55.4544875 Z",id:"Fill-20",fill:"#FBD4C1"}),a.createElement("path",{d:"M9.41693303,53.5304825 C9.00251271,52.4274118 7.98470298,50.5886886 7.98470298,50.5886886 L6.24339983,51.2365691 C6.24339983,51.2365691 6.00073235,51.9526261 4.74025513,52.6564358 C3.48182748,53.3643279 1.80652004,53.3957625 1.08138697,53.8864697 C0.662047722,54.1681569 0.653439585,55.0336305 0.716565924,55.7158034 C0.732142553,55.8664448 0.750588561,56.0081048 0.769854391,56.133027 C0.81084552,56.3963432 1.06990945,56.5682132 1.33020312,56.5069769 C3.10429918,56.0905698 9.30625698,54.6172234 9.55466322,54.3110417 C9.63090672,54.2200037 9.56163171,53.9199456 9.41693303,53.5304825",id:"Fill-22",fill:"#3B3E4D"}),a.createElement("path",{d:"M5.12647355,48.6801968 L6.05123342,51.4880872 C6.21478802,51.984918 6.72266811,52.2845679 7.23833651,52.1890392 C7.81795107,52.0820797 8.19506946,51.5207466 8.07291589,50.9467579 L7.47731479,48.1396841 L5.12647355,48.6801968 Z",id:"Fill-24",fill:"#FFF"})),a.createElement("g",{id:"Pants",transform:"translate(11.147 37.124)"},a.createElement("path",{d:"M1.97728943,15.6736851 C-0.695188878,19.5155567 0.323601194,35.5397524 0.323601194,35.5397524 C0.323601194,35.5397524 3.2155049,36.0594337 4.57799307,35.0569569 C4.94794019,31.5454191 5.23339828,26.1990126 6.50155404,22.3173862 C6.66437999,21.8194265 7.28479942,19.3389047 7.67115217,18.9848 L14.5536139,14.3084832 C13.4338227,16.1287524 11.2610683,19.7492958 10.9573251,23.3763675 C10.6111662,25.5882921 9.82369558,42.3521685 10.9573251,42.5370079 C12.0905445,42.7218472 15.6173464,42.5370079 15.6173464,42.5370079 C15.6173464,42.5370079 17.6217051,27.1826366 18.1934416,25.5194923 C18.7647679,23.856348 27.4076677,16.8767157 31.660419,12.8110697 C35.9135805,8.74583353 34.4643543,3.84193529 34.4643543,3.84193529 L20.0579422,2.18219229 C19.5823752,2.04419469 18.4615527,1.58713727 17.2986473,2.18219229 C13.2916383,4.23256619 7.237262,7.62135444 2.90194591,13.8534159 L1.97728943,15.6736851 Z",id:"pants",fill:"#E4E6F2"}),a.createElement("mask",{id:"mask-4",fill:"#fff"},a.createElement("use",{xlinkHref:"#path-3"})),a.createElement("use",{id:"pants",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xlinkHref:"#path-3"})),a.createElement("g",{id:"Group-45",transform:"translate(11.963)"},a.createElement("path",{d:"M18.3145525,16.5980195 C20.3469798,14.9770238 24.6738011,16.4716869 22.9237479,20.3879993 C21.1741111,24.3043117 12.6000165,27.8383448 10.7108586,28.4741098 C8.82211722,29.1094646 1.8906237,27.745236 0.367552635,27.2009391 L0.483750837,23.8670694 L9.55720621,25.077484 C9.55720621,25.077484 16.1151163,18.3527309 18.3145525,16.5980195",id:"Fill-30",fill:"#F37878"}),a.createElement("path",{d:"M23.3314411,13.1776448 C23.3314411,13.1776448 28.3446231,14.308076 31.0792374,22.8437339 C33.8130188,31.379802 34.2586535,40.8075817 34.2586535,40.8075817 C34.2586535,40.8075817 24.8261915,42.569266 17.2645622,39.0967586 C17.2645622,39.0967586 16.8559943,23.8289646 17.8151501,17.3466225 C18.2353794,14.5037276 23.3314411,13.1776448 23.3314411,13.1776448",id:"Fill-32",fill:"#FFC2C2"}),a.createElement("path",{d:"M23.3314411,13.1776448 C23.3314411,13.1776448 28.3446231,14.308076 31.0792374,22.8437339 C33.8130188,31.379802 34.2586535,40.8075817 34.2586535,40.8075817 C34.2586535,40.8075817 24.8261915,42.569266 17.2645622,39.0967586",id:"Fill-32",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M16.8292146,4.5304204 C16.8292146,4.5304204 16.469375,6.32860994 16.4069028,7.1386976 C16.3448472,7.94960561 15.5389564,8.19037597 15.482315,8.44550232 C15.4331702,8.66371327 15.9741791,9.19570502 15.9741791,9.19570502 C15.9741791,9.19570502 16.1045376,11.5911035 16.8429585,12.2646042 C17.5817958,12.938105 18.9174504,12.6948736 18.9174504,12.6948736 L19.1964927,15.1887131 C19.1964927,15.1887131 18.926613,16.6181589 23.8806546,14.0094715 L23.609109,12.2412245 C23.609109,12.2412245 26.2462668,7.07471093 24.0755678,4.54723741 C21.9052852,2.01935372 16.8292146,4.5304204 16.8292146,4.5304204",id:"Fill-34",fill:"#FFF"}),a.createElement("path",{d:"M18.841276,5.5197938 C18.0924432,5.64776714 17.338196,5.76958792 16.5835324,5.68222151 C15.4211339,5.5480956 14.5515216,5.2810743 14.0629894,3.99231711 C13.1754683,1.64942052 14.3828468,0.250737514 14.3828468,0.250737514 C14.3828468,0.250737514 15.0071518,1.06574723 17.5989132,0.495609584 C19.1199018,0.160910072 22.0481798,0.417266928 24.183478,2.66664453 C27.2362838,5.88361545 25.0293509,11.2273229 23.6091507,12.2412655 L23.2538924,10.1046849 C23.2538924,10.1046849 23.8490437,9.87129763 24.0222998,9.33233297 C24.1918076,8.8048531 23.5679191,7.34505462 22.6566586,8.1563728 C21.7766342,8.94020952 22.3372177,11.4779373 21.2364583,12.3872864 C20.135699,13.2962252 17.0999689,13.2921235 16.4006973,12.1510279 C15.6485326,10.9237963 16.0433566,9.90780284 16.0433566,9.90780284 C16.0433566,9.90780284 17.8346414,9.51814042 19.3189797,10.2543973 C20.7670842,10.9721965 21.6625184,8.96071807 21.3784784,7.77163243 C21.1277568,6.72282526 20.1032135,5.30404387 18.841276,5.5197938",id:"Fill-36",fill:"#3B3E4D"}),a.createElement("path",{d:"M20.961183,18.9681961 C22.6955209,16.6950306 27.7604342,17.1340365 26.9664724,21.781086 C26.1725105,26.4281355 19.5968064,33.4712 17.7423812,34.6540771 C15.8893416,35.8374058 3.75867565,34.9756534 1.97029846,34.802219 L2.02895649,31.9626816 L15.1909877,31.3095925 C15.1909877,31.3095925 19.084126,21.4283456 20.961183,18.9681961",id:"Fill-43",fill:"#F37878"}),a.createElement("path",{d:"M15.1909877,31.3095925 C15.1909877,31.3095925 19.084126,21.4283456 20.961183,18.9681961 M26.9664724,21.781086 C26.1725105,26.4281355 19.5968064,33.4712 17.7423812,34.6540771 C15.8893416,35.8374058 3.75867565,34.9756534 1.97029846,34.802219",id:"Fill-43",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),a.createElement("g",{id:"Microscope",transform:"translate(235.569 289.818)"},a.createElement("path",{d:"M18.7214141,98.1589757 L27.5103085,98.1589757 C32.7568134,105.752299 41.5416826,110.73039 51.4934723,110.73039 C67.5630006,110.73039 80.5899271,97.7506293 80.5899271,81.7392826 C80.5899271,74.4458025 77.8868661,67.7813704 73.4244562,62.6862814 L73.4244562,51.5460728 C85.3038994,58.0661856 93.3524515,70.661726 93.3524515,85.1303003 C93.3524515,106.291867 76.1352753,123.446706 54.8968121,123.446706 C38.2493548,123.446706 24.0725672,112.906811 18.7214141,98.1589757 Z",id:"Combined-Shape",fill:"#FFF"}),a.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"48.756",y:"115.255",width:"11.832",height:"20.933"}),a.createElement("g",{id:"Combined-Shape-2",transform:"translate(13 48)"},a.createElement("mask",{id:"mask-7",fill:"#fff"},a.createElement("use",{xlinkHref:"#path-6"})),a.createElement("use",{id:"Combined-Shape",fill:"url(#linearGradient-5)",xlinkHref:"#path-6"}),a.createElement("circle",{id:"Oval",fill:"#8FABF4",mask:"url(#mask-7)",cx:"59",cy:"7",r:"14"})),a.createElement("path",{d:"M68.9407352,60.0450769 L68.9407352,48.815669 C80.7802671,55.3357818 88.8017785,67.9313222 88.8017785,82.3998965 C88.8017785,103.561463 71.6424468,120.716303 50.4753383,120.716303 M15.0808757,97.1240807 L15.0808757,97.1240807 M25.4898376,97.1240807 C30.5355849,105.663304 39.8363985,111.391004 50.4753383,111.391004 C66.4908779,111.391004 79.474038,98.4112431 79.474038,82.3998965",id:"Combined-Shape",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M0.518722035,89.7717262 L35.103837,89.7717262",id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M0.518722035,93.4122646 L35.103837,93.4122646",id:"Rectangle",stroke:"#E4E6F2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("polyline",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",points:"35.9670574 138.00886 68.1689333 138.00886 77.7675693 138.00886 83.3409709 138.00886 83.3409709 144.379802 74.3616017 144.379802 47.7331274 144.379802 30.0840224 144.379802 23.2720871 144.379802"}),a.createElement("g",{id:"Group-2",transform:"rotate(-45 94.818 5.34)"},a.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",y:"5.922",width:"96.041",height:"7.106"}),a.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",x:"87.741",y:"2.369",width:"8.3",height:"14.212"}),a.createElement("path",{d:"M53.3483652,22.3447006 C53.1368783,27.7177952 48.7090794,32.0089156 43.2778645,32.0089156 C37.8466496,32.0089156 33.4188507,27.7177952 33.2073637,22.3447006 L15.0426441,22.3447006 C13.9380746,22.3447006 13.0426441,21.4492701 13.0426441,20.3447006 L13.0426441,2 C13.0426441,0.8954305 13.9380746,-1.84720821e-12 15.0426441,-1.84741111e-12 L70.1467549,-1.84741111e-12 C71.2513244,-1.8436898e-12 72.1467549,0.8954305 72.1467549,2 L72.1467549,20.3447006 C72.1467549,21.4492701 71.2513244,22.3447006 70.1467549,22.3447006 L53.3483652,22.3447006 Z",id:"Combined-Shape",fill:"#FFF"}),a.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"10.312",width:"64.565",height:"18.704",rx:"2"}),a.createElement("rect",{id:"Rectangle",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"url(#linearGradient-8)",strokeLinecap:"round",strokeLinejoin:"round",x:"13.043",width:"59.285",height:"18.949"}),a.createElement("rect",{id:"Rectangle",fill:"#FFF",x:"15.592",y:"2.547",width:"54.185",height:"4.517",rx:"1"}),a.createElement("ellipse",{id:"Oval",fill:"#FFF",cx:"43.278",cy:"19.541",rx:"10.078",ry:"10.067"}),a.createElement("path",{d:"M52.6436093,23.2665564 C53.1034261,22.1142813 53.3562713,20.8571999 53.3562713,19.5411324 C53.3562713,13.9814784 48.8440149,9.47448842 43.2778645,9.47448842 C37.7117141,9.47448842 33.1994577,13.9814784 33.1994577,19.5411324 C33.1994577,25.1007863 37.7117141,29.6077763 43.2778645,29.6077763 L43.2778645,29.6077763",id:"Oval",stroke:"#3B3E4D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(-110 43.278 19.541)"})),a.createElement("path",{d:"M56.4920001,122.536572 L56.4920001,134.368322",id:"Path-2",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M48.3007887,120.812477 L48.3007887,134.758379",id:"Path-2",stroke:"#3B3E4D",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}))))))));var Zi=n("tBHB");const Xi=()=>{const e=a.useContext(X.a.Context).proofitOrderModal.promo.step2;return a.createElement(a.Fragment,null,a.createElement(ie.Typography,{nodeType:"h3",styleType:ie.Typography.Type.H1,className:Zi.stepTitle},e.title),a.createElement("ul",{className:Zi.step2Path},a.createElement("li",Object.assign({},Object(ae.c)(Zi.step2PathLi,Zi.step2PathLi1)),a.createElement(Qi,{index:1}),a.createElement(ie.Typography.Base,{className:Zi.step2LiDescription},e.li1),a.createElement("div",{className:Zi.pathFrom1To2},a.createElement(Ki.PathFrom1To2,null))),a.createElement("li",Object.assign({},Object(ae.c)(Zi.step2PathLi,Zi.step2PathLi2)),a.createElement(Qi,{index:2,position:Zi.right}),a.createElement(ie.Typography.Base,{className:Zi.step2LiDescription},e.li2),a.createElement("div",{className:Zi.pathFrom2To3},a.createElement(Ki.PathFrom2To3,null))),a.createElement("li",Object.assign({},Object(ae.c)(Zi.step2PathLi,Zi.step2PathLi3)),a.createElement(Qi,{index:3}),a.createElement(ie.Typography.Base,{className:Zi.step2LiDescription},e.li3)),a.createElement("li",Object.assign({},Object(ae.c)(Zi.step2PathLi,Zi.moreInformation)),a.createElement(ie.Typography.Base,{className:Zi.step2LiDescription},e.moreInformation(),a.createElement(ht.d.OuterLink,{className:Zi.moreInformationIcon})))))},Qi=({index:e,position:t})=>a.createElement("div",Object.assign({},Object(ae.c)(Zi.dots,Boolean(t)?t:Zi.left)),a.createElement(ie.Typography.Base,{className:Zi.dotIndex},e),a.createElement(Ki.Dots,null)),Ji=()=>{const e=a.useContext(X.a.Context).proofitOrderModal.promo.step1,t=a.useContext(Da.a.TitleIdContext);return a.createElement(a.Fragment,null,a.createElement(ie.Typography,{nodeType:"h2",styleType:ie.Typography.Type.H1,id:t,className:Zi.stepTitle},e.title),a.createElement(ie.Typography.Base,{className:Zi.description},e.description),a.createElement("div",{className:Zi.step1Illustration},a.createElement(Ki.Illustration,null)))};var eo=n("FpF0");const to=()=>{const e=a.useContext(X.a.Context).proofitOrderModal.promo.step5,t=a.useContext(Va.a.Context);return a.createElement("section",{className:Zi.terms},a.createElement(ie.Typography.H4,{className:Zi.termsTitle},e.title),a.createElement(ie.Typography.Small,null,a.createElement("p",{className:Zi.termsSubTitle},e.credits,a.createElement(eo.a,{href:t.termsOfService},e.termsOfService),e.andFollowingTerms)),a.createElement(ie.Typography.SmallLight,null,a.createElement("ul",{className:Zi.termsList},a.createElement("li",{className:Zi.termListItem},e.term1),a.createElement("li",{className:Zi.termListItem},e.term2),a.createElement("li",{className:Zi.termListItem},e.term3),a.createElement("li",{className:Zi.termListItem},e.term4))))};var no=n("m7xn"),ao=n("R+r4"),ro=n("ZD0N"),io=n("wsrD"),oo=n("jAl6"),so=n("aVVF");const lo=()=>a.createElement("span",{"aria-hidden":!0,className:so.iconArrow},"▼"),co=()=>a.useContext(X.a.Context).proofitOrderModal.promo.step4,uo=({title:e,id:t,tooltip:n})=>a.createElement(ie.Typography,{id:t,nodeType:"label",styleType:ie.Typography.Type.Base,className:so.userInputTitle},e,Boolean(n)&&a.createElement(re.a,{title:a.createElement("p",{className:so.tooltip},n),align:"topCenter"},a.createElement("span",{"aria-describedby":n},a.createElement(ht.d.QuestionMark,null)))),po=(e,t,n)=>Object(Z.pipe)(t,s.g.fold(()=>({labelTitle:e.choose,active:!1,iconSelected:e=>{}}),e=>({labelTitle:n(e),active:!0,iconSelected:t=>t===e?a.createElement(ht.d.DocumentSettings.Selected,null):void 0}))),mo=({name:e,selected:t,items:n,ariaDescribedBy:i,onSelect:o,selectedLabel:l=r.identity})=>{const c=co(),{labelTitle:u,active:d,iconSelected:p}=po(c,t,l);return a.createElement(mt.a,{name:"proofit-user-inputs-dropdown-"+e,id:e,showDelay:0,label:a.createElement(ho,{ariaDescribedBy:i,active:d,name:e},u),theme:{dropdownList:so.dropdownList},activeDescendantId:s.g.toUndefined(t)},a.createElement(yo,Object.assign({},{name:e,items:n,iconSelected:p,onSelect:Object(r.flow)(s.g.some,o)})))},ho=({name:e,children:t,active:n,ariaDescribedBy:r})=>a.createElement(pt.a.White,{active:n,name:"proofit-user-inputs-dropdown-button-"+e,className:so.dropdown,"aria-describedby":r,tag:ro.b.div},a.createElement("span",{className:so.dropdownButton},t),a.createElement(lo,null)),go=({name:e,selected:t,items:n,ariaDescribedBy:i,onSelect:o,selectedLabel:l=r.identity,extra:c})=>{const u=a.useRef(new g.a.Subject),d=co(),{labelTitle:p,active:m,iconSelected:h}=po(d,t,l);return a.createElement(mt.a,{name:"proofit-user-inputs-dropdown-"+e,id:e,showDelay:0,dontCloseOnClickInside:!0,forceHide:u.current,label:a.createElement(ho,{ariaDescribedBy:i,active:m,name:e},p),theme:{dropdownList:so.dropdownList},activeDescendantId:s.g.toUndefined(t)},a.createElement(fo,{name:e,items:n,extra:c,iconSelected:h,onSelect:e=>(u.current.next(),o(s.g.some(e)))}))},fo=e=>{const t=o.a.create(""),n=a.useContext(ri.a.Context);return a.createElement(a.Fragment,null,a.createElement(bo,{value:t,placeholder:n.search}),a.createElement(mt.a.Delimiter,null),a.createElement(i.a.div,{className:so.dropdownOptionsContainer},t.view(t=>Object(Z.pipe)(e.items,s.a.filter(e=>e.value.toLowerCase().includes(t.toLowerCase())),s.f.fromArray,s.g.fold(()=>a.createElement(ie.Typography.Base,{key:"empty",className:so.dropdownSearchNoMatches},n.noMatches),t=>a.createElement(a.Fragment,{key:"items"},t.map(({value:t,content:n})=>a.createElement(vo,Object.assign({},e,{key:t,value:t,content:n}))))))),e.extra&&a.createElement(a.Fragment,null,a.createElement(mt.a.Delimiter,null),a.createElement(vo,Object.assign({},e,e.extra)))))},bo=e=>a.createElement("div",{className:so.dropdownSearchContainer},a.createElement(ht.d.SearchQuestion,{className:so.dropdownSearchIcon}),a.createElement(io.a,{className:so.dropdownSearch,value:e.value,placeholder:e.placeholder,autofocus:!0}),a.createElement(pt.a.Tertiary,{name:"clearSearch",className:so.dropdownSearchClear,onClick:()=>e.value.set("")},a.createElement(ht.d.Close,null))),yo=e=>a.createElement("div",{className:so.dropdownOptionsContainer},e.items.map(({value:t,content:n})=>a.createElement(vo,Object.assign({},e,{key:t,value:t,content:n})))),vo=({name:e,value:t,content:n,iconSelected:r,onSelect:i})=>a.createElement(pt.a.Flat,{id:t,name:`proofit-user-inputs-dropdown-${e}-item-${M.f.camelize(t)}`,className:so.dropdownOption,tag:ro.b.div,onClick:()=>i(t)},a.createElement(ie.Typography.Base,null,n),r(t)),So=({selected:e,onSelect:t,showNoteToEditor:n=!1})=>{const r=co(),i=Object.values(no.c.PrimaryLanguage).filter(e=>e!==no.c.PrimaryLanguage.Other).map(e=>({value:e,content:a.createElement(Co,null,e)}));return a.createElement("div",{className:n?so.userInputWrapper:so.userInputWrapperSparse},a.createElement("div",{className:so.userInputContainer},a.createElement(uo,{id:"native-language-title",title:r.primaryLanguage}),a.createElement(go,{name:"language",ariaDescribedBy:"native-language-title",selected:e,items:i,extra:{value:no.c.PrimaryLanguage.Other,content:a.createElement(Co,null,a.useContext(ri.a.Context).primaryLanguageNotListed)},onSelect:t})))},Co=e=>a.createElement("span",{className:so.languageDropdownOption},e.children),wo=({selected:e,onSelect:t,showNoteToEditor:n=!1})=>{const r=co(),i=e=>a.createElement("span",null,(e=>{switch(e){case ao.a.Dialect.American:return a.createElement(ht.d.DocumentSettings.USFlag,null);case ao.a.Dialect.British:return a.createElement(ht.d.DocumentSettings.GBFlag,null);case ao.a.Dialect.Canadian:return a.createElement(ht.d.DocumentSettings.CanadianFlag,null);case ao.a.Dialect.Australian:return a.createElement(ht.d.DocumentSettings.AustralianFlag,null);default:return a.createElement(ht.d.DocumentSettings.USFlag,null)}})(e),e," English");return a.createElement("div",{className:n?so.userInputWrapper:so.userInputWrapperSparse},a.createElement("div",{className:so.userInputContainer},a.createElement(uo,{id:"dialect-title",title:r.dialect}),a.createElement("div",{className:so.dialectDropdown},a.createElement(mo,{name:"dialect",ariaDescribedBy:"dialect-title",selected:e,selectedLabel:i,items:Object.keys(ao.a.Dialect).map(e=>({value:e,content:i(e)})),onSelect:t}))))},ko=({ariaDescribedBy:e,left:t,right:n,selected:r,onSelect:i})=>{const{leftSelected:o,rightSelected:l}=((e,t,n)=>s.g.fold(()=>({leftSelected:!1,rightSelected:!1}),n=>({leftSelected:e===n,rightSelected:t===n}))(n))(t.value,n.value,r);return a.createElement(pt.a.Group,{sticky:!0,className:so.splitButton},a.createElement(pt.a.White,{name:"proofit-user-inputs-split-button-"+t.value,key:t.value,active:o,className:so.splitButtonOption,"aria-describedby":e,onClick:()=>i(o?s.g.none:s.g.some(t.value))},t.title),a.createElement(pt.a.White,{name:"proofit-user-inputs-split-button-"+n.value,key:n.value,active:l,className:so.splitButtonOption,"aria-describedby":e,onClick:()=>i(l?s.g.none:s.g.some(n.value))},n.title))},Eo=({selected:e,onSelect:t,showNoteToEditor:n=!1})=>{const r=co();return a.createElement("div",{className:n?so.userInputWrapper:so.userInputWrapperSparse},a.createElement("div",{className:so.userInputContainer},a.createElement(uo,{id:"quotation-type-title",title:r.quotationType,tooltip:r.quotationTypeTooltip}),a.createElement(ko,{ariaDescribedBy:"quotation-type-title",left:{title:r.quotationTypeSingle,value:ao.a.QuotationType.Single},right:{title:r.quotationTypeDouble,value:ao.a.QuotationType.Double},selected:e,onSelect:t})))},Oo=({selected:e,onSelect:t,showNoteToEditor:n=!1})=>{const r=co();return a.createElement("div",{className:n?so.userInputWrapper:so.userInputWrapperSparse},a.createElement("div",{className:so.userInputContainer},a.createElement(uo,{id:"space-type-title",title:r.spaceType,tooltip:r.spaceTypeTooltip}),a.createElement(ko,{ariaDescribedBy:"space-type-title",left:{title:r.spaceTypeSingle,value:ao.a.SpaceType.Single},right:{title:r.spaceTypeDouble,value:ao.a.SpaceType.Double},selected:e,onSelect:t})))},Ao=({note:e,onChange:t})=>{const n=co(),r=Object(Z.pipe)(e,s.g.getOrElse(()=>""));return a.createElement("div",{className:so.userInputWrapper},a.createElement("span",null,a.createElement(Vi.a.New,{className:so.newBadge}),a.createElement(uo,{id:"note-to-editor",title:n.noteToEditor})),a.createElement("div",{className:so.noteContainer},a.createElement("textarea",{placeholder:n.notePlaceholder,maxLength:200,value:r,onChange:t,className:so.noteTextarea}),a.createElement("span",{className:so.noteCounter},r.length,"/",200," characters")))},_o=({proofit:e})=>{h.a.useSubscriptionTo(e.requestPlans);const t=co(),n=e.noteToEditor;return a.createElement(a.Fragment,null,a.createElement(ie.Typography.H2,{className:so.title},t.title),a.createElement(ie.Typography.H4,{className:so.subtitle},t.subtitle),a.createElement(i.a.div,{className:so.userInputsWrapper},e.viewState.pipe(g.a.map(s.g.fold(()=>a.createElement(oo.a,{variation:"blue",className:so.loader}),({userInputs:{nativeLanguage:t,dialect:r,quotationType:i,spaceType:o,noteToEditor:l}})=>a.createElement(a.Fragment,null,a.createElement(So,{selected:t,onSelect:t=>e.selectUserInput("nativeLanguage",t),showNoteToEditor:n}),a.createElement(wo,{selected:r,onSelect:t=>e.selectUserInput("dialect",t),showNoteToEditor:n}),a.createElement(Eo,{selected:i,onSelect:t=>e.selectUserInput("quotationType",t),showNoteToEditor:n}),a.createElement(Oo,{selected:o,onSelect:t=>e.selectUserInput("spaceType",t),showNoteToEditor:n}),n&&a.createElement(Ao,{note:l,onChange:t=>e.selectUserInput("noteToEditor",s.g.of(t.target.value))})))))))},xo={position:"absolute",width:m.a.percent(100),background:ge.a.CoreNeutral0,transition:"transform "+m.a.seconds(.5),willChange:"transform"},Io={},jo={pointerEvents:"none"},To={pointerEvents:"none"},Mo={position:"relative"},No={},Po=m.a.stylesheet({animation:[xo],stepShow:[xo,Io],step1Hide:[xo,jo,{transform:"translateX(-100%)"}],step2Hide:[xo,To,{transform:"translateX(100%)"}],step1:[xo,Mo],step2:[xo,No]}),Lo=m.a.stylesheet({animation:[xo],stepShow:[xo,Io],step1Hide:[xo,jo,{transform:"translateY(-100%)"}],step2Hide:[xo,To,{transform:"translateY(100%)"}],step1:[xo,Mo],step2:[xo,No]});var Ro;!function(e){e.Vertical="Vertical",e.Horizontal="Horizontal"}(Ro||(Ro={}));class Bo extends Xr.a{}const Fo=e=>{const{ref:t,onMount:n}=h.a.useElWatcher();h.a.useSubscriptionTo(t.pipe(g.b.compact,g.a.pairwise(),g.a.map(([e,t])=>{e.setAttribute("inert","true"),t.removeAttribute("inert")})));return a.createElement(Bo,{state:e.state,stateToClassMapper:t=>((t,n)=>void 0===t?{prev:{start:n.step1Hide,end:n.stepShow},next:{start:"",end:n.stepShow}}:t<e.state.get()?{prev:{start:n.stepShow,end:n.step1Hide},next:{start:n.step2Hide,end:n.stepShow}}:{prev:{start:n.stepShow,end:n.step2Hide},next:{start:n.step1Hide,end:n.stepShow}})(t,e.direction===Ro.Vertical?Lo:Po)},t=>Boolean(e.steps[t.state])?a.createElement(i.a.div,{key:"step"+(t.state+1),"data-step":t.state,mount:n,className:t.view,onTransitionEnd:e=>{"prev"===t.type&&"top"===e.propertyName&&t.done()}},e.steps[t.state]):Object(at.c)(t.state))},Do=({proofit:e})=>{const t=a.useContext(X.a.Context),{gnarSpec:n,pageId:r,docId:o}=a.useContext(S.a.Context);return a.createElement(a.Fragment,null,a.createElement("div",{className:Zi.stepWrapper},a.createElement(i.a.Fragment,null,e.leftStep.view(n=>n>0&&a.createElement(pt.a,{name:"proofit-order-promo-to-step-1",className:Zi.backButton,onClick:()=>e.changeLeftStep(Di.c.Step1)},"←",a.createElement("span",{className:Zi.backButtonText},t.back)))),a.createElement(Fo,{state:e.leftStep,direction:Ro.Horizontal,steps:[a.createElement(Ji,{key:"PromoStep1"}),a.createElement(Xi,{key:"PromoStep2"}),a.createElement(Gi,{key:"PromoStep3"}),a.createElement(_o,{key:"PromoStep4",proofit:e}),a.createElement(to,{key:"PromoStep5"})]})),a.createElement("div",{className:Zi.nav},a.createElement(pt.a,{name:"proofit-order-promo-to-step-2",className:Zi.navButton,disabled:e.leftStep.view(e=>e===Di.c.Step2),onClick:()=>{n.professionalProofreadingLearningButtonClick(o,r),e.changeLeftStep(Di.c.Step2)}},t.proofitOrderModal.promo.stepsNavigation.howItWorks),a.createElement("div",{className:Zi.delimiter}),a.createElement(pt.a,{name:"proofit-order-promo-to-step-3",className:Zi.navButton,disabled:e.leftStep.view(e=>e===Di.c.Step3),onClick:()=>{n.professionalProofreadingCompareOptionsButtonClick(o,r),e.changeLeftStep(Di.c.Step3)}},a.createElement(Vi.a.New,{className:Zi.newBadge}),t.proofitOrderModal.promo.stepsNavigation.compareOptions),a.createElement("div",{className:Zi.delimiter}),a.createElement(pt.a,{name:"proofit-order-promo-to-step-4",className:Zi.navButton,disabled:e.leftStep.view(e=>e===Di.c.Step4),onClick:()=>{n.professionalProofreadingProvideDetailsButtonClick(o,r),e.changeLeftStep(Di.c.Step4)}},t.proofitOrderModal.promo.stepsNavigation.provideDetails)))};var Ho,Vo,Uo=n("QuAz"),Wo=n("NmGF"),qo=n("3kT7");(Vo=Ho||(Ho={})).SlowPlane=()=>a.createElement("svg",{"aria-hidden":!0,width:"48",height:"46",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M2.99 37.27l31.972 8.01a3 3 0 0 0 3.63-2.144l8.463-32.043a3 3 0 0 0-4.433-3.345L2.187 31.78a3 3 0 0 0 .803 5.49z",fill:"#C5F7EB"}),a.createElement("path",{d:"M3.314 26.08l9.196 2.235a1 1 0 0 1 .634.479l4.621 8.153a1 1 0 0 0 1.83-.21l1.56-5.308a1 1 0 0 1 1.21-.686l11.6 3.007a1 1 0 0 0 1.218-.712l8.12-30.675a1 1 0 0 0-1.477-1.116l-38.786 23a1 1 0 0 0 .274 1.833z",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinejoin:"round"}),a.createElement("path",{d:"M12.929 28.5L42.25 1.803a.5.5 0 0 1 .733.675L21.429 30.5l-1.838 6.247a1 1 0 0 1-1.827.214L12.929 28.5z",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinejoin:"round"}))),Vo.MiddlePlane=()=>a.createElement("svg",{"aria-hidden":!0,width:"59",height:"34",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M6.865 15.93a13.498 13.498 0 0 1-.19-2.153c0-7.49 6.153-13.563 13.74-13.563 5.966 0 11.028 3.762 12.928 9.005 1.41-.773 3.01-1.255 4.74-1.255 4.822 0 8.813 3.444 9.638 7.97 3.473.802 6.065 3.86 6.065 7.53 0 4.28-3.516 7.75-7.852 7.75H8.638c-4.337 0-7.852-3.47-7.852-7.75 0-3.674 2.599-6.737 6.079-7.534z",fill:"#CDDBFF",fillRule:"nonzero"}),a.createElement("path",{d:"M45.341 21.214l1.34 8.994a1 1 0 0 1-.518 1.03l-3.053 1.626a1 1 0 0 1-1.181-.18l-8.143-8.239",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M40.616 10.086A20.928 20.928 0 0 1 52.99 8.548l3.235.584c1.036.187 1.72 1.158 1.528 2.168-.06.314-.2.607-.41.852l-1.49 1.745a18.883 18.883 0 0 1-8.918 5.794l-22.534 6.786a38.953 38.953 0 0 1-9.334 1.607l-2.64.129c-.686.033-1.271-.483-1.306-1.153a1.19 1.19 0 0 1 .13-.604l.707-1.378a.91.91 0 0 0-.06-.932l-3.952-4.6a.916.916 0 0 1 .265-1.29l1.607-1.045a.975.975 0 0 1 .956-.058l7.632 2.79c.26.128-2.172 1.516-1.908 1.396l24.118-11.253z",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M29.343 18.964L15.347 10.47a1 1 0 0 1 .077-1.752l2.732-1.342a1 1 0 0 1 .68-.074l22.776 5.595a1 1 0 0 1 .107 1.91l-11.511 4.242a1 1 0 0 1-.865-.084z",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M52.786 9.214a17.195 17.195 0 0 1-3.796 1.927l-.204.073",stroke:"#353847",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),Vo.QuickPlane=()=>a.createElement("svg",{"aria-hidden":!0,width:"42",height:"55",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M21 29c6.684 4.124 8.984 13.275 5.136 20.439a14.624 14.624 0 0 1-4.209 4.88L21 55l-.927-.681c-6.362-4.673-7.986-13.989-3.626-20.808A14.392 14.392 0 0 1 21 29zM35 27c4.785 3.027 6.422 9.726 3.654 14.961a10.64 10.64 0 0 1-2.989 3.538L35 46l-.665-.5c-4.553-3.43-5.704-10.248-2.569-15.23A10.421 10.421 0 0 1 35 27zM7 27c4.785 3.027 6.422 9.726 3.654 14.961A10.64 10.64 0 0 1 7.665 45.5L7 46l-.665-.5C1.782 42.07.631 35.251 3.766 30.27A10.421 10.421 0 0 1 7 27z",fill:"#FFC2C2"}),a.createElement("path",{d:"M2.337 27.657l16-14.28a4 4 0 0 1 5.326 0l16 14.28A4 4 0 0 1 41 30.641V35H1v-4.359a4 4 0 0 1 1.337-2.984z",stroke:"#353847",strokeWidth:"1.5",fill:"#F0F2FC",strokeLinejoin:"round"}),a.createElement("path",{d:"M15.963 4.877L18 2.5a3.951 3.951 0 0 1 6 0l2.037 2.377A4 4 0 0 1 27 7.48V39H15V7.48a4 4 0 0 1 .963-2.603z",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinejoin:"round"}),a.createElement("path",{d:"M18 7.414l.249-.366 1.02-1.5c.975-1.435 2.487-1.435 3.462 0l1.027 1.51.242.356",stroke:"#353847",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M21 21v15",stroke:"#353847",strokeWidth:"1.5",strokeLinecap:"round"})));var zo=n("iMP5");const $o=({proofit:e})=>{h.a.useSubscriptionTo(e.requestPlans);const t=a.useContext(X.a.Context),n=a.useContext(Va.a.Context),{gnarSpec:o,pageId:l,docId:c}=a.useContext(S.a.Context),{isInternalUser:u}=e;return a.createElement("div",{className:zo.content},a.createElement(i.a.div,{className:zo.proofitDetailsWrapper},e.viewStateAndSubscription.pipe(g.a.map(([d,p])=>Object(r.pipe)(d,s.g.fold(()=>a.createElement(oo.a,{variation:"blue",className:zo.loader}),d=>{const m=p.value,h=Boolean(u||(null==m?void 0:m.paymentMethod)),g=d.selectedPlans.some(e=>e.details.enabled&&Object(r.pipe)(e.details.credits,s.g.fold(()=>!1,e=>e.canBeUsed&&e.balance>0)));return ya.c.isSendingState(d.proofitState)?a.createElement(oo.a,{variation:"blue",className:zo.loader}):a.createElement(a.Fragment,null,a.createElement("div",{className:zo.tierTitleContainer},a.createElement(ie.Typography,{nodeType:"h3",id:"tier-title",styleType:ie.Typography.Type.Base,className:zo.tierTitle},t.proofitOrderModal.order.tierTitle),a.createElement(pt.a,{name:"helpMeChoose",className:zo.helpMeChooseBtn,disabled:e.leftStep.view(e=>e===Di.c.Step3),onClick:()=>{o.professionalProofreadingHelpMeChooseButtonClick(c,l),e.changeLeftStep(Di.c.Step3)}},a.createElement("span",{className:zo.helpMeChoose},t.proofitOrderModal.order.compareOptions))),a.createElement(pt.a.Group,{sticky:!0,className:zo.claritySplitButton},a.createElement(pt.a.White,{name:"proofit-order-split-button-tier-base",key:"proofit-order-split-button-tier-base",active:d.selectedPlanTier===ao.a.PlanTier.Base,className:zo.claritySplitButtonBase,"aria-describedby":"tier-title",onClick:()=>{o.professionalProofreadingSelectPlanTierButtonClick(c,l,ao.a.PlanTier.Base),e.selectPlanTier(ao.a.PlanTier.Base)}},t.proofitOrderModal.order.tierBase),a.createElement(pt.a.White,{name:"proofit-order-split-button-tier-clarity",key:"proofit-order-split-button-tier-clarity",active:d.selectedPlanTier===ao.a.PlanTier.Clarity,className:zo.claritySplitButtonClarity,"aria-describedby":"tier-title",onClick:()=>{o.professionalProofreadingSelectPlanTierButtonClick(c,l,ao.a.PlanTier.Clarity),e.selectPlanTier(ao.a.PlanTier.Clarity)}},t.proofitOrderModal.order.tierClarity)),a.createElement(ie.Typography.Base,{className:zo.plansTitle},t.proofitOrderModal.order.title),a.createElement(i.a.div,{className:zo.plansContainer,"data-name":"proofit-order"},d.selectedPlans.map((t,n)=>a.createElement(Go,{key:`${t.details.tier}-${t.details.turnaround}`,proofitState:d.proofitState,freeProofit:g,hasBillingInfo:h,plan:t,allPlans:d.selectedPlans,words:d.words,index:n,onPlanSelect:()=>(o.professionalProofreadingSelectButtonClick(c,l,ao.a.getPlanName(t.details.turnaround),t.details.tier),e.changeLeftStep(Di.c.Step4),t.select()),onPlanUnselect:()=>(o.professionalProofreadingUnselectButtonClick(c,l,ao.a.getPlanName(t.details.turnaround),t.details.tier),t.unselect())}))),a.createElement("div",{className:zo.summary},Object(r.pipe)(d.selectedPlan,s.g.fold(()=>a.createElement(ie.Typography.Lawyer,{className:zo.paymentWarning},h||!g?t.proofitOrderModal.order.warningConfirm():a.createElement(eo.a,{href:n.account.subscription},t.proofitOrderModal.order.paymentWarnings.updateBilling)),n=>{const{canBeUsed:i,balance:u,maxWordsPerCredit:p}=Object(r.pipe)(n.details.credits,s.g.fold(()=>({canBeUsed:!1,balance:0,maxWordsPerCredit:0}),e=>e));return Boolean(g&&i&&u>0&&p>=d.words)?a.createElement("div",{className:zo.termsContainer},a.createElement(Wo.a,{className:zo.agreeTermsCheckbox,checked:e.freeProofitTermsAgreed,name:"agreeTerms"},a.createElement(ie.Typography.Lawyer,null,t.proofitOrderModal.order.iAgree)),a.createElement(pt.a,{name:"termsAndConditions",className:zo.termsLinkBtn,disabled:e.leftStep.view(e=>e===Di.c.Step5),onClick:()=>{o.professionalProofreadingTermsAndConditionsButtonClick(c,l),e.changeLeftStep(Di.c.Step5)}},a.createElement(ie.Typography.Lawyer,{className:zo.termsLink},t.proofitOrderModal.order.terms))):a.createElement(Ko,{key:"PaymentWarning"+n.details.turnaround,price:n.details.price,subscription:m})})),a.createElement("div",{className:zo.summaryButtons},Object(r.pipe)(d.selectedPlan,s.g.fold(()=>a.createElement(pt.a.Primary,{key:"place-order",name:"place-order",className:zo.placeOrderButton,title:t.proofitOrderModal.order.chooseOptions,disabled:!0},t.proofitOrderModal.order.placeOrder),n=>{const{canBeUsed:i,balance:u,maxWordsPerCredit:p}=Object(r.pipe)(n.details.credits,s.g.fold(()=>({canBeUsed:!1,balance:0,maxWordsPerCredit:0}),e=>e)),m=Boolean(g&&i&&u>0&&p>=d.words),h=e.freeProofitTermsAgreed.view(e=>m&&!e);return a.createElement(pt.a.Primary,{key:"place-order",name:"place-order",className:zo.placeOrderButton,onClick:Jn.d.callOnce(()=>(o.professionalProofreadingPlaceOrderButtonClick(c,l,ao.a.getPlanName(n.details.turnaround),n.details.tier,e.requirePaymentCheck.get(),m),!m&&e.requirePaymentCheck.get()?e.changeRightStep(Di.d.Step2):n.placeOrder(s.g.none,m))),active:!0,disabled:ya.c.isSendingState(d.proofitState)||h},m?t.proofitOrderModal.order.orderForFree:t.proofitOrderModal.order.placeOrder,Object(r.pipe)(d.proofitState,s.g.fold(()=>a.createElement(oo.a,{className:zo.planLoading,variation:"white",size:18}),()=>null)))})),a.createElement(pt.a.Ghost,{key:"close",name:"close",className:zo.closeButton,onClick:()=>{o.professionalProofreadingCloseButtonClick(c,l),e.closeModal()}},t.actions.close))))}))))))},Go=({plan:e,allPlans:t,words:n,proofitState:o,freeProofit:l,hasBillingInfo:c,index:u,onPlanSelect:d,onPlanUnselect:p})=>{const m=e.details,{label:h}=m,g=a.useContext(X.a.Context),{canBeUsed:b,balance:y,maxWordsPerCredit:v}=Object(r.pipe)(m.credits,s.g.fold(()=>({canBeUsed:!1,balance:0,maxWordsPerCredit:0}),e=>e)),S=Boolean(l&&b)&&y>0&&v>=n,C=e.details.enabled&&(!l||S||c),w="$"+M.f.formatPrice(m.price),k="$"+m.perWord,E=f.b.chooseWhen(e.active);return a.createElement(i.a.div,{className:C?zo.planWrapper:zo.planWrapperDisabled,"data-name":h.replace(" ","")},a.createElement("div",{className:zo.iconContainer},(e=>{const t=[a.createElement(Ho.SlowPlane,null),a.createElement(Ho.MiddlePlane,null),a.createElement(Ho.QuickPlane,null)];return Boolean(t[e])?t[e]:Object(at.c)(e)})(u)),a.createElement(i.a.div,{className:zo.plans},a.createElement(i.a.div,{className:zo.planContainer},a.createElement("div",null,e.isRecommended(t)&&a.createElement(ie.Typography.Button,{className:zo.recommended},g.proofitOrderModal.order.recommended),a.createElement(ie.Typography.Base,{className:zo.planTitle},h),a.createElement("div",{className:zo.priceWrapper},a.createElement(ie.Typography.Base,{className:S?zo.priceFree:zo.price,"data-name":"turnaround-price"},w),a.createElement(ie.Typography.Small,{className:S?zo.priceFree:""},a.createElement("span",{"data-name":"price-per-word"},k)," ",g.proofitOrderModal.order.perWord))),a.createElement(pt.a.Animated,Object.assign({name:e.active.view(e=>e?"selected-order":"select-order"),styleType:E(ie.Typography.Type.Button,ie.Typography.Type.Base)},Object(ae.c)(S?zo.selectFreePlanButton:zo.selectPlanButton,E(qo.l,qo.p)),{"aria-label":E(g.proofitOrderModal.order.planIsSelected(h,w,k),g.proofitOrderModal.order.selectPlan(h,w,k)),"aria-live":E("assertive","off"),onClick:()=>e.active.get()?p():d(),active:e.active,disabled:!C||ya.c.isSendingState(o)}),E(g.statuses.selected,C?S?g.actions.free:g.actions.select:g.statuses.unavailable))),a.createElement(ie.Typography.SmallLight,{className:zo.freeCreditsRemained},S?g.proofitOrderModal.order.freeReviewsLeft(y):"")))},Ko=({price:e,subscription:t})=>{const n=a.useContext(Va.a.Context),r=a.useContext(X.a.Context).proofitOrderModal.order.paymentWarnings;switch(t.paymentMethod){case"payPal":return a.createElement(ie.Typography.Small,{className:zo.paymentWarning},r.payPal(e));case"creditCard":return t.creditCard||y.Monitoring.Logging.getLogger("ProofitView").warn("Missing credit card"),a.createElement(ie.Typography.Small,{className:zo.paymentWarning},r.creditCard(e)," ",a.createElement(eo.a,{href:n.account.subscription},r.updateBilling));default:return y.Monitoring.Logging.getLogger("ProofitView").warn("Unknown payment method: "+t.paymentMethod),a.createElement(a.Fragment,null)}};var Yo=n("DDUo");const Zo=Jn.d.lazy(()=>Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"cSoA"))),Xo=({proofit:e})=>{const t=a.createElement("div",{className:Yo.stepWrapper},a.createElement($o,{key:"OrderStep1",proofit:e})),n=a.createElement("div",{className:Yo.stepWrapper},a.createElement(a.Suspense,{fallback:a.createElement(oo.a,{variation:"blue",className:Uo.spinner})},a.createElement(Zo,{key:"OrderStep2",proofit:e})));return a.createElement(Fo,{state:e.rightStep,direction:Ro.Vertical,steps:[t,n]})};var Qo=n("gKWT");const Jo=({proofit:e})=>a.createElement("div",{className:Qo.wrapper},a.createElement("div",{className:Qo.row},a.createElement("div",{className:Qo.leftCol},a.createElement(Do,{proofit:e})),a.createElement("div",{className:Qo.col},a.createElement(Xo,{proofit:e}))));var es=n("jR3X");class ts extends a.Component{constructor(){super(...arguments),this._modalClassName=(e,t)=>{switch(e){case Di.a.Order:return t.proofitOrderModal;case Di.a.Success:return t.proofitOrderSuccess;default:return Object(at.c)(e)}}}render(){const{proofit:e}=this.props;return a.createElement(S.a.Context.Consumer,null,t=>a.createElement(i.a.Fragment,null,e.isVisibleModal.view(n=>n?a.createElement(Da.b,{positionType:"fixed",visible:e.isVisibleModal,animate:!0,smallResolution:"resize",key:"overlay"},a.createElement(Da.a,{close:()=>{t.gnarSpec.professionalProofreadingCloseButtonClick(t.docId,t.pageId),e.closeModal()},className:es.proofitModal,focusTrapMode:"dynamic",key:"modal"},a.createElement(i.a.div,Object.assign({name:"modalBody"},Object(ae.c)(es.proofitModalBody,e.modal.view(s.g.fold(()=>"",e=>this._modalClassName(e.type,es))))),e.modal.view(Object(r.flow)(s.g.map(t=>a.createElement(ns,{key:t.type,proofit:e,modal:t})),s.g.orNull))))):null)))}componentWillUnmount(){this.props.proofit.clearModals()}}const ns=({proofit:e,modal:t})=>{switch(a.useEffect(()=>()=>{e.changeLeftStep(Di.c.Step1),e.freeProofitTermsAgreed.modify(()=>!1)},[e]),t.type){case Di.a.Order:return a.createElement(Jo,{proofit:e,key:"order"});case Di.a.Success:return a.createElement(Hi.a,{payload:t.payload,close:()=>e.closeModal(),key:"success"});default:return Object(at.c)(t)}};var as,rs,is,os=n("NbEL"),ss=n("7qGb");!function(e){let t,n;!function(e){e.Default="default",e.TacticSelected="tacticSelected"}(t=e.Type||(e.Type={})),function(e){e.Idle="Idle",e.Loading="Loading"}(n=e.LoadingState||(e.LoadingState={})),e.isDefault=function(e){return e.type===t.Default},e.isPhrases=function(e){return e.type===t.TacticSelected}}(as||(as={})),function(e){e.create=function(e,c,u,d,p,m){const h=o.a.create(t(e)),f=new g.a.Subject,b=g.a.mergeStatic(Object(r.pipe)(f,g.a.tap(Object(r.flow)(is.match({onUpdatePhrases:Object(r.constant)(e=>(m.gnarSpec.ideasGenerateMoreMoreIdeasButtonClicked(m.pageId,e.name,m.pageSessionId),as.isPhrases(e)?Object.assign(Object.assign({},e),{loadingState:as.LoadingState.Loading}):e)),onCollapse:l(u),onInsertPhrase:a((e,{name:t})=>{c(e),m.gnarSpec.ideasSmartPhrasesButtonClicked(m.pageId,e.content,t,m.pageSessionId)}),onDismiss:i(()=>{d(),b.unsubscribe()}),onSelectTactic:n,onIdeate:Object(r.constant)(e=>Object.assign(Object.assign({},e),{type:as.Type.TacticSelected,loadingState:as.LoadingState.Idle}))}),h.modify.bind(h)))),Object(r.pipe)(h,g.a.switchMap(e=>{if(as.isPhrases(e)&&e.loadingState===as.LoadingState.Loading){const t=s.f.last(e.phrases);return Object(r.pipe)(p({tacticId:e.id,lastPhraseId:t.id,outcomeRequest:e.outcomeRequest}),s.l.map(t=>({prevId:e.id,phrases:t})))()}return g.a.EMPTY}),g.a.filter(s.b.isRight),g.a.map(s.b.unsafeGet),g.a.delay(1e3),g.a.tap(e=>h.modify(t=>as.isPhrases(t)&&e.prevId===t.id?Object.assign(Object.assign({},t),{phrases:e.phrases,loadingState:as.LoadingState.Idle}):t)))).subscribe();return{state:h,actions:f}};const t=e=>Object.assign(Object.assign({type:as.Type.Default},s.f.head(e.tactics)),e),n=e=>t=>{const n=t.tactics.find(t=>t.id===e.tacticId);return n?Object.assign(Object.assign({},t),n):(c("DraftAIEditorViewModel").error("Trying to select a missing section",{tactics:t.tactics.map(e=>e.id),selected:e.tacticId}),t)},a=e=>t=>n=>{if(as.isPhrases(n)){const a=n.phrases.find(e=>e.id===t.phraseId);a?e(a,n):c("DraftAIEditorViewModel").error("Trying to insert a missing phrase")}else c("DraftAIEditorViewModel").error("Cannot send phrase from Sections state");return n},i=ss.map(Object(r.constant)(r.identity)),l=ss.map(Object(r.constant)(t)),c=Object(T.l)(y.Monitoring.Logging.getLogger)}(rs||(rs={})),function(e){let t;!function(e){e[e.UpdatePhrases=0]="UpdatePhrases",e[e.Collapse=1]="Collapse",e[e.Dismiss=2]="Dismiss",e[e.SelectTactic=3]="SelectTactic",e[e.Ideate=4]="Ideate",e[e.InsertPhrase=5]="InsertPhrase",e[e.SelectMiniCard=6]="SelectMiniCard"}(t=e.Type||(e.Type={})),e.match=e=>n=>{switch(n.type){case t.UpdatePhrases:return e.onUpdatePhrases(n);case t.Collapse:return e.onCollapse(n);case t.Dismiss:return e.onDismiss(n);case t.InsertPhrase:return e.onInsertPhrase(n);case t.SelectTactic:return e.onSelectTactic(n);case t.Ideate:return e.onIdeate(n);default:return Object(at.c)(n)}}}(is||(is={}));var ls,cs=n("es5d"),us=n("HUX/"),ds=n("x98X"),ps=n.n(ds);!function(e){e.GenerateButton=e=>a.createElement(pt.a.Primary,Object.assign({},e,Object(ae.c)(hs.button,e.className)),a.createElement("img",{className:hs.logo,src:ps.a,alt:"","aria-hidden":!0}),e.children);const t=()=>{const{title:e,body:t}=a.useContext(ri.a.Context).draftAI.gallery.harvardRecommends;return a.createElement("div",{className:hs.tooltipRecommends},a.createElement("div",null,a.createElement(ht.d.IdeasRecommended,{width:"12",height:"14",className:hs.tooltipRecommendsIcon}),a.createElement("b",null,e)),a.createElement("div",null,t))};e.TacticButton=e=>a.createElement(pt.a.Primary,Object.assign({},e,Object(ae.c)(e.className,hs.tactic),{title:e.isRecommended?a.createElement(t,null):void 0,titleAlign:"topCenter"}),e.isRecommended?a.createElement(ht.d.IdeasRecommended,{className:hs.tacticRecommendedIcon}):null,e.children,Boolean(e.active)?a.createElement(ht.d.Cross,{className:hs.tacticSelectionIcon,width:12}):a.createElement(ht.d.NewSmall,{className:hs.tacticSelectionIcon})),e.MoreButton=e=>{const{more:t}=a.useContext(ri.a.Context).draftAI.gallery;return a.createElement(pt.a.Primary,Object.assign({},e,Object(ae.c)(e.className,hs.tactic,hs.more)),a.createElement("div",{className:hs.counter},a.createElement(li.a.Counter,{count:e.count,type:"blue"})),t,a.createElement(ht.d.Arrow,{className:hs.tacticSelectionIcon}))}}(ls||(ls={}));const ms=m.a.rem(1.375),hs=m.a.prefixedStylesheet("ideas_button",{button:[{height:m.a.rem(2.5),borderRadius:m.a.rem(2.125),display:"flex",flexDirection:"row",alignItems:"center",$nest:{"&[data-textpos='right']":{padding:`${m.a.rem(.5)} ${m.a.rem(1)} ${m.a.rem(.5)} ${m.a.rem(.5)}`}}}],logo:[{width:ms,height:ms,marginRight:m.a.rem(.5)}],tactic:[{paddingLeft:m.a.rem(1),paddingRight:m.a.rem(1),color:ge.a.CoreBlue50,height:m.a.rem(2.5),display:"inline-flex",flexDirection:"row",alignItems:"center",backgroundColor:ge.a.CoreNeutral10,border:"1px solid transparent",$nest:{"&:not([data-disabled='true']) > i":{fill:ge.a.CoreNeutral50,stroke:ge.a.CoreNeutral50},"&:not([data-hovered='true']) > i":{fill:ge.a.CoreNeutral50,stroke:ge.a.CoreNeutral50},"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:ge.a.CoreBlue10,borderColor:ge.a.CoreBlue50,$nest:{"& > i":{fill:ge.a.CoreBlue50,stroke:ge.a.CoreBlue50}}},"&:not([data-disabled='true'])[data-active='true']":{backgroundColor:ge.a.CoreBlue10,borderColor:ge.a.CoreBlue50,$nest:{"& > i":{fill:ge.a.CoreBlue50,stroke:ge.a.CoreBlue50}}}}}],more:[{$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{border:"1px solid transparent"}}}],tacticRecommendedIcon:[{marginLeft:m.a.rem(-.5)}],tacticSelectionIcon:[{marginRight:m.a.rem(-1),marginLeft:m.a.rem(.25)}],tooltipRecommends:[{fontSize:m.a.rem(.75),lineHeight:m.a.rem(1.125)}],tooltipRecommendsIcon:[{marginLeft:m.a.rem(-1.5),minHeight:m.a.rem(1.125),'& path[data-figure="bg"]':{fill:ge.a.CoreNeutral0},'& path[data-figure="arrow"]':{stroke:ge.a.CoreNeutral70},'& path[data-figure="arrow_spire"]':{fill:ge.a.CoreNeutral70}}],counter:[{width:m.a.rem(1.125),display:"inline-flex",marginRight:m.a.rem(.5)}]});var gs=n("ev6t"),fs=n("93Qa");function bs(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function ys(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function vs(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return ys(n.overflowY,t)||ys(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function Ss(e,t,n,a,r,i,o,s){return i<e&&o>t||i>e&&o<t?0:i<=e&&s<=n||o>=t&&s>=n?i-e-a:o>t&&s<n||i<e&&s>n?o-t+r:0}var Cs=function(e,t){var n=window,a=t.scrollMode,r=t.block,i=t.inline,o=t.boundary,s=t.skipOverflowHiddenElements,l="function"==typeof o?o:function(e){return e!==o};if(!bs(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,u=[],d=e;bs(d)&&l(d);){if((d=d.parentElement)===c){u.push(d);break}null!=d&&d===document.body&&vs(d)&&!vs(document.documentElement)||null!=d&&vs(d,s)&&u.push(d)}for(var p=n.visualViewport?n.visualViewport.width:innerWidth,m=n.visualViewport?n.visualViewport.height:innerHeight,h=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,f=e.getBoundingClientRect(),b=f.height,y=f.width,v=f.top,S=f.right,C=f.bottom,w=f.left,k="start"===r||"nearest"===r?v:"end"===r?C:v+b/2,E="center"===i?w+y/2:"end"===i?S:w,O=[],A=0;A<u.length;A++){var _=u[A],x=_.getBoundingClientRect(),I=x.height,j=x.width,T=x.top,M=x.right,N=x.bottom,P=x.left;if("if-needed"===a&&v>=0&&w>=0&&C<=m&&S<=p&&v>=T&&C<=N&&w>=P&&S<=M)return O;var L=getComputedStyle(_),R=parseInt(L.borderLeftWidth,10),B=parseInt(L.borderTopWidth,10),F=parseInt(L.borderRightWidth,10),D=parseInt(L.borderBottomWidth,10),H=0,V=0,U="offsetWidth"in _?_.offsetWidth-_.clientWidth-R-F:0,W="offsetHeight"in _?_.offsetHeight-_.clientHeight-B-D:0;if(c===_)H="start"===r?k:"end"===r?k-m:"nearest"===r?Ss(g,g+m,m,B,D,g+k,g+k+b,b):k-m/2,V="start"===i?E:"center"===i?E-p/2:"end"===i?E-p:Ss(h,h+p,p,R,F,h+E,h+E+y,y),H=Math.max(0,H+g),V=Math.max(0,V+h);else{H="start"===r?k-T-B:"end"===r?k-N+D+W:"nearest"===r?Ss(T,N,I,B,D+W,k,k+b,b):k-(T+I/2)+W/2,V="start"===i?E-P-R:"center"===i?E-(P+j/2)+U/2:"end"===i?E-M+F+U:Ss(P,M,j,R,F+U,E,E+y,y);var q=_.scrollLeft,z=_.scrollTop;k+=z-(H=Math.max(0,Math.min(z+H,_.scrollHeight-I+W))),E+=q-(V=Math.max(0,Math.min(q+V,_.scrollWidth-j+U)))}O.push({el:_,top:H,left:V})}return O};function ws(e){return e===Object(e)&&0!==Object.keys(e).length}var ks,Es=function(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(ws(t)&&"function"==typeof t.behavior)return t.behavior(n?[]:Cs(e,t));if(!n){var a=function(e){return!1===e?{block:"end",inline:"nearest"}:ws(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var a=e.el,r=e.top,i=e.left;a.scroll&&n?a.scroll({top:r,left:i,behavior:t}):(a.scrollTop=r,a.scrollLeft=i)}))}(Cs(e,a),a.behavior)}},Os=function(){return ks||(ks="performance"in window?performance.now.bind(performance):Date.now),ks()};function As(e,t,n,a,r,i){var o,s,l;void 0===a&&(a=600),void 0===r&&(r=function(e){return 1+--e*e*e*e*e}),o=e,s=e.scrollLeft,l=e.scrollTop,function e(t){var n=Os(),a=Math.min((n-t.startTime)/t.duration,1),r=t.ease(a),i=t.startX+(t.x-t.startX)*r,o=t.startY+(t.y-t.startY)*r;t.method(i,o),i!==t.x||o!==t.y?requestAnimationFrame((function(){return e(t)})):t.cb()}({scrollable:o,method:function(t,n){e.scrollLeft=Math.ceil(t),e.scrollTop=Math.ceil(n)},startTime:Os(),startX:s,startY:l,x:t,y:n,duration:a,ease:r,cb:i})}var _s=function(e,t){var n=t||{};return function(e){return e&&!e.behavior||"smooth"===e.behavior}(n)?Es(e,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,behavior:function(e){return Promise.all(e.reduce((function(e,t){var a=t.el,r=t.left,i=t.top,o=a.scrollLeft,s=a.scrollTop;return o===r&&s===i?e:[].concat(e,[new Promise((function(e){return As(a,r,i,n.duration,n.ease,(function(){return e({el:a,left:[o,r],top:[s,i]})}))}))])}),[]))}}):Promise.resolve(Es(e,t))},xs=n("fEss");const Is=J.b.Grid.make(({slots:e})=>a.createElement("div",{className:qs.container},e.body)),js=J.b.Node.make(({state:e,notify:t})=>{const n=a.createRef();return h.a.useSubscriptionTo(Object(r.pipe)(e,g.a.map(e=>e.scrollTo),g.a.distinctUntilChanged(),g.a.tap(e=>Object(r.pipe)(s.g.fromNullable(n.current),s.g.chain(t=>s.g.fromNullable(t.querySelector("."+Ts(e)))),Ps)))),a.createElement(i.a.div,{mount:n},e.pipe(g.a.map(e=>Object(r.pipe)(e.phrases,s.f.map(e=>a.createElement(pt.a.White,Object.assign({key:e.id,name:"phrase",onClick:t({type:is.Type.InsertPhrase,phraseId:e.id})},Object(ae.c)(I.o.button,qs.phrase,Ts(e.id))),e.content))))))}),Ts=e=>"phrase-id-"+e,Ms=J.b.Node.make(({state:e})=>{const t=a.createRef();return h.a.useSubscriptionTo(e.pipe(g.a.distinctUntilChanged(),g.a.switchMap(f.b.Scheduler.rafScheduler),g.a.tap(e=>Boolean(e)&&Object(r.pipe)(t.current,s.g.fromNullable,Ps)))),a.createElement(i.a.div,{className:e.pipe(g.a.map(e=>e?qs.loader:qs.loaderHidden)),mount:t},a.createElement(xs.a,null))}),Ns=J.b.Grid.make(({slots:e,state:t})=>{const{ref:n,onMount:o}=h.a.useElWatcher();return h.a.useSubscriptionTo(Object(r.pipe)(g.a.combineLatestStatic([n.pipe(g.b.compact),t.pipe(g.a.filter(e=>e.resetScroll))]).pipe(g.a.tap(([e])=>e.scrollTop=0)))),a.createElement(i.a.div,{mount:o,className:qs.phrases,style:t.pipe(g.a.map(e=>e.isScrollable),g.a.distinctUntilChanged(),g.a.startWith(!0),g.a.map(e=>({overflow:e?void 0:"hidden"})))},e.phrases,e.loader)}),Ps=s.g.tap(e=>_s(e,{behavior:"smooth",block:"nearest",inline:"start",scrollMode:"if-needed"})),Ls=J.b.Knot.make(Ns,{phrases:js,loader:Ms}),Rs=J.b.Union.asOption(J.b.Knot.make(Is,{body:Ls})),Bs=Object(r.flow)(g.a.map(s.g.fromPredicate(as.isPhrases)),e=>{const t=e.pipe(g.a.distinctUntilChanged(s.g.getEq(s.c.getStructEq({id:s.c.eqStrict,phrases:s.c.eqStrict})).equals),g.a.map(s.g.map(e=>Object.assign(Object.assign({},e),{phrases:{scrollTo:e.phrases[0].id,phrases:e.phrases}}))),g.a.scan((e,t)=>Object(r.pipe)(t,s.g.map(({id:t,phrases:n})=>Object(r.pipe)(e,s.g.filter(({id:e})=>e===t),s.g.fold(Object(r.constant)({id:t,phrases:n}),({id:e,phrases:t})=>({id:e,phrases:Fs(t.phrases,n.phrases)})))))),g.a.map(s.g.map(({phrases:e})=>e))),n=e.pipe(g.a.map(s.g.map(e=>e.loadingState)),g.a.distinctUntilChanged(s.g.getEq(s.c.eqStrict).equals),g.a.map(s.g.map(e=>e===as.LoadingState.Loading))),a=n.pipe(g.a.map(s.g.map(e=>!e))),i=e.pipe(g.a.pairwise(),g.a.map(([e,t])=>Object(r.pipe)(t,s.g.map(({id:t})=>s.g.exists(({id:e})=>e!==t)(e)))),g.a.startWith(s.g.none));return g.a.combineLatestStatic([t,n,a,i]).pipe(g.a.map(([e,t,n,a])=>Object(r.pipe)(Object(fs.sequenceS)(s.g.Applicative)({phrases:e,loader:t,resetScroll:a,isScrollable:n}))),g.a.map(s.g.map(({phrases:e,loader:t,isScrollable:n,resetScroll:a})=>({body:{phrases:e,loader:t,root:{resetScroll:a,isScrollable:n}}}))))});function Fs(e,t){const n=s.f.copy(e);for(let e=0;e<t.length;e++){const a=t[e];n[0].id===a.id&&n.shift(),n.push(a)}return{scrollTo:e[e.length-1].id,phrases:n}}const Ds=m.a.rem(1.375),Hs=m.a.keyframes({to:{opacity:0}}),Vs=m.a.keyframes({"0%":{opacity:0,transform:"translateY(50%)"},"50%":{opacity:0},"100%":{opacity:1}}),Us={height:m.a.rem(16.625),overflowY:"auto",animationDuration:"300ms",animationFillMode:"forwards"},Ws={height:m.a.rem(11),pointerEvents:"none",display:"flex",justifyContent:"center",alignItems:"center",width:m.a.percent(100),backgroundColor:ge.a.CoreNeutral0},qs=m.a.prefixedStylesheet("draft_ai_phrase_selector",{title:[{paddingTop:m.a.rem(1.5)}],loader:[Ws],loaderHidden:[Ws,{position:"absolute",opacity:0,bottom:0}],smartPhrasesTitle:[{color:ge.a.CoreNeutral50,textTransform:"uppercase",letterSpacing:ge.h.SubheadingLetterSpacing,fontSize:m.a.rem(ge.h.SubheadingSize),lineHeight:m.a.rem(ge.h.SubheadingLineHeight),borderBottom:"1px solid "+ge.a.CoreNeutral20,marginTop:0,paddingBottom:m.a.rem(.5),marginBottom:m.a.rem(.5)}],phrase:[{width:m.a.percent(100),whiteSpace:"initial",textTransform:"none",lineHeight:m.a.important(m.a.rem(1.375)),padding:`${m.a.rem(.3)} ${m.a.rem(.5)}`,$nest:{"&:not(:last-child)":{marginBottom:m.a.rem(.5)}}}],addPhraseIcon:[{minWidth:Ds,minHeight:Ds,marginTop:m.a.important(0)}],container:[{paddingBottom:m.a.rem(.75)}],phrases:[Us],phrasesRemoving:[Us,{animationName:Hs}],phrasesAppearing:[Us,{animationName:Vs}]}),zs=({tactics:e,description:t,selectedTactic:n,onSelect:r})=>a.createElement(a.Fragment,null,e.map(e=>a.createElement($s,{key:e.id,tactic:e,selected:e.id===n,onClick:()=>r(e.id)})),a.createElement(I.a,{className:Ys.description},t)),$s=({tactic:e,selected:t,onClick:n})=>{const r={name:"ideas-tactic-"+e.id,children:e.name,onClick:n};return t?a.createElement(pt.a.Primary,Object.assign({},r,{className:Ys.sectionButtonSelected})):a.createElement(pt.a.Ghost,Object.assign({},r,{className:Ys.sectionButton}))},Gs={marginRight:m.a.rem(.5),marginBottom:m.a.rem(.5),border:"1px solid "+ge.a.CoreNeutral20,backgroundColor:ge.a.CoreNeutral0,color:ge.a.CoreBlue50},Ks={color:ge.a.CoreNeutral0,backgroundColor:ge.a.CoreBlue50},Ys=m.a.prefixedStylesheet("ideas_tactic_selector",{sectionButton:[Gs],sectionButtonSelected:[Gs,Ks],description:[{marginTop:m.a.rem(.5),lineHeight:m.a.rem(1.375),marginBottom:m.a.rem(1)}]}),Zs=e=>{const t=Object(us.b)({layoutDensity:"minimal"});return a.createElement("div",{className:t.container},a.createElement(i.a.div,{className:gs.a.cardHeader},Object(r.pipe)(e.state.view("title"),g.a.map(e=>a.createElement(Js,null,e))),a.createElement("div",{className:gs.a.cornerButton},a.createElement(pt.a.Ghost,{name:"collapse",onClick:()=>e.actions.next({type:is.Type.Collapse})},a.createElement(ht.f.Collapse,null)))),a.createElement("div",{className:gs.a.cardWrapper},a.createElement("div",{className:gs.a.cardSectionsRow},a.createElement(i.a.Fragment,null,Object(r.pipe)(e.state,g.a.map(({tactics:t,description:n,id:r})=>a.createElement(zs,{tactics:t,description:n,selectedTactic:r,onSelect:t=>e.actions.next({type:is.Type.SelectTactic,tacticId:t})})))),J.b.mount(tl,(n=e,J.a.fromSideEffect(e=>n.actions.next(e.action.action.action.action),Bs(n.state))))),a.createElement(i.a.div,{className:gs.a.cardActionsRow},J.b.mount(al,J.a.fromSideEffect(t=>e.actions.next(t.action),e.state)),a.createElement("div",{className:gs.a.cardActionsSeparator}),a.createElement(pt.a.Ghost,{name:"dismiss",onClick:()=>e.actions.next({type:is.Type.Dismiss})},a.createElement(ht.d.Ignore,null)))));var n},Xs=J.b.Node.make(({notify:e})=>a.createElement(ls.GenerateButton,{name:"generate-more-phrases",onClick:e({type:is.Type.UpdatePhrases})},a.useContext(ri.a.Context).draftAI.morePhrases)),Qs=J.b.Node.make(({notify:e})=>a.createElement(ls.GenerateButton,{name:"inspire-me",onClick:e({type:is.Type.Ideate})},a.useContext(ri.a.Context).draftAI.inspireMe)),Js=e=>a.createElement("span",Object.assign({},Object(ae.c)(cs.a.lens,cs.a.dot,cs.a.commonLabel,gs.a.cardHeaderSpan)),a.createElement("img",{className:gs.a.titleIcon,src:ps.a,alt:"","aria-hidden":!0}),e.children),el=J.b.Grid.make(({slots:e})=>a.createElement(se.b,{alignment:"left",eventType:"onclick",stepId:br.a.StepId.Step15,title:"Click an idea to use and modify it.",message:"",themes:{notificationClassName:gs.a.onboardingNotification}},a.createElement(a.Fragment,null,e.phrases))),tl=Object(r.pipe)(Rs,J.b.patch("Some","value","body")(e=>J.b.Composite.make(el,e))),nl=J.b.Grid.make(({slots:e})=>a.createElement(se.b,{alignment:"left",eventType:"onclick",stepId:br.a.StepId.Step14,title:"Click to explore ideas",message:"",themes:{notificationClassName:gs.a.onboardingNotification}},a.createElement(a.Fragment,null,e.ideate))),al=J.b.Union.make("type",{[as.Type.Default]:J.b.Composite.make(nl,Qs),[as.Type.TacticSelected]:Xs}),rl=({draftAIEditorVM:e,lensPreviewVM:t,onTransitionEnd:n,transition:r})=>{const o=t.getLens(Ca.a.SpecialId.AllAlerts).view("count"),s=new g.a.Subject;return h.a.useSubscriptionTo(s.pipe(g.a.filter(e=>e.type===ei.b.Type.switchToClosestByViewport),g.a.mapTo({type:is.Type.Collapse}),g.a.tap(e.actions))),a.createElement(ti.b.FixedContent,{key:Ca.a.SpecialId.DraftAI,label:e.state.get().title},a.createElement(i.a.div,Object.assign({},Object(ae.c)(il.lensContainer,r.pipe(g.a.map(({base:e})=>e))),{onTransitionEnd:n}),a.createElement(i.a.div,Object.assign({},Object(ae.c)(il.cardWrapper,r.pipe(g.a.map(({content:e})=>e)))),a.createElement(Zs,Object.assign({},e)))),a.createElement(ti.b.SeeAlerts,{cardsViewportState:o.view(e=>e>0?os.a.below:os.a.hidden),actionEvents:s,cardsAmount:o}))},il=m.a.prefixedStylesheet("draft_ai_lens",{lensContainer:[{width:m.a.percent(100),paddingBottom:m.a.rem(3)}],cardWrapper:[{paddingRight:m.a.rem(2),paddingTop:m.a.rem(4.5)}]});var ol=n("pKiV"),sl=n("3F3p"),ll=n("+5S2"),cl=n("xdtP"),ul=n("dCuA"),dl=n("2U56"),pl=n("Fq1y");const ml=()=>{const e=a.useContext(X.a.Context);return a.createElement("div",{className:pl.content},a.createElement(I.a,{className:pl.originality100Text},e.plagiarism.originalText),a.createElement(gl,{className:pl.illusration}))},hl=({variation:e="violet"})=>a.createElement("div",{className:pl.content},a.createElement(oo.a,{variation:e,className:pl.loader}),a.createElement(I.a,{className:pl.loadingText},"Please wait.",a.createElement("br",null),"We’re checking your text against billions of web pages.",a.createElement("br",null),"It'll just take a moment.")),gl=({className:e})=>a.createElement("svg",Object.assign({},Object(ae.c)(e),{width:"334",height:"375",viewBox:"0 0 334 375",xmlns:"http://www.w3.org/2000/svg"}),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M160.3 199.297C145.842 196.217 135 183.375 135 168c0-17.673 14.327-32 32-32 17.673 0 32 14.327 32 32 0 14.726-9.947 27.128-23.488 30.856 1.032-4.938 2.81-9.608 5.193-13.675.144-.214.215-.357.36-.572 1.504-2.576 2.15-5.438 2.006-8.372-.214-4.15-2.15-7.943-5.088-10.52l-1.362-1.144c-2.222-1.574-4.874-2.576-7.74-2.72-4.302-.285-8.315 1.146-11.47 4.08-3.08 2.862-4.8 6.94-4.8 11.09 0 2.362.5 4.652 1.576 6.727.358.787.716 1.43 1.218 2.075 2.323 4.075 3.954 8.634 4.895 13.472z",fill:"#F7EAF7"}),a.createElement("path",{d:"M176.62 164.617c-2.222-1.577-4.874-2.58-7.74-2.723-4.302-.287-8.315 1.146-11.47 4.085-3.08 2.866-4.8 6.952-4.8 11.11 0 2.364.5 4.658 1.576 6.736.358.79.716 1.434 1.218 2.08 2.365 4.156 4.014 8.815 4.946 13.76.286 1.362.5 2.796.645 4.158.358 1.075 1.075 1.72 2.007 1.935.215 1.36 1.29 2.507 2.795 3.01l1.147.286c.286.07.645.07.93.07.647 0 1.292-.07 1.865-.285 0 0 1.002-.358 1.002-.43 1.076-.644 1.792-1.576 1.936-2.65 1.003-.288 1.792-1.148 2.078-2.223.072-.86.215-1.65.36-2.437.93-5.734 2.866-11.18 5.59-15.84.143-.215.214-.36.358-.574 1.505-2.58 2.15-5.447 2.007-8.386-.214-4.157-2.15-7.956-5.088-10.536l-1.362-1.147zm-8.745 19.71c.932.718 2.294 1.506 3.728 1.864-1.076 3.872-1.936 9.463-2.222 11.254h-3.01c-.286-1.79-1.147-7.454-2.222-11.253 1.434-.357 2.796-1.074 3.727-1.862zm-1.29-3.08c0-.073-.143-1.506 1.075-1.72h.36c1.217.214 1.074 1.647 1.074 1.72-.072.716-.79 1.432-1.29 1.79-.43-.43-1.147-1.074-1.22-1.79zm-1.003 17.344c.143.073.215.145.358.073.072 0 .144-.072.215-.072h3.297c.072.073.144.073.215.073h.072c.142 0 .214-.072.286-.072h4.3c-.143.79-.287 1.506-.43 2.295 0 .072 0 .143-.072.287h-12.04c-.073-.574-.144-1.147-.288-1.65-.07-.286-.143-.572-.215-.86l4.302-.07zm2.293 9.462c-1.79 0-3.368-.93-3.727-2.222h7.383c-.286 1.29-1.863 2.222-3.655 2.222zm3.943-3.297h-7.956c-.79 0-1.506-.5-1.792-1.147-.072-.43-.144-.93-.144-1.36h11.898c-.07.357-.07.715-.143 1.074-.214.86-.93 1.433-1.862 1.433zm10.106-28.455c.143 2.724-.502 5.376-1.792 7.67v.07c-.143.216-.215.43-.36.646-2.292 3.87-3.94 8.243-5.087 12.83h-4.23c.287-1.935 1.148-7.382 2.223-11.11.573.072 1.146.072 1.648-.07 1.22-.36 1.72-1.578 1.65-2.58-.073-.933-.646-1.578-1.435-1.722-.5-.07-1.432.144-1.934 1.29-.215.502-.43 1.147-.645 1.864-1.146-.287-2.364-.932-3.153-1.505.574-.502 1.362-1.29 1.434-2.365.072-1.22-.5-2.652-2.006-2.867H167.59c-1.506.287-2.08 1.72-2.008 2.868.072 1.075.86 1.863 1.433 2.365-.788.573-2.007 1.218-3.153 1.505-.215-.717-.43-1.362-.645-1.864-.502-1.146-1.434-1.36-1.936-1.29-.787.072-1.36.79-1.432 1.72-.072 1.004.43 2.222 1.648 2.58.502.144 1.076.144 1.65.072 1.002 3.656 1.934 9.103 2.22 11.11h-4.228c-1.003-4.372-2.58-8.458-4.66-12.185-.357-.644-.787-1.29-1.146-1.934 0 0 0-.072-.07-.072-.933-1.935-1.435-4.085-1.435-6.235 0-3.872 1.65-7.67 4.516-10.322 2.867-2.724 6.665-4.014 10.608-3.8 2.653.216 5.16 1.076 7.24 2.58.07.073.143.144.215.144 3.082 2.366 5.304 6.236 5.52 10.608zm-8.96 9.03c.215-.644.43-1.217.574-1.647.286-.717.788-.645.788-.645.43.07.502.573.502.717.072.573-.215 1.29-.86 1.433-.287.143-.645.215-1.004.143zm-10.177 0c-.36 0-.717 0-1.004-.07-.645-.215-.932-.86-.86-1.434 0-.143.072-.645.502-.717.143 0 .5.07.788.645.143.43.358.93.574 1.576z",fill:"#8189A9",fillRule:"nonzero"}),a.createElement("path",{d:"M167.804 157.88c-.287 0-.502-.287-.574-.574v-8.457c0-.36.287-.575.574-.575.358 0 .573.287.573.574v8.456c0 .36-.287.574-.573.574zm-10.75 2.58l-4.302-7.31c-.143-.216-.072-.574.215-.717.215-.144.573-.072.717.215l4.3 7.31c.144.215.072.574-.215.717-.072.072-.216.072-.287.072-.144 0-.36-.144-.43-.287zm-14.55 3.44c-.217-.143-.288-.43-.145-.716.142-.287.43-.36.716-.215l7.382 4.156c.287.143.36.43.215.717-.143.215-.286.286-.5.286-.145 0-.216 0-.288-.072l-7.383-4.157zm-3.442 14.48c-.287 0-.573-.288-.573-.503-.073-.358.214-.573.5-.573l8.458-.072c.358 0 .573.215.573.502.073.358-.214.573-.5.573l-8.458.072zm10.966 9.03c.215-.143.574-.072.79.215.142.215.07.573-.216.717l-7.31 4.23c-.073.07-.216.07-.288.07-.215 0-.43-.143-.5-.286-.145-.215-.073-.574.214-.717l7.31-4.23zm12.472-29.458l-1.505-4.874c-.072-.287.07-.574.358-.645.287-.072.573.07.645.358l1.505 4.875c.072.287-.07.573-.358.645h-.143c-.215 0-.43-.143-.502-.358zm-9.103 5.303l-3.727-3.44c-.215-.215-.215-.573 0-.788.215-.215.573-.215.788 0l3.728 3.44c.215.215.215.573 0 .788-.144.072-.287.144-.43.144-.144 0-.287-.073-.36-.145zm-4.66 8.816c0 .217-.214.432-.5.432h-.144l-4.945-1.076c-.287-.07-.502-.358-.43-.645.07-.285.358-.5.645-.43l4.945 1.076c.287.072.502.36.43.646zm-5.733 11.47l4.874-1.577c.287-.072.574.07.645.358.072.288-.07.574-.358.646l-4.874 1.577h-.142c-.215 0-.43-.143-.502-.358-.072-.287.072-.574.358-.646zm9.748 7.884c.143-.215.502-.215.788 0 .287.215.287.573.072.788l-3.44 3.727c-.144.07-.287.143-.43.143-.144 0-.287-.072-.36-.144-.285-.216-.285-.574-.07-.79l3.44-3.726zm40.063-27.523l-7.382 4.158c-.072.07-.143.07-.287.07-.215 0-.358-.07-.502-.285-.143-.287-.07-.574.216-.717l7.382-4.157c.287-.145.573-.073.717.214.142.286.07.573-.145.717zm3.372 14.48l-8.458-.073c-.287 0-.574-.215-.502-.573 0-.287.215-.502.573-.502l8.46.072c.285 0 .572.215.5.573 0 .215-.286.502-.573.502zm-10.608 9.03l7.31 4.23c.287.142.358.5.215.716-.072.143-.287.286-.502.286-.07 0-.215 0-.286-.07l-7.31-4.23c-.288-.144-.36-.502-.216-.717.216-.287.574-.358.79-.215zm.86-15.34c-.072-.285.143-.572.43-.644l4.945-1.075c.287-.07.573.145.645.43.072.288-.143.575-.43.646l-4.946 1.076h-.143c-.286 0-.5-.215-.5-.43zm6.163 11.47c.287.07.43.358.36.645-.073.215-.288.358-.503.358h-.143l-4.874-1.577c-.287-.072-.43-.358-.36-.645.073-.286.36-.43.646-.357l4.873 1.577zm-9.46 7.884l3.44 3.727c.215.216.215.574-.072.79-.07.07-.214.143-.357.143-.144 0-.287-.072-.43-.144l-3.44-3.728c-.216-.215-.216-.573.07-.788.288-.215.646-.215.79 0zm-5.233-30.82c-.287-.144-.358-.43-.215-.717l4.3-7.31c.144-.288.43-.36.717-.216s.36.43.215.718l-4.3 7.31c-.072.215-.215.287-.43.287-.072 0-.215 0-.287-.072zm-5.447-2.294c-.287-.072-.43-.358-.36-.645l1.506-4.874c.07-.286.358-.43.645-.357.286.07.43.358.358.645l-1.505 4.874c-.072.215-.287.358-.502.358h-.143zm9.102 4.945c-.215-.215-.215-.573 0-.788l3.727-3.44c.216-.215.574-.215.79 0 .214.215.214.573 0 .788l-3.728 3.44c-.072.072-.215.144-.36.144-.142 0-.357 0-.43-.145z",fillOpacity:".5",fill:"#C770C8",fillRule:"nonzero"}),a.createElement("g",{fillRule:"nonzero"},a.createElement("path",{d:"M297.125 147.025c.3.3.3.8-.1 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8zm3.9 4l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm6.8-5.7c.3.3.3.8-.1 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0zM121.425 366.225l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm5.6 5.7l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm5.7-5.7c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zM195.025 57.125l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm5.7 5.6l-1.9-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm-6.9.2c-.2 0-.4 0-.5-.1-.3-.3-.3-.8 0-1.1l1.7-1.9c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2zm5.7-5.6c-.2 0-.4-.1-.6-.2-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2z",fill:"#F9E799"}),a.createElement("path",{d:"M62.8 135.5c.5 0 .8-.2.8-.7 0-.5-.4-.8-.8-.8H48.3c-.4 0-.9.2-.9.7 0 .5.4.8.8.8h14.6zm-19.3 0c.4 0 .8-.2.8-.7 0-.5-.4-.8-.8-.8h-4.7c-.4 0-.8.2-.8.7 0 .5.4.8.8.8h4.7zm-4.7 5H49c.5 0 .8-.3.8-.8s-.4-.8-.8-.8H38.8c-.5 0-.8.3-.8.8s.4.8.8.8zm14.5 0h3.3c.5 0 .8-.3.8-.8s-.4-.8-.8-.8h-3.3c-.5 0-.8.3-.8.8s.4.8.8.8zM311 12.3c0 .4-.3.7-.8.8h-14.6c-.5 0-.8-.3-.8-.8s.4-.8.8-.8h14.6c.5 0 .8.4.8.8zm4 .7c-.4 0-.8-.3-.8-.8s.4-.8.8-.8h4.7c.5 0 .8.3.8.8s-.4.8-.8.8H315zm4.7 3.5c.5 0 .8.4.8.8 0 .5-.4.8-.8.8h-10.1c-.5 0-.8-.4-.8-.8 0-.5.4-.8.8-.8h10.1zm-14.5 0c.5 0 .8.4.9.8 0 .5-.4.8-.8.8H302c-.5 0-.8-.4-.8-.8 0-.5.4-.8.8-.8h3.2z",fill:"#A4D3FF"}),a.createElement("path",{d:"M0 3.9c0 2.2 1.8 3.9 3.9 3.9 2.2 0 3.9-1.8 3.9-3.9C7.8 1.7 6 0 3.9 0 1.7 0 0 1.7 0 3.9zm6.3 0c0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.3 1.1-2.4 2.4-2.4 1.3 0 2.4 1 2.4 2.4zM330.4 301c-1.9 0-3.4 1.5-3.4 3.4s1.5 3.4 3.4 3.4 3.4-1.5 3.4-3.4c-.1-1.9-1.6-3.4-3.4-3.4zm0 5.2c-1 0-1.9-.8-1.9-1.9 0-1 .8-1.9 1.9-1.9 1 0 1.9.8 1.9 1.9-.1 1.1-.9 1.9-1.9 1.9zM113.6 101.2c2.2 0 3.9-1.8 3.9-3.9 0-2.2-1.8-3.9-3.9-3.9-2.2 0-3.9 1.8-3.9 3.9 0 2.1 1.7 3.9 3.9 3.9zm0-6.3c1.3 0 2.4 1.1 2.4 2.4 0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.4 1.1-2.4 2.4-2.4z",fill:"#A1E7D7"}))));var fl,bl=n("5TOM");!function(e){e.NearTitle="NearTitle",e.AboveCards="AboveCards"}(fl||(fl={}));const yl=e=>{const t=a.useContext(X.a.Context);return a.createElement(vl.Content,Object.assign({},e,{theme:{viewport:dl.a.viewport,lensviewContentWrapper:dl.a.lensviewContentWrapper},loaderVariation:"cyan"}),a.createElement(i.a.div,Object.assign({},Object(ae.c)(dl.a.headerWrapper,e.transition.pipe(g.a.map(e=>e.title)))),a.createElement(ni.a.Title,{lensAlertsCount:e.state.view("currentLens","meta","percentile").view(Object(r.flow)(ci.a.fromRatio,ci.a.prism.reverseGet)),lensId:Ca.a.SpecialId.Plagiarism,lensPreviewVM:e.lensPreviewVM,customInfoButton:a.createElement(i.a.Fragment,null,e.getPlagiarismText(fl.NearTitle)(t,e.plagiarismModel.checkingState,e.state.view("currentLens","meta","percentile").view(ci.a.fromRatio),e.state.view("currentLens").view(e.capabilities.getActiveAlertsCount),e.state.view("currentLens","items","size")))})))};var vl,Sl;(Sl=vl||(vl={})).getPlagiarismTextNearTitle=(e,t,n,r,i)=>o.a.combine(t,n,r,i,(t,n,r,i)=>{const o="full"===t?e.plagiarism.loadingDescription:e.plagiarism.helpIconDescription(n,r,i);return r>0||"full"===t?a.createElement(pt.b,{key:o,title:o}):null}),Sl.getPlagiarismTextAboveCards=(e,t,n,a,r)=>o.a.combine(n,a,r,(t,n,a)=>e.plagiarism.lensDescription(t,n,a,Object(cl.a)(bl.whiteReferenceLink))),Sl.Content=e=>a.createElement(a.Fragment,{key:Ca.a.SpecialId.Plagiarism},a.createElement(ti.b.FixedContent,{label:e.state.get().currentLens.meta.title,onTransitionEnd:e.onTransitionEnd},e.children,a.createElement(ti.b.SeeAlerts,{key:"seeAlerts",cardsViewportState:ll.c.getCardsViewportState(e.state,e.cardsListScrollManager,e.capabilities),actionEvents:e.cardsVM.actionEvents,cardsAmount:e.state.view("currentLens").view("items").view("size")}),a.createElement(i.a.div,{className:e.theme.viewport},a.createElement(i.a.div,Object.assign({},Object(ae.c)(bl.content,e.transition.pipe(g.a.map(e=>e.base)))),o.a.combine(e.state.view("currentLens").view(e.capabilities.getActiveAlertsCount),e.plagiarismModel.checkingState,(t,n)=>{switch(n){case"idle":case"checking":return t>0?null:a.createElement(ml,{key:"originality100"});case"full":return a.createElement(hl,{key:"loading",variation:e.loaderVariation});default:return Object(at.c)(n)}})))),a.createElement(i.a.div,null,o.a.combine(e.state.view("currentLens").view(e.capabilities.getActiveAlertsCount),e.plagiarismModel.checkingState,(t,n)=>{switch(n){case"idle":case"checking":return t>0?a.createElement(Cl,Object.assign({key:"cards-view"},e)):null;case"full":return null;default:return Object(at.c)(n)}})));const Cl=({cardsVM:e,state:t,scrollEl:n,cardsListScrollManager:r,isMaster:l,transition:c,theme:u,checksFeedItem:d,capabilities:p,comparator:m})=>{const b=ul.a.Elements.create(),y=t.lens(Q.e.Prism.getLens()),v=o.a.create(s.g.none),S=new g.a.ReplaySubject;h.a.useSubscriptionTo(S.pipe(g.a.tap(e=>b.lens("scrollConsumer").set(e))));const C=ol.a.cardList(d(e.actionEvents)),w=ll.c.getScrollObserver(r).pipe(g.a.startWith(!1)),k=ii.a.createCardListFlow(e,new g.a.Subject,s.g.none,s.g.none)(e,y,S,w,p,m);return a.createElement(ul.a,{stateSyncListener:ul.a.superScrollListener(r,b),height:ll.c.getAssistantHeight(t,r,p),className:c.pipe(g.a.map(e=>e.assistantWrapper)),name:"plagiarism",isMaster:l},a.createElement(a.Fragment,null,a.createElement("div",{ref:e=>v.set(s.g.fromNullable(e)),className:bl.fakeTop}),a.createElement(i.a.div,{className:u.viewport},a.createElement(i.a.div,Object.assign({},Object(ae.c)(u.lensviewContentWrapper,c.pipe(g.a.map(e=>e.content)))),a.createElement(W.c,{onMount:()=>g.a.mergeStatic(n.pipe(g.a.tap(f.b.toAtom(b.lens("scrollProvider")))),v.pipe(g.a.tap(f.b.toAtom(b.lens("viewport"))))).subscribe()},J.b.mount(sl.a,()=>ll.c.getPlaceholderState(t,r)),J.b.mount(C,k))))))};var wl=n("RfT4"),kl=n("xUiX");const El=()=>a.createElement("svg",{"aria-hidden":!0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},a.createElement("path",{d:"M4.6665 4.66663L7.99984 7.99996L4.6665 11.3333M9.33317 4.66663L12.6665 7.99996L9.33317 11.3333",stroke:"#4D536E",strokeLinecap:"round"})),Ol=({state:e,navigationViewModel:t})=>{const{gnarSpec:n,pageId:r}=a.useContext(S.a.Context),i=a.useContext(X.a.Context);return a.createElement(pt.a.SidebarFlat,{name:"hide-assistant",className:kl.overviewBtn,onClick:()=>{t.events.next({type:"toggleSidebar",actionSource:Ft.b.sidebar}),n.assistantCloseButtonClick(r,e.get().currentLens.type)},tag:ro.b.div},a.createElement(I.l,{className:kl.hideAssistantOutcomeText},i.hideAssistant),a.createElement(El,null))},Al=({state:e,documentModel:t,features:n,navigationViewModel:r})=>a.createElement(i.a.div,{className:kl.sidebarHeader},e.view(Q.e.isSidebarOpened).view(i=>i?a.createElement(Ol,{key:"hide-assistant",state:e,navigationViewModel:r}):a.createElement("div",{"data-name":"toggler",key:"toggle-wrapper",className:kl.togglerWrapper},a.createElement(wl.a,{documentModel:t,features:n,navigationViewModel:r}))));var _l=n("JniT"),xl=n("1d/y");const Il=J.b.Node.make(({state:e,notify:t})=>a.createElement(pt.a.Primary,{name:"draftai-mini",className:Ml.button,onClick:t("click")},e.pipe(g.a.map(({title:e})=>e)))),jl=J.b.Union.asOption(Il),Tl={transition:"opacity 100ms"},Ml=m.a.prefixedStylesheet("draftai_minibutton",{button:[{position:"absolute",right:m.a.rem(2),padding:"0 "+m.a.rem(.5),transition:"opacity 100ms"}],icon:[{display:"inline-flex",minHeight:m.a.rem(2),minWidth:m.a.rem(2),verticalAlign:"top"}],fadeIn:[Tl,{opacity:1}],fadeOut:[Tl,{opacity:0}]}),Nl=J.b.Transition.make({fadein:Ml.fadeIn},{fadeout:Ml.fadeOut}),Pl=J.b.Animated.make(Nl,jl);var Ll=n("NW9S"),Rl=n("dS2Y");function Bl(e,t,n){return J.a.animatingFlow(function(e,t,n){const a=g.a.of(!0).pipe(g.a.delay(500));return J.a.fromSideEffect(()=>e.events.next({kind:Rl.b.Event.Kind.draftAIMiniCardClick,cardPosition:{top:0}}),g.a.combineLatestStatic([n.viewport,e.state,t,n.scrollTop,a]).pipe(g.a.map(([e,{node:t,title:n},a])=>Object(r.pipe)(t,s.g.filter(t=>Ll.b.FromWindowTop.ISO.unwrap(e.top)>t.getBoundingClientRect().bottom),s.g.chain(()=>a),s.g.map(()=>({title:n})))),g.a.startWith(s.g.none),g.b.distinct))}(e,t,n),s.g.fold(()=>s.g.some(s.m.right("fadein")),()=>s.g.some(s.m.both("fadeout","fadein"))))}var Fl=n("C2XS");const Dl={width:m.a.percent(100),paddingBottom:m.a.rem(2)},Hl={marginTop:m.a.rem(.40625)},Vl={marginLeft:m.a.rem(-1.5),paddingLeft:m.a.rem(1.5),paddingRight:m.a.rem(2),$nest:{iframe:{boxSizing:"content-box"}}},Ul=m.a.prefixedStylesheet("cheetah_lens",{lensContainer:[Dl],headerWrapper:[Hl],cardWrapper:[Vl]}),Wl=({onTransitionEnd:e,transition:t,cheetahViewModel:n})=>a.createElement(i.a.div,Object.assign({key:Ca.a.SpecialId.Cheetah},Object(ae.c)(t.pipe(g.a.map(e=>e.base)))),a.createElement(fr.a.Bottom,{className:dl.a.fixedLensContent,"aria-label":"Grammarly GO",role:"region",onTransitionEnd:e},a.createElement(i.a.div,Object.assign({},Object(ae.c)(Ul.lensContainer)),a.createElement(i.a.div,Object.assign({},Object(ae.c)(Ul.cardWrapper)),a.createElement(ti.c.Consumer,null,()=>a.createElement(i.a.Fragment,null,n.assistantViewModel.pipe(g.b.compact).pipe(g.a.map(e=>a.createElement(a.Fragment,null,J.b.mount(Object(Fl.f)(e),Object(Fl.e)(e)))),g.a.startWith(null))))))));var ql=n("8cPE"),zl=n("pgXu"),$l=n("XxZg"),Gl=n("GHbd");const Kl=e=>{const{children:t,onVisible:n}=e,r=h.a.useVisibilityObserverOnce(n);return a.createElement("div",{ref:r},t)};class Yl extends a.Component{constructor(){super(...arguments),this.getPremiumButtonShow=y.Monitoring.TimeSeries.rootFemetrics.getMetric($l.a.GetPremiumButton).getCounter($l.b.Show),this.getPremiumButtonClick=y.Monitoring.TimeSeries.rootFemetrics.getMetric($l.a.GetPremiumButton).getCounter($l.b.Click)}render(){const{transition:e,theme:t,upgradeViewModel:n,isDemoDoc:o,features:l}=this.props,c=o&&s.g.isSome(l.denali.getStartedType),u=l.denali.eligibleForFreeTrial;return a.createElement(W.b.Context.Consumer,null,o=>a.createElement(S.a.Context.Consumer,null,l=>a.createElement(i.a.div,Object.assign({},Object(ae.c)(t.contentWrapper,e.pipe(g.a.map(e=>e.content)))),a.createElement(ql.a,{name:"advanced"},n.advancedAlerts.view(Object(r.flow)(s.g.map(e=>{const r=e.alerts(),i=r.reduce((e,{count:t})=>e+t,0);return[a.createElement("div",{key:"some",className:t.advancedBlockWrapper},a.createElement(I.a,null,"We found"," ",a.createElement("b",null,i," additional writing"," ",M.f.pluralize(i,"issue","issues")),a.createElement("br",null),"in this text available only for Premium users."),a.createElement("div",{key:"advanced-block",className:t.advancedBlock},a.createElement("div",{className:t.alertList},r.map(e=>a.createElement(I.a,{key:e.category,className:t.alertBlock},a.createElement(li.a.Counter,{count:e.count,type:"yellow",theme:{counterWrapper:Object(ae.c)(t.counter).className,counterContent:t.counterContent}}),n.displayValue(e)))),a.createElement("div",{className:t.graphBlock},a.createElement("div",{className:t.graphCircle2},a.createElement("div",{className:t.graphCircle1},a.createElement(I.c,Object.assign({},Object(ae.c)(t.graphCounter,"windows"===o.info.os&&t.graphCounterWin)),i)))))),a.createElement("div",{key:"upgrade-block",className:t.upgradeBlock},a.createElement(Kl,{onVisible:()=>{const{pageId:e}=l,t={pageId:e,upgradeHookName:$l.c.AdvancedIssues,upgradeHookSlot:$l.d.Assistant};this.getPremiumButtonShow.setContext(t).increment(),l.gnarSpec.getPremiumButtonShow(l.pageId,"goPremium","advancedIssues")}},a.createElement(zl.a,{size:"big",title:u?"Try For Free":void 0,upgradeAction:()=>{const{pageId:e}=l,t={pageId:e,upgradeHookName:$l.c.AdvancedIssues,upgradeHookSlot:$l.d.Assistant};this.getPremiumButtonClick.setContext(t).increment(),l.gnarSpec.getPremiumButtonClick(l.pageId,"goPremium","advancedIssues"),this.props.upgradeViewModel.openUpgradeUrl(C.i.Place.DenaliDocument.editorDenaliAdvanced)}})),c&&a.createElement(v.a.Context.Consumer,null,e=>a.createElement(pt.a,{className:Gl.secondaryCta,name:"go-to-homepage",onClick:()=>((e,t)=>{e.gnarSpec.continueFreeButtonClick(e.pageId),t.navigate(v.a.routes.documents.href())})(l,e)},"Continue with free plan"))),...c?[]:[a.createElement("footer",{key:"footer",className:t.footer},a.createElement(I.i,{className:t.footerText},"It’s an online service that quickly and easily makes",a.createElement("br",null),"your writing better and makes you sound like a pro,",a.createElement("br",null),"or at least helps you avoid looking like a fool."),a.createElement(Zl,{className:t.footerLogo}))]]}),s.g.orNull))))))}}const Zl=({className:e})=>a.createElement("svg",{"aria-hidden":!0,width:"77",height:"20",viewBox:"0 0 77 20",className:e},a.createElement("path",{d:"M15.58138.367837l.088647 5.412045-.885505.275407c-.884542-2.75209-2.12367-4.31141-4.51328-4.31141H7.17438c-.08961 1.742595-.177293 4.67895-.177293 7.797587l2.12367-.091142c1.327775 0 1.94734-1.100637 2.212316-2.660947h.796858v6.512683h-.796858c-.264977-1.559318-.88454-2.659955-2.212317-2.659955l-2.12367-.091142c0 2.38455.087682 4.310417.177293 5.504178.17633 1.742594.6186 2.568815 1.769082 2.659957l1.0628.184266v.734088H.004586v-.734087l.885505-.184266c1.150482-.091142 1.592753-.917363 1.769083-2.659956.178257-2.84323.266904-8.80708 0-12.108993-.17633-1.743584-.6186-2.477673-1.769083-2.660947l-.885505-.092133v-.82523H15.58138zm31.331168 5.319616c3.009175 0 5.31014 2.75308 5.31014 6.514664 0 4.77108-2.831883 7.797586-7.522457 7.797586-1.682362 0-3.363762-.274417-4.956514-.641956.088647-1.92686.177294-13.670294 0-15.87058-.177294-1.101627-.44227-1.560308-1.23913-1.743583l-.619563-.092132v-.549824L43.814726 0c-.088647.918354-.088647 3.57831-.088647 6.513674.97415-.550814 1.94734-.82622 3.186468-.82622zM20.62606 5.50517c4.425597 0 6.638878 3.118637 6.638878 7.24677 0 3.94486-2.478258 7.247763-6.903855 7.247763-4.425598 0-6.637915-3.118638-6.637915-7.247763 0-3.943868 2.478258-7.24677 6.902892-7.24677zm32.74759 7.3392c0-3.761584 2.300964-7.339895 6.815208-7.339895 3.716423 0 5.487433 2.845213 5.487433 6.605807h-8.23163c-.088646 3.394045 1.50507 5.870727 4.691538 5.870727 1.41546 0 2.12367-.36556 3.009175-1.008506l.353624.45868C64.613492 18.715098 62.667117 20 60.188857 20c-3.983325 0-6.815207-2.935364-6.815207-7.15563zm22.83408-6.604815l.088646 3.57732-.6186.183274c-.79686-2.477674-1.858694-3.48618-3.45241-3.48618-1.061835 0-1.858693.82523-1.858693 2.018 0 1.193762.88454 1.835718 3.3628 2.844223 2.301926.917363 3.275114 2.018 3.275114 3.94486C77.004587 18.164282 74.79227 20 71.340824 20c-1.682362 0-3.629702-.36655-4.691538-.82523l-.088646-4.036992.619564-.184265c.974152 2.75209 2.21328 3.761584 3.89468 3.761584 1.416422 0 2.212317-1.009495 2.212317-2.110133 0-1.100637-.619563-1.743584-2.83188-2.567824-2.124634-.73508-3.62874-1.743584-3.62874-4.128133 0-2.38653 2.035987-4.404532 5.31014-4.404532 1.592752 0 3.009174.275407 4.07101.73508zM38.77024 5.87152l-1.416424 3.761584c-1.770046-1.19277-3.716423-.641956-4.159657 0-.087684 2.202266-.087684 5.687453.088646 7.432028.088647 1.099647.354587 1.64947 1.23913 1.741603l1.061834.092132v.73409h-8.230667v-.73409l.619564-.092132c.796858-.092133 1.150482-.641956 1.23913-1.741603.088646-1.92686.177293-5.780576 0-7.982842-.088648-1.19277-.442272-1.65046-1.23913-1.742593l-.619564-.092133V6.69774l5.929703-1.19277-.088647 3.21077c1.416422-3.302902 4.071973-3.761583 5.57608-2.84422zm6.107285 13.118687c1.85773 0 3.185505-2.84323 3.185505-6.513674 0-2.935363-1.061835-5.319913-3.009175-5.319913-.44227 0-.795895.091142-1.327776.275408-.087684 4.77009 0 10.183125.088646 11.467037.26594.091142.70821.091142 1.0628.091142zM20.361083 6.422532c-1.94734 0-2.478258 2.75209-2.478258 6.329408 0 3.486178.885505 6.3304 2.655552 6.3304 2.035023 0 2.566904-2.75209 2.566904-6.3304 0-3.486177-.885504-6.329408-2.744197-6.329408zm37.083577 4.679245l4.159657-.092133c0-1.834726-.264977-4.586815-1.769082-4.586815-1.50507 0-2.301928 2.567823-2.390575 4.678947z",fill:"#C6CBDE",fillRule:"evenodd"})),Xl=({transition:e,upgradeViewModel:t,lensPreviewVM:n,features:r,isDemoDoc:o})=>{const s=a.useContext(kr.a.Context).platform===kr.a.Platform.IPAD?Object.assign(Object.assign({},Gl),{paidView:Gl.paidViewIPad,graphCircle2:Gl.graphCircle2IPad}):Gl,l=a.useContext(X.a.Context).sidebar.premiumAlertsTitle;return a.createElement(ti.b.FixedContent,{label:l},a.createElement(i.a.div,Object.assign({},Object(ae.c)(s.paidView,e.pipe(g.a.map(e=>e.base)))),a.createElement(i.a.div,Object.assign({},Object(ae.c)(dl.a.headerWrapper,e.pipe(g.a.map(e=>e.title)))),a.createElement(ti.b.Title,{lensPreviewVM:n,lensId:Ca.a.SpecialId.Premium})),a.createElement(Yl,{transition:e,upgradeViewModel:t,lensPreviewVM:n,theme:s,features:r,isDemoDoc:o})))};var Ql,Jl=n("Od5a");class ec extends Xr.a{}!function(e){const t=()=>a.useContext(kr.a.Context).platform===kr.a.Platform.IPAD?yi.a.iPadWrapper:yi.a.wrapper,n=e=>new Map([[fl.NearTitle,vl.getPlagiarismTextNearTitle],[fl.AboveCards,()=>o.a.create(null)]]).get(e),l=e=>"prev"===e.type?e.done:r.constVoid;e.TheView=c=>{const u=a.useContext(kr.a.Context),d=_r.a.useCollapsibleNavbarThreshold(),p=t(),m=f.b.atomSwitchBy(e=>{let t=7;return t=31*t+Object(Qr.b)(e.currentLens.id),t=31*t+(ii.a.isInSuccess(e)?1231:1237),t},c.denaliViewModels.lensState),b=Object(_l.a)(!u.has(kr.a.Flag.supportsLottie)),{withNeutralForSelection:y}=a.useContext(ee.a.Context),v=y(ec),S=new g.a.Subject;return h.a.useSubscriptionTo(S.pipe(g.a.distinctUntilChanged(),g.a.tap(()=>ai.a.setTimeToGlobalTimers("timer_cardApply")))),a.createElement(v,{key:"animationWrapper",className:p,state:m,stateToClassMapper:e.stateToClassMapper,onMouseDown:c.onMouseDown},(e=>t=>{const{denaliViewModels:{successLensViewModel:c,lensPreviewViewModel:u,cardsViewModel:d,priorityEvents:p,upgradeViewModel:m,cardsListScrollManager:h,navigationViewModel:f,cheetahViewModel:b},capabilities:y,plagiarismModel:v,features:S,scrollEl:C,successIllustrations:w,documentModel:k,cardApplyTimer:E}=e,O=o.a.create(s.g.none),A=s.g.none,_=t.state.get(),x={navigateToAllAlerts:()=>f.events.next({type:"switchToAll",focusFirst:!1,actionSource:Ft.b.sidebar})},I=ne.b.createComponent({section:ne.b.create(ne.b.Id.checksFeed),component:i.a.div,skipDirection:"backwards",focusStrategy:e=>Object(Z.pipe)(e.querySelector('.fullCard, [id*="card-assistantCard"]'),s.g.fromNullable,s.g.map(e=>e.contains(document.activeElement)?document.activeElement:e),s.g.fold(()=>Object(Z.pipe)(Array.from(e.querySelectorAll('div[role="button"]')),va.filter(e=>{const t=e.getBoundingClientRect();return t.top>t.height&&t.bottom<window.innerHeight}),va.head,s.g.chain(oe.a.FocusStrategy.focusRootOrFirstFocusable)),oe.a.FocusStrategy.focusRootOrFirstFocusable))}),j=ii.a.isInSuccessWithDraftAI(e.denaliViewModels.lensState.get()),T=e=>{const t=Object.assign({},e);return t.next=t=>{Boolean(ei.b.isAlertApplyAction(t))&&E.next(t),e.next(t)},ii.a.item(t)};switch(_.currentLens.type){case Q.i.closed:return null;case Q.i.plagiarism:return a.createElement(ti.c.Provider,{value:x},a.createElement(I,null,a.createElement(yl,{"data-name":"plagiarism-view",transition:t.view,plagiarismModel:v,cardsVM:d,state:t.state,isMaster:"next"===t.type,onTransitionEnd:"prev"===t.type?t.done:r.constVoid,scrollEl:C,cardsListScrollManager:h,getPlagiarismText:n,lensPreviewVM:u,checksFeedItem:T,capabilities:y,comparator:ii.a.listItemOrd})));case Q.i.draftAI:return a.createElement(ti.c.Provider,{value:x},a.createElement(i.a.Fragment,null,O.view(s.g.fold(()=>null,e=>a.createElement(rl,{"data-name":"draftai-lens-view",draftAIEditorVM:e,lensPreviewVM:u,onTransitionEnd:l(t),transition:t.view})))));case Q.i.cheetah:const o=ne.b.createComponent({section:ne.b.create(ne.b.Id.checksFeed),component:i.a.div,focusStrategy:e=>Object(Z.pipe)(e.querySelector("input"),s.g.fromNullable,s.g.fold(()=>Object(Z.pipe)(e,oe.a.FocusStrategy.focusRootOrFirstFocusable),oe.a.FocusStrategy.focusRootOrFirstFocusable))});return a.createElement(i.a.Fragment,null,b.view(Object(r.flow)(s.g.map(e=>a.createElement(ti.c.Provider,{value:x},a.createElement(o,null,a.createElement(Wl,{cheetahViewModel:e,onTransitionEnd:l(t),transition:t.view})))),s.g.toNullable)));case Q.i.advanced:const M=ne.b.createComponent({section:ne.b.create(ne.b.Id.checksFeed),component:i.a.div});if(S.denali.premiumUphookCardUI){const n=t.state,r=ii.a.createCardListFlow(d,p,Object(Z.pipe)(A,s.g.map(e=>e.events)),s.g.some(m.events));return a.createElement(ti.c.Provider,{value:x},a.createElement(I,null,a.createElement(ti.a,{"data-name":"paid-cards-view",transition:t.view,cardsVM:d,lensPreviewVM:u,navigationVM:f,state:n,isMaster:"next"===t.type,onTransitionEnd:l(t),scrollEl:C,cardsListScrollManager:h,cardListFlow:r,checksFeedItem:ii.a.upgradeHookOnlyItem,capabilities:y,comparator:ii.a.listItemOrd,title:a.createElement(ti.b.Title,{lensPreviewVM:u,lensId:Ca.a.SpecialId.Premium,density:e.isXssViewport.pipe(g.a.map(e=>e?"compact":"cozy"))})})))}return a.createElement(ti.c.Provider,{value:x},a.createElement(M,null,a.createElement(Xl,{"data-name":"paidview",transition:t.view,upgradeViewModel:m,lensPreviewVM:u,features:S,isDemoDoc:k.isDemoDocument})));case Q.i.lensview:const N=_.currentLens.meta,P=l(t),L=t.state,R=t.state,B=a.createElement(ni.a.Component,{lensPreviewVM:u,lensId:L.get().currentLens.id,navigationVM:f,type:f.lensTitleType,lensAlertsCount:R.view("currentLens").view(y.getVisibleAlertsCount),customSideButton:Ca.a.isAllAlerts(L.get().currentLens.id)&&Object(Z.pipe)(A,s.g.map(e=>J.b.mount(Pl,Bl(e,O,h))),s.g.toUndefined),density:e.isXssViewport.pipe(g.a.map(e=>e?"compact":"cozy"))}),F=Ca.a.isMainLens(N.id),D=Object(Z.pipe)(ii.a.createCardListFlow(d,p,Object(Z.pipe)(A,s.g.map(e=>e.events)),s.g.some(m.events)),e=>Object(r.flow)(e,J.a.extendActions(g.a.tap(e=>{"content"===e.key&&"key"in e.action.action.action.action&&"alertRefSDUI"===e.action.action.action.action.key&&Zr.a.isSduiCardAction(e.action.action.action.action.action)&&e.action.action.action.action.action.actions.some(e=>"applyAlerts"===e.type)&&E.next(e.action.action.action.action.action)})))),H=()=>{const e=a.createElement(ti.a,{"data-name":"lensview",transition:t.view,cardsVM:d,lensPreviewVM:u,navigationVM:f,state:L,isMaster:"next"===t.type,onTransitionEnd:P,scrollEl:C,cardsListScrollManager:h,cardListFlow:D,checksFeedItem:T,capabilities:y,comparator:ii.a.listItemOrd,title:B});return a.createElement(I,null,S.denali.sdui?a.createElement(se.b,{alignment:"bottom",eventType:"onclick",stepId:le.b.StepId.Step4,title:"Review suggestions",message:"Grammarly checks for mistakes and suggests ways to improve your text.",dotPosition:{kind:"findFirstButton",position:se.a.rightTop,selector:`[data-name*="${vn.a.ComponentKnownName.ButtonAccept}"]`,buttonOrder:0},themes:{containerWrapperClassName:yi.a.onboardingWrapper},dismissalTrigger:R.pipe(g.a.pluck("currentLens"),g.a.map(y.getActiveAlert),g.b.compact,g.a.skipBy(Jr.a.eq),g.a.skip(1),g.a.map(r.constTrue))},e):e)};return a.createElement(ti.c.Provider,{value:x},j?a.createElement(Jl.a.View,{lens:N,transition:t.view,successLensViewModel:c,preventAnimation:S.preventAnimation,illustrations:w,onTransitionEnd:P,title:B,showTitle:F,scoreStatus:k.scoreStatus}):H());default:return Object(at.c)(_.currentLens)}})(Object.assign(Object.assign({},c),{successIllustrations:b,isXssViewport:d,cardApplyTimer:S})))};const c=ne.b.createComponent({component:i.a.nav,section:ne.b.create(ne.b.Id.navigation),refocusOnMutation:!1}),u=({expand:e})=>{const{sidebar:t}=a.useContext(ri.a.Context),n=f.b.chooseWhen(e);return a.createElement(i.a.button,{onClick:()=>e.modify(e=>!e),"aria-label":n(t.toggle.collapse,t.toggle.expand),className:n(yi.a.navExpandButton,yi.a.navCollapseButton),"aria-controls":"navbar-right","aria-expanded":e},a.createElement(ht.d.Arrow,null))};e.NavigationWrapper=({isSidebarOpened:e,onMount:t,onMouseDown:n,children:l})=>{const d=o.a.create(!1),{state:p}=a.useContext(ne.b.Context),{ref:m,onMount:b}=h.a.useElWatcher(),y=g.a.combineLatestStatic([d,e]).pipe(g.a.map(([e,t])=>t?e?yi.a.expandedNavWrapperTier:yi.a.collapsedNavWrapperTier:yi.a.navigationWrapperTier)),v=_r.a.useCollapsibleNavbarThreshold();return h.a.useSubscriptionTo(g.a.mergeStatic(p.pipe(g.a.map(Object(r.flow)(s.g.map(M.e.pick("id")),s.g.contains(ne.b.Id.navigation))),g.a.distinctUntilChanged(),g.a.tap(f.b.toAtom(d))),m.pipe(g.b.compact,g.a.switchMap(t=>g.a.combineLatestStatic([d,v,e]).pipe(g.a.tap(([e,n,a])=>{!e&&n&&a?t.setAttribute("inert","true"):t.removeAttribute("inert")})))))),a.createElement(c,{id:"navbar-right","data-name":"navigation-view",mount:t,onMouseDown:n,className:y},a.createElement(i.a.Fragment,null,g.a.combineLatestStatic([v,e]).pipe(g.a.map(([e,t])=>e&&t?a.createElement(u,{expand:d}):null))),a.createElement("div",{ref:b},l))},e.NavigationView=t=>{const{withNeutralForSelection:n}=a.useContext(ee.a.Context),r=n(e.NavigationWrapper);return a.createElement(r,{onMouseDown:t.onMouseDown,isSidebarOpened:t.denaliViewModels.lensState.view(Q.e.isSidebarOpened)},a.createElement(e.ActionsView,Object.assign({},t),a.createElement(e.LensNavigationView,Object.assign({},t)),a.createElement(i.a.Fragment,null,t.features.isFree.view(e=>e||t.features.denali.gbVoxLensUphook||$a.g.isBusinessAdmin(t.features.denaliUserType)?a.createElement(xl.a,{key:"freemium-notification-host",isSidebarOpen:t.denaliViewModels.lensState.view(Q.e.isSidebarOpened),upgradeViewModel:t.denaliViewModels.upgradeViewModel,navigationViewModel:t.denaliViewModels.navigationViewModel}):null))))},e.TheViewPlaceholder=()=>{const e=t();return a.createElement("div",{className:e})},e.Grid=({name:e,className:t,opened:n,children:r})=>a.createElement(i.a.div,Object.assign({key:"sidebar-tier","data-name":"sidebar-tier"},Object(ae.c)(yi.a.sidebarTier,n.view(e=>!e&&yi.a.hiddenWrapper),t)),a.createElement("div",{key:"sidebar-wrapper","data-name":e,className:yi.a.sidebarWrapper},r)),e.Aside=({opened:e,children:t})=>{const{landmark:n}=a.useContext(X.a.Context);return a.createElement(i.a.aside,Object.assign({"data-name":"sidebar-tier","arial-label":n.sidebar},Object(ae.c)(yi.a.sidebarTier,e.view(e=>!e&&yi.a.hiddenWrapper))),a.createElement("div",{key:"sidebar-wrapper","data-name":"sidebar",className:yi.a.sidebarWrapper},t))};const d=[Q.i.closed,Q.i.lensview,Q.i.advanced,Q.i.plagiarism],p=e=>(...t)=>[...t,e].join(" "),b=e=>Q.e.isLensview(e)&&!ii.a.isInSuccess(e)||e.currentLens.type===Q.i.advanced;e.stateToClassMapper=(e,t)=>{const n=void 0!==e&&e.get(),a=t.get();if(!1===n)return{prev:{start:{},end:{}},next:{start:{base:yi.a.sidebarEnterLeft,title:yi.a.titleEnterLeft},end:{base:yi.a.sidebarEnterLeft,title:yi.a.titleEnterLeft}}};if(Q.e.isSidebarOpened(n)){if(Q.e.isSidebarOpened(a)){if(a.alertSource===Q.c.forceSidebar||a.alertSource===Q.c.forceText)return{prev:{start:{base:yi.a.lensHideStart,content:yi.a.contentHideStart},end:{base:yi.a.lensHide,content:yi.a.contentHide}},next:{start:{},end:{}}};if(b(a)&&b(n)){const e="textOrder"===a.switchOrder?"lensMoveUp":Ca.a.ord.compare(n.currentLens.meta,a.currentLens.meta)>0?"lensMoveDown":"lensMoveUp",t=p(e);return{prev:{start:{base:"",title:yi.a.lensLeaveStartTitle,content:t(yi.a.lensLeaveStartContent,yi.a.lensLeaveStart),allAlertsButton:yi.a.allAlertsVisible,assistantWrapper:yi.a.absoluteAssistant},end:{base:"",title:yi.a.lensLeaveTitle,content:t(yi.a.lensLeaveContent,yi.a.lensLeave),allAlertsButton:yi.a.allAlertsHidden,assistantWrapper:yi.a.absoluteAssistant}},next:{start:{base:"",title:yi.a.lensEnterStartTitle,content:t(yi.a.lensEnterStartContent,yi.a.lensEnterStart),allAlertsButton:yi.a.allAlertsHidden},end:{base:"",title:yi.a.lensEnterTitle,content:t(yi.a.lensEnterContent,yi.a.lensEnter),allAlertsButton:yi.a.allAlertsVisible}}}}{const e=d.indexOf(n.currentLens.type)-d.indexOf(a.currentLens.type)>0||ii.a.isInSuccess(a)?"lensMoveUp":"lensMoveDown",t=p(e),l=ii.a.isInSuccess(a)?yi.a.stateEnterStart:yi.a.lensEnterStart,c=ii.a.isInSuccess(a)?yi.a.stateEnter:yi.a.lensEnter;return{prev:{start:{base:t(yi.a.stateLeaveStart),content:t(yi.a.lensLeaveStartContent),title:yi.a.lensLeaveStartTitle,assistantWrapper:yi.a.absoluteAssistant},end:{base:t(yi.a.stateLeave),content:t(yi.a.lensLeaveContent),title:yi.a.lensLeaveTitle,assistantWrapper:yi.a.absoluteAssistant}},next:{start:{base:a.currentLens.id===Ca.a.SpecialId.DraftAI?(i=a.currentLens,o=l,Object(Z.pipe)(i.transitionSource,s.g.map(({top:e})=>e),s.g.filter(e=>{const t=M.c.Rect.fromEl(document.body);return t.top<e&&e<t.bottom}),s.g.fold(Object(r.constant)(o),e=>m.a.style({opacity:0,transform:`translateY(${e}px)`})))):t(l),content:t(yi.a.lensEnterStartContent),title:yi.a.lensEnterStartTitle},end:{base:t(c),content:a.currentLens.id===Ca.a.SpecialId.DraftAI?yi.a.draftAILensContent:t(yi.a.lensEnterContent),title:yi.a.lensEnterTitle}}}}}return{prev:{start:{base:yi.a.sidebarLeaveRightStart},end:{base:yi.a.sidebarLeaveRight,title:yi.a.titleLeaveRight}},next:{start:{},end:{}}}}return{prev:{start:{},end:{}},next:{start:{base:yi.a.sidebarEnterLeftStart,title:yi.a.titleEnterLeftStart},end:{base:yi.a.sidebarEnterLeft,title:yi.a.titleEnterLeft}}};var i,o},e.Loader=({state:t,baseLoaderClass:n,showToolbar:r})=>a.createElement(e.Grid,{name:"sidebar-loader",opened:o.a.create(!0)},a.createElement(si,{state:t.view("lens"),theme:yi.b},a.createElement(i.a.div,Object.assign({},Object(ae.c)(yi.a.loaderWrapper,n)),a.createElement(ti.b.Rechecking,{"data-name":"lensviewRechecking",key:"lensview-rechecking"}))),a.createElement(Bi.Loader,{baseLoaderClass:n,state:t,showToolbar:r})),e.ActionsView=({denaliViewModels:{navigationViewModel:e,proofitViewModel:t,lensPreviewViewModel:n,lensState:r},documentModel:o,plagiarismModel:s,features:l,JSXPortal:c,children:u})=>a.createElement(i.a.div,{className:yi.a.actionsWrapper},a.createElement(Al,{documentModel:o,features:l,state:r,navigationViewModel:e}),u,r.view(Q.e.isSidebarOpened).view(Object(T.c)(null,a.createElement(mi,{state:r,plagiarismModel:s,proofitViewModel:t,lensPreviewVM:n,features:l,navigationViewModel:e}))),a.createElement(c,null,a.createElement(ts,{proofit:t}))),e.LensNavigationView=({denaliViewModels:e,documentModel:t,plagiarismModel:n,features:r})=>a.createElement(Bi,{state:e.lensState,checkingState:t.checkingState},a.createElement(Bi.Content,{documentModel:t,plagiarismModel:n,modalManager:e.modalManager,denaliViewModels:e,features:r}))}(Ql||(Ql={}));var tc=n("A7Qg"),nc=n("iVSA");const ac=m.a.rem(2),rc={opacity:0,pointerEvents:"none",position:"absolute",bottom:0,zIndex:m.d.level4},ic={display:"flex",flexDirection:"row",width:"auto",height:m.a.rem(2),borderRadius:ac,backgroundColor:nc.f.Base.Surface.Primary.Default,boxShadow:"0 0 .5px rgba(0, 0, 0, .4), 0 1px 3px rgba(0, 0, 0, .09), 0 4px 8px rgba(0, 0, 0, .09)",alignItems:"center"},oc={position:"relative",boxSizing:"border-box",minWidth:m.a.rem(2),height:m.a.rem(2),border:"none",background:"none",fontSize:m.a.rem(.75),cursor:"pointer",$nest:{svg:Object.assign(Object.assign({},{"--path-fill-1":"#018374","--path-fill-2":"#018374","--path-fill-3":"#00FFCE","--path-fill-4":"#018374"}),{fill:"none",stroke:"none"}),"&:hover":{backgroundColor:nc.f.Interface.InteractiveNeutral.Secondary.Hover},"&:first-child":{borderTopLeftRadius:ac,borderBottomLeftRadius:ac,paddingLeft:m.a.rem(.25),paddingRight:0},"&:last-child":{borderTopRightRadius:ac,borderBottomRightRadius:ac,paddingLeft:0}}},sc=m.a.rem(1.5),lc={width:sc,height:sc,backgroundPosition:"center",backgroundSize:sc},cc=m.a.prefixedStylesheet("cheetah_inline_button",{buttonWrapper:[rc],button:[ic],buttonItem:[oc],icon:[lc]}),uc={message:"Select any text to rewrite it with GrammarlyGO."},dc=({inlineViewModel:e,cheetahNavigation:t})=>a.createElement(i.a.div,{style:e.inlineButtonState.view(pc),className:cc.buttonWrapper,"aria-hidden":e.inlineButtonState.view(s.g.isNone)},a.createElement(se.b,{message:uc.message,eventType:"onclick",stepId:br.a.StepId.GrammarlyGORewrite,alignment:"right",dotPosition:{kind:"dotAtPosition",position:se.a.leftCenter},dismissalTrigger:e.inlineButtonState.pipe(g.a.map(s.g.isNone))},a.createElement("div",{className:cc.button},e.magicRewriteEnabled&&a.createElement(pt.a,{className:cc.buttonItem,name:"inline-magic-rewrite","aria-label":"Improve it by GrammarlyGO",onClick:()=>{y.Monitoring.Logging.getLogger("Cheetah").info("Inline button clicked: magic rewrite"),t.toCheetahLens(!0,!0)},title:"Improve it"},a.createElement(tc.a.Rewrite,{className:cc.icon})),e.inlineRewriteEnabled&&a.createElement(pt.a,{className:cc.buttonItem,onClick:()=>{y.Monitoring.Logging.getLogger("Cheetah").info("Inline button clicked: GrammarlyGO"),t.toCheetahLens(!0,!1)},name:"inline-grammarly-go",title:"Open GrammarlyGO","aria-label":"Open GrammarlyGO"},a.createElement(tc.a.GrammarlyGO,{className:cc.icon}))))),pc=e=>Object(Z.pipe)(e,s.g.fold(Object(r.constant)(hc),mc)),mc=({top:e,left:t})=>({top:e+gc,left:t,bottom:"auto",opacity:1,transition:"opacity .1s linear",pointerEvents:"auto"}),hc={},gc=8;class fc extends a.Component{constructor(){super(...arguments),this._editorHeight=o.a.create(0)}shouldComponentUpdate(){return!1}render(){const{denaliEditor:e,state:t,scrollbarViewModel:n,children:r,scrollEl:i,featuresViewModel:o}=this.props,s=gr.a.withViewportContainer(Sc(vc,{state:t}),{type:gr.a.ContainerType.inherit});return a.createElement(s,{name:"editorComponent",className:Ge.scrollWrapFixed},a.createElement(N.b,{denaliEditor:e,customTitlePlaceholder:o.denali.customTitlePlaceholder,theme:Object.assign({},Ge),scrollEl:i,editorHeight:this._editorHeight,scrollTop:n.scrollTop},r(new g.a.Subject,this._editorHeight)))}}class bc extends a.Component{render(){const{state:e,children:t}=this.props,n=Sc(yc,{state:e});return a.createElement(n,{name:"editorComponent",className:Ge.scrollWrapFixed},a.createElement(a.Fragment,null,a.createElement(Ye,{selectionEffect:ee.a.Effect.collapse},a.createElement("div",{className:Ge.textContent})),t))}}const yc=({className:e,onMount:t,children:n,name:r})=>a.createElement(i.a.div,{"data-name":r,name:"text",key:"denaliEditorWrapper",className:e,mount:t},n),vc=({className:e,onMount:t,children:n,name:r})=>a.createElement(i.a.main,{role:"main","data-name":r,name:"text",key:"denaliEditorWrapper",className:e,mount:t},n);function Sc(e,t){return class extends a.Component{constructor(){super(...arguments),this._textTransition=t.state.view(Q.e.isSidebarOpened).pipe(g.a.skip(1),g.a.switchMap(e=>oi.a.rafSequence(e?[Ge.toWritingStart,Ge.toWritingStart,Ge.toWritingEnd]:[Ge.toEditingStart,Ge.toEditingStart,Ge.toEditingEnd],!0)),g.a.startWith(void 0))}shouldComponentUpdate(){return!1}render(){const{className:t}=this.props;return a.createElement(e,Object.assign({},this.props,Object(ae.c)(t,Ge.editorComponentWrapper,Ge.container,this._textTransition)))}}}var Cc=n("2HQ1"),wc=n("hOiz"),kc=n("HeG+");class Ec extends a.Component{constructor(){super(...arguments),this._log=y.Monitoring.Logging.getLogger("SynonymsPopup"),this._state=o.a.create(s.g.none),this._getPosition=([e,t])=>this._el?Object(Z.pipe)(this.props.synonyms.getSynonymMarkRect(this.props.synonymsInfo.activeMark.meta.id),s.l.bimap(e=>(this._log.info("Cannot get synonym popup position",e),e),n=>{const a=yr.b.relativeToRoot(n),r=yr.b.relativeToViewport(n),{width:i,height:o}=this._el.getBoundingClientRect(),l=t<a.bottom+o+32&&o<a.top+150,c=l?a.top-o:a.bottom,u=r.left+i,d=u<e.right?0:u-e.right+32,p=a.left-d,m=(l?r.top-e.top-o:e.bottom-r.bottom-o)<70?s.g.some(l?Math.min(e.top+o+70,e.bottom-a.height):Math.max(e.bottom-o-70,a.height+70)):s.g.none;return s.g.some({card:{top:c,left:p},markOffset:m})})):s.l.right(s.g.none),this._sub=null,this._rendered=!1}componentDidMount(){const{synonyms:e,synonymsInfo:t,editorHeight:n}=this.props;this._sub=this.context.pipe(g.a.map(e=>e.rect),g.a.combineLatest(n),g.a.delay(1),g.a.switchMap(Object(r.flow)(this._getPosition,g.a.defer))).subscribe(n=>{this._rendered||(this._rendered=!0,Object(Z.pipe)(n,s.b.map(s.g.chain(({markOffset:e})=>e)),s.b.map(s.g.map(n=>{e.scrollToMark(t.activeMark.meta.id,n,x.a.fast).subscribe({error:e=>this._log.error("Cannot scroll to synonym",e)})})))),Object(Z.pipe)(n,s.b.fold(e=>this._log.error("Cannot get position",e),e=>this._state.set(s.g.map(({card:e})=>e)(e))))})}componentWillUnmount(){this._sub&&(this._sub.unsubscribe(),this._sub=null)}render(){const{synonyms:e,synonymsInfo:t}=this.props;return a.createElement(i.a.div,{mount:e=>this._el=e,key:"synonymsPopupWrapper",style:this._state.view(e=>s.g.getOrElse(()=>({visibility:"hidden",pointerEvents:"none"}))(e)),className:kc.synonymsPopupWrapper},a.createElement(Cc.a,{hide:()=>e.close("closedByUser")},this.props.features.synonymsSynfony?a.createElement(wc.b,{synonymsInfo:t,apply:t=>()=>e.apply(t)}):a.createElement(wc.a,{synonymsInfo:t,apply:t=>()=>e.apply(t)})))}}Ec.contextType=gr.a.Context;class Oc extends a.Component{constructor(){super(...arguments),this._log=y.Monitoring.Logging.getLogger("SynonymIconWrapper")}render(){const{markRect:e,className:t,children:n}=this.props;return a.createElement(i.a.div,{className:t,style:this.context.pipe(g.a.tap(e=>this._log.debug("Update tooltip position",e.rect)),g.a.map(()=>Object(Z.pipe)(e,s.b.map(e=>Jn.d.translate(e.left+e.width,e.top)),s.g.fromEither,s.g.getOrElse(()=>({visibility:"hidden"})))))},n)}}Oc.contextType=gr.a.Context;class Ac extends a.Component{constructor(){super(...arguments),this._log=y.Monitoring.Logging.getLogger("SynonymsView")}shouldComponentUpdate(){return!1}renderLoader(e){return g.a.defer(this.props.synonyms.getSynonymMarkRect(e.activeMark.meta.id)).pipe(g.a.map(s.b.map(yr.b.relativeToRoot)),g.a.map(e=>a.createElement(Oc,{className:kc.iconWrapper,markRect:e},a.createElement(ht.d.SynonymLoader,{className:kc.loader}))),g.a.delay(1e3),g.a.startWith(null))}renderPopup(e){return this.props.synonyms.onPopupOpen(),g.a.of(a.createElement(Ec,{synonyms:this.props.synonyms,synonymsInfo:e,editorHeight:this.props.editorHeight,features:this.props.features}))}render(){const{synonyms:e}=this.props;return a.createElement(i.a.div,{className:kc.contentWrapper},e.viewState.pipe(g.a.tap(e=>this._log.debug("Synonym state changed",Object(Z.pipe)(e,s.g.fold(()=>null,e=>({kind:e.synonymsState.kind,popupVisible:e.popupVisible}))))),g.a.switchMap(s.g.mapOrDefault(e=>Ta.a.isQuerying(e.synonymsState)?this.renderLoader(e):(Ta.a.isReady(e.synonymsState)||Ta.a.isEmpty(e.synonymsState))&&e.popupVisible?this.renderPopup(e):g.a.of(null),g.a.of(null)))))}}var _c=n("HDvz"),xc=n("EH1O"),Ic=n("3zdQ"),jc=n("qPuW");const Tc=({onClick:e,tooltip:t})=>a.createElement(pt.a.Ghost,{name:"to-home",onClick:e,title:t.view(s.g.orUndefined),className:jc.toolbarBtn,animationMode:vt.a.FromCenter},a.createElement(ht.d.Arrow,{className:jc.backIcon})),Mc=({userAccount:e})=>{const t=a.useContext(X.a.Context);return a.createElement(Tc,{tooltip:o.a.create(s.g.some(t.toolbar.signOut)),onClick:e.logout})},Nc=({type:e,userAccount:t})=>{const n=a.useContext(v.a.Context),r=a.useContext(X.a.Context);return a.createElement("div",{className:jc.fakeToolbarWrapper,"data-name":"document-tools"},t.features.isMacEditor?null:t.features.demoMode?a.createElement(Mc,{userAccount:t}):a.createElement(Tc,{tooltip:o.a.create(s.g.some(r.toolbar.backToMyGrammarly)),onClick:()=>n.navigate(v.a.routes.documents.href())}),a.createElement(I.f,{className:t.features.isMacEditor?jc.fakeToolbarTitleMacEditor:jc.fakeToolbarTitle,"data-name":"toolbar-title"},e===Pa.a.TextType.loading?r.toolbar.loading:r.toolbar.processing))};var Pc,Lc=n("vu24");!function(e){e.Loader=({userAccount:e,documentLoader:n,className:r})=>a.createElement(i.a.Fragment,null,n.state.view("text").view(s.g.mapOrDefault(i=>a.createElement("div",{key:"with-text-loader",className:r},a.createElement("div",Object.assign({key:"editor"},Object(ae.c)(Lc.secondTierLoader,Lc.baseLoaderClass)),!e.features.denali.hideToolbar&&a.createElement(Nc,{type:i,userAccount:e}),a.createElement(Ke,{position:"top"},a.createElement("div",{className:Lc.textLoaderWrap},a.createElement(Ic.b,null)))),a.createElement(t,{documentLoader:n})),null))),e.AssistantOnlyLoader=({documentLoader:e,className:n})=>a.createElement("div",{className:n},a.createElement(t,{documentLoader:e}));const t=({documentLoader:e})=>a.createElement(Ql.Loader,{key:"sidebar-loader",state:e.state,baseLoaderClass:Lc.baseLoaderClass,showToolbar:e.state.view("text").view(s.g.isNone)})}(Pc||(Pc={}));var Rc=n("BfMR");const Bc=({width:e,className:t,children:n})=>a.createElement(i.a.div,Object.assign({},Object(ae.c)(Rc.invisibleScrollbar,t),{style:e.pipe(g.a.map(e=>({width:`calc(100vw - ${e}px)`})))}),n),Fc=({onMount:e})=>a.createElement("div",{className:Rc.scrollDetector,ref:e}),Dc=()=>{const e=a.useContext(kr.a.Context);return h.a.useSubscriptionTo(e.has(kr.a.Flag.preventNavigationByOverscrollWithJS)?g.a.fromEvent(document,"wheel").pipe(g.a.tap(e=>{Math.abs(e.deltaX)>=Math.abs(e.deltaY)&&e.preventDefault()})):g.a.EMPTY),a.useEffect(()=>(document.body.classList.add(Rc.preventOverscroll),()=>document.body.classList.remove(Rc.preventOverscroll))),a.createElement(a.Fragment,null)},Hc=e=>{const{denaliEditorModel:t,documentModel:n,plagiarismModel:l,userAccount:c,denaliViewModels:u,capabilities:d,documentLoader:p,loaderClassName:m}=e,b=o.a.create(s.g.none),y=new Ir;h.a.useSubscriptionTo(b.pipe(g.a.tap(f.b.toAtom(y.target)))),h.a.useSubscriptionTo(u.modalManager.state.pipe(g.a.map(s.g.isSome),g.a.withLatestFrom(b.pipe(g.b.compact)),g.a.map(([e,t])=>e?t.setAttribute("inert","true"):t.removeAttribute("inert"))));const{withSelectionEffect:v}=a.useContext(ee.a.Context),S=v(({onMouseDown:e})=>a.createElement("div",{className:Lc.horizontalEditorWrapper,onMouseDown:e},a.createElement(gr.a.InheritVirtualContainer,{name:"withPadding",viewportPadding:k},a.createElement(fc,{denaliEditor:t,settingsModel:c.settings,featuresViewModel:c.features,state:u.lensState,scrollbarViewModel:y,scrollEl:b,viewportPadding:k},(e,r)=>a.createElement(Wc,{denaliViewModels:u,denaliEditorModel:t,editorHeight:r,docFeatures:n,features:c.features.denali}))),a.createElement(Fc,{key:"scroll-detector",onMount:e=>y.detector.set(s.g.fromNullable(e))})),ee.a.Effect.collapse),C=v(()=>a.createElement(Ql.TheView,{denaliViewModels:u,capabilities:d,documentModel:n,plagiarismModel:l,features:c.features,scrollEl:b}),ee.a.Effect.collapse),w=v(Ql.NavigationView,ee.a.Effect.collapse),k=o.a.create(x.h.empty),E=Jn.d.Portal.create("modals-portal");return a.createElement(a.Fragment,null,a.createElement(Dc,null),a.createElement(E.Destination,null),a.createElement(i.a.div,{"data-name":"document-content",className:Lc.secondTier,style:y.fakeWidth.pipe(g.a.map(e=>({paddingRight:e}))),mount:e=>b.set(s.g.fromNullable(e))},p.state.view("text").view(s.g.fold(()=>a.createElement(fr.a.Top,{className:Lc.fixedLoader,key:"navigation-loader"},a.createElement(Bc,{width:y.width,className:Lc.withPlaceForScrollbar},a.createElement(Pc.AssistantOnlyLoader,{documentLoader:p,className:m}))),()=>null)),a.createElement(Vc,{scrollbarWidth:y.width,sidebarOpen:u.lensState.view(Q.e.isSidebarOpened),editor:a.createElement(bc,{state:u.lensState,features:c.features},a.createElement(xt.Component,{denaliEditor:t,documentModel:n,settingsModel:c.settings,state:u.lensState,viewportPadding:k,formattingViewModel:u.formattingViewModel,emotionsViewModel:u.emotionsViewModel,features:c.features})),assistant:a.createElement(a.Fragment,null,a.createElement(Ql.TheViewPlaceholder,null),a.createElement(w,{denaliViewModels:u,capabilities:d,documentModel:n,plagiarismModel:l,features:c.features,scrollEl:b,JSXPortal:E.Source}))},a.createElement(()=>{switch(c.features.denali.documentToolbar){case $a.d.documentSettings:return a.createElement(_c.a,{documentSettingsViewModel:u.documentSettingsViewModel.viewModel,lensState:u.lensState,isDemoMode:c.features.demoMode,isUkraineMode:c.features.denali.ukraineLogo,isDemoDocOnboardingGateActive:c.features.denali.demoDocOnboardingCopyV1});case $a.d.none:return null;default:return Object(at.c)(c.features.denali.documentToolbar)}},null)),a.createElement(Uc,{opened:u.lensState.view(Q.e.isSidebarOpened),editor:a.createElement(S,null),assistant:a.createElement(C,null)}),u.cheetahViewModel.view(Object(r.flow)(s.g.map(({inlineViewModel:e,navigation:t})=>a.createElement(dc,{cheetahNavigation:t,inlineViewModel:e})),s.g.toNullable))))},Vc=({sidebarOpen:e,editor:t,assistant:n,scrollbarWidth:r,children:i})=>a.createElement(fr.a.Top,{className:Lc.fixedHorizontal},a.createElement(Bc,{width:r,className:Lc.withPlaceForScrollbar},t,a.createElement(Ql.Grid,{name:"sidebar-placeholder",opened:e},n),i)),Uc=({opened:e,editor:t,assistant:n})=>a.createElement("div",{className:Lc.horizontal},t,a.createElement(Ql.Aside,{opened:e},n)),Wc=({denaliViewModels:e,denaliEditorModel:t,editorHeight:n,docFeatures:r,features:o})=>{const l=a.useContext(X.a.Context),c=o.demoDocOnboardingCopyV1,u={denaliEditorModel:t,onboardingViewModel:e.onboardingViewModel},d=Object.assign(Object.assign({},u),{alignment:"bottomCenter",title:c?void 0:"In-line corrections",overlay:e=>a.createElement(fr.a.Top,{className:Lc.fixedOverlay},a.createElement(i.a.div,{className:e.view(e=>e?Lc.overlayVisible:"")},a.createElement(Da.b,{positionType:"fixed",visible:e,alignment:"none",overlayType:"transparent"}))),getFirstTargetRect:()=>e.onboardingViewModel.getFirstTargetRect()}),{withSelectionEffect:p}=a.useContext(ee.a.Context),m=p(ee.a.Effect.PlainContainer,ee.a.Effect.prevent);return a.createElement(i.a.Fragment,null,e.lensState.view(Q.e.isSidebarOpened).view(t=>t&&a.createElement(wr,Object.assign({key:"sidebar-opened"},d,{stepId:br.a.StepId.Step11,message:"Click underlined words to see more details about what Grammarly has found.",completionTrigger:e.onboardingViewModel.completionTrigger.pipe(g.a.skip(1)),eventType:"onclick"}))),a.createElement(Yr,{className:Lc.inlineCardWrapper,inlineCardVM:e.inlineCardViewModel,inlineUpgradeHookVM:e.inlineUpgradeHookViewModel}),a.createElement(wr,Object.assign({},u,{stepId:br.a.StepId.Step9,alignment:"bottomRight",eventType:"onhover",title:c?void 0:"Synonyms",message:"Click on a word twice to see the synonyms.",getFirstTargetRect:()=>e.synonymsViewModel.getFirstSynonymRect(),completionTrigger:e.synonymsViewModel.popupShown.pipe(g.a.skip(1))})),Object(Z.pipe)(e.formattingViewModel,s.g.map(e=>a.createElement(m,null,a.createElement(xc.a,{vm:e.linksManager}))),s.g.toNullable),a.createElement(Ac,{synonyms:e.synonymsViewModel,editorHeight:n,features:o}),a.createElement("div",{className:Lc.documentContainer},o.graySelection&&a.createElement(Ar,{ded:t}),a.createElement(Nr,{className:Lc.documentPlaceholder,viewModel:e.documentPlaceholderViewModel,strings:o.showUploadInPlaceholderText?r.rtfMode===C.d.DocumentFeatures.FormattingMode.on?l.placeholderRTF:l.placeholder:l.placehoderWithoutUpload})))};var qc=n("SxAM"),zc=n("zqxF");const $c=e=>{var t;return t=e.userAccount.features.track3rdPartyExtensionsInjection,h.a.useSubscriptionTo(t?g.a.fromEvent(document.body,"click",{passive:!0,capture:!0}).pipe(g.a.first(),g.a.delay(1e3),g.a.tap(()=>{const e=[...Array.from(document.documentElement.children),...Array.from(document.body.children)].filter(e=>!e.hasAttribute("data-verified")&&"head"!==e.nodeName.toLowerCase()).map(e=>({nodeName:e.nodeName,src:e.getAttribute("src"),content:e.outerHTML.substr(0,255)}));e.length&&e.forEach(e=>{y.Monitoring.Logging.getLogger("3rdPartyInjections").info("found unknown element",e)})})):g.a.EMPTY),a.createElement(Qc,{actions:e.environment.actions,documentModel:e.documentModel},a.createElement(Yc,Object.assign({},e)))},Gc=({denaliViewModels:e,userAccount:t,documentModel:n,documentLoader:i,notificationsManager:s,uploadViewModel:l})=>{const c=a.useContext(v.a.Context),u=a.useContext(Va.a.Context),d=a.useContext(S.a.Context),p=a.useContext(Ra.a.Context),m=e.createLoaderViewModel(l),f=o.a.create(!1),b=new Xa(e.modalManager,t,n,m,i.state,c,s,u,d,p,f);return h.a.useSubscriptionTo(b.init()),h.a.useEffectOnWillUnmount(()=>m.dispose()),h.a.useSubscriptionTo(Object(r.pipe)(e.cheetahViewModel,g.b.compact,g.a.switchMap(e=>e.usedDuringSession),g.a.tap(e=>f.set(e)))),a.createElement(a.Fragment,null)},Kc=Jn.d.lazy(()=>n.e(5).then(n.t.bind(null,"rdEn",7)));class Yc extends a.Component{constructor(){super(...arguments),this._subs=new Vt.a.Keeper}_trackAlertActions(){return[this.props.denaliViewModels.lensState.view(Q.e.isSidebarOpened).pipe(g.a.switchMap(f.b.orEmpty(this.props.denaliViewModels.alertUserEvents.alertClicked)),g.b.compact).subscribe(e=>{this.context.gnarSpec.alertUnderlineClick(this.context.pageId,"assistantOn",this.context.pageSessionId,Ca.a.isPremiumId(e.alert.lensId)?"premiumUphookPreview":e.alert.lensId)})]}componentWillMount(){y.Monitoring.Logging.root.context.add({denali:!0})}componentDidMount(){const{documentModel:e,selfUpdate:t,denaliEditorModel:n}=this.props;this.context.gnarSpec.denaliDocumentPageShow(this.context.pageId,document.location.toString(),this.context.isTouchDevice),this._subs.push(t.watch(e.saved.pipe(g.a.startWith(!0)),"saved"),n.dontFreezeWhen(o.a.combine(Da.b.activeCount,La.a.activeCount,(e,t)=>e+t>0),"overlay"),...this._trackAlertActions())}render(){const{denaliViewModels:e,denaliEditorModel:t,notificationsManager:n,uploadViewModel:o,environment:s,children:l,userAccount:c,subscription:u,documentModel:d,documentLoader:p}=this.props;return a.createElement(a.Fragment,null,a.createElement(se.b.Context.Provider,{value:e.onboardingViewModel},a.createElement(Ba.a.Context.Provider,{value:Ja(n,s)},a.createElement(ne.b.Context.Provider,{value:e.focus},a.createElement(ee.a.Context.Provider,{value:ee.a.getSelectionHOCs(t)},a.createElement(W.c,Object.assign({onUnmount:()=>{try{this.props.denaliViewModels.modalManager.hideAll(),e.dispose(),this._subs.dispose()}catch(e){y.Monitoring.Logging.getLogger("Main").error("Cannot shutdown the engine",e)}}},Object(ae.c)(zc.firstTier)),a.createElement(Gc,{denaliViewModels:e,userAccount:c,subscription:u,documentModel:d,documentLoader:p,notificationsManager:n,uploadViewModel:o}),l,a.createElement(qc.a,{searchViewModel:e.searchViewModel,key:"search-bar"}),a.createElement(Hc,Object.assign({},this.props,{loaderClassName:zc.firstTierLoader})),a.createElement(Zc,{modalManager:e.modalManager}),a.createElement(i.a.div,null,e.showConfetti.pipe(g.a.filter(r.identity),g.a.map(()=>a.createElement(Fa.a,{fallback:()=>null,name:"Confetti"},a.createElement(a.Suspense,{fallback:null},a.createElement(Kc,{recycle:!1,tweenDuration:1e4})))),g.a.startWith(null)))))))),a.createElement(hr,{documentUpload:o.uploadModel,modalManager:e.modalManager}))}}Yc.contextType=S.a.Context;const Zc=({modalManager:e})=>a.createElement(i.a.Fragment,null,e.state.view(Object(r.flow)(s.g.map(({component:e})=>e),s.g.toNullable))),Xc=({documentLoader:e,userAccount:t})=>a.createElement(Pc.Loader,{className:zc.firstTierLoader,userAccount:t,documentLoader:e});class Qc extends a.Component{constructor(){super(...arguments),this._log=y.Monitoring.Logging.getLogger("block_unsaved_changes"),this._blockNavigationWhenUnsavedChanges=()=>g.a.fromEvent(window,"beforeunload").pipe(g.a.withLatestFrom(this.props.documentModel.saved,(e,t)=>t?null:e),g.a.filter(Boolean)).subscribe(e=>(e.returnValue="The changes in your document may be lost if you leave this page.","The changes in your document may be lost if you leave this page.")),this._notifyAboutDocumentStateChange=()=>this.props.documentModel.saved.pipe(g.a.startWith(!0)).subscribe(e=>{Object(r.pipe)(this.props.actions.documentStateChanged(e?W.b.DocumentState.SAVED:W.b.DocumentState.NOT_SAVED),s.b.mapLeft(e=>this._log.warn("Could not perform documentStateChanged action.",e)))}),this._handleUnsavedChanges=()=>this._blockNavigationWhenUnsavedChanges().add(this._notifyAboutDocumentStateChange())}render(){return a.createElement(W.c,{onMount:this._handleUnsavedChanges},this.props.children,a.createElement(Ha.b.Block,{when:this.props.documentModel.saved.pipe(g.a.startWith(!0),g.a.map(e=>!e)),message:()=>(this.props.documentModel.flush().catch(e=>this._log.error("Could not flush document before exit",e)),this._log.warn("unsaved changes prompt before navigate"),"You may have unsaved changes in your document that will be lost if you leave the page.")}))}}var Jc=n("0Qd1");const eu=m.a.style({margin:`${m.a.rem(-10)} ${m.a.rem(-2)} 0 0`}),tu=()=>{const e=a.useContext(v.a.Context);return a.createElement(Jc.a,{name:"doc-not-found",logo:a.createElement(nu,{className:eu}),title:"Can’t find this document",description:"It looks like this document was removed or URL is incorrect.",primaryButton:{title:"Go to your documents",onClick:()=>e.navigate(v.a.routes.documents.href())}})},nu=({className:e})=>a.createElement("svg",{"aria-hidden":!0,width:"194",height:"128",viewBox:"0 0 194 128",className:e},a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M44 40h64c2.2 0 4 1.8 4 4v80c0 2.2-1.8 4-4 4H45c-2.76 0-5-2.24-5-5V44c0-2.2 1.8-4 4-4z",fill:"#E4E6F2",opacity:".8"}),a.createElement("rect",{stroke:"#8189A9",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",x:"47",y:"33",width:"72",height:"88",rx:"1"}),a.createElement("path",{d:"M60.28 86h44.67M60.28 96h44.67M60.28 107H73",stroke:"#E4E6F2",strokeWidth:"2",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("g",{transform:"translate(64 47)"},a.createElement("circle",{fill:"#8189A9",cx:"3",cy:"3",r:"3"}),a.createElement("circle",{fill:"#8189A9",cx:"33",cy:"3",r:"3"}),a.createElement("path",{d:"M29.46 21.54C26.66 18.74 22.78 17 18.5 17c-4.28 0-8.16 1.73-10.96 4.54",stroke:"#8189A9",strokeWidth:"2",strokeLinecap:"round"})),a.createElement("path",{d:"M188.13 106.03c.3.3.3.8-.1 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8zm3.9 4l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm6.8-5.7c.3.3.3.8-.1 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0zM86.03 3.13l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm5.7 5.6l-1.9-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm-6.9.2c-.2 0-.4 0-.5-.1-.3-.3-.3-.8 0-1.1l1.7-1.9c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2zm5.7-5.6c-.2 0-.4-.1-.6-.2-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2z",fill:"#F6C2CB",fillRule:"nonzero"}),a.createElement("path",{d:"M4.6 60.2c2.2 0 3.9-1.8 3.9-3.9 0-2.2-1.8-3.9-3.9-3.9-2.2 0-3.9 1.8-3.9 3.9 0 2.1 1.7 3.9 3.9 3.9zm0-6.3C5.9 53.9 7 55 7 56.3c0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.4 1.1-2.4 2.4-2.4z",fill:"#A1E7D7",fillRule:"nonzero"}))),au=({docId:e,engine:t,ded:n,userAccount:r,upgradeHook:i,remSize:o,notificationsCenter:s,networkState:l,uploadViewModel:c,notificationsManager:u,selfUpdate:d,clientsState:p,documentLoader:m,textResources:h,config:g,router:f,environment:b,platformEnvironment:y})=>{const v=new le.a(t,n,r,i,r.subscription,b,y,a.useContext(S.a.Context),o,l,e,c,u,r.settings,m,h,g,f);return a.createElement($c,{denaliEditorModel:n,plagiarismModel:t.plagiarismModel,documentModel:t.sessionModel,uploadViewModel:c,userAccount:r,subscription:r.subscription,selfUpdate:d,denaliViewModels:v,capabilities:v.capabilities,notificationsManager:u,clientsState:p,documentLoader:m,environment:b},s)};let ru=c.b.fontsProvider(i.a.div);const iu=e=>{const{docId:t,userAccount:n,networkState:r,selfUpdate:o,uploadViewModel:m,upgradeHook:f,engineStream:v,notificationsManager:C,clientsState:w,documentLoader:k,textResources:E,config:A,router:_,environment:x,platformEnvironment:I}=e,j=y.Monitoring.Logging.getLogger("denali.editorContent"),T=a.useContext(S.a.Context),M=a.createElement(d.a,{key:"platformNotificationsCenter",views:O.a,manager:C,onNotificationClose:e=>T.gnarSpec.notificationCloseButtonClick(e.type,T.pageId)});return h.a.useEffectOnDidMount(()=>{document.body.classList.remove("editorTs")}),h.a.useEffectOnWillUnmount(()=>{document.body.classList.add("editorTs")}),s.g.isSome(e.userAccount.features.denali.fontAccessibilityTesting)&&(ru=c.a.experimantalFontsProvider(i.a.div)),a.createElement(u.a.DefaultManager,null,a.createElement(b.a.DefaultManager,null,a.createElement(ru,{key:t},a.createElement(Na.a,null),v.pipe(g.a.map(s.g.fold(()=>M,s.b.fold(e=>e.code===l.a.WsCodes.NOT_FOUND?(j.warn("document not found on init",e),a.createElement(tu,{key:"404"})):(e.code===l.a.WsCodes.UNAUTHORIZED?j.warn("unauthorized on init",e):j.warn("engine init error",e),M),([e,i])=>a.createElement(u.a.Context.Consumer,{key:"remSize"},s=>a.createElement(S.a.ContextProvider,{gnarSpec:T.gnarSpec,docId:T.docId,pageId:i.sessionModel.isDemoDocument?"demoDocument":"document",pageSessionId:T.pageSessionId},a.createElement(au,{key:"main",docId:t,engine:i,ded:e,remSize:s,notificationsCenter:M,uploadViewModel:m,networkState:r,userAccount:n,upgradeHook:f,notificationsManager:C,selfUpdate:o,clientsState:w,documentLoader:k,textResources:E,config:A,router:_,environment:x,platformEnvironment:I})))))),g.a.startWith(M)),a.createElement(p.a,{key:"tooltip"}))))};class ou extends a.Component{constructor(){super(...arguments),this._uploadViewModel=new E.b(this.props.doxApi,this.props.router,this.props.notificationsManager,this.context,this.props.environment,this.props.config),this._documentLoader=new Pa.b(this.props.router,this.props.userAccount.features.denali),this._docId=o.a.create(s.g.fromNullable(Number(this.props.docId)))}_renderPageDoc(e){const{userAccount:t,networkState:n,upgradeHook:i,doxApi:o,doxWSApi:l,wsConnectivity:c,selfUpdate:u,notificationsManager:d,clientsState:p,textResources:m,config:h,router:b,environment:y,platformEnvironment:S,telemetryContainerId:E,fingerprints:O}=this.props,L=Mt.createDoxEventsCollector(),B=f.b.promiseToStream(()=>Ma.getDoxInit(e,l,c,L).then(n=>{const a={id:e,rtfMode:C.d.DocumentFeatures.getFormattingMode(n.meta.originalFilename,n.meta.createdAt,t.features.denali),template:w.a.fromDocSettings(n.meta.settings)},i=k.a.create(n,L.dox,t.features),s=((e,t,n,a)=>{const i=K.a.isDraftAIMode(n,e.features.denali),o=n.rtfMode===C.d.DocumentFeatures.FormattingMode.on,s=t.has(W.b.Flag.pasteAsPlainTextInSafariFromMSWord)?[x.f.MSWord]:[],l=A.import("formats/link");l.className=G.a.rtfLink;const c=A.import("formats/indent");c.className="ql-indent";const u=[R,l,c];return i&&u.push(j.d),new N.a({theme:U.a,modules:{history:D.a,clipboard:Object(P.b)(o,s),keyboard:H.a.getKeyboardWithBindings(o?Object.assign(Object.assign({},H.a.Bindings.rtfBindings),i?H.a.Bindings.templateSectionBindings:{}):H.a.Bindings.plainTextBindings),marks:V.a},formats:u},a,o?i?Object(T.p)(j.c.QuillFormatNames.is,e=>e===j.d.blotName):j.c.QuillFormatNames.is:_.a.skipAny,_.a.skipAny,{classes:e.settings.editorPreferences.view(({fontSize:e,suggestionsVisualMode:n})=>{const a=Object(Y.a)(n),i=t.has(W.b.Flag.highHighlights)?a.markHeightTall:void 0;return{containerClass:Object(r.pipe)(e,q.e.match("",G.a.bigSize),e=>M.c.classes(e,I.o.paper,G.a.editorContainer)),markClassesTheme:a,markExtraClass:i,editorContainer:G.a.editorContainer}}),freezeFocusFeature:!0,allowNavigationTo:e=>$.b.isSearchInput(e)||xt.isTitleInput(e),shouldFocusEditor:z.a.isInlineCard})})(t,y,a,i);return[s,Ma.create(n,L,h,E,o,c,s,e,t,y,i,O.accessToken)]}));return this._documentLoader.listenEngineErrors(B),a.createElement(v.c,{key:"base-page-"+e,title:B.pipe(g.a.switchMap(Object(r.flow)(s.g.chain(s.g.fromEither),s.g.fold(()=>g.a.of("Grammarly"),([e,t])=>t.sessionModel.title))),g.a.map(e=>e+" - Grammarly"||"Grammarly"))},a.createElement(a.Fragment,null,a.createElement(iu,{key:"denali-editor-content",docId:""+e,userAccount:t,upgradeHook:i,networkState:n,uploadViewModel:this._uploadViewModel,engineStream:B,selfUpdate:u,notificationsManager:d,clientsState:p,documentLoader:this._documentLoader,textResources:m,config:h,router:b,environment:y,platformEnvironment:S}),a.createElement(Xc,{key:"loader",userAccount:this.props.userAccount,documentLoader:this._documentLoader})))}shouldComponentUpdate(){return!1}componentWillReceiveProps(e){const t=Number(e.docId);this._docId.set(s.g.fromNullable(t))}componentWillUnmount(){this._uploadViewModel.dispose(),this._documentLoader.dispose()}render(){return a.createElement(i.a.Fragment,null,this._docId.view(Object(r.flow)(s.g.filter(e=>!isNaN(e)),s.g.fold(()=>a.createElement(v.c,{title:"Grammarly"},a.createElement(tu,{key:"404"})),e=>this._renderPageDoc(""+e)))))}}ou.contextType=S.a.Context,m.a.setStylesTarget(document.getElementById("typestyleTarget"))},kbau:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("ERkP"),r=n("rk+4"),i=n("CvSs"),o=n("mEc7"),s=n("nQSW"),l=n("Pe9T"),c=n("il7+");class u extends o.b{constructor(){super(...arguments),this._onMount=e=>{var t,n;null===(n=(t=this.props).mount)||void 0===n||n.call(t,e),null!=e&&(this._inputElement=e,this._inputElement.onchange=e=>this._onChange()(e))},this._onChange=()=>e=>{Boolean(e.persist)&&e.persist();const t="dataTransfer"in e?e.dataTransfer.files:e.target.files;if(!Boolean(t)||!t.length||i.a.isInProgress(this.props.documentUpload.state.get()))return;const n=this.props.documentUpload.upload({files:t,notify:1===t.length,allowMultiple:this.props.multiple,isDragNDrop:!1}).then(()=>{this._inputElement.value=""});void 0!==this.props.onUpload&&this.props.onUpload(n)}}componentWillUnmount(){this.props.documentUpload.navigated()}render(){const{hideTooltip:e,ariaHidden:t}=this.props;return a.createElement(s.b.Context.Consumer,null,n=>a.createElement(r.a.Context.Consumer,null,r=>{return a.createElement("input",{ref:this._onMount,id:"upload","data-name":"upload-element",type:"file",tabIndex:-1,accept:(i=n.info.browser,"safari"===i?l.d.ACCEPTED_UPLOAD_MIME_TYPES.join(","):l.d.ACCEPTED_UPLOAD_EXTENSIONS.join(",")),title:r.tooltipUploadElementInput,multiple:this.props.multiple,className:Boolean(e)?c.upload:c.uploadContainer,onChange:this._onChange(),"aria-label":r.tooltipUploadElementInput,"aria-hidden":t});var i}))}}},kfbT:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n("ERkP"),r=n("vOOZ"),i=n("1w6p"),o=n("bO3R"),s=n("3rlE"),l=n("bZeK"),c=n("zR/0"),u=n("Y7d8"),d=n("BugA"),p=n("e12y");const m=p.a.style({display:"inline-flex",verticalAlign:"middle",marginRight:p.a.rem(.75),alignItems:"center"}),h=p.a.joinClasses([p.a.style({fontWeight:"bold"}),d.o.base]),g=p.a.style({minHeight:p.a.rem(1.5)}),f=p.a.style({$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:"transparent"}}}),b=p.a.style({display:"flex",justifyContent:"space-between",alignItems:"center"}),y=p.a.style({marginTop:p.a.rem(.35)});var v;!function(e){let t,n;e.Grid=i.b.Grid.make(({slots:e})=>a.createElement(a.Fragment,null,a.createElement("span",{className:m},e.info),e.switcher)),e.GridWithBulkAccept=i.b.Grid.make(({slots:e})=>a.createElement("div",{className:b},a.createElement("span",{className:y},e.headerContent),e.bulkAccept)),function(e){let t;!function(e){let t;!function(e){e.switchBack="switchBack"}(t=e.Kind||(e.Kind={}))}(t=e.Action||(e.Action={})),e.Component=i.b.Node.make(({state:e,notify:n})=>a.createElement(r.a.Fragment,null,e.pipe(c.a.map(({lensTitle:e})=>a.createElement(a.Fragment,null,a.createElement("span",{className:h},e),a.createElement(o.a.Flat,{name:"switch-back",title:"Back to all suggestions",className:f,onClick:()=>n({kind:t.Kind.switchBack})()},a.createElement(s.d.Close,{className:g})))))))}(t=e.LensFilter||(e.LensFilter={})),function(e){e.Component=i.b.Grid.make(({slots:e})=>a.createElement(a.Fragment,null,a.createElement("span",{className:m},e.counter),e.filter))}(n||(n={})),e.DefaultHeader=i.b.Knot.make(e.Grid,{info:l.a.Component,switcher:u.a.Component}),e.LensInfoComponent=i.b.Knot.make(n.Component,{counter:l.a.Component,filter:t.Component}),e.WithFilterHeader=i.b.Knot.make(e.Grid,{info:e.LensInfoComponent,switcher:u.a.Component}),e.Component=i.b.Union.make("kind",{withFilter:e.WithFilterHeader,withoutFilter:e.DefaultHeader})}(v||(v={}))},kllO:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("I7vG"),r=n("zR/0"),i=n("lrqh"),o=n("PrA7"),s=n("PBHX");class l{constructor(e,t,n,l){this._model=e,this._modalOperations=t,this._notificationsManager=n,this._telemetry=l,this._log=o.Monitoring.Logging.getLogger("view.model.change.plan"),this.changePlan=()=>(this._telemetry.gnarSpec.changePlanConfirmationSwitchPlanButtonClick(this._model.daysToRenewal,this._model.currentPlanType,this._telemetry.pageId),r.a.from(Object(a.pipe)(this._model.changePlan(),i.l.mapLeft(this._handleChangePlanError),i.l.toPromise)).pipe(r.a.tap(this.close),r.a.switchMap(()=>(this._telemetry.gnarSpec.changePlanFormSuccess(this._model.daysToRenewal,this._model.currentPlanType,this._telemetry.pageId),this._notificationsManager.enqueue("changePlanSuccess",{planName:this.offer.title})))).toPromise()),this._handleChangePlanError=e=>{this._log.error("Cannot change plan reason: "+e.reason,e.originalError);const t=s.a.isErrorLike(e.originalError)&&e.originalError.message;this._telemetry.gnarSpec.changePlanFormFail(this._telemetry.pageId,`reason: ${e.reason}, error: ${t}`),this._notificationsManager.enqueue("error").toPromise()},this.close=()=>{this._modalOperations.onClose(),this._telemetry.gnarSpec.changePlanConfirmationCloseButtonClick(this._model.daysToRenewal,this._model.currentPlanType,this._telemetry.pageId)}}get currentPlan(){return this._model.currentPlan}get offer(){return this._model.offer}get savedPrice(){return this._model.savedPrice}get nextPaymentDate(){return this._model.nextPaymentDate}}},ksOW:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("ERkP"),r=n("lrqh"),i=n("Ars8"),o=n("cqAx"),s=n("lG5l"),l=n("/kIX");const c=({html:e,title:t,alerts:n,plagiarism:l})=>a.createElement(o.a,{className:i.a.textContent},a.createElement(s.e,{title:t,author:r.g.none}),a.createElement(u,{alerts:n,plagiarism:l,html:e})),u=({html:e,alerts:t,plagiarism:n})=>{const r=Object(l.b)(e,t,n);return a.createElement("div",{className:i.a.text,dangerouslySetInnerHTML:{__html:r}})}},l0MP:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a,r=n("ERkP"),i=n("vOOZ"),o=n("1w6p"),s=n("ax6a"),l=n("rk+4"),c=n("bO3R"),u=n("3rlE"),d=n("BugA"),p=n("e12y"),m=n("zR/0"),h=n("aIes"),g=n("OA+g"),f=n("lrqh"),b=n("hoSD"),y=n("wOnQ");(a||(a={})).getReplacementLabelText=e=>Object(g.pipe)(e,f.g.filter(y.j.isRegular),f.g.map(b.e.pick("labels")),f.g.chain(Object(g.flow)(f.a.head,f.g.chain(f.a.head),f.g.map(b.e.pick("text")))),f.g.getOrElse(Object(g.constant)("")));var v,S,C=n("cVtq"),w=n("BT8e"),k=n("PyeZ"),E=n("fHRq");(S=v||(v={})).Component=o.b.Node.make(({notify:e,state:t})=>{const n=r.useContext(l.a.Context);return r.createElement("div",{className:j.container},r.createElement("div",{className:j.header},r.createElement(u.d.Sparkles,{width:20})," ",r.createElement(d.a,null,n.undoCard.title)),r.createElement(i.a.div,{className:j.buttonsContainer},t.pipe(m.a.map(({alert:t,replacementLabels:i})=>[r.createElement(c.a.Primary,{key:0,name:"inline-undo-confirm",className:j.confirmButton,onClick:h.d.callOnce(e({type:k.b.Type.confirmed,alertId:t.id}))},n.undoCard.confirm),r.createElement(c.a.Primary,{key:1,name:"inline-undo-revert",className:j.undoButton,onClick:h.d.callOnce(e({type:k.b.Type.undone,alertHighlight:{alert:t,highlightIndex:0}}))},n.undoCard.revert(r.createElement("span",{className:j.replacement},r.createElement(C.a,{newText:t.highlightTexts[0],oldText:a.getReplacementLabelText(i),theme:w.b}))))]))))}),S.View=E.a.UI.fromNode(S.Component);const O={padding:p.a.rem(.25)},A={display:"flex",padding:`${p.a.rem(.25)} ${p.a.rem(.75)}`},_={color:s.a.CoreRed50,fontStyle:"italic"},x={marginRight:p.a.rem(.5),textTransform:"none",letterSpacing:s.h.BodyLetterSpacing,fontWeight:s.h.ButtonWeight,fontSize:p.a.rem(s.h.BodySize),$nest:{"&[data-textpos='left']":{padding:"0 "+p.a.rem(.5)},"&[data-textpos='right']":{padding:"0 "+p.a.rem(.5)},"&[data-textpos='everywhere']":{padding:"0 "+p.a.rem(.5)}}},I={marginRight:0,background:s.a.CoreNeutral10,color:s.a.CoreNeutral90,fontWeight:s.h.BodyWeight,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:s.a.CoreNeutral10}}},j=p.a.stylesheet({container:[O],header:[{display:"flex",alignItems:"center"}],buttonsContainer:[A],replacement:[_],confirmButton:[x],undoButton:[x,I]})},lG5l:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return R})),n.d(t,"c",(function(){return U})),n.d(t,"f",(function(){return Y})),n.d(t,"a",(function(){return Z.b}));var a=n("ERkP"),r=n("OA+g"),i=n("lrqh"),o=n("e12y"),s=n("0Hf4"),l=n("ax6a"),c=n("Ov/9");const u="report-sections-title-",d={author:u+"author",titleSection:u+"titleSection",title:u+"title",largeTitle:u+"largeTitle",mediumTitle:u+"mediumTitle",smallTitle:u+"smallTitle",titleContainer:u+"titleContainer"},p={display:"-webkit-box",overflow:"hidden",color:l.a.CoreNeutral90,wordWrap:"break-word",hyphens:"auto",fontWeight:"bold","-webkit-line-clamp":5,"-webkit-box-orient":"vertical"},m={author:o.a.joinClasses([d.author,s.a.style({color:l.a.CoreNeutral50,letterSpacing:0,fontSize:o.a.px(15*c.a),lineHeight:o.a.px(24*c.a)})]),titleSection:o.a.joinClasses([d.titleSection,s.a.style({marginBottom:o.a.px(22*c.a),pageBreakInside:"avoid"})]),title:o.a.joinClasses([d.title,s.a.style(p)]),largeTitle:o.a.joinClasses([d.largeTitle,s.a.style(p,{marginBottom:o.a.px(22*c.a),fontSize:o.a.px(28*c.a),lineHeight:o.a.px(40*c.a)})]),mediumTitle:o.a.joinClasses([d.mediumTitle,s.a.style(p,{fontSize:o.a.px(22*c.a),lineHeight:o.a.px(32*c.a)})]),smallTitle:o.a.joinClasses([d.smallTitle,s.a.style(p,{fontSize:o.a.px(18*c.a),lineHeight:o.a.px(32*c.a)})]),titleContainer:o.a.joinClasses([d.titleContainer,s.a.style({overflow:"hidden",textOverflow:"ellipsis"})])},h=({title:e,author:t})=>a.createElement("section",{className:m.titleSection},a.createElement("h1",{className:e.length<100?m.largeTitle:e.length<200?m.mediumTitle:m.smallTitle},e),Object(r.pipe)(t,i.g.map(e=>a.createElement("p",{className:m.author},"by ",e)),i.g.toNullable));var g=n("hoSD"),f=n("3BTE");const b={generalMetricsSection:"report-sections-general_metrics-generalMetricsSection",generalMetricsHeader:"report-sections-general_metrics-generalMetricsHeader",metrics:"report-sections-general_metrics-metrics"},y={generalMetricsSection:o.a.joinClasses([b.generalMetricsSection,s.a.style(f.d,{marginBottom:o.a.px(14*c.a),$nest:{"& table":{width:o.a.percent(100),whiteSpace:"nowrap"},"& tbody":{verticalAlign:"top"}}})]),generalMetricsHeader:o.a.joinClasses([b.generalMetricsHeader,s.a.style(f.c,{margin:`${o.a.px(23*c.a)} 0 ${o.a.px(4*c.a)}`})]),metrics:o.a.joinClasses([b.metrics,s.a.style({color:l.a.CoreBlue50,letterSpacing:0,fontWeight:"bold",fontSize:o.a.px(15*c.a),lineHeight:o.a.px(23*c.a),$nest:{"& td":{width:o.a.percent(21.875)}}})])},v=({stats:e})=>a.createElement("section",{className:y.generalMetricsSection},a.createElement("h2",{className:y.generalMetricsHeader},"General metrics"),a.createElement("table",null,a.createElement("tbody",null,a.createElement("tr",{className:y.metrics},a.createElement("td",null,e.chars.toLocaleString("en-US")),a.createElement("td",null,e.words.toLocaleString("en-US")),a.createElement("td",null,e.sentences),a.createElement("td",null,g.d.convertTimeToShortString(e.readingTime)),a.createElement("td",null,g.d.convertTimeToShortString(e.speakingTime))),a.createElement("tr",{className:f.a.text},a.createElement("td",null,"characters"),a.createElement("td",null,"words"),a.createElement("td",null,"sentences"),a.createElement("td",null,"reading",a.createElement("br",null),"time"),a.createElement("td",null,"speaking",a.createElement("br",null),"time")))));var S=n("3rlE"),C=n("H9Bv");var w;!function(e){e.checkMark="report-components-checkMark"}(w||(w={}));o.a.joinClasses([w.checkMark,s.a.style({display:"inline-block",marginRight:o.a.px(7*c.a),marginBottom:o.a.px(4*c.a),width:o.a.px(16*c.a),height:o.a.px(16*c.a),verticalAlign:"middle"})]);var k;!function(e){e.radialProgressBar="report-components-radial_progress-radialProgressBar",e.radialProgressText="report-components-radial_progress-radialProgressText",e.radialProgressDescription="report-components-radial_progress-radialProgressDescription"}(k||(k={}));const E={radialProgressBar:o.a.joinClasses([k.radialProgressBar,s.a.style({width:o.a.px(71*c.a),height:o.a.px(71*c.a),fontWeight:"bold",transform:`translateX(${o.a.px(-6*c.a)})`,fill:l.a.CoreNeutral90})]),radialProgressText:o.a.joinClasses([k.radialProgressText,s.a.style({fontSize:"20px"})]),radialProgressDescription:o.a.joinClasses([k.radialProgressDescription,s.a.style({fontWeight:"normal",fontSize:"11px",fill:l.a.CoreNeutral60})])},O=({percentage:e,colorType:t,iconSize:n,description:r})=>a.createElement(C.a,{percentage:e,colorType:t,iconSize:n,description:r,theme:{radialProgressBar:E.radialProgressBar,radialProgressText:E.radialProgressText,radialProgressDescription:E.radialProgressDescription}}),A={scoreTable:"report-sections-score-scoreTable",issuesSummary:"report-sections-score-issuesSummary",issueCounters:"report-sections-score-issueCounters",issueCounter:"report-sections-score-issueCounter",issuesLeftBlock:"report-sections-score-issuesLeftBlock",total:"report-sections-score-total",score:"report-sections-score-score",writingIssues:"report-sections-score-wrtitingIssues",critical:"report-sections-score-critical",advanced:"report-sections-score-advanced"},_={display:"flex",verticalAlign:"top",alignItems:"center",$nest:{"& span":{paddingLeft:o.a.rem(.8)}}},x={display:"inline-block"},I={scoreTable:o.a.joinClasses([A.scoreTable,s.a.style(f.b,{margin:`${o.a.px(22*c.a)} 0 ${o.a.px(5*c.a)}`,$nest:{"& th":{paddingBottom:o.a.px(7*c.a)},["& ."+A.score]:{width:o.a.percent(43.75)},["& ."+A.writingIssues]:{width:o.a.percent(56.25)}}})]),issuesSummary:o.a.joinClasses([A.issuesSummary,s.a.style(f.e,_)]),issueCounters:o.a.joinClasses([A.issueCounters,s.a.style(f.e,_,{paddingTop:o.a.px(30*c.a),whiteSpace:"nowrap"})]),issueCounter:o.a.joinClasses([A.issueCounter,s.a.style({letterSpacing:o.a.px(.2*c.a),fontWeight:"bold",fontSize:o.a.px(15*c.a),lineHeight:o.a.px(19*c.a)})]),issuesLeftBlock:o.a.joinClasses([A.issuesLeftBlock,s.a.style(x)]),total:o.a.joinClasses([A.total,s.a.style(x,{width:o.a.percent(38.88),$nest:{["& ."+A.issueCounter]:{color:l.a.CoreNeutral90,letterSpacing:0,fontSize:o.a.px(18*c.a)}}})]),critical:o.a.joinClasses([A.critical,s.a.style(x,{width:o.a.percent(38.88),$nest:{["& ."+A.issueCounter]:{color:l.a.CoreRed40}}})]),advanced:o.a.joinClasses([A.advanced,s.a.style(x,{width:o.a.percent(22.24),$nest:{["& ."+A.issueCounter]:{color:l.a.CoreYellow60}}})]),score:o.a.joinClasses([A.score]),writingIssues:o.a.joinClasses([A.writingIssues])};function j(e){return e>85?C.a.ColorType.eggBlue:e>60?C.a.ColorType.dandelion:C.a.ColorType.radicalRed}const T=({issues:e,className:t,text:n})=>a.createElement("div",{className:t},a.createElement("div",{className:I.issueCounter},e||a.createElement(S.d.Checkmark,null)),n),M=({critical:e,advanced:t})=>a.createElement("td",{className:I.issueCounters},a.createElement(T,{className:I.total,issues:e+t,text:"Issues left"}),a.createElement(T,{className:I.critical,issues:e,text:"Critical"}),a.createElement(T,{className:I.advanced,issues:t,text:"Advanced"})),N=({score:e})=>a.createElement("td",null,a.createElement(O,{colorType:j(e),iconSize:C.a.IconSize.pdf,percentage:e}),a.createElement("p",{className:f.a.text},"This text scores better than ",e,"%",a.createElement("br",null),"of all texts checked by Grammarly")),P=()=>a.createElement("section",{className:f.a.section,"data-name":"no-writing-issues"},a.createElement("table",{className:I.scoreTable},a.createElement("thead",{className:f.a.sectionHeader},a.createElement("tr",null,a.createElement("th",{className:I.writingIssues},"Writing Issues"))),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",{className:I.issuesSummary},a.createElement(S.d.Checkmark,null),a.createElement("span",null,"No issues found")))))),L=({score:e,critical:t,advanced:n})=>a.createElement("section",{className:f.a.section,"data-name":"section-score-"+e},a.createElement("table",{className:I.scoreTable},a.createElement("thead",{className:f.a.sectionHeader},a.createElement("tr",null,a.createElement("th",{className:I.score},"Score"),a.createElement("th",{className:I.writingIssues},"Writing Issues"))),a.createElement("tbody",null,a.createElement("tr",null,a.createElement(N,{score:e}),a.createElement(M,{critical:t,advanced:n}))))),R=({score:e,critical:t,advanced:n})=>t||n?a.createElement(L,{score:e,critical:t,advanced:n}):a.createElement(P,null);var B=n("rk+4"),F=n("viRF"),D=n("uukV");const H={plagiarismSection:"report-sections-plagiarism-plagiarismSection",plagiarismSectionHeader:"report-sections-plagiarism-plagiarismSectionHeader",original:"report-sections-plagiarism-original",plagiarismMark:"report-sections-plagiarism-plagiarismMark",score:"report-sections-plagiarism-score",percent:"report-sections-plagiarism-percent",sources:"report-sections-plagiarism-sources",sourcesCount:"report-sections-plagiarism-sourcesCount",scoreDescription:"report-sections-plagiarism-scoreDescription"},V={plagiarismSection:o.a.joinClasses([H.plagiarismSection,s.a.style(f.d,{pageBreakAfter:"always"})]),plagiarismSectionHeader:o.a.joinClasses([H.plagiarismSectionHeader,s.a.style(f.c,{margin:`${o.a.px(23*c.a)} 0 ${o.a.px(10*c.a)}`})]),original:o.a.joinClasses([H.original,s.a.style(f.e,{display:"flex",alignItems:"center"})]),plagiarismMark:o.a.joinClasses([H.plagiarismMark,s.a.style({marginRight:o.a.rem(.8)})]),score:o.a.joinClasses([H.score,s.a.style(f.e,{width:o.a.percent(21.875)})]),percent:o.a.joinClasses([H.percent,s.a.style({marginTop:0,width:o.a.px(64*c.a),textAlign:"center"})]),sources:o.a.joinClasses([H.sources,s.a.style(f.e,{paddingTop:o.a.px(28*c.a),paddingBottom:0,width:o.a.percent(78.125),verticalAlign:"top"})]),sourcesCount:o.a.joinClasses([H.sourcesCount,s.a.style({color:l.a.CoreNeutral90,letterSpacing:0,fontWeight:"bold",fontSize:o.a.px(18*c.a),lineHeight:o.a.px(18*c.a)})]),scoreDescription:o.a.joinClasses([H.scoreDescription,s.a.style(f.e,{paddingTop:o.a.px(10*c.a),whiteSpace:"pre-line"})])},U=({plagiarismData:e})=>{const t=a.useContext(B.a.Context);return a.createElement("section",{className:V.plagiarismSection,"data-name":"section-plagiarism-"+(e.state===D.a.PlagiarismCheckingState.CHECKED?e.score:-1)},a.createElement("h2",{className:V.plagiarismSectionHeader},"Plagiarism"),e.state===D.a.PlagiarismCheckingState.NOT_CHECKED?a.createElement("p",{className:f.a.text},"This text hasn’t been checked for plagiarism"):F.a.isMin(e.score)?a.createElement("p",{className:V.original},a.createElement(S.d.Checkmark,{className:V.plagiarismMark}),"This text seems 100% original. Grammarly found no matching text on",a.createElement("br",null),"the Internet or in ProQuest’s databases."):a.createElement("table",{className:f.a.genericTable},a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",{className:V.score},a.createElement(O,{colorType:C.a.ColorType.lightVisteria,iconSize:C.a.IconSize.pdf,percentage:F.a.prism.reverseGet(e.score),description:"%"})),a.createElement("td",{className:V.sources},a.createElement("div",{className:V.sourcesCount},e.sources),e.sources>1?"sources":"source")),a.createElement("tr",null,a.createElement("td",{colSpan:2,className:V.scoreDescription},t.performance.report.plagiarismDescription(e.score,e.sources))))))},W={writingIssuesSection:"report-sections-writing_issues-writingIssuesSection",writingIssuesTable:"report-sections-writing_issues-writingIssuesTable",issueHeader:"report-sections-writing_issues-issueHeader",categoryAmount:"report-sections-writing_issues-categoryAmount",issueAmount:"report-sections-writing_issues-issueAmount",circle:"report-sections-writing_issues-circle",oval:"report-sections-writing_issues-oval",generalTitle:"report-sections-writing_issues-generalTitle",issueTitle:"report-sections-writing_issues-issueTitle",categoryTitle:"report-sections-writing_issues-categoryTitle",fakeHeader:"report-sections-writing_issues-fakeHeader",progressBarCell:"report-sections-writing_issues-progressBarCell",issueProgressBar:"report-sections-writing_issues-issueProgressBar",issueContent:"report-sections-writing_issues-issueContent",temporaryHeader:"report-sections-writing_issues-temporaryHeader",progressBarBg:"report-sections-writing_issues-progressBarBg"},q={marginLeft:o.a.px(6*c.a),width:o.a.px(20*c.a),height:o.a.px(20*c.a),borderRadius:o.a.px(10*c.a),background:l.a.CoreRed40,color:l.a.CoreNeutral0,textAlign:"center",fontSize:o.a.px(12*c.a),lineHeight:o.a.px(20*c.a)},z={paddingLeft:o.a.px(22*c.a),width:o.a.px(293*c.a),color:l.a.CoreNeutral90,letterSpacing:0,fontSize:o.a.px(14*c.a),lineHeight:o.a.px(24*c.a)},$={writingIssuesSection:o.a.joinClasses([W.writingIssuesSection,s.a.style({borderTop:"1px solid "+l.a.CoreNeutral30})]),writingIssuesTable:o.a.joinClasses([W.writingIssuesSection,s.a.style(f.b,{position:"relative",marginBottom:o.a.px(22*c.a),width:o.a.px(437*c.a),$nest:{"& td, & th":{verticalAlign:"top",pageBreakInside:"avoid"}}})]),issueHeader:o.a.joinClasses([W.issueHeader,s.a.style({pageBreakAfter:"avoid"})]),categoryAmount:o.a.joinClasses([W.categoryAmount,s.a.style({width:o.a.px(32*c.a),fontWeight:"bold",lineHeight:o.a.px(22*c.a)})]),issueAmount:o.a.joinClasses([W.issueAmount,s.a.style({paddingRight:o.a.px(10*c.a),color:l.a.CoreRed40,textAlign:"right",fontWeight:"bold",fontSize:o.a.px(13*c.a),lineHeight:o.a.px(24*c.a)})]),circle:o.a.joinClasses([W.circle,s.a.style(q)]),oval:o.a.joinClasses([W.oval,s.a.style(q,{width:o.a.px(24*c.a)})]),generalTitle:o.a.joinClasses([W.generalTitle,s.a.style(z)]),issueTitle:o.a.joinClasses([W.issueTitle,s.a.style(z,{textTransform:"lowercase",fontWeight:"normal",$nest:{"&:first-letter":{textTransform:"capitalize"}}})]),categoryTitle:o.a.joinClasses([W.categoryTitle,s.a.style(z,{fontWeight:"bold"})]),fakeHeader:o.a.joinClasses([W.fakeHeader,s.a.style({position:"absolute",top:0,left:0,width:o.a.percent(100),background:l.a.CoreNeutral0,lineHeight:o.a.px(24*c.a)})]),progressBarCell:o.a.joinClasses([W.progressBarCell,s.a.style({width:o.a.px(112*c.a)})]),issueProgressBar:o.a.joinClasses([W.issueProgressBar,s.a.style({marginTop:o.a.px(12*c.a),minWidth:o.a.px(5*c.a),height:o.a.px(5*c.a),borderRadius:o.a.px(6*c.a),background:`linear-gradient(to right, ${l.a.CoreRed30}, ${l.a.CoreRed40})`,boxShadow:`0 0 0 ${o.a.px(3*c.a)} ${l.a.CoreNeutral0}`})]),issueContent:o.a.joinClasses([W.issueContent,s.a.style({pageBreakInside:"avoid"})]),temporaryHeader:o.a.joinClasses([W.temporaryHeader,s.a.style({pageBreakInside:"avoid"})]),progressBarBg:o.a.joinClasses([W.progressBarBg,s.a.style({width:o.a.percent(100),borderRadius:o.a.px(6*c.a),backgroundColor:l.a.CoreNeutral10})])},G=({maxIssues:e,count:t})=>{let n=t/e*100;return n>94&&n<98?n=94:n>=98&&(n=100),a.createElement("div",{className:$.progressBarBg},a.createElement("div",{className:$.issueProgressBar,style:{width:n+"%"}}))},K=({category:e,categoryIssues:t})=>a.createElement("tr",{className:$.temporaryHeader},a.createElement("th",{className:$.categoryAmount},a.createElement("div",{className:t>99?$.oval:$.circle},t)),a.createElement("th",{className:$.categoryTitle},e),a.createElement("th",{className:$.progressBarCell})),Y=({issues:e})=>{let t=0;return a.createElement("section",{className:$.writingIssuesSection},a.createElement("h2",{className:f.a.sectionHeader},"Writing Issues"),Object.entries(e).map(([e,n])=>{let a=0;return{category:e,issues:Object.entries(n).map(([e,n])=>(n>t&&(t=n),a+=n,{name:e,count:n})),issuesCount:a}}).map(({category:e,issuesCount:n,issues:r})=>a.createElement("table",{key:e,className:$.writingIssuesTable},a.createElement("thead",{className:$.issueHeader},a.createElement(K,{category:e,categoryIssues:n})),a.createElement("tbody",null,r.map(({name:e,count:n})=>a.createElement("tr",{key:e,className:$.issueContent},a.createElement("td",{className:$.issueAmount},n),a.createElement("td",{className:$.issueTitle},e),a.createElement("td",null,a.createElement(G,{maxIssues:t,count:n}))))))))};var Z=n("jW1I")},lSTv:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("OA+g"),i=n("lrqh"),o=n("Xo/A");!function(e){e.empty=o.a.empty,e.applyDiff=function(e){return Object(r.flow)(o.a.applyDiffLoose(e),i.b.mapLeft(e=>({recovered:e.recovered,rejected:e.rejected})))},e.toCheckingResult=function(e){return o.a.iso.wrap(e)}}(a||(a={}))},"lg/X":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a,r=n("a5W6"),i=n("OA+g"),o=n("I7vG"),s=n("1aGC"),l=n("24uI"),c=n("+JVj"),u=n("mbuk"),d=n("j7q7"),p=n("zR/0"),m=n("gy42"),h=n("2yqA"),g=n("lrqh"),f=n("6fbX"),b=n("PrA7");!function(e){e.rangeMismatch="range_mismatch",e.partialRemoveMismatch="partial_update_mismatch",e.noMarkInDom="no_mark_in_dom"}(a||(a={}));class y{constructor(e,t,n){this.action=e,this.got=t,this.expected=n,this.type=a.rangeMismatch}toString(){return`${this.type} on action '${this.action}', expected: ${this.expected}, got: ${this.got}`}}class v{constructor(e,t,n){this.action=e,this.got=t,this.expected=n,this.type=a.partialRemoveMismatch}toString(){return`${this.type} on action '${this.action}', expected: ${this.expected}, got: ${this.got}`}}class S{constructor(e,t){this.action=e,this.got=t,this.type=a.noMarkInDom}toString(){return`${this.type} on action '${this.action}' for range: ${this.got}`}}function C(e,t){return Object(o.pipe)((n=e,g.b.tryCatchError(()=>{const{deltaMarks:e}=n.ops.reduce(({deltaMarks:e,deltaLength:t},n)=>{if(!l.a.isInsert(n))throw new Error("Quill marks: insert delta expected "+n);const a=l.a.getInsertLength(n),r=n.attributes||{},i=Object.keys(r);return 0===i.length||i.filter(h.r).forEach(n=>{const i=c.b.create(t,t+a,r[n]);if(e.has(n)){const t=e.get(n);if(t.start>i.end+1)throw new Error(`Corrupted partial range. End part1: ${i.end}, start part2: ${t.start}`);e.set(n,c.b.join(i,t))}else e.set(n,i)}),{deltaMarks:e,deltaLength:t+a}},{deltaMarks:new Map,deltaLength:0});return e})),g.b.map(e=>Object(o.pipe)(t.map(t=>Object(o.pipe)(g.g.fromNullable(e.get(Object(h.n)(t.id))),e=>function(e,t){return Object(o.pipe)(t,g.g.fold(()=>c.b.isEmpty(e.range)?g.g.none:g.g.some(g.b.right(new S(e.action,e.range))),t=>e.action===u.a.Change.ActionType.remove&&e.removeType===d.a.Change.RemoveType.partial?c.b.contains(e.range,t)?g.g.none:g.g.some(g.b.left(new v(e.action,e.range,t))):c.b.ord.equals(t,e.range)?g.g.none:g.g.some(c.b.contains(t,e.range)?g.b.right(new y(e.action,e.range,t)):g.b.left(new y(e.action,e.range,t)))))}(t,e))),r.array.sequence(g.g.option),g.g.getOrElse(()=>[]))));var n}const w=s.import("core/module");class k{constructor(e,t,n,a,r){this.id=e,this._getParentRect=t,this._getPosition=n,this._getNodeAt=a,this._getContents=r,this._cachedMarkLength=c.b.size(g.b.getOrElse(()=>c.b.empty)(this.range())),this._cachedNodes=null}fromMarkEvent(e){return Object(o.pipe)(this._getCachedDomNodes(),g.b.chain(g.g.fold(()=>g.b.left(new u.a.CollapsedMarkError("cannot animate collapsed mark")),([e])=>g.b.right(e))),g.b.fold(e=>p.a.of(g.b.left(e)),t=>p.a.fromEvent(t,e).pipe(p.a.map(g.b.right))))}get range(){return this._getPosition(this.id)}getRect(){return Object(o.pipe)(this._getCachedDomNodes(),g.b.chain(g.g.fold(()=>g.b.left(new u.a.CollapsedMarkError("Cannot get rect for collapsed mark")),([e,t])=>Object(o.pipe)(g.f.fromArray(e===t?Array.from(e.getClientRects()):[...Array.from(e.getClientRects()),...Array.from(t.getClientRects())]),g.g.fold(()=>g.b.left(new Error("getClientRects returned nothing ")),e=>g.b.right({rootClientRect:this._getParentRect(),clientRects:e}))))))}_getCachedDomNodes(){return Object(o.pipe)(this.range(),g.b.fold(()=>g.b.right(g.g.none),e=>{const t=c.b.size(e);return null===this._cachedNodes||null===this._cachedNodes[0].parentElement||null===this._cachedNodes[1].parentElement||this._cachedMarkLength!==t?Object(o.pipe)(this._getUnderlines(),g.b.map(g.g.map(([e,n])=>(this._cachedNodes=[e.domNode,n.domNode],this._cachedMarkLength=t,this._cachedNodes)))):g.b.right(g.g.some(this._cachedNodes))}))}_getUnderlines(){return Object(o.pipe)(this.range(),g.b.fold(()=>g.b.right(g.g.none),e=>g.b.tryCatchError(()=>{const{start:t,end:n}=e,a=this._getNodeAt(t+1)[0],r=this._getNodeAt(n)[0],i=h.g.findUnderlineUp(a),o=h.g.findUnderlineUp(r);return Object(f.f)(null!==i&&null!==o,"Cannot find corresponding Marker. Looks like we are trying to show/hide non-existing alert/underline",()=>`id=${this.id}; first=${i}; firstNode=${a}; last=${o}; lastNode=${r}, getContents=${this._getQuillContents(e,20)}`),g.g.some([i,o])})))}_getQuillContents(e,t){const{start:n,end:a}=e,r=n-t,i=this._getContents(r<0?0:r,a+t),o=l.a.anonymizeTextAndStringAttrs(i);return JSON.stringify(o)}}class E extends w{constructor(e,t){super(e,t),this.quill=e,this.options=t,this._subs=[],this._marks=new Map,this._log=b.Monitoring.Logging.getLogger("MarksManager",b.Logging.LogLevel.DEBUG),this.activeMarks=new p.a.BehaviorSubject(g.g.none),this.hoveredMarks=new p.a.BehaviorSubject(g.g.none),this.markChangeApplied=new p.a.Subject,this.getMarkById=e=>Object(o.pipe)(this._marks.get(e),g.b.fromNullable(new Error("Cannot find mark by id: "+e))),this.changeMarks=e=>{if(0===e.length)return u.a.Change.Result.getEmpty();const t=this._getMarksModels(e);return this._marksValidation(e,Object(h.y)(this.quill.editor.delta),this.options.getOpsHistory()),this.quill.updateContents(Object(h.z)(Object(h.t)(e,this._getMarkAttributes)),s.sources.API),e.forEach(e=>e.action===u.a.Change.ActionType.remove&&Object(h.i)(e.id)),this.markChangeApplied.next(e.map(e=>e.id)),t};const n=Object(h.A)(this.quill).pipe(p.a.share());this._subs.push(n.pipe(p.a.filter(h.k)).subscribe(({delta:e})=>{this._unwrapMarkExtension(e.ops)}),n.pipe(p.a.filter(h.l),p.a.filter(({range:e})=>Boolean(e)&&0===e.length),p.a.distinctUntilChanged((e,t)=>e.range.index===t.range.index&&e.range.length===t.range.length),p.a.map(({range:e,source:t})=>t===s.sources.USER?Object(o.pipe)(g.g.fromNullable(e),g.g.chain(e=>{const t=this.quill.getLeaf(e.index)[0],n=this.quill.getLeaf(e.index+1)[0];if(n!==t&&Boolean(n)){const e=Object(o.pipe)(this._getMarksByBlot(t),g.g.fold(()=>[],i.identity)),a=Object(o.pipe)(this._getMarksByBlot(n),g.g.fold(()=>[],i.identity));return g.f.fromNullableArray(e.concat(a))}return this._getMarksByBlot(t)})):g.g.none)).subscribe(this.activeMarks),p.a.combineLatestStatic(p.a.mergeStatic(p.a.fromEvent(this.quill.root,"mouseenter").pipe(p.a.mapTo(!0)),p.a.fromEvent(this.quill.root,"mouseleave").pipe(p.a.mapTo(!1))).pipe(p.a.distinctUntilChanged()),this.options.ongoingSelection).pipe(p.a.switchMap(([e,n])=>n?p.a.of(g.g.none):e?p.a.mergeStatic(t.contentUpdated.pipe(p.a.mapTo(g.g.none)),t.scrollPositionChanged.pipe(p.a.mapTo(g.g.none)),p.a.fromEvent(this.quill.root,"mousemove",{passive:!0}).pipe(p.a.auditTime(50),p.a.map(e=>{const t=document.elementFromPoint(e.clientX,e.clientY);try{const e=s.find(t,!0);return!Boolean(e)||e instanceof s?g.g.none:this._getMarksByBlot(e)}catch(e){return g.g.none}}))):p.a.of(g.g.none).pipe(p.a.delay(200))),p.a.distinctUntilChanged(g.g.getEq({equals:(e,t)=>e.length===t.length&&e.every((e,n)=>t[n]===e)}).equals)).subscribe(this.hoveredMarks))}_getMarksByBlot(e){return Object(o.pipe)(g.g.fromNullable(h.g.getMarksIdsByBlot(e)),g.g.filterMap(Object(i.flow)(r.filterMap(Object(i.flow)(e=>this._marks.get(e),g.g.fromNullable)),g.f.fromArray)))}dispose(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}_marksValidation(e,t,n){const a=e.filter(e=>!(e.action!==u.a.Change.ActionType.remove&&e.action!==u.a.Change.ActionType.update||c.c.is(e.meta.range())||Object(h.s)(e.id))).map(e=>({id:e.id,action:e.action,range:c.b.copy(e.meta.range())}));a.length>0&&m.b.Scheduler.inRic(p.a.of(void 0),2e3).pipe(p.a.map(()=>C(t,a)),p.a.first()).subscribe({next:g.b.fold(e=>this._log.warn("Cannot collect marks to validate",e),e=>e.forEach(g.b.fold(e=>{this._log.warn("Got invalid marks",{error:e,opsHistory:n})},e=>this._log.info("Range does not match with mark",{rangeMismatch:e,opsHistory:n}))))})}_createMarkModel(e){const t=new k(e.id,()=>this.quill.container.getBoundingClientRect(),()=>()=>{const t=e.meta.range();return c.b.isEmpty(t)?g.b.left(t):g.b.right(t)},e=>this.quill.getLeaf(e),(e,t)=>Object(h.y)(this.quill.getContents(e,t)));return this._marks.set(t.id,t),Object(h.w)(t.id),t}_getMarksModels(e){return e.reduce((e,t)=>{switch(t.action){case u.a.Change.ActionType.create:const n=this._createMarkModel(t);e.created.set(n.id,g.b.right(n));break;case u.a.Change.ActionType.update:this._marks.has(t.id)?e.created.set(t.id,g.b.right(this._marks.get(t.id))):e.updated.set(t.id,g.b.left(new f.b("Cannot update unknown mark")));break;case u.a.Change.ActionType.remove:if(!this._marks.has(t.id))throw e.removed.set(t.id,g.b.left(new f.b("Cannot remove unknown mark"))),new f.b("Cannot remove unknown mark");this._marks.delete(t.id),this._ensureActive(t.id),e.removed.set(t.id,g.b.right(void 0));break;default:Object(f.c)(t)}return e},u.a.Change.Result.getEmpty())}_getMarkAttributes(e){const t=Object(h.n)(e.id);switch(e.action){case u.a.Change.ActionType.create:return{[t]:{action:u.a.Change.ActionType.create,id:e.id,classes:e.meta.classes,order:e.meta.order}};case u.a.Change.ActionType.update:return{[t]:{action:u.a.Change.ActionType.update,id:e.id,classes:e.meta.classes,order:e.meta.order}};case u.a.Change.ActionType.remove:return{[t]:!1};default:return Object(f.c)(e)}}_ensureActive(e){Object(o.pipe)(this.activeMarks.getValue(),g.g.filter(t=>t.some(t=>t.id===e)),g.g.map(()=>{this.activeMarks.next(g.g.none)})),Object(o.pipe)(this.hoveredMarks.getValue(),g.g.filter(t=>t.some(t=>t.id===e)),g.g.map(()=>this.hoveredMarks.next(g.g.none)))}_findInsertsToUnwrap(e,t){return this.quill.scroll.path(e+1).reduce((n,[a,r])=>a instanceof h.e?((1===r&&!h.g.hasSameIdSibling(a,h.g.LOOKUP_DIRECTION.left)||r+t-1===a.length()&&!h.g.hasSameIdSibling(a,h.g.LOOKUP_DIRECTION.right))&&n.push(d.a.Change.getRemoveAction({range:()=>c.b.create(e,e+t)},d.a.Change.RemoveType.partial)(a.markId)),n):n,[])}_unwrapMarkExtension(e){const{toRemove:t}=e.reduce(({start:e,toRemove:t},n)=>(Object(h.q)(n)&&t.push(...this._findInsertsToUnwrap(e,l.a.getInsertLength(n))),{start:e+Object(h.h)(n),toRemove:t}),{start:0,toRemove:[]});t.length&&this.quill.updateContents(Object(h.z)(Object(h.t)(t,this._getMarkAttributes)),s.sources.API)}}E.DEFAULTS={}},lqtc:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var a,r=n("LNSM"),i=n("D9EC"),o=n("lrqh"),s=n("6fbX"),l=n("+ukg");!function(e){let t,n;!function(e){e[e.SMALL=0]="SMALL",e[e.LARGE=1]="LARGE"}(t=e.Type||(e.Type={})),function(e){e[e.SHOW_ALL=0]="SHOW_ALL",e[e.HIDE_PREV=1]="HIDE_PREV",e[e.HIDE_NEXT=2]="HIDE_NEXT",e[e.HIDE_BOTH=3]="HIDE_BOTH"}(n=e.NavigationControlDisplay||(e.NavigationControlDisplay={}))}(a||(a={}));class c{constructor(e,t,n,u,d=i.e){this.type=e,this._stepMap=t,this._settings=n,this._modalOperations=u,this._onStart=d,this._steps=this.type===l.e.TourType.migration?c._migrationTour:c._welcomeTour,this._currentStepIndex=r.a.create(o.g.none),this._abort=()=>{this._settings.denaliWelcomeTourSeen(),this._modalOperations.onClose(),this._currentStepIndex.set(o.g.none)},this._getStepForIndex=e=>{var t;const n=this._steps[e],r=this._stepMap[n.stepId];switch(r.type){case a.Type.LARGE:return{stepId:n.stepId,type:r.type,index:e,content:r.renderContent(),description:r.renderDescription.bind(r),navigationControl:null!==(t=n.navigationControl)&&void 0!==t?t:a.NavigationControlDisplay.SHOW_ALL};case a.Type.SMALL:return{stepId:n.stepId,type:r.type,index:e,content:r.renderContent({type:this.type,abort:this._abort,goToNext:this.goToNext,goToPrev:this.goToPrev}),navigationControl:Boolean(n.navigationControl)?n.navigationControl:a.NavigationControlDisplay.HIDE_BOTH};default:return Object(s.c)(r)}},this.descriptionMeta=this._currentStepIndex.view(o.g.map(e=>({index:e,steps:this._steps.length}))).view(o.g.map(({index:e,steps:t})=>({index:e<1||e>=t-1?e:e-1,totalSteps:t-2}))),this.currentStep=this._currentStepIndex.view(o.g.map(this._getStepForIndex)),this.goToNext=()=>this._currentStepIndex.modify(o.g.chain(e=>{const t=e+1;return Boolean(this._steps[t])?o.g.some(t):(this._settings.denaliWelcomeTourSeen(),this._modalOperations.onClose(),o.g.none)})),this.goToPrev=()=>this._currentStepIndex.modify(o.g.map(e=>{const t=e-1;return Boolean(this._steps[t])?t:0}))}start(){this._currentStepIndex.set(o.g.some(0)),this._onStart()}}c._migrationTour=[{stepId:"welcomeOldUser"},{stepId:"fastApply",navigationControl:a.NavigationControlDisplay.HIDE_PREV},{stepId:"assistant"},{stepId:"checkTypes"},{stepId:"goals"},{stepId:"finalOldUser",navigationControl:a.NavigationControlDisplay.HIDE_NEXT}],c._welcomeTour=[{stepId:"welcomeNewUser"},{stepId:"fastApply",navigationControl:a.NavigationControlDisplay.HIDE_PREV},{stepId:"assistant"},{stepId:"checkTypes"},{stepId:"goals"},{stepId:"finalNewUser",navigationControl:a.NavigationControlDisplay.HIDE_NEXT}];class u{constructor(e,t){this._settings=e,this._modalOperations=t,this.close=()=>{this._settings.denaliWelcomeTourSeen(),this._modalOperations.onClose()}}}},m2o7:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n("ax6a"),r=n("e12y"),i=n("ps/9");const o={position:"relative",borderRadius:r.a.rem(i.t),boxShadow:"0 1px 7px 0 rgba(129, 137, 169, .2)",userSelect:"none",backgroundColor:a.a.CoreNeutral0},s={display:"flex",padding:r.a.rem(.5),height:r.a.rem(3),cursor:"pointer",alignItems:"center"},l={padding:`${r.a.rem(1.5)} ${r.a.rem(.5)} ${r.a.rem(1.5)}`},c={display:"flex",alignItems:"center",flexDirection:"row",fontSize:r.a.rem(.85),lineHeight:r.a.rem(1.2),overflow:"hidden"},u={flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center",width:r.a.rem(1.5),$nest:{"> svg":{stroke:a.a.CoreYellow60}}},d={padding:`${r.a.rem(.5)} ${r.a.rem(1.5)}`},p={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:r.a.rem(2)},m={marginTop:r.a.rem(.6),fontSize:r.a.rem(.85)},h={display:"flex",marginBottom:r.a.rem(.6),flexShrink:0},g={marginRight:"auto",lineHeight:r.a.rem(1.3125)},f={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:r.a.rem(2.5)},b={display:"inline-flex",justifyContent:"center",alignItems:"center",height:r.a.rem(2.625),padding:`0 ${r.a.rem(3)} 0 ${r.a.rem(3)}`,backgroundColor:a.a.CoreGreen60,borderRadius:r.a.rem(.25),fontSize:r.a.rem(.875),fontWeight:700,textTransform:"uppercase",color:a.a.CoreNeutral0,lineHeight:r.a.rem(2),$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:r.a.color(a.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:r.a.color(a.a.CoreGreen60).tint(.2).toRGBA().toString()}}},y={padding:"0 "+r.a.rem(1.3),margin:`${r.a.rem(1)} 0 ${r.a.rem(.5)}`,color:a.a.CoreGreen70,backgroundColor:a.a.CoreNeutral0,border:`${r.a.px(1)} solid ${a.a.CoreGreen70}`,borderRadius:r.a.rem(.25),fontWeight:"bold",fontSize:r.a.rem(.9),lineHeight:r.a.rem(3),transition:" color .3s",$nest:{"&:hover":{color:a.a.CoreGreen60,backgroundColor:a.a.CoreNeutral0,borderColor:a.a.CoreGreen60},"&:active":{color:a.a.CoreGreen50,backgroundColor:a.a.CoreNeutral0,borderColor:a.a.CoreGreen50}}},v={color:a.a.CoreYellow80,fontWeight:a.h.H1Weight,fontSize:r.a.rem(a.h.H1Size),zIndex:2},S={position:"relative",marginTop:r.a.rem(2.5),paddingTop:r.a.rem(1),$nest:{"&::before":{content:"''",position:"absolute",top:r.a.px(0),right:r.a.px(0),left:r.a.px(0),margin:"auto",width:r.a.rem(4.5),height:r.a.px(1),backgroundColor:a.a.CoreNeutral20}}},C={color:a.a.CoreNeutral50,textAlign:"center",fontStyle:"italic",$nest:{"&::before":{content:"'“'"},"&::after":{content:"'”'"}}},w={display:"block",margin:r.a.rem(1.5)+" auto"},k=r.a.stylesheet({wrapper:[o],minimizedWrapper:[s],maximizedWrapper:[l],shadowWrapper:[{position:"relative",display:"block",overflow:"inherit",zIndex:1}],title:[c],titleText:[{flexShrink:1,overflow:"hidden",textOverflow:"ellipsis"}],maximizedContainer:[d],alertsContainer:[p],alertCategoryContainer:[m],alertCategory:[h],categoryHumanContainer:[g],buttonContainer:[f],premiumButton:[b],continueWithFreePlanButton:[y],icon:[u],counter:[{width:"128px",height:"128px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",$nest:{"& > svg":{position:"absolute",zIndex:1}}}],counterText:[v],footer:[S],footerText:[C],footerLogo:[w]})},mAhp:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("U75S"),o=n("OA+g"),s=n("zR/0"),l=n("gy42"),c=n("lrqh"),u=n("D9EC"),d=n("hoSD"),p=n("e12y"),m=n("xEVj"),h=n("3yNE");!function(e){let t,n;!function(e){e[e.default=0]="default",e[e.captureTab=1]="captureTab",e[e.f6Only=2]="f6Only"}(t=e.FocusBehavior||(e.FocusBehavior={})),function(e){e.from=e=>Object(o.flow)(e,c.g.tap(e=>e.focus()));const t=e=>n=>Object(o.pipe)(n,c.g.fromPredicate(Object(u.b)(d.c.isHTMLElement,d.c.isFocusable)),c.g.alt(()=>Object(o.pipe)(Array.from(n.children),e(t(e))))),n=t(i.T),a=t(i.X);e.focusRootOrFirstFocusable=e.from(n),e.focusRootOrLastFocusable=e.from(a)}(n=e.FocusStrategy||(e.FocusStrategy={}));const a=p.a.stylesheet({focusLeaveTracker:[{position:"fixed"}]}),g=e=>r.createElement("div",{key:"leave-tracker-"+d.f.alphanumeric(12),tabIndex:0,onFocus:t=>(t.preventDefault(),e()),"aria-hidden":!0,className:a.focusLeaveTracker});e.create=e=>({component:a,section:i,behavior:d=t.default,focusStrategy:p=n.focusRootOrFirstFocusable,escapeStrategy:f,skipDirection:b="forwards",refocusOnMutation:y=!0})=>n=>{const v=r.useContext(e),{onMount:S,ref:C}=m.a.useElWatcher(),w=new s.a.Subject,k=e=>()=>Object(o.pipe)(p(e),c.g.tapLeft(()=>w.next("forwards"===b?h.a.FocusEvent.proceedForwards:h.a.FocusEvent.proceedBackwards)));return m.a.useSubscriptionTo(C.pipe(s.b.compact,s.a.switchMap(e=>{const n=s.a.fromEvent(e,"keydown").pipe(s.a.filter(e=>"Tab"===e.key)),a=n.pipe(s.a.map(e=>e.shiftKey?h.a.FocusEvent.navigationBackwards:h.a.FocusEvent.navigationForwards)),r=d===t.captureTab?n.pipe(s.a.tap(e=>e.preventDefault()),s.a.map(e=>e.shiftKey?h.a.FocusEvent.proceedBackwards:h.a.FocusEvent.proceedForwards)):s.a.EMPTY,u=Object(o.pipe)(f,c.g.fromNullable,c.g.map(t=>t(e)),c.g.getOrElse(()=>s.a.EMPTY));return v.register(i,s.a.mergeStatic(r,w,u,a)).pipe(s.a.filter(e=>e===h.a.FocusEvent.focused),s.a.switchMap((e=>Object(o.flow)(k(e),c.g.filter(Object(o.constant)(y)),c.g.fold(()=>s.a.EMPTY,t=>l.a.getMutationObservable(e,{childList:!0,subtree:!0}).pipe(s.a.takeUntil(v.state.pipe(s.a.skip(1))),s.a.filter(()=>!e.contains(t)),s.a.switchMap(l.b.Scheduler.rafScheduler),s.a.tap(k(e))))))(e)))}))),r.createElement(a,Object.assign(Object.assign({},n),{mount:e=>{var t;S(e),null===(t=n.mount)||void 0===t||t.call(n,e)}}),Object(u.c)(g(()=>w.next(h.a.FocusEvent.proceedBackwards)),null)(d===t.default),n.children,Object(u.c)(g(()=>w.next(h.a.FocusEvent.proceedForwards)),null)(d===t.default))}}(a||(a={}))},mHcA:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return y}));var a,r,i=n("I7vG"),o=n("FiSa"),s=n("SGhz"),l=n("24uI"),c=n("+JVj"),u=n("hoSD"),d=n("lrqh"),p=n("D9EC"),m=n("6fbX"),h=n("PrA7"),g=n("zR/0");function f(e){return null===e||u.f.isBreakWordChar(e.charCodeAt(0))}class b{constructor(e=0,t=!1){this._textLength=e,this._verify=t}pushChanges(e){o.a.isReset(e)?this._textLength=e.length:o.a.isDelta(e)&&(this._verify&&Object(s.g)(e.prevLen,this._textLength,"Incorrect textLength on insert."),this._textLength+=e.length)}get textLength(){return this._textLength}}!function(e){e.create=e=>c.b.compose({id:e})}(a||(a={})),function(e){class t{registerRange(e,t){return a.create(e)(t)}deregisterRange(e){return c.b.empty}findClosestToPosition(e,t){return d.g.none}findRanges(e){return[]}widen(e){return Object(i.pipe)(e,e=>c.b.alterLeft(e,1),d.b.chain(e=>c.b.alterRight(e,1)),d.b.unsafeGet)}narrow(e){return Object(i.pipe)(e,d.g.fromPredicate(e=>c.b.size(e)>1),d.g.map(e=>Object(i.pipe)(e,e=>c.b.alterLeft(e,-1),d.b.chain(e=>c.b.alterRight(e,-1)),d.b.unsafeGet)))}}e.RangeManagerMock=t,e.mock=new t}(r||(r={}));class y{constructor(e=0,t=!1,n=!1){this._enableMPTE=t,this._strictMode=n,this._log=h.Monitoring.Logging.getLogger("position_manager",h.Logging.LogLevel.DEBUG),this._verifyState=this._log.isEnabled(h.Logging.LogLevel.INFO),this._ranges=new Map,this._rangesArray=[],this._rangeChanged=new g.a.Subject,this.rangeChanged=this._rangeChanged,this.rangeChangedMPTE=new g.a.Subject,this.widen=e=>(this._validateRange(e),Object(i.pipe)(e,e=>c.b.alterLeft(e,e.start<=0?0:1),d.b.chain(e=>c.b.alterRight(e,e.end>=this._lenCalc.textLength?0:1)),d.b.getOrElse(t=>(this._log.error("TextRange mutation error",t),e)))),this.narrow=e=>(this._validateRange(e),Object(i.pipe)(e,d.g.fromPredicate(e=>c.b.size(e)>1),d.g.map(e=>Object(i.pipe)(e,e=>c.b.alterLeft(e,e.meta.increasedLeft>0?-1:0),d.b.chain(e=>c.b.alterRight(e,e.meta.increasedRight>0?-1:0)),d.b.getOrElse(t=>(this._log.error("TextRange mutation error",t),e)))))),this._lenCalc=new b(e,this._verifyState),Object(p.r)("positions",()=>{this._log.info("PositionManager",this.toString()),this._verifyIsSorted()})}pushChanges(e){this._log.trace("PM Incoming: ",{changes:e,currentLen:this._lenCalc.textLength});try{this._lenCalc.pushChanges(e)}catch(e){if(this._strictMode)throw e;this._log.error("TextLengthCalc check failed",e)}const t=((e,t)=>{let n=0;const a=new Map;if(o.a.isFlush(e))return{affected:[],changed:[]};let r=t.length+1;return o.a.isReset(e)?t.forEach(e=>{e.start=0,e.end=0,a.set(e.meta.id,e)}):e.delta.ops.forEach(e=>{if(l.a.isRetain(e))n+=e.retain;else if(l.a.isInsert(e)){const i=n,o=u.a.lowerBound(t,e=>e.end<i),s=e.insert,l="string"==typeof s?s.length:1;if(n+=l,d.g.isSome(o)){const e="string"==typeof s?s.charAt(s.length-1):null,n="string"==typeof s?s.charAt(0):null;for(let r=o.value;r<t.length;++r){const o=t[r];o.start<i?o.end===i?f(n)||a.set(o.meta.id,o):(a.set(o.meta.id,o),o.end+=l):o.start===o.end&&o.end===i?f(n)||a.set(o.meta.id,o):(o.start!==i||f(e)||a.set(o.meta.id,o),o.start+=l,o.end+=l)}r>o.value&&(r=o.value)}}else if(l.a.isDelete(e)){const i=n,o=u.a.lowerBound(t,e=>e.end<=i);if(d.g.isSome(o)){const n=i+e.delete;for(let r=o.value;r<t.length;++r){const o=t[r];o.start,o.start<n?(a.set(o.meta.id,o),o.start<i?o.end=o.end-Math.min(e.delete,o.end-i):o.end<=n?(o.start=i,o.end=i):(o.start=i,o.end-=e.delete)):(o.start-=e.delete,o.end-=e.delete)}r>o.value&&(r=o.value)}}}),{changed:t.slice(r),affected:Array.from(a.values())}})(e,this._rangesArray);this._verifyState&&this._verifyIsSorted();const n={changed:t.changed,affected:t.affected.map(e=>this.getRange(e.meta.id))};return this._enableMPTE&&n.affected.length>0?this.rangeChangedMPTE.next(n.affected):(n.changed.length>0||n.affected.length>0)&&this._rangeChanged.next(n),n}registerRange(e,t){if(this._ranges.has(e))throw new Error("Range already registered "+e);this._log.trace("Registered range: "+e);const n=a.create(e)(t);return this._validateRange(n),this._ranges.set(e,n),this._rangesArray.push(n),this._rangesArray.sort(c.b.ord.compare),n}_validateRange(e){c.b.isValid(this._lenCalc.textLength)(e)||this._log.warn("Trying to modify corrupted range start",{range:JSON.stringify(e),length:this._lenCalc.textLength})}getRange(e){const t=this._ranges.get(e);if(void 0===t)throw new Error("Range is not registered");return t}findRanges(e){return this._rangesArray.filter(e)}deregisterRange(e){this._log.trace("deregisterRange #"+e);const t=this.getRange(e);this._verifyState&&this._verifyIsSorted(),this._ranges.delete(e);try{return Object(i.pipe)(u.a.lowerBound(this._rangesArray,e=>e.end<t.end),d.g.getOrElse(()=>this._rangesArray.length),n=>{let a=n;for(;a<this._rangesArray.length&&this._rangesArray[a].meta.id!==e;)a++;return Object(m.f)(a<this._rangesArray.length&&this._rangesArray[a].meta.id===e,"Range should be present: "+e),this._rangesArray.splice(a,1),t})}catch(t){throw this._log.error("Cannot deregister range "+e,this._rangesArray),t}}findById(e){return d.g.fromNullable(this._ranges.get(e))}findByRange(e){const t=[];return Object(i.pipe)(u.a.lowerBound(this._rangesArray,t=>t.end<e.end),d.g.getOrElse(()=>this._rangesArray.length),n=>{let a=n;for(;a<this._rangesArray.length&&this._rangesArray[a].end===e.end;)this._rangesArray[a].start===e.start&&t.push(this._rangesArray[a]),a++;return t})}findIntersections(e){const t=[];return Object(i.pipe)(u.a.lowerBound(this._rangesArray,t=>t.end<e.start),d.g.getOrElse(()=>this._rangesArray.length),n=>{let a=n;for(;a<this._rangesArray.length;){const n=this._rangesArray[a];n.end>e.start&&e.end>n.start&&t.push(this._rangesArray[a]),a++}return t})}findClosestToPosition(e,t){const n=this._rangesArray.filter(t);return Object(i.pipe)(u.a.lowerBound(n,t=>e>=t.end),d.g.getOrElse(()=>n.length),t=>{const a=d.g.fromNullable(n[t]),r=d.g.fromNullable(n[t-1]);return Object(i.pipe)(a,d.g.map(t=>Object(i.pipe)(r,d.g.fold(()=>t,n=>t.start-e<=e-n.end?t:n))),d.g.orElse(r))})}getRegisteredRanges(){return this._rangesArray}getTextLength(){return this._lenCalc.textLength}_verifyIsSorted(){for(let e=1;e<this._rangesArray.length;++e)this._rangesArray[e-1].end>this._rangesArray[e].end&&(this._log.isEnabled(h.Logging.LogLevel.DEBUG)?this._log.error("Houston, we have a problem: Array is not sorted anymore @ "+e,this._rangesArray):this._log.error("Houston, we have a problem: Array is not sorted anymore"),this._rangesArray.sort(c.b.ord.compare))}toString(){return JSON.stringify(this,void 0,2)}toJSON(){return{textLength:this.getTextLength(),ranges:this._rangesArray}}}},mLKH:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("e12y"),r=n("ps/9"),i=n("ax6a");i.b.Z100,a.a.rem(r.t),i.b.Z200;const o={borderRadius:a.a.rem(r.t),boxShadow:i.b.Z300}},mOEe:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return S}));var a=n("OA+g"),r=n("I7vG"),i=n("LNSM"),o=n("dE97"),s=n("GUi3"),l=n("yA7V"),c=n("jAb7"),u=n("GGUR"),d=n("zR/0"),p=n("viRF"),m=n("gy42"),h=n("uukV"),g=n("lrqh"),f=n("hoSD"),b=n("D9EC"),y=n("PrA7");function v(e){return t=>({id:t.id,categoryHuman:t.toLiteAlert().categoryHuman,lensId:t.lensId,getHighlightRanges:t.getHighlightRanges,content:Object(r.pipe)(t.transform,g.g.filter(()=>!(o.a.isSuperAlert(t)||o.a.isOneGap(t)||o.f.isSimple(t.extraProperties.cardType)||o.f.isFullSentence(t.extraProperties.cardType))),g.g.chain(Object(a.flow)(e,g.b.fold(e=>(y.Monitoring.Logging.getLogger("ReportViewModel.hydration").error("Could not hydrate alert",e.error),g.g.none),g.g.some))),g.b.fromOption(()=>t.highlightTexts))})}class S{constructor(e,t,n,l,S,C,w,k,E,O,A){this._engine=e,this._profile=t,this._features=n,this._notificationsManager=l,this._htmlContent=S,this._telemetry=A,this.reportData=i.a.create(g.g.none),this.downloadStarted=i.a.create(!1),this._log=y.Monitoring.Logging.getLogger("ReportViewModelImpl"),this._subs=new u.a.Keeper,this._requestSent=i.a.create(!1),this._visitLenses=(e,t)=>{e.view("currentLens","id").get()!==s.a.SpecialId.Plagiarism&&this._engine.sessionModel.extraSettings.checkedPlagiarism&&t.events.next({type:"switchToLens",id:s.a.SpecialId.Plagiarism,focusFirst:!1,actionSource:o.b.sidebar}),t.events.next({type:"switchToLens",id:s.a.SpecialId.AllAlerts,focusFirst:!1,actionSource:o.b.sidebar})},this.beginDownload=()=>{this._telemetry.gnarSpec.detailedReportDownloadButtonClick(this._telemetry.pageId,Object(r.pipe)(this._engine.sessionModel.score.get(),g.g.map(f.e.pick("rank")),g.g.getOrElse(Object(a.constant)(0)))),this.downloadStarted.set(!0)},this._finishDownload=()=>{this.downloadStarted.set(!1),this._requestSent.set(!1),this.reportData.set(g.g.none)},this._getReportModel=e=>d.a.combineLatestStatic(this._engine.sessionModel.title.view(e=>Boolean(e)?e:"Untitled"),this._engine.sessionModel.recentDocumentStats.pipe(d.b.compact),this._engine.sessionModel.score.pipe(d.b.compact),this._engine.sessionModel.counters,d.a.combineLatestStatic(this._features.isPremium,e).pipe(d.a.map(([e,t])=>e?Object(r.pipe)(t,g.g.map(e=>({score:p.a.groupSum.concat(p.a.MAX,p.a.groupSum.inverse(p.a.fromRatio(e.percentile))),sources:e.count,state:h.a.PlagiarismCheckingState.CHECKED,sortedAlerts:this._getFilteredAlerts(o.a.isPlagiarism)})),g.g.alt(()=>g.g.some({state:h.a.PlagiarismCheckingState.NOT_CHECKED}))):g.g.none)),this._htmlContent).pipe(d.a.map(([e,t,n,a,r,i])=>{const s=this._getFilteredAlerts(Object(b.b)(Object(b.b)(o.a.isApplicableAlert,Object(b.m)(o.a.isMuted)),o.a.isRegistered));return g.g.some({sortedAlerts:this._getNonPremiumSortedAlerts(s),dedHTML:i,title:e,author:this._profile.get().fullName,stats:t,score:n.rank,criticalIssues:a.critical,advancedIssues:a.advanced,issues:this._calculateIssues(s),plagiarism:r})})),this._listenDownload=(e,t,n,a)=>{this._subs.push(this.downloadStarted.pipe(d.a.filter(Boolean),d.a.switchMap(()=>d.a.from(this._prepareDownload()).pipe(d.a.timeout(24e3),d.a.tap(()=>this._visitLenses(e(),n())),d.a.observeOn(d.a.asapScheduler),d.a.switchMap(()=>t().flush()),d.a.switchMapTo(this._getReportModel(a).pipe(d.a.first())),d.a.catchError(e=>(this._log.error("Error while preparing PDF report",e),this._finishDownload(),this._notificationsManager.enqueue("error").pipe(d.a.mapTo(g.g.none))))))).subscribe(m.b.toAtom(this.reportData)))},this._alertDataProcessor=v(C),this._listenDownload(w,k,E,O.view(c.a.lookup(s.a.SpecialId.Plagiarism)))}_prepareDownload(){return this._engine.sessionModel.extraSettings.checkedPlagiarism&&!this._features.isFree.get()?this._engine.plagiarismModel.recheck():Promise.resolve()}tryToInterrupt(){this._requestSent.get()||this._finishDownload()}_calculateIssues(e){return e.reduce((e,t)=>{const n=s.a.OutcomeId.fromOutcomeId(t.lensId),a=t.toLiteAlert(),r=a.categoryHuman;return e[n]=Boolean(e[n])?e[n]:{},e[n][r]=e[n][r]||0,e[n][r]+=a.cost,e},{})}generateReport(e,t,n){this._requestSent.get()||(this._requestSent.set(!0),this._subs.push(d.a.from(this._engine.sessionModel.generateReport(e,{headerTemplate:t,footerTemplate:n,format:"Letter",marginTop:"70px",marginBottom:"70px"})).pipe(d.a.tap(this._finishDownload),d.a.catchError(e=>(this._log.error("generateReport failed",e),this._notificationsManager.enqueue("error")))).subscribe()))}_getNonPremiumSortedAlerts(e){return e.map(this._alertDataProcessor)}_getFilteredAlerts(e){return Object(r.pipe)(this._engine.checkingDomain.state.get(),l.a.reduce([],(t,n)=>(e(n.alert)&&t.push(n.alert),t)))}dispose(){this._subs.dispose()}}var C;!function(e){e.Mock=class{constructor(){this.downloadStarted=i.a.create(!1),this.beginDownload=b.e,this.tryToInterrupt=b.e,this.generateReport=()=>{throw new Error("Method not implemented.")},this.reportData=i.a.create(g.g.none),this.dedHTML="",this.dispose=b.e}}}(C||(C={}))},mbuk:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("D57K"),i=n("6fbX"),o=n("hoSD");!function(e){!function(e){!function(e){e.create="create",e.update="update",e.remove="remove"}(e.ActionType||(e.ActionType={})),function(e){e.getEmpty=function(){return{created:new Map,updated:new Map,removed:new Map}}}(e.Result||(e.Result={}))}(e.Change||(e.Change={}));var t=function(e){function t(t){return e.call(this,t)||this}return Object(r.__extends)(t,e),t}(i.a);e.CollapsedMarkError=t,function(e){e.id="64656E616E69",e.generateActiveWordRandomId=function(){return o.f.alphanumeric(10)},e.generateSynonymOnboardingId=function(e){return e+"9f2d9601b324bb6c1e36737e59ed3d96"}}(e.SynonymMark||(e.SynonymMark={}))}(a||(a={}))},mmr0:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("a5W6"),i=n("m6JR"),o=n("OA+g"),s=n("I7vG"),l=n("lrqh"),c=n("D9EC"),u=n("GUi3"),d=n("aIes"),p=n("uqkn"),m=n("BeBM"),h=n("WOQ9");!function(e){let t;function n(e,t){return`${e.id}_${t.id}`}e.isInSuccess=function(e,t=o.constTrue){return n=>0===n.meta.count&&(0===n.items.filter(t).size||l.g.isNone(n.items.filter(t).find(t=>!e.isScheduledToDispose(t))))},function(t){function n(t){return n=>m.e.hasSuccess(n)&&m.e.hasItems(n)&&e.isInSuccess(t)(n.currentLens)}t.isInSuccess=n,t.isInGlobalSuccess=e=>t=>(m.e.is(u.a.SpecialId.AllAlerts)(t)||m.e.is(u.a.SpecialId.Priority)(t))&&n(e)(t)}(t=e.State||(e.State={})),e.getCardId=n,e.create=function(e,t,n,a){const r=d.a.Sorted.empty(p.a.getId,a.compare),i=l.g.none;return{id:e,type:m.i.lensview,kind:m.f.persistent,withPriorityList:!1,meta:t,cardIndex:i,items:r,itemsOrd:a,animation:m.b.skip,isCardsHeightValid:!1,cardsHeight:0,hashCode(){return h.a.lensHash.hashCode(this)},equals(e){return h.a.getEq(n).equals(this,e)}}},e.add=(e,t,a)=>r=>o=>{const s=r.map(r=>{const i=t.createAdded(o.id)(n(o.meta,r),r);return e(o,r)?i:h.a.Items.hideItem(i,a)}),c=o.items.add(s),u=m.k.getActiveItemIndex(c)(o),d=l.g.getEq(i.eqNumber).equals(u,o.cardIndex)?m.b.force:m.b.skip;return Object.assign(Object.assign({},o),{cardIndex:u,items:c,animation:d})},e.remove=e=>t=>n=>{const a=new Set(t.map(e=>e.id)),r=n.items.map(e.remove(Object(o.flow)(e.hasActiveAlert,l.g.map(e=>e.alert),l.g.fold(o.constFalse,e=>a.has(e.id))),e=>Object(s.pipe)(m.k.getActiveItem(n),l.g.map(t=>n.itemsOrd.compare(e,t)>0),l.g.getOrElse(o.constTrue)))),i=Object(s.pipe)(n.cardIndex,l.g.chain(t=>Object(s.pipe)(r.findRightFrom(t=>e.isScheduledToDispose(t),t),l.g.map(e=>e.index))),l.g.isSome)?m.b.skip:m.b.force,c=Object(s.pipe)(n,m.k.getActiveItemIndex(r));return Object.assign(Object.assign({},n),{cardIndex:c,items:r,animation:i})},e.update=(t,n,a)=>r=>i=>e.updateWithAlerts(n,t,a)(r.filter(Object(c.m)(n.shouldAnimateAlertApply)))(i),e.updateWithAlerts=(e,t,a)=>i=>c=>{if(0===i.length)return c;const u=Object(s.pipe)(i,h.a.filterAlertInLens(c,a),r.map(e=>[n(c.meta,e),e]),r.reduce(c.items,(n,[r,i])=>Object(s.pipe)(n.update(r,a.updateWithAlerts([i])),l.b.fold(()=>{const o=e.createAdded(c.id)(r,i);return n.add(t(c,i)?o:h.a.Items.hideItem(o,a))},o.identity)))),d=m.k.getActiveItemIndex(u)(c);return Object.assign(Object.assign({},c),{cardIndex:d,items:u,animation:m.b.proceed})},e.getAlertHandler=function(t,n,a=o.constTrue){return(r,i)=>{const o=h.a.ApplyDiff.applyWithFilter(i,h.a.ApplyDiff.apply);return i=>Object(s.pipe)(i,o(r,e.add(a,t,n),e.update(a,t,n),e.remove(n)))}}}(a||(a={}))},mvgW:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"n",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"o",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return y}));var a=function(e,t){for(var n=0,a=t.length,r=e.length;n<a;n++,r++)e[r]=t[n];return e},r=function(e){return"None"===e._tag},i=function(e){return"Some"===e._tag},o={_tag:"None"},s=function(e){return{_tag:"Some",value:e}},l=function(e){return"Left"===e._tag},c=function(e){return{_tag:"Left",left:e}},u=function(e){return{_tag:"Right",right:e}},d=function(e){return[e]},p=function(e){return e.length>0},m=function(e){return e[0]},h=function(e){return e.slice(1)},g=[],f={},b=Object.prototype.hasOwnProperty,y=function(e){return a([e[0]],e.slice(1))}},"n+Au":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b}));var a=n("ERkP"),r=n("I7vG"),i=n("vOOZ"),o=n("LNSM"),s=n("rk+4"),l=n("bO3R"),c=n("3rlE"),u=n("jAl6"),d=n("zR/0"),p=n("BoSw"),m=n("lrqh"),h=n("uYVq"),g=n("vgpX");const f=({reportViewModel:e,state:t})=>a.createElement(i.a.Fragment,null,Object(r.pipe)(e,m.g.map(e=>t.pipe(d.a.map(t=>a.createElement(b,{key:"downloadPdfReportButton",statsLoadingState:t.type,reportViewModel:e})))),m.g.toNullable));class b extends a.Component{constructor(){super(...arguments),this._loadingState=o.a.create(this.props.statsLoadingState),this._buttonState=o.a.combine(this.props.reportViewModel.downloadStarted,this._loadingState,(e,t)=>this._getButtonState(e,t))}_getButtonState(e,t){const n=this.context.performance;return e?{disabled:!0,className:g.preparingForReportLabel,children:a.createElement("span",{key:"stats-load-container",className:g.loaderContainer},n.report.preparingPdfReport,a.createElement(u.a,{size:20,variation:"gray",wrapperClassName:g.downloadPdfSpinner}),a.createElement(h.a,{reportViewModel:this.props.reportViewModel}))}:Object.assign({className:g.downloadPdfReportButton,children:a.createElement("span",{key:"download-button"},a.createElement(c.d.Download,{className:g.downloadIcon}),n.report.downloadPdfReport)},t===p.a.State.Type.READY?{disabled:!1}:{disabled:!0,title:t===p.a.State.Type.SHORT_CONTENT?n.notEnoughTextToGenerateReport:void 0})}componentWillUnmount(){this.props.reportViewModel.tryToInterrupt()}shouldComponentUpdate(){return!1}componentWillReceiveProps({statsLoadingState:e}){this._loadingState.set(e)}render(){return a.createElement(l.a.Caps,{name:"download-pdf-report",title:this._buttonState.view("title"),className:this._buttonState.view("className"),disabled:this._buttonState.view("disabled"),onClick:this.props.reportViewModel.beginDownload},this._buttonState.view("children"))}}b.contextType=s.a.Context},n61d:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){var t=function(){function e(e){this._predicate=e,this._queueMap=new Set,this._queue=[]}return e.prototype.put=function(e){var t,n=this,a=new Set,r=e.reduce((function(e,t){return a.has(t.id)||n._queueMap.has(t.id)||!n._predicate(t)||(a.add(t.id),e.push(t)),e}),[]);(t=this._queue).push.apply(t,r),r.forEach((function(e){var t=e.id;return n._queueMap.add(t)}))},e.prototype.take=function(e){for(var t=0,n=[];t<this._queue.length&&n.length<e;){var a=this._queue[t];this._predicate(a)&&n.push(a),this._queueMap.delete(a.id),t++}return this._queue=this._queue.slice(t),n},e.prototype.order=function(e){this._queue.sort(e)},Object.defineProperty(e.prototype,"length",{get:function(){return this._queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nonEmpty",{get:function(){return this._queue.length>0},enumerable:!1,configurable:!0}),e}();e.LazyPredicateUniq=t}(a||(a={}))},nb6X:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("D57K"),i=n("a5W6"),o=n("5p8x"),s=n("fOOC"),l=n("I7vG"),c=n("gL5k"),u=n("6fbX"),d=n("lrqh");!function(e){var t,n,a;function p(e,n){var a=n.position,i=n.point,o={width:Math.trunc(e.width),height:Math.trunc(e.height)};return c.Rect.validate(t.match((function(){return Object(r.__assign)({top:i.y,right:i.x,bottom:i.y+o.height,left:i.x-o.width},o)}),(function(){return Object(r.__assign)({top:i.y-o.height,right:i.x,bottom:i.y,left:i.x-o.width},o)}),(function(){return Object(r.__assign)({top:i.y-o.height,right:i.x+o.width,bottom:i.y,left:i.x},o)}),(function(){return Object(r.__assign)({top:i.y,right:i.x+o.width,bottom:i.y+o.height,left:i.x},o)}))(a))}function m(t){return e.topLeft(c.Rect.Point.normalize({x:t.left,y:t.top}))}!function(e){e.topLeft="topLeft",e.topRight="topRight",e.bottomRight="bottomRight",e.bottomLeft="bottomLeft"}(t=e.Position||(e.Position={})),function(e){e.match=function(t,n,a,r){return function(i){switch(i){case e.topRight:return t();case e.bottomRight:return n();case e.bottomLeft:return a();case e.topLeft:return r();default:return Object(u.c)(i)}}}}(t=e.Position||(e.Position={})),e.topLeft=function(e){return{position:t.topLeft,point:c.Rect.Point.normalize(e)}},e.topRight=function(e){return{position:t.topRight,point:c.Rect.Point.normalize(e)}},e.bottomRight=function(e){return{position:t.bottomRight,point:c.Rect.Point.normalize(e)}},e.bottomLeft=function(e){return{position:t.bottomLeft,point:c.Rect.Point.normalize(e)}},e.relativeTo=function(e,t){return{position:e.position,point:c.Rect.Point.relativeTo(e.point,t)}},e.empty=e.topLeft(c.Rect.Point.empty),e.toRect=p,e.fromRect=m,e.inRect=function(e,t){var n=t.point;return c.Rect.hasPoint(e,n)},e.toCss=function(e){var n=e.position,a=e.point;return t.match((function(){return{top:a.y,right:a.x}}),(function(){return{right:a.x,bottom:a.y}}),(function(){return{bottom:a.y,left:a.x}}),(function(){return{top:a.y,left:a.x}}))(n)},function(t){t.create=function(e,t){return Object(u.f)(e.point.x===t.point.x||e.point.y===t.point.y,"can not form Zone without a common dimension",(function(){return JSON.stringify({a:e,b:t})})),[e,t]},t.bySide=function(n,a){return c.Rect.Side.match((function(){return t.create(e.bottomLeft({x:Math.ceil(a.left),y:Math.ceil(a.top)}),e.bottomRight({x:Math.floor(a.right),y:Math.ceil(a.top)}))}),(function(){return t.create(e.topLeft({x:Math.floor(a.right),y:Math.ceil(a.top)}),e.bottomLeft({x:Math.floor(a.right),y:Math.floor(a.bottom)}))}),(function(){return t.create(e.topLeft({x:Math.ceil(a.left),y:Math.floor(a.bottom)}),e.topRight({x:Math.floor(a.right),y:Math.floor(a.bottom)}))}),(function(){return t.create(e.topRight({x:Math.ceil(a.left),y:Math.ceil(a.top)}),e.bottomRight({x:Math.ceil(a.left),y:Math.floor(a.bottom)}))}))(n)}}(n=e.Zone||(e.Zone={})),function(e){e.byAxis=function(e,t){return o.g(Object(s.getFirstSemigroup)(),i.array)(c.Rect.Axis.toSides(e).map((function(e){return[e,n.bySide(e,t)]})))}}(e.Variants||(e.Variants={})),function(t){function n(e,t){return Object(l.pipe)(c.Rect.intersection(e,t),d.g.map((function(e){var n=e.width/t.width,a=e.height/t.height,r=(Number.isNaN(n)?0:n/2)+(Number.isNaN(a)?0:a/2);return Object(u.f)(r>=0,"quality can not be negavite: ".concat(r)),Object(u.f)(r<=1,"quality can be higher than 1: ".concat(r)),r})))}t.empty={quality:0,point:e.empty},t.qualityOfIntersection=n,t.byViewport=function(e,t){return{quality:Object(l.pipe)(n(e,t),d.g.getOrElse((function(){return 0})))+Object(l.pipe)(c.Rect.scale(2,t),d.b.chain(c.Rect.normalize),d.g.fromEither,d.g.chain((function(t){return n(e,t)})),d.g.getOrElse((function(){return 0}))),point:m(t)}},t.fromZone=function(e,n,a){return Object(l.pipe)(i.array.traverse(d.b.either)(a,(function(e){return p(n,e)})),d.b.chain((function(e){var t=e[0],n=e[1];return c.Rect.join(t,n)})),d.b.chain((function(e){return c.Box.placeIntoRect(n,e)})),d.b.map((function(n){return n.map((function(n){return t.byViewport(e,n)}))})))}}(a=e.Qualified||(e.Qualified={})),function(e){e.build=function(e,t,n){return Object(l.pipe)(n,o.j((function(n){return a.fromZone(e,t,n)})))}}(e.QualifiedVariants||(e.QualifiedVariants={})),function(e){var t;!function(e){e[e.left=0]="left",e[e.middle=1]="middle",e[e.right=2]="right",e[e.edges=20]="edges",e[e.any=210]="any"}(t=e.Placement||(e.Placement={})),e.takeBy=function(e,t){return function(n){return Object(l.pipe)(n,o.n({point:a.empty,side:e},(function(n,a,r){return Object(l.pipe)(r,d.b.map((function(r){return r.filter((function(a,r){return t.toString().includes(r.toString())&&e===n})).reduce((function(e,t){return t.quality>e.point.quality?{point:t,side:n}:e}),a)})),d.b.unsafeGet)}))).point}},e.preferBy=function(e,t){return function(n){return Object(l.pipe)(n,o.n({point:a.empty,side:e},(function(n,a,r){return Object(l.pipe)(r,d.b.map((function(r){return r.reduce((function(a,r,i){return r.quality>a.point.quality||r.quality===a.point.quality&&t.toString().includes(i.toString())&&e===n?{point:r,side:n}:a}),a)})),d.b.unsafeGet)}))).point}},e.preferTopMiddle=e.preferBy("top",t.middle),e.preferTopEdges=e.preferBy("top",t.edges)}(e.Selector||(e.Selector={}))}(a||(a={}))},nxFc:function(e,t,n){"use strict";n.d(t,"a",(function(){return me}));var a=n("ERkP"),r=n("7nmT");function i(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function o(e){return e instanceof i(e).Element||e instanceof Element}function s(e){return e instanceof i(e).HTMLElement||e instanceof HTMLElement}function l(e){return"undefined"!=typeof ShadowRoot&&(e instanceof i(e).ShadowRoot||e instanceof ShadowRoot)}var c=Math.max,u=Math.min,d=Math.round;function p(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function m(){return!/^((?!chrome|android).)*safari/i.test(p())}function h(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),r=1,l=1;t&&s(e)&&(r=e.offsetWidth>0&&d(a.width)/e.offsetWidth||1,l=e.offsetHeight>0&&d(a.height)/e.offsetHeight||1);var c=(o(e)?i(e):window).visualViewport,u=!m()&&n,p=(a.left+(u&&c?c.offsetLeft:0))/r,h=(a.top+(u&&c?c.offsetTop:0))/l,g=a.width/r,f=a.height/l;return{width:g,height:f,top:h,right:p+g,bottom:h+f,left:p,x:p,y:h}}function g(e){var t=i(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function f(e){return e?(e.nodeName||"").toLowerCase():null}function b(e){return((o(e)?e.ownerDocument:e.document)||window.document).documentElement}function y(e){return h(b(e)).left+g(e).scrollLeft}function v(e){return i(e).getComputedStyle(e)}function S(e){var t=v(e),n=t.overflow,a=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+a)}function C(e,t,n){void 0===n&&(n=!1);var a,r,o=s(t),l=s(t)&&function(e){var t=e.getBoundingClientRect(),n=d(t.width)/e.offsetWidth||1,a=d(t.height)/e.offsetHeight||1;return 1!==n||1!==a}(t),c=b(t),u=h(e,l,n),p={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(o||!o&&!n)&&(("body"!==f(t)||S(c))&&(p=(a=t)!==i(a)&&s(a)?{scrollLeft:(r=a).scrollLeft,scrollTop:r.scrollTop}:g(a)),s(t)?((m=h(t,!0)).x+=t.clientLeft,m.y+=t.clientTop):c&&(m.x=y(c))),{x:u.left+p.scrollLeft-m.x,y:u.top+p.scrollTop-m.y,width:u.width,height:u.height}}function w(e){var t=h(e),n=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:a}}function k(e){return"html"===f(e)?e:e.assignedSlot||e.parentNode||(l(e)?e.host:null)||b(e)}function E(e,t){var n;void 0===t&&(t=[]);var a=function e(t){return["html","body","#document"].indexOf(f(t))>=0?t.ownerDocument.body:s(t)&&S(t)?t:e(k(t))}(e),r=a===(null==(n=e.ownerDocument)?void 0:n.body),o=i(a),l=r?[o].concat(o.visualViewport||[],S(a)?a:[]):a,c=t.concat(l);return r?c:c.concat(E(k(l)))}function O(e){return["table","td","th"].indexOf(f(e))>=0}function A(e){return s(e)&&"fixed"!==v(e).position?e.offsetParent:null}function _(e){for(var t=i(e),n=A(e);n&&O(n)&&"static"===v(n).position;)n=A(n);return n&&("html"===f(n)||"body"===f(n)&&"static"===v(n).position)?t:n||function(e){var t=/firefox/i.test(p());if(/Trident/i.test(p())&&s(e)&&"fixed"===v(e).position)return null;var n=k(e);for(l(n)&&(n=n.host);s(n)&&["html","body"].indexOf(f(n))<0;){var a=v(n);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return n;n=n.parentNode}return null}(e)||t}var x="top",I="bottom",j="right",T="left",M=[x,I,j,T],N=M.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),P=[].concat(M,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),L=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function R(e){var t=new Map,n=new Set,a=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||function e(r){n.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach((function(a){if(!n.has(a)){var r=t.get(a);r&&e(r)}})),a.push(r)}(e)})),a}var B={placement:"bottom",modifiers:[],strategy:"absolute"};function F(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function D(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,a=void 0===n?[]:n,r=t.defaultOptions,i=void 0===r?B:r;return function(e,t,n){void 0===n&&(n=i);var r,s,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},B,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(n){var r="function"==typeof n?n(l.options):n;p(),l.options=Object.assign({},i,l.options,r),l.scrollParents={reference:o(e)?E(e):e.contextElement?E(e.contextElement):[],popper:E(t)};var s=function(e){var t=R(e);return L.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(a,l.options.modifiers)));return l.orderedModifiers=s.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,a=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var i=r({state:l,name:t,instance:d,options:a});c.push(i||function(){})}})),d.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,n=e.popper;if(F(t,n)){l.rects={reference:C(t,_(n),"fixed"===l.options.strategy),popper:w(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var a=0;a<l.orderedModifiers.length;a++)if(!0!==l.reset){var r=l.orderedModifiers[a],i=r.fn,o=r.options,s=void 0===o?{}:o,c=r.name;"function"==typeof i&&(l=i({state:l,options:s,name:c,instance:d})||l)}else l.reset=!1,a=-1}}},update:(r=function(){return new Promise((function(e){d.forceUpdate(),e(l)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(r())}))}))),s}),destroy:function(){p(),u=!0}};if(!F(e,t))return d;function p(){c.forEach((function(e){return e()})),c=[]}return d.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var H={passive:!0};function V(e){return e.split("-")[0]}function U(e){return e.split("-")[1]}function W(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function q(e){var t,n=e.reference,a=e.element,r=e.placement,i=r?V(r):null,o=r?U(r):null,s=n.x+n.width/2-a.width/2,l=n.y+n.height/2-a.height/2;switch(i){case x:t={x:s,y:n.y-a.height};break;case I:t={x:s,y:n.y+n.height};break;case j:t={x:n.x+n.width,y:l};break;case T:t={x:n.x-a.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?W(i):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case"start":t[c]=t[c]-(n[u]/2-a[u]/2);break;case"end":t[c]=t[c]+(n[u]/2-a[u]/2)}}return t}var z={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $(e){var t,n=e.popper,a=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,p=e.roundOffsets,m=e.isFixed,h=s.x,g=void 0===h?0:h,f=s.y,y=void 0===f?0:f,S="function"==typeof p?p({x:g,y}):{x:g,y};g=S.x,y=S.y;var C=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),k=T,E=x,O=window;if(u){var A=_(n),M="clientHeight",N="clientWidth";if(A===i(n)&&"static"!==v(A=b(n)).position&&"absolute"===l&&(M="scrollHeight",N="scrollWidth"),A=A,r===x||(r===T||r===j)&&"end"===o)E=I,y-=(m&&A===O&&O.visualViewport?O.visualViewport.height:A[M])-a.height,y*=c?1:-1;if(r===T||(r===x||r===I)&&"end"===o)k=j,g-=(m&&A===O&&O.visualViewport?O.visualViewport.width:A[N])-a.width,g*=c?1:-1}var P,L=Object.assign({position:l},u&&z),R=!0===p?function(e){var t=e.x,n=e.y,a=window.devicePixelRatio||1;return{x:d(t*a)/a||0,y:d(n*a)/a||0}}({x:g,y}):{x:g,y};return g=R.x,y=R.y,c?Object.assign({},L,((P={})[E]=w?"0":"",P[k]=C?"0":"",P.transform=(O.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",P)):Object.assign({},L,((t={})[E]=w?y+"px":"",t[k]=C?g+"px":"",t.transform="",t))}var G={left:"right",right:"left",bottom:"top",top:"bottom"};function K(e){return e.replace(/left|right|bottom|top/g,(function(e){return G[e]}))}var Y={start:"end",end:"start"};function Z(e){return e.replace(/start|end/g,(function(e){return Y[e]}))}function X(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&l(n)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Q(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function J(e,t,n){return"viewport"===t?Q(function(e,t){var n=i(e),a=b(e),r=n.visualViewport,o=a.clientWidth,s=a.clientHeight,l=0,c=0;if(r){o=r.width,s=r.height;var u=m();(u||!u&&"fixed"===t)&&(l=r.offsetLeft,c=r.offsetTop)}return{width:o,height:s,x:l+y(e),y:c}}(e,n)):o(t)?function(e,t){var n=h(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Q(function(e){var t,n=b(e),a=g(e),r=null==(t=e.ownerDocument)?void 0:t.body,i=c(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=c(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-a.scrollLeft+y(e),l=-a.scrollTop;return"rtl"===v(r||n).direction&&(s+=c(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:s,y:l}}(b(e)))}function ee(e,t,n,a){var r="clippingParents"===t?function(e){var t=E(k(e)),n=["absolute","fixed"].indexOf(v(e).position)>=0&&s(e)?_(e):e;return o(n)?t.filter((function(e){return o(e)&&X(e,n)&&"body"!==f(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),l=i[0],d=i.reduce((function(t,n){var r=J(e,n,a);return t.top=c(r.top,t.top),t.right=u(r.right,t.right),t.bottom=u(r.bottom,t.bottom),t.left=c(r.left,t.left),t}),J(e,l,a));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function te(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ne(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ae(e,t){void 0===t&&(t={});var n=t,a=n.placement,r=void 0===a?e.placement:a,i=n.strategy,s=void 0===i?e.strategy:i,l=n.boundary,c=void 0===l?"clippingParents":l,u=n.rootBoundary,d=void 0===u?"viewport":u,p=n.elementContext,m=void 0===p?"popper":p,g=n.altBoundary,f=void 0!==g&&g,y=n.padding,v=void 0===y?0:y,S=te("number"!=typeof v?v:ne(v,M)),C="popper"===m?"reference":"popper",w=e.rects.popper,k=e.elements[f?C:m],E=ee(o(k)?k:k.contextElement||b(e.elements.popper),c,d,s),O=h(e.elements.reference),A=q({reference:O,element:w,strategy:"absolute",placement:r}),_=Q(Object.assign({},w,A)),T="popper"===m?_:O,N={top:E.top-T.top+S.top,bottom:T.bottom-E.bottom+S.bottom,left:E.left-T.left+S.left,right:T.right-E.right+S.right},P=e.modifiersData.offset;if("popper"===m&&P){var L=P[r];Object.keys(N).forEach((function(e){var t=[j,I].indexOf(e)>=0?1:-1,n=[x,I].indexOf(e)>=0?"y":"x";N[e]+=L[n]*t}))}return N}function re(e,t,n){return c(e,u(t,n))}function ie(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function oe(e){return[x,j,I,T].some((function(t){return e[t]>=0}))}var se=D({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,a=e.options,r=a.scroll,o=void 0===r||r,s=a.resize,l=void 0===s||s,c=i(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,H)})),l&&c.addEventListener("resize",n.update,H),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,H)})),l&&c.removeEventListener("resize",n.update,H)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=q({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,a=n.gpuAcceleration,r=void 0===a||a,i=n.adaptive,o=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,c={placement:V(t.placement),variation:U(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,$(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,$(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},a=t.attributes[e]||{},r=t.elements[e];s(r)&&f(r)&&(Object.assign(r.style,n),Object.keys(a).forEach((function(e){var t=a[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var a=t.elements[e],r=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});s(a)&&f(a)&&(Object.assign(a.style,i),Object.keys(r).forEach((function(e){a.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,a=e.name,r=n.offset,i=void 0===r?[0,0]:r,o=P.reduce((function(e,n){return e[n]=function(e,t,n){var a=V(e),r=[T,x].indexOf(a)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,o=i[0],s=i[1];return o=o||0,s=(s||0)*r,[T,j].indexOf(a)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,i),e}),{}),s=o[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[a]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var r=n.mainAxis,i=void 0===r||r,o=n.altAxis,s=void 0===o||o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,h=void 0===m||m,g=n.allowedAutoPlacements,f=t.options.placement,b=V(f),y=l||(b===f||!h?[K(f)]:function(e){if("auto"===V(e))return[];var t=K(e);return[Z(e),t,Z(t)]}(f)),v=[f].concat(y).reduce((function(e,n){return e.concat("auto"===V(n)?function(e,t){void 0===t&&(t={});var n=t,a=n.placement,r=n.boundary,i=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?P:l,u=U(a),d=u?s?N:N.filter((function(e){return U(e)===u})):M,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var m=p.reduce((function(t,n){return t[n]=ae(e,{placement:n,boundary:r,rootBoundary:i,padding:o})[V(n)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:g}):n)}),[]),S=t.rects.reference,C=t.rects.popper,w=new Map,k=!0,E=v[0],O=0;O<v.length;O++){var A=v[O],_=V(A),L="start"===U(A),R=[x,I].indexOf(_)>=0,B=R?"width":"height",F=ae(t,{placement:A,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),D=R?L?j:T:L?I:x;S[B]>C[B]&&(D=K(D));var H=K(D),W=[];if(i&&W.push(F[_]<=0),s&&W.push(F[D]<=0,F[H]<=0),W.every((function(e){return e}))){E=A,k=!1;break}w.set(A,W)}if(k)for(var q=function(e){var t=v.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},z=h?3:1;z>0;z--){if("break"===q(z))break}t.placement!==E&&(t.modifiersData[a]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,a=e.name,r=n.mainAxis,i=void 0===r||r,o=n.altAxis,s=void 0!==o&&o,l=n.boundary,d=n.rootBoundary,p=n.altBoundary,m=n.padding,h=n.tether,g=void 0===h||h,f=n.tetherOffset,b=void 0===f?0:f,y=ae(t,{boundary:l,rootBoundary:d,padding:m,altBoundary:p}),v=V(t.placement),S=U(t.placement),C=!S,k=W(v),E="x"===k?"y":"x",O=t.modifiersData.popperOffsets,A=t.rects.reference,M=t.rects.popper,N="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b,P="number"==typeof N?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(O){if(i){var B,F="y"===k?x:T,D="y"===k?I:j,H="y"===k?"height":"width",q=O[k],z=q+y[F],$=q-y[D],G=g?-M[H]/2:0,K="start"===S?A[H]:M[H],Y="start"===S?-M[H]:-A[H],Z=t.elements.arrow,X=g&&Z?w(Z):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},J=Q[F],ee=Q[D],te=re(0,A[H],X[H]),ne=C?A[H]/2-G-te-J-P.mainAxis:K-te-J-P.mainAxis,ie=C?-A[H]/2+G+te+ee+P.mainAxis:Y+te+ee+P.mainAxis,oe=t.elements.arrow&&_(t.elements.arrow),se=oe?"y"===k?oe.clientTop||0:oe.clientLeft||0:0,le=null!=(B=null==L?void 0:L[k])?B:0,ce=q+ie-le,ue=re(g?u(z,q+ne-le-se):z,q,g?c($,ce):$);O[k]=ue,R[k]=ue-q}if(s){var de,pe="x"===k?x:T,me="x"===k?I:j,he=O[E],ge="y"===E?"height":"width",fe=he+y[pe],be=he-y[me],ye=-1!==[x,T].indexOf(v),ve=null!=(de=null==L?void 0:L[E])?de:0,Se=ye?fe:he-A[ge]-M[ge]-ve+P.altAxis,Ce=ye?he+A[ge]+M[ge]-ve-P.altAxis:be,we=g&&ye?function(e,t,n){var a=re(e,t,n);return a>n?n:a}(Se,he,Ce):re(g?Se:fe,he,g?Ce:be);O[E]=we,R[E]=we-he}t.modifiersData[a]=R}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,a=e.name,r=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,s=V(n.placement),l=W(s),c=[T,j].indexOf(s)>=0?"height":"width";if(i&&o){var u=function(e,t){return te("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ne(e,M))}(r.padding,n),d=w(i),p="y"===l?x:T,m="y"===l?I:j,h=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],g=o[l]-n.rects.reference[l],f=_(i),b=f?"y"===l?f.clientHeight||0:f.clientWidth||0:0,y=h/2-g/2,v=u[p],S=b-d[c]-u[m],C=b/2-d[c]/2+y,k=re(v,C,S),E=l;n.modifiersData[a]=((t={})[E]=k,t.centerOffset=k-C,t)}},effect:function(e){var t=e.state,n=e.options.element,a=void 0===n?"[data-popper-arrow]":n;null!=a&&("string"!=typeof a||(a=t.elements.popper.querySelector(a)))&&X(t.elements.popper,a)&&(t.elements.arrow=a)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,a=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,o=ae(t,{elementContext:"reference"}),s=ae(t,{altBoundary:!0}),l=ie(o,a),c=ie(s,r,i),u=oe(l),d=oe(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),le=n("F0GY"),ce=n.n(le),ue=function(e){return e.reduce((function(e,t){var n=t[0],a=t[1];return e[n]=a,e}),{})},de="undefined"!=typeof window&&window.document&&window.document.createElement?a.useLayoutEffect:a.useEffect,pe=[],me=function(e,t,n){void 0===n&&(n={});var i=a.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||pe},s=a.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=s[0],c=s[1],u=a.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);r.flushSync((function(){c({styles:ue(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:ue(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),d=a.useMemo((function(){var e={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[u,{name:"applyStyles",enabled:!1}])};return ce()(i.current,e)?i.current||e:(i.current=e,e)}),[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,u]),p=a.useRef();return de((function(){p.current&&p.current.setOptions(d)}),[d]),de((function(){if(null!=e&&null!=t){var a=(n.createPopper||se)(e,t,d);return p.current=a,function(){a.destroy(),p.current=null}}}),[e,t,n.createPopper]),{state:p.current?p.current.state:null,styles:l.styles,attributes:l.attributes,update:p.current?p.current.update:null,forceUpdate:p.current?p.current.forceUpdate:null}}},nxLo:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return u}));var a=n("ERkP"),r=n("Z1nV"),i=n("KCID"),o=n("UMB3"),s=n("rGmV");function l(e){return(0,i.e)()?e.altKey:e.ctrlKey}function c(e){return(0,i.g)()?e.metaKey:e.ctrlKey}function u(e){let{keyboardDelegate:t,selectionManager:n,onTypeSelect:r}=e,i=(0,a.useRef)({search:"",timeout:null}).current;return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?e=>{let a=function(e){return 1!==e.length&&/^[A-Z]/i.test(e)?"":e}(e.key);if(!a||e.ctrlKey||e.metaKey||!e.currentTarget.contains(e.target))return;" "===a&&i.search.trim().length>0&&(e.preventDefault(),"continuePropagation"in e||e.stopPropagation()),i.search+=a;let o=t.getKeyForSearch(i.search,n.focusedKey);null==o&&(o=t.getKeyForSearch(i.search)),null!=o&&(n.setFocusedKey(o),r&&r(o)),clearTimeout(i.timeout),i.timeout=setTimeout(()=>{i.search=""},1e3)}:null}}}function d(e){let{selectionManager:t,keyboardDelegate:n,ref:d,autoFocus:p=!1,shouldFocusWrap:m=!1,disallowEmptySelection:h=!1,disallowSelectAll:g=!1,selectOnFocus:f="replace"===t.selectionBehavior,disallowTypeAhead:b=!1,shouldUseVirtualFocus:y,allowsTabNavigation:v=!1,isVirtualized:S,scrollRef:C=d}=e,{direction:w}=(0,s.b)(),k=(0,a.useRef)({top:0,left:0});(0,i.s)(C,"scroll",S?null:()=>{k.current={top:C.current.scrollTop,left:C.current.scrollLeft}});const E=(0,a.useRef)(p);(0,a.useEffect)(()=>{if(E.current){let e=null;"first"===p&&(e=n.getFirstKey()),"last"===p&&(e=n.getLastKey());let a=t.selectedKeys;a.size&&(e=a.values().next().value),t.setFocused(!0),t.setFocusedKey(e),null!=e||y||(0,r.b)(d.current)}E.current=!1},[]);let O=(0,a.useRef)(t.focusedKey);(0,a.useEffect)(()=>{let e=(0,o.a)();if(t.isFocused&&null!=t.focusedKey&&(null==C?void 0:C.current)){let n=C.current.querySelector(`[data-key="${t.focusedKey}"]`);n&&"keyboard"===e&&(S||(0,i.n)(C.current,n),(0,i.o)(n,{containingElement:d.current}))}t.isFocused&&null==t.focusedKey&&null!=O.current&&(0,r.b)(d.current),O.current=t.focusedKey},[S,C,t.focusedKey,t.isFocused,d]);let A,_={onKeyDown:e=>{if(e.altKey&&"Tab"===e.key&&e.preventDefault(),!d.current.contains(e.target))return;const a=(n,a)=>{null!=n&&(t.setFocusedKey(n,a),e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(n):f&&!l(e)&&t.replaceSelection(n))};switch(e.key){case"ArrowDown":if(n.getKeyBelow){var o,s;e.preventDefault();let r=null!=t.focusedKey?n.getKeyBelow(t.focusedKey):null===(o=n.getFirstKey)||void 0===o?void 0:o.call(n);null==r&&m&&(r=null===(s=n.getFirstKey)||void 0===s?void 0:s.call(n,t.focusedKey)),a(r)}break;case"ArrowUp":if(n.getKeyAbove){var u,p;e.preventDefault();let r=null!=t.focusedKey?n.getKeyAbove(t.focusedKey):null===(u=n.getLastKey)||void 0===u?void 0:u.call(n);null==r&&m&&(r=null===(p=n.getLastKey)||void 0===p?void 0:p.call(n,t.focusedKey)),a(r)}break;case"ArrowLeft":if(n.getKeyLeftOf){var b,y;e.preventDefault();let r=n.getKeyLeftOf(t.focusedKey);null==r&&m&&(r="rtl"===w?null===(b=n.getFirstKey)||void 0===b?void 0:b.call(n,t.focusedKey):null===(y=n.getLastKey)||void 0===y?void 0:y.call(n,t.focusedKey)),a(r,"rtl"===w?"first":"last")}break;case"ArrowRight":if(n.getKeyRightOf){var S,C;e.preventDefault();let r=n.getKeyRightOf(t.focusedKey);null==r&&m&&(r="rtl"===w?null===(S=n.getLastKey)||void 0===S?void 0:S.call(n,t.focusedKey):null===(C=n.getFirstKey)||void 0===C?void 0:C.call(n,t.focusedKey)),a(r,"rtl"===w?"last":"first")}break;case"Home":if(n.getFirstKey){e.preventDefault();let a=n.getFirstKey(t.focusedKey,c(e));t.setFocusedKey(a),c(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(a):f&&t.replaceSelection(a)}break;case"End":if(n.getLastKey){e.preventDefault();let a=n.getLastKey(t.focusedKey,c(e));t.setFocusedKey(a),c(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(a):f&&t.replaceSelection(a)}break;case"PageDown":if(n.getKeyPageBelow){e.preventDefault(),a(n.getKeyPageBelow(t.focusedKey))}break;case"PageUp":if(n.getKeyPageAbove){e.preventDefault(),a(n.getKeyPageAbove(t.focusedKey))}break;case"a":c(e)&&"multiple"===t.selectionMode&&!0!==g&&(e.preventDefault(),t.selectAll());break;case"Escape":e.preventDefault(),h||t.clearSelection();break;case"Tab":if(!v){if(e.shiftKey)d.current.focus();else{let e,t,n=(0,r.c)(d.current,{tabbable:!0});do{t=n.lastChild(),t&&(e=t)}while(t);e&&!e.contains(document.activeElement)&&(0,i.c)(e)}break}}},onFocus:e=>{if(t.isFocused)e.currentTarget.contains(e.target)||t.setFocused(!1);else if(e.currentTarget.contains(e.target)){if(t.setFocused(!0),null==t.focusedKey){let i=e=>{null!=e&&(t.setFocusedKey(e),f&&t.replaceSelection(e))},o=e.relatedTarget;var a,r;o&&e.currentTarget.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?i(null!==(a=t.lastSelectedKey)&&void 0!==a?a:n.getLastKey()):i(null!==(r=t.firstSelectedKey)&&void 0!==r?r:n.getFirstKey())}else S||(C.current.scrollTop=k.current.top,C.current.scrollLeft=k.current.left);if(!S&&null!=t.focusedKey){let e=C.current.querySelector(`[data-key="${t.focusedKey}"]`);if(e){(0,i.c)(e),"keyboard"===(0,o.a)()&&(0,i.o)(e,{containingElement:d.current})}}}},onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||t.setFocused(!1)},onMouseDown(e){C.current===e.target&&e.preventDefault()}},{typeSelectProps:x}=u({keyboardDelegate:n,selectionManager:t});return b||(_=(0,i.l)(x,_)),y||(A=null==t.focusedKey?0:-1),{collectionProps:{..._,tabIndex:A}}}function p(e){let{selectionManager:t,key:n,ref:s,shouldSelectOnPressUp:u,shouldUseVirtualFocus:d,focus:p,isDisabled:g,onAction:f,allowsDifferentPressOrigin:b}=e,y=e=>{if("keyboard"===e.pointerType&&l(e))t.toggleSelection(n);else{if("none"===t.selectionMode)return;"single"===t.selectionMode?t.isSelected(n)&&!t.disallowEmptySelection?t.toggleSelection(n):t.replaceSelection(n):e&&e.shiftKey?t.extendSelection(n):"toggle"===t.selectionBehavior||e&&(c(e)||"touch"===e.pointerType||"virtual"===e.pointerType)?t.toggleSelection(n):t.replaceSelection(n)}};(0,a.useEffect)(()=>{n===t.focusedKey&&t.isFocused&&!d&&(p?p():document.activeElement!==s.current&&(0,r.b)(s.current))},[s,n,t.focusedKey,t.childFocusStrategy,t.isFocused,d]),g=g||t.isDisabled(n);let v={};d||g?g&&(v.onMouseDown=e=>{e.preventDefault()}):v={tabIndex:n===t.focusedKey?0:-1,onFocus(e){e.target===s.current&&t.setFocusedKey(n)}};let S=!g&&t.canSelectItem(n),C=f&&!g,w=C&&("replace"===t.selectionBehavior?!S:t.isEmpty),k=C&&S&&"replace"===t.selectionBehavior,E=w||k,O=(0,a.useRef)(null),A=E&&S,_=(0,a.useRef)(!1),x=(0,a.useRef)(!1),I={};u?(I.onPressStart=e=>{O.current=e.pointerType,_.current=A,"keyboard"!==e.pointerType||E&&!h()||y(e)},b?(I.onPressUp=e=>{"keyboard"!==e.pointerType&&y(e)},I.onPress=w?()=>f():null):I.onPress=e=>{if(w||k&&"mouse"!==e.pointerType){if("keyboard"===e.pointerType&&!m())return;f()}else"keyboard"!==e.pointerType&&y(e)}):(I.onPressStart=e=>{O.current=e.pointerType,_.current=A,x.current=w,("mouse"===e.pointerType&&!w||"keyboard"===e.pointerType&&(!f||h()))&&y(e)},I.onPress=e=>{("touch"===e.pointerType||"pen"===e.pointerType||"virtual"===e.pointerType||"keyboard"===e.pointerType&&E&&m()||"mouse"===e.pointerType&&x.current)&&(E?f():y(e))}),v["data-key"]=n,I.preventFocusOnPress=d;let{pressProps:j,isPressed:T}=(0,o.l)(I),M=k?e=>{"mouse"===O.current&&(e.stopPropagation(),e.preventDefault(),f())}:void 0,{longPressProps:N}=(0,o.k)({isDisabled:!A,onLongPress(e){"touch"===e.pointerType&&(y(e),t.setSelectionBehavior("toggle"))}});return{itemProps:(0,i.l)(v,S||w?j:{},A?N:{},{onDoubleClick:M,onDragStartCapture:e=>{"touch"===O.current&&_.current&&e.preventDefault()}}),isPressed:T,isSelected:t.isSelected(n),isFocused:t.isFocused&&t.focusedKey===n,isDisabled:g,allowsSelection:S,hasAction:E}}function m(){let e=window.event;return"Enter"===(null==e?void 0:e.key)}function h(){let e=window.event;return" "===(null==e?void 0:e.key)||"Space"===(null==e?void 0:e.code)}class g{getNextKey(e){for(e=this.collection.getKeyAfter(e);null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}return null}getPreviousKey(e){for(e=this.collection.getKeyBefore(e);null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}return null}findKey(e,t,n){let a=this.getItem(e);if(!a)return null;let r=a.getBoundingClientRect();do{e=t(e),a=this.getItem(e)}while(a&&n(r,a.getBoundingClientRect()));return e}isSameRow(e,t){return e.top===t.top||e.left!==t.left}isSameColumn(e,t){return e.left===t.left||e.top!==t.top}getKeyBelow(e){return"grid"===this.layout&&"vertical"===this.orientation?this.findKey(e,e=>this.getNextKey(e),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return"grid"===this.layout&&"vertical"===this.orientation?this.findKey(e,e=>this.getPreviousKey(e),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){return"grid"===this.layout?"vertical"===this.orientation?this.getNextColumn(e,"rtl"===this.direction):this.findKey(e,e=>this.getNextColumn(e,"rtl"===this.direction),this.isSameColumn):"horizontal"===this.orientation?this.getNextColumn(e,"rtl"===this.direction):null}getKeyLeftOf(e){return"grid"===this.layout?"vertical"===this.orientation?this.getNextColumn(e,"ltr"===this.direction):this.findKey(e,e=>this.getNextColumn(e,"ltr"===this.direction),this.isSameColumn):"horizontal"===this.orientation?this.getNextColumn(e,"ltr"===this.direction):null}getFirstKey(){let e=this.collection.getFirstKey();for(;null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}return null}getLastKey(){let e=this.collection.getLastKey();for(;null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}return null}getItem(e){return this.ref.current.querySelector(`[data-key="${e}"]`)}getKeyPageAbove(e){let t=this.ref.current,n=this.getItem(e);if(!n)return null;if(!(0,i.h)(t))return this.getFirstKey();let a=t.getBoundingClientRect(),r=n.getBoundingClientRect();if("horizontal"===this.orientation){let i=a.x-t.scrollLeft,o=Math.max(0,r.x-i+r.width-a.width);for(;n&&r.x-i>o;)n=null==(e=this.getKeyAbove(e))?null:this.getItem(e),r=null==n?void 0:n.getBoundingClientRect()}else{let i=a.y-t.scrollTop,o=Math.max(0,r.y-i+r.height-a.height);for(;n&&r.y-i>o;)n=null==(e=this.getKeyAbove(e))?null:this.getItem(e),r=null==n?void 0:n.getBoundingClientRect()}return null!=e?e:this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,n=this.getItem(e);if(!n)return null;if(!(0,i.h)(t))return this.getLastKey();let a=t.getBoundingClientRect(),r=n.getBoundingClientRect();if("horizontal"===this.orientation){let i=a.x-t.scrollLeft,o=Math.min(t.scrollWidth,r.x-i-r.width+a.width);for(;n&&r.x-i<o;)n=null==(e=this.getKeyBelow(e))?null:this.getItem(e),r=null==n?void 0:n.getBoundingClientRect()}else{let i=a.y-t.scrollTop,o=Math.min(t.scrollHeight,r.y-i-r.height+a.height);for(;n&&r.y-i<o;)n=null==(e=this.getKeyBelow(e))?null:this.getItem(e),r=null==n?void 0:n.getBoundingClientRect()}return null!=e?e:this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let n=this.collection,a=t||this.getFirstKey();for(;null!=a;){let t=n.getItem(a),r=t.textValue.slice(0,e.length);if(t.textValue&&0===this.collator.compare(r,e))return a;a=this.getKeyBelow(a)}return null}constructor(...e){if(1===e.length){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.disabledKeys=t.disabledKeys||new Set,this.orientation=t.orientation,this.direction=t.direction,this.layout=t.layout||"stack"}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical";"stack"===this.layout&&"vertical"===this.orientation&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function f(e){let{selectionManager:t,collection:n,disabledKeys:r,ref:i,keyboardDelegate:o,autoFocus:l,shouldFocusWrap:c,isVirtualized:u,disallowEmptySelection:p,selectOnFocus:m="replace"===t.selectionBehavior,disallowTypeAhead:h,shouldUseVirtualFocus:f,allowsTabNavigation:b}=e,y=(0,s.a)({usage:"search",sensitivity:"base"}),v=t.disabledBehavior,S=(0,a.useMemo)(()=>o||new g(n,"selection"===v?new Set:r,i,y),[o,n,r,i,y,v]),{collectionProps:C}=d({ref:i,selectionManager:t,keyboardDelegate:S,autoFocus:l,shouldFocusWrap:c,disallowEmptySelection:p,selectOnFocus:m,disallowTypeAhead:h,shouldUseVirtualFocus:f,allowsTabNavigation:b,isVirtualized:u,scrollRef:i});return{listProps:C}}},o79T:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("ERkP"),r=n("ax6a"),i=n("bO3R"),o=n("3kT7"),s=n("e12y"),l=n("ps/9");const c=e=>a.createElement(i.a.Animated,Object.assign({},Object(i.c)(e,p.gray))),u={position:"relative",display:"inline-block",overflow:"hidden",outline:"none",border:0,verticalAlign:"middle",whiteSpace:"nowrap",cursor:"default",userSelect:"none",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{cursor:"pointer"}}},d={overflow:"hidden",padding:"0 "+s.a.rem(.5),borderRadius:s.a.rem(l.t),backgroundColor:r.a.CoreNeutral60,color:r.a.CoreNeutral0,textTransform:"none",letterSpacing:s.a.rem(r.h.ButtonLetterSpacing),fontSize:s.a.rem(r.h.ButtonSize),lineHeight:s.a.rem(r.h.ButtonLineHeight),transitionDuration:s.a.seconds(.2),$nest:{"&[data-active='true'] > i[role='icon'] > svg, &:not([data-disabled='true']):hover > i[role='icon'] > svg, &:not([data-disabled='true'])[data-hovered='true'] > i[role='icon'] > svg":{fill:r.a.CoreNeutral0},"&:not([data-disabled='true'])[data-hovered='true']":{backgroundColor:r.a.CoreNeutral50,color:r.a.CoreNeutral0},"&:not([data-disabled='true'])[data-active='true']":{backgroundColor:r.a.CoreNeutral50,color:r.a.CoreNeutral0,$nest:{"&:hover":{backgroundColor:r.a.CoreNeutral50,color:r.a.CoreNeutral0}}},"&[data-disabled='true']":{backgroundColor:r.a.CoreNeutral60,color:r.a.CoreNeutral50},[`.${o.g} &`]:{padding:"0 "+s.a.rem(.5),marginRight:s.a.px(2),borderRadius:0,backgroundColor:r.a.CoreNeutral60,$nest:{"&:first-child":{borderRadius:`${s.a.rem(l.t)} 0 0 ${s.a.rem(l.t)}`},"&:last-child":{marginRight:0,borderRight:"none",borderRadius:`0 ${s.a.rem(l.t)} ${s.a.rem(l.t)} 0`},"&[data-active='true']":{backgroundColor:r.a.CoreBlue50,color:r.a.CoreNeutral0,$nest:{"&:hover":{backgroundColor:r.a.CoreBlue40,color:r.a.CoreNeutral0}}}}}}},p=s.a.stylesheet({button:[u],gray:[u,d]})},oCNB:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("ERkP"),r=n("JAs9"),i=n("bO3R"),o=n("Z5Rd"),s=n("xEVj"),l=n("o79T"),c=n("lrqh"),u=n("ot6E"),d=n("e12y"),p=n("ps/9"),m=n("ax6a");const h=d.a.prefixedStylesheet("obtain_grades",{contentWrapper:[{padding:`${d.a.rem(1)} ${d.a.rem(2.75)} ${d.a.rem(1.25)} ${d.a.rem(1.25)}`,width:d.a.percent(100),maxWidth:d.a.rem(22.5),borderRadius:d.a.rem(p.t),background:m.a.BackgroundNotification,color:m.a.CoreNeutral0,marginRight:0,marginLeft:"auto"}],icon:[{display:"none"}],header:[{fontSize:d.a.rem(.875),lineHeight:d.a.rem(1.25),fontWeight:700,marginBottom:d.a.rem(.4375)}],body:[{fontSize:d.a.rem(.875),lineHeight:d.a.rem(1.3125),marginBottom:d.a.rem(.9375)}],gradeButtons:[{marginBottom:d.a.rem(.9375)}],gradeButton:[{width:d.a.rem(5),textAlign:"center"}],submitButton:[{fontWeight:700}]});var g;!function(e){const t={content:{wrapper:h.contentWrapper,icon:h.icon}},n=({viewModel:e})=>a.createElement(i.a.Group,{sticky:!0},Object.entries(e.grades).map(([t,n])=>a.createElement(l.a,{name:t,className:h.gradeButton,active:e.state.view(c.g.exists(e=>r.a.Outcomes.Students.Grade.eq.equals(e,n))),onClick:()=>e.selectScore(n),key:t},t)));e.ObtainGrades=({onClose:e,onShow:r,notification:i,viewModel:d})=>{const p=a.useContext(u.a.Context).obtainGrades;return s.a.useEffectOnDidMount(()=>{d.show().finally(r)}),a.createElement(o.b.Wrapper,{notification:i,onClose:()=>{d.reject().finally(e)},theme:t},a.createElement(o.b.Content,null,a.createElement("div",{className:h.header},p.title),a.createElement("div",{className:h.body},""!==d.document.title?p.titleMessage(d.document.title):p.contentMessage(d.document.content)),a.createElement("div",{className:h.gradeButtons},a.createElement(n,{viewModel:d})),a.createElement(l.a,{name:"submit",className:h.submitButton,disabled:d.state.view(c.g.isNone),onClick:()=>{d.submit().finally(e)}},"Submit")))}}(g||(g={}))},oN2O:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("D57K"),i=n("a5W6"),o=n("nJQv"),s=n("b+P9"),l=n("U75S"),c=n("OA+g");!function(e){e.make=function(e,t,n){return{lefts:e.slice(),focus:t,rights:n.slice()}},e.fromReadonlyArray=function(t,n){return void 0===n&&(n=0),l.nb(t)||l.pb(n,t)?s.none:s.some(e.make(Object(c.pipe)(t.slice(),i.takeLeft(n)),t[n],Object(c.pipe)(t.slice(),i.dropLeft(n+1))))},e.fromArray=e.fromReadonlyArray,e.fromReadonlyNonEmptyArray=function(t){return e.make([],t[0],t.slice(1))},e.fromNonEmptyArray=e.fromReadonlyNonEmptyArray,e.isOutOfBound=function(t,n){return t<0||t>=e.length(n)},e.length=function(e){return e.lefts.length+1+e.rights.length},e.toNonEmptyArray=function(e){return Object(c.pipe)(o.of(e.focus),(function(t){return o.concat(e.lefts,t)}),(function(t){return o.concat(t,e.rights)}))},e.toReadonlyNonEmptyArray=e.toNonEmptyArray,e.toArray=e.toNonEmptyArray,e.update=function(t){return function(n){return e.make(n.lefts,t,n.rights)}},e.modify=function(t){return function(n){return Object(c.pipe)(n,e.update(t(n.focus)))}},e.move=function(t,n){var a=t(n.lefts.length);return e.isOutOfBound(a,n)?s.none:e.fromArray(e.toNonEmptyArray(n),a)},e.findIndex=function(e){return function(t){return Object(c.pipe)(t.lefts,l.U(e),s.alt((function(){return e(t.focus)?s.some(t.lefts.length):s.none})),s.alt((function(){return Object(c.pipe)(t.rights,l.U(e),s.map((function(e){return t.lefts.length+1+e})))})))}},e.moveByFindFirst=function(t){return function(n){return Object(c.pipe)(n,e.findIndex(t),s.chain((function(t){return t===n.lefts.length?s.some(n):e.move((function(){return t}),n)})))}},e.up=function(t){return e.move(c.decrement,t)},e.down=function(t){return e.move(c.increment,t)},e.start=function(t){return i.isEmpty(t.lefts)?t:e.make([],t.lefts[0],i.snoc(Object(c.pipe)(t.lefts,i.dropLeft(1)),t.focus).concat(t.rights))},e.end=function(t){var n=t.rights.length;return 0===n?t:e.make(i.snoc(t.lefts,t.focus).concat(Object(c.pipe)(t.rights,i.takeLeft(n-1))),t.rights[n-1],[])},e.insertLeft=function(t){return function(n){return e.make(n.lefts,t,i.cons(n.focus,n.rights))}},e.insertRight=function(t){return function(n){return e.make(i.snoc(n.lefts,n.focus),t,n.rights)}},e.deleteLeft=function(t){var n=t.lefts.length;return e.fromArray(t.lefts.concat(t.rights),n>0?n-1:0)},e.deleteRight=function(t){var n=t.lefts.length,a=t.rights.length;return e.fromArray(t.lefts.concat(t.rights),a>0?n:n-1)};var t=function(t,n){return e.make(t.lefts.map(n),n(t.focus),t.rights.map(n))},n=function(t,n){var a=t.lefts.length;return e.make(t.lefts.map((function(e,t){return n(t,e)})),n(a,t.focus),t.rights.map((function(e,t){return n(a+1+t,e)})))},a=function(t,n){return e.make(i.array.ap(t.lefts,n.lefts),t.focus(n.focus),i.array.ap(t.rights,n.rights))},u=function(t,n){var a=t.lefts.map((function(a,r){return n(e.make(Object(c.pipe)(t.lefts,i.takeLeft(r)),a,i.snoc(Object(c.pipe)(t.lefts,i.dropLeft(r+1)),t.focus).concat(t.rights)))})),r=t.rights.map((function(a,r){return n(e.make(i.snoc(t.lefts,t.focus).concat(Object(c.pipe)(t.rights,i.takeLeft(r))),a,Object(c.pipe)(t.rights,i.dropLeft(r+1))))}));return e.make(a,n(t),r)},d=function(e,t,n){return e.rights.reduce(n,n(e.lefts.reduce(n,t),e.focus))},p=function(e,t,n){var a=e.rights.reduceRight((function(e,t){return n(t,e)}),t),r=n(e.focus,a);return e.lefts.reduceRight((function(e,t){return n(t,e)}),r)},m=function(e){return function(t,n){var a=t.lefts.reduce((function(t,a){return e.concat(t,n(a))}),e.empty),r=t.rights.reduce((function(t,a){return e.concat(t,n(a))}),e.empty);return e.concat(e.concat(a,n(t.focus)),r)}},h=function(t){var n=i.array.traverse(t);return function(a,r){return t.ap(t.ap(t.map(n(a.lefts,r),(function(t){return function(n){return function(a){return e.make(t,n,a)}}})),r(a.focus)),n(a.rights,r))}};e.map=function(e){return function(n){return t(n,e)}},e.mapWithIndex=function(e){return function(t){return n(t,e)}},e.ap=function(e){return function(t){return a(t,e)}},e.apFirst=function(t){return function(n){return Object(c.pipe)(n,e.map((function(e){return function(t){return e}})),e.ap(t))}},e.apSecond=function(t){return function(n){return Object(c.pipe)(n,e.map((function(){return function(e){return e}})),e.ap(t))}},e.of=function(t){return e.make([],t,[])},e.extend=function(e){return function(t){return u(t,e)}},e.duplicate=e.extend(c.identity),e.foldMap=function(e){return function(t){return function(n){return m(e)(n,t)}}},e.reduce=function(e,t){return function(n){return d(n,e,t)}},e.reduceRight=function(e,t){return function(n){return p(n,e,t)}},e.sequence=function(t){var n=i.array.sequence(t);return function(a){return t.ap(t.ap(t.map(n(a.lefts),(function(t){return function(n){return function(a){return e.make(t,n,a)}}})),a.focus),n(a.rights))}},e.extract=function(e){return e.focus},e.URI="Zipper",e.getShow=function(e){var t=i.getShow(e);return{show:function(n){return"Zipper(".concat(t.show(n.lefts),", ").concat(e.show(n.focus),", ").concat(t.show(n.rights),")")}}},e.getSemigroup=function(t){return{concat:function(n,a){return e.make(n.lefts.concat(a.lefts),t.concat(n.focus,a.focus),n.rights.concat(a.rights))}}},e.getMonoid=function(t){return Object(r.__assign)(Object(r.__assign)({},e.getSemigroup(t)),{empty:e.make([],t.empty,[])})},e.Functor={URI:e.URI,map:t},e.FunctorWithIndex={URI:e.URI,map:t,mapWithIndex:n},e.Applicative={URI:e.URI,map:t,ap:a,of:e.of},e.Apply={URI:e.URI,map:t,ap:a},e.Foldable={URI:e.URI,foldMap:m,reduce:d,reduceRight:p},e.Traversable={URI:e.URI,map:t,foldMap:m,reduce:d,reduceRight:p,traverse:h,sequence:e.sequence},e.Comonad={URI:e.URI,map:t,extend:u,extract:e.extract},e.zipper={URI:e.URI,map:t,of:e.of,ap:a,extend:u,extract:e.extract,reduce:d,reduceRight:p,foldMap:m,traverse:h,sequence:e.sequence,mapWithIndex:n}}(a||(a={}))},oWeJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var a=n("ERkP"),r=n("I7vG"),i=n("9NHN"),o=n("vOOZ"),s=n("zR/0"),l=n("lrqh"),c=n("rk+4"),u=n("gOzB"),d=n("BugA"),p=n("GUi3"),m=n("IVzZ"),h=n("XxrX"),g=n("0A/6"),f=n("3bJT"),b=n("RWgj"),y=n("LNSM"),v=n("H37f"),S=n("3rlE"),C=n("uqkn"),w=n("E0zP"),k=n("5z3N");const E=({text:e,className:t})=>a.createElement("div",{className:t},e),O=(e,t,n)=>{const o=C.a.miniTitle(e,t),s=Object(r.pipe)(e.activeAlert.extraProperties.vox,l.g.map(e=>(({vox:e,theme:t={}})=>({icon:Object(r.pipe)(e.logoUrl,l.g.map(e=>a.createElement(k.d,Object.assign({},Object(i.c)(t.logo),{logoUrl:e})))),action:a.createElement(k.c,Object.assign({vox:e},Object(i.c)(t.label),{isMinimalCard:!1}))}))({vox:e,theme:{logo:n.voxLogo,label:n.voxLabel}}))),c=Object(r.pipe)(((e,t)=>Object(r.pipe)(e.activeAlert.extraProperties.tone,l.g.map(({emojiId:e})=>({action:t.replace(v.a,""),emojiId:e}))))(e,o),l.g.map(({action:e,emojiId:t})=>({icon:l.g.some(a.createElement(v.c,{id:t,className:Object(i.c)(n.emojiLogo).className})),action:a.createElement(E,{text:e,className:n.wrapper})}))),u=({className:e})=>a.createElement(S.d.PaidLink,{width:14,className:e});return Object(r.pipe)(s,l.g.orElse(c),l.g.getOrElse(()=>{return{icon:(t=e.activeAlert,Object(r.pipe)(t.freePremium,l.g.exists(e=>"unlocked"===e))?l.g.some(a.createElement(u,{className:Object(i.c)(n.freePremiumIcon).className})):w.a.isTakeawayItem(e)?l.g.some(a.createElement(S.d.Megaphone,{width:16,className:n.takeawayLogo})):l.g.none),action:a.createElement(E,{text:o,className:n.wrapper})};var t}))},A=(e,t,n)=>{const{action:i,icon:o}=O(e,t,n);return{actionComponent:i,iconComponent:Object(r.pipe)(o,l.g.fold(()=>e.renderOptions.cardVisualMode.view(h.a.CardVisualMode.match({onRegular:()=>l.g.none,onContrast:()=>{return l.g.fromNullable((t=e.activeAlert.lensType,r=n.lensLogo,p.a.outcomeTypeMatch({correctness:a.createElement(S.d.Correctness,{className:r}),clarity:a.createElement(S.d.ClarityOutcome,{className:r}),premium:a.createElement(S.d.Star,{className:r}),engagement:a.createElement(S.d.EngagementOutcome,{className:r}),delivery:a.createElement(S.d.DeliveryOutcome,{className:r}),vox:null,knowledgeHub:null})(t)));var t,r}})),e=>y.a.create(l.g.some(e))))}},_=e=>e?g.a.MiniContrast:g.a.Mini,x=e=>[p.a.outcomeTypeMatch({correctness:f.a.dotCorrectness,clarity:f.a.dotClarity,premium:f.a.dotAdvanced,engagement:f.a.dotEngagement,delivery:f.a.dotDelivery,vox:f.a.dotVox,knowledgeHub:f.a.knowledgeHub})(e.lensType),b.a.cta],I=()=>{const e=a.useContext(c.a.Context);return a.createElement(u.a.Regular,{className:b.a.newLabel},e.new)},j=e=>e.hasOwnProperty("features")&&e.features.has(h.a.Features.a11yContrast),T=e=>e.hasOwnProperty("features")&&e.features.has(h.a.Features.sduiContainerStyle);var M,N;(N=M||(M={})).Bundle=({card:e,actions:t})=>{const[n]=x(e.activeAlert),s=Object(r.pipe)(e.renderOptions,j,_);return a.createElement(s,Object.assign({},Object(i.c)(b.b.wrapper,b.b.bundleContainer,b.b.dot,n),{actions:t,cardId:e.id,getActiveAlert:()=>e.alerts[0],inert:e.positionState.inert,counter:a.createElement(d.m,{className:b.b.alertsCounter},e.alerts.length),sduiStyle:T(e.renderOptions)}),a.createElement(o.a.div,Object.assign({},Object(i.c)(b.b.miniContainer)),a.createElement("div",{className:b.b.highlightedText},m.a.bundleTitle(e))))},N.Standard=({card:e,actions:t})=>{const n=a.useContext(c.a.Context),[u,d]=x(e.activeAlert),p=Object(r.pipe)(e.renderOptions,j,_),{actionComponent:m,iconComponent:h}=A(e,n,{wrapper:Object(i.c)(d,b.a.ctaText).className,voxLogo:Object(i.c)(b.a.cardLogo,b.b.cardLogo).className,voxLabel:b.a.cta,emojiLogo:Object(i.c)(b.a.cardLogo,b.b.cardLogo).className,lensLogo:Object(i.c)(b.a.cardLogo,b.b.cardLogo,b.a.lensIcon).className,takeawayLogo:b.c.takeawayIconStandard,freePremiumIcon:Object(i.c)(b.a.diamondIcon,b.a.cardLogo,b.b.cardLogo).className});return a.createElement(p,Object.assign({},Object(i.c)(b.b.wrapper,h.view(e=>l.g.isSome(e)?b.b.invisibleDot:b.b.dot),u),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,inert:e.positionState.inert,sduiStyle:T(e.renderOptions)}),a.createElement(o.a.div,Object.assign({},Object(i.c)(b.b.miniContainer)),Object(r.pipe)(h.view(l.g.toNullable)),a.createElement("div",{className:b.b.highlightedText},e.activeAlert.highlightTexts[0]),a.createElement("div",{className:b.b.middleDot},"·"),m,Object(r.pipe)(e.renderOptions.isNew,s.a.map(e=>l.g.isSome(e)?a.createElement(I,{key:"new-label"}):null))))},N.TwoLined=({card:e,actions:t})=>{const n=a.useContext(c.a.Context),[s,u]=x(e.activeAlert),d=Object(r.pipe)(e.renderOptions,j,_),{actionComponent:p,iconComponent:m}=A(e,n,{wrapper:Object(i.c)(u,b.a.ctaText,b.c.ctaText,b.c.subTitle).className,voxLogo:Object(i.c)(b.a.cardLogo,b.c.cardLogo).className,voxLabel:Object(i.c)(b.a.cta,b.c.subTitle).className,emojiLogo:Object(i.c)(b.a.cardLogo,b.c.cardLogo).className,lensLogo:Object(i.c)(b.a.cardLogo,b.c.lensIcon,b.a.lensIcon).className,takeawayLogo:b.c.takeawayIconMini,freePremiumIcon:Object(i.c)(b.a.diamondIcon,b.a.cardLogo,b.c.cardLogo).className});return a.createElement(d,Object.assign({},Object(i.c)(b.c.wrapper,m.view(e=>l.g.isSome(e)?b.c.invisibleDot:b.c.dot),s),{actions:t,cardId:e.id,getActiveAlert:()=>e.activeAlert,inert:e.positionState.inert,sduiStyle:T(e.renderOptions)}),a.createElement(o.a.div,Object.assign({},Object(i.c)(b.c.miniContainer)),p,Object(r.pipe)(m.view(l.g.toNullable)),a.createElement("div",{className:b.d},e.activeAlert.highlightTexts[0])))}},omiJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("ERkP"),r=n("I7vG"),i=n("GUi3"),o=n("XxrX"),s=n("0mPX"),l=n("cVtq"),c=n("lrqh"),u=n("D9EC"),d=n("Ars8"),p=n("cqAx");const m=({alerts:e,plagiarism:t})=>t.length+e.length===0?null:a.createElement(p.a,{className:d.a.alertTableContainer},a.createElement("table",{className:d.a.alertTable},a.createElement("tbody",null,e.map((e,t)=>a.createElement(h,{key:e.id,alert:e,index:t})),t.map((t,n)=>a.createElement(g,{key:t.id,alert:t,index:n+e.length}))))),h=({alert:e,index:t})=>a.createElement("tr",null,a.createElement("td",{className:d.a.alertTableTdIndex},t+1,"."),a.createElement("td",{className:d.a.alertTableTdExample},Object(r.pipe)(e.content,c.b.fold(e=>a.createElement("span",{className:d.a.alertTableHighlightText},f(b(e))),e=>a.createElement(l.f,{replacementsLabels:e,onClick:()=>u.e,layoutDensity:o.a.Density.cozy,a11yContrast:!1})))),a.createElement("td",Object.assign({className:d.a.alertTableTd},s.a.renderToHtml(e.categoryHuman))),a.createElement("td",{className:d.a.alertTableTd},i.a.OutcomeId.fromOutcomeId(e.lensId))),g=({alert:e,index:t})=>a.createElement("tr",null,a.createElement("td",{className:d.a.alertTableTdIndex},t+1,"."),a.createElement("td",{className:d.a.alertTableTdExample},a.createElement("span",{className:d.a.alertTableHighlightText},f(b(e.highlightTexts)))),a.createElement("td",{className:d.a.alertTableTdPlagiarismSource},a.createElement(y,{alert:e})),a.createElement("td",{className:d.a.alertTableTd},i.a.OutcomeId.fromOutcomeId(e.lensId)));function f(e){return e.length>300?a.createElement(a.Fragment,null,e.substr(0,299),"…"):a.createElement(a.Fragment,null,e)}function b(e){return 1===e.length?e[0]:Array.from(new Set(e)).join("; ")}const y=({alert:e})=>a.createElement(a.Fragment,null,e.title,"web"===e.plagiarismType.source&&Object(r.pipe)(e.plagiarismType.url,c.g.map(e=>a.createElement("a",{href:e,className:d.a.plagiarismLink},e)),c.g.toNullable))},op3b:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var a=n("e12y"),r=n("WIwS"),i=n("ps/9"),o=n("ax6a");const s=()=>({padding:"0 "+a.a.rem(1)}),l=()=>({paddingTop:a.a.rem(.5)}),c=a.a.keyframes({from:{opacity:0,transform:"scale(1, .8)"}}),u=a.a.keyframes({to:{opacity:0,transform:"scale(1, .8)"}}),d={position:"absolute",zIndex:i.l,minWidth:a.a.rem(11),outline:"none",transformOrigin:"top",willChange:"opacity, transform",$nest:{"@media print":{visibility:"hidden"}}},p={marginTop:a.a.rem(.5),transformOrigin:"bottom"},m={animation:`${u} ${a.a.seconds(.1)} linear forwards`,pointerEvents:"none"},h={animation:`${c} ${a.a.seconds(.1)} linear forwards`},g={display:"flex",flexDirection:"column",overflow:"hidden",marginLeft:a.a.rem(-1),minWidth:a.a.rem(12),maxWidth:a.a.rem(18),borderRadius:a.a.rem(i.s),background:o.a.CoreNeutral0,boxShadow:o.b.Z300,color:r.k,fontSize:a.a.rem(.8),"-webkit-font-smoothing":"antialiased",$nest:{"&:before":{position:"absolute",marginTop:a.a.px(-2),width:a.a.percent(100),height:a.a.px(2),border:"1px solid transparent",content:"''"}}},f={display:"flex",alignItems:"center",justifyContent:"start",padding:`${a.a.rem(.5)} ${a.a.rem(1)} ${a.a.rem(.5)} ${a.a.rem(.5)}`,background:o.a.CoreYellow20,color:o.a.CoreYellow80,$nest:{"& i":{margin:`0 ${a.a.rem(.5)} 0 ${a.a.rem(.25)}`,fill:o.a.CoreYellow80}}},b={paddingBottom:a.a.rem(.5)},y={$nest:{"&:first-letter":{textTransform:"capitalize"}}},v={paddingBottom:a.a.rem(.75),color:o.a.CoreNeutral90,fontSize:a.a.rem(.85),lineHeight:a.a.rem(1.2)},S={overflow:"hidden",paddingRight:a.a.rem(1),paddingLeft:a.a.rem(.5),color:r.c,textTransform:"none",textOverflow:"ellipsis",fontSize:a.a.rem(.8),lineHeight:a.a.rem(1.85),width:a.a.percent(100)},C={marginBottom:a.a.rem(.8),fontSize:a.a.rem(.7),lineHeight:a.a.rem(1.1),$nest:{"& b":{padding:a.a.rem(.25),borderRadius:i.u,background:r.g,color:o.a.CoreNeutral90,fontWeight:600}}},w={color:r.j,fontWeight:"normal",lineHeight:a.a.rem(2.1),paddingLeft:a.a.important(a.a.rem(.5)),justifyContent:"flex-start"},k={height:a.a.rem(2)},E={paddingBottom:a.a.rem(.5),color:r.j,whiteSpace:"nowrap",fontWeight:"normal",fontSize:a.a.rem(1.25),lineHeight:a.a.rem(2),cursor:"pointer",textSizeAdjust:String(a.a.percent(100))},O={marginBottom:a.a.rem(.25),paddingTop:a.a.rem(.1),color:r.j,fontWeight:400,fontSize:a.a.rem(.8),lineHeight:a.a.rem(1.2)},A={color:o.a.CoreBlue50},_={color:a.a.important(r.c),lineHeight:a.a.rem(2),$nest:{"&:after":{background:a.a.important(r.c)}}},x={$nest:{"& .itemInsert, .itemRemove":{paddingBottom:a.a.rem(.3),whiteSpace:"normal",lineHeight:a.a.rem(1.5)}}},I={maxWidth:a.a.rem(19)},j={padding:`${a.a.rem(.75)} ${a.a.rem(1)}`,color:o.a.CoreNeutral40},T={paddingLeft:a.a.rem(.4)},M={color:o.a.CoreNeutral40,fontWeight:500},N={$nest:{"& svg":{stroke:o.a.CoreNeutral40}}},P={display:"block",width:a.a.percent(100),color:o.a.CoreNeutral90,textAlign:"left",whiteSpace:"pre-line",$nest:{"&:first-child":Object.assign({},l()),"&:hover":{backgroundColor:o.a.CoreBlue50,color:o.a.CoreNeutral0,$nest:{"& .inlineHeader":{color:o.a.CoreNeutral0},"& .inline-card-diff":{color:o.a.CoreNeutral0},"& .strike":{color:a.a.important(o.a.CoreNeutral0),$nest:{"&:after":{background:a.a.important(o.a.CoreNeutral0)}}}}}}},L=Object.assign(Object.assign({},a.a.stylesheet({container:[d],directionUp:[p],invisible:[m],visible:[h],bigTitle:[s(),l(),y,v],unknownWordTitle:[l(),y,S],explanation:[s(),C],footerButton:[w],footerButtonBig:[w],footerButtonShort:[w,k],inlineWrappedList:[E],maxWidthReached:[x],cardUphook:[I],title:[j],upgradeButton:[T],upgradeButtonText:[M],upgradeIcon:[N]})),{card:a.a.joinClasses(["inline-card-card",a.a.style(g)]),premiumCardFooter:a.a.joinClasses(["inline-card-card",a.a.style(f)]),emptyCardFooter:a.a.joinClasses(["inline-card-card",a.a.style(b)]),diff:a.a.joinClasses(["inline-card-diff",a.a.style(A)]),strike:a.a.joinClasses(["strike",a.a.style(_)]),inlineHeader:a.a.joinClasses(["inlineHeader",a.a.style(y,O)]),inlineHeaderOne:a.a.joinClasses(["inlineHeader",a.a.style(y,O,{marginBottom:0})]),itemInsert:a.a.joinClasses(["itemInsert",a.a.style(s(),P)]),itemRemove:a.a.joinClasses(["itemRemove",a.a.style(s(),P)])})},"p+Vg":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return me})),n.d(t,"d",(function(){return he}));var a,r=n("b+P9"),i=n("OA+g"),o=n("zR/0"),s=n("gy42"),l=n("6fbX"),c=n("LNSM"),u=n("tslA");(a||(a={})).isTooltipOnboardingStep=function(e){return u.Onboarding.StepName.isTooltipOnboardingStep(e.name)};function d(e){return Object(i.pipe)(e,r.fold(i.constFalse,({prompts:e,review:t})=>{const n={prompts:u.UpstreamOnboarding.Step.anyClientCompleted(e),review:u.UpstreamOnboarding.Step.anyClientCompleted(t)};return Object.values(n).every(i.identity)}))}var p=n("fyNw"),m=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};class h extends class{constructor(e){var t,n,a,p,m;this._params=e,this._subs=new o.a.Subscription,this._assistantElements=c.a.create({}),this._externalElements=c.a.create({}),this._hideAssistantTooltips=c.a.create(!1),this._nextCandidateStep=c.a.create(r.none),this._uiActions=new o.a.Subject,this.uiActions=this._uiActions.asObservable(),this.activeStep=c.a.combine(this._nextCandidateStep,this._assistantElements,this._externalElements,this._hideAssistantTooltips,(e,t,n,a)=>Object(i.pipe)(e,r.chain(e=>function(e,t,n,a){switch(e){case u.Onboarding.StepName.initial:return Object(i.pipe)(r.fromNullable(n[u.ExternalUIItem.initialPopupAnchor]),r.map(e=>({name:u.Onboarding.StepName.initial,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0})));case u.Onboarding.StepName.rewrite:return Object(i.pipe)(r.fromNullable(n[u.ExternalUIItem.rewriteTooltipAnchor]),r.map(e=>({name:u.Onboarding.StepName.rewrite,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0})));case u.Onboarding.StepName.prompts:return Object(i.pipe)(r.fromNullable(t[u.AssistantUIItem.initialActionsList]),r.map(e=>({name:u.Onboarding.StepName.prompts,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!a})));case u.Onboarding.StepName.review:return Object(i.pipe)(r.fromNullable(t[u.AssistantUIItem.followUpActionsList]),r.map(e=>({name:u.Onboarding.StepName.review,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!a})));case u.Onboarding.StepName.knowledgeHub:return Object(i.pipe)(r.fromNullable(t[u.AssistantUIItem.promptInput]),r.map(e=>({name:u.Onboarding.StepName.knowledgeHub,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!a})));case u.Onboarding.StepName.references:return Object(i.pipe)(r.fromNullable(t[u.AssistantUIItem.referencesList]),r.map(e=>({name:u.Onboarding.StepName.references,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!a})));default:return Object(l.d)(e)}}(e,t,n,a)))),this.promptsAllocated=this._params.promptsAllocated,this._subs.add((t=this._params.upstreamOnboardingState,n=this._params.session,a=this._params.textStats,p=this._params.forceDisabledOnboardingSteps,m=this._params.client,o.a.combineLatestStatic([n,t,a.pipe(Object(i.flow)(o.b.compact,o.a.map(e=>e.wordCount),o.a.startWith(0),o.a.pairwise(),o.a.scan((e,[t,n])=>Object(i.pipe)(Math.abs(n-t),t=>t<=2?e+t:e),0),o.a.startWith(0),o.a.distinctUntilChanged())),n.pipe(o.a.map(r.isSome),o.a.distinctUntilChanged(),o.a.withLatestFrom(t),o.a.map(([e,t])=>e?r.some(t):r.none))]).pipe(o.a.map(([e,t,n,a])=>r.isNone(e)?!p.has(u.Onboarding.StepName.initial)&&Object(i.pipe)(t.initial[m],({completed:e,lastSeen:t})=>!e&&void 0===t)?r.some(u.Onboarding.StepName.initial):!p.has(u.Onboarding.StepName.rewrite)&&!t.rewrite[m].completed&&t.initial[m].completed&&n>=30?r.some(u.Onboarding.StepName.rewrite):r.none:u.UpstreamOnboarding.Step.anyClientCompleted(t.prompts)||p.has(u.Onboarding.StepName.prompts)?u.UpstreamOnboarding.Step.anyClientCompleted(t.review)||p.has(u.Onboarding.StepName.review)?u.UpstreamOnboarding.Step.anyClientCompleted(t.knowledgeHub)||p.has(u.Onboarding.StepName.knowledgeHub)||!d(a)?u.UpstreamOnboarding.Step.anyClientCompleted(t.references)||p.has(u.Onboarding.StepName.references)||!d(a)?r.none:r.some(u.Onboarding.StepName.references):r.some(u.Onboarding.StepName.knowledgeHub):r.some(u.Onboarding.StepName.review):r.some(u.Onboarding.StepName.prompts)))).subscribe(s.b.toAtom(this._nextCandidateStep))),this._subs.add(this._params.assistantMountActions.subscribe(({name:e,element:t})=>this._assistantElements.modify(n=>Object.assign(Object.assign({},n),{[e]:{reference:t,placement:"left"}})))),this._subs.add(this._params.assistantUnmountActions.subscribe(({name:e})=>this._assistantElements.modify(t=>Object.assign(Object.assign({},t),{[e]:void 0})))),this._subs.add(this._params.externalElements.subscribe(s.b.toAtom(this._externalElements))),this._subs.add(this._params.hideAssistantOnboardingTooltips.subscribe(s.b.toAtom(this._hideAssistantTooltips))),this._subs.add(this._params.session.pipe(o.a.map(r.isSome),o.a.startWith(!1),o.a.pairwise(),o.a.filter(([e,t])=>e&&!t)).subscribe(()=>this._assistantElements.set({})))}notify(e){this._uiActions.next(e)}dispose(){this._subs.unsubscribe()}}{constructor(e,t){super(e),this._onDispose=t}dispose(){super.dispose(),this._onDispose()}}function g(e){var{assistantUIActions:t,trackingService:n,completeOnboardingStep:a,stepCompletionSources:i,disposed:s,logger:l}=e,c=m(e,["assistantUIActions","trackingService","completeOnboardingStep","stepCompletionSources","disposed","logger"]);const d=new o.a.Subscription,g=new h(Object.assign(Object.assign({},c),{assistantMountActions:t.pipe(o.a.filter(u.AssistantUIAction.is(u.AssistantUIAction.Kind.mount))),assistantUnmountActions:t.pipe(o.a.filter(u.AssistantUIAction.is(u.AssistantUIAction.Kind.unmount)))}),()=>d.unsubscribe());return d.add(p.a.extractStepsToComplete(null!=i?i:p.a.defaultCompletionSources,{onboardingUIActions:g.uiActions,assistantUIActions:t,activeStep:g.activeStep.view(r.map(e=>e.name)),session:c.session,trackingService:n,disposed:s,logger:l}).subscribe(a)),d.add(Object(p.b)(g.uiActions,n).subscribe()),g}var f=n("1w6p"),b=n("ERkP"),y=n("iVSA"),v=n("xEVj"),S=n("wZAk"),C=n("nxFc"),w=n("e12y"),k=n("9NHN"),E=n("IqZr");const O=b.forwardRef((function({placement:e,style:t,arrowColor:n},a){return b.createElement("div",{ref:a,style:{width:33}},b.createElement("svg",{width:33,height:12,viewBox:"0 0 33 12.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object.assign(Object.assign(Object.assign({position:"absolute"},t),{transform:`${(null==t?void 0:t.transform)||""} rotate(${A(e)}deg)`.trimStart()}),_(e))},b.createElement("path",{d:"M0.5 3.41877e-07C3.5 3.41877e-07 29.5 3.41877e-07 32.5 3.41877e-07C28.5 3.41877e-07 26.4111 0.903505 24.1814 3.69994L17.5562 11.4728C16.957 12.1757 15.8652 12.1757 15.2661 11.4728L8.64084 3.69994C6.41113 0.903505 4.5 3.41877e-07 0.5 3.41877e-07Z",fill:n||"white"})))}));function A(e){return(null==e?void 0:e.startsWith("right"))?90:(null==e?void 0:e.startsWith("bottom"))?180:(null==e?void 0:e.startsWith("left"))?270:0}function _(e){return(null==e?void 0:e.startsWith("bottom"))?{top:-12}:(null==e?void 0:e.startsWith("top"))?{bottom:-12}:(null==e?void 0:e.startsWith("right"))?{transformOrigin:"top left",top:-16.5,left:0}:(null==e?void 0:e.startsWith("left"))?{transformOrigin:"top right",top:-16.5,right:0}:{}}const x=Object(k.d)(({reference:e,placement:t,offset:n,boundaryAreaPadding:a,className:r,arrowColor:i,children:o})=>{const[s,l]=b.useState(null),[c,u]=b.useState(null),d=Object(E.c)(),{styles:p,attributes:m,state:h}=Object(C.a)(e,s,{placement:t,modifiers:[{name:"offset",options:{offset:[0,12+(null!=n?n:0)]}},{name:"arrow",options:{element:c,padding:12}},{name:"preventOverflow",options:{padding:null!=a?a:5}},d]});return b.createElement("div",Object.assign({ref:l,style:p.popper},m.popper,Object(k.c)(j,r)),b.createElement(O,{ref:u,style:p.arrow,placement:null==h?void 0:h.placement,arrowColor:i}),o)}),I=e=>w.a.color(y.a.BlueGray40).toRGBA().fade(e).toString(),j=w.a.style({filter:`drop-shadow(0px 0px 0.5px ${y.a.BlueGray40}) drop-shadow(0px 0px 2px ${I(.5)}) drop-shadow(0px 1px 6px ${I(.25)})`,borderRadius:w.a.rem(y.e.Radius1+y.e.RadiusHalf)});var T=n("e9DL");const M="tryItOutBtn",N="skipBtn",P=w.a.rem(y.e.Radius1+y.e.RadiusHalf),L={width:w.a.rem(25.875),background:y.f.Base.Surface.Primary.Default},R={display:"flex",alignItems:"center",justifyContent:"center",height:w.a.rem(14.5625),width:"100%",backgroundColor:"#00231F",backgroundImage:"url(https://assets.grammarly.com/icons/v1/cheetah-onboarding.2x.png)",backgroundPosition:`top ${w.a.rem(1)} left 0`,backgroundSize:"100%",backgroundRepeat:"no-repeat",borderTopLeftRadius:P,borderTopRightRadius:P},B={display:"flex",flexDirection:"column",gap:w.a.rem(y.g.Space1),padding:`${w.a.rem(y.g.Space4)} ${w.a.rem(y.g.Space10)} ${w.a.rem(y.g.Space6)} ${w.a.rem(y.g.Space6)}`,color:y.f.Base.Content.Primary.Default},F={display:"flex",flexDirection:"row",alignItems:"center",gap:w.a.rem(y.g.Space2),fontWeight:"bold",fontSize:w.a.rem(1),lineHeight:w.a.rem(1.5)},D={fontSize:w.a.rem(.875),lineHeight:w.a.rem(1.375)},H={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottomLeftRadius:P,borderBottomRightRadius:P,padding:`${w.a.rem(y.g.Space3)} ${w.a.rem(y.g.Space6)} ${w.a.rem(y.g.Space3)} ${w.a.rem(y.g.Space6)}`,backgroundColor:y.f.Base.Surface.Secondary.Default,color:y.f.Base.Content.Secondary.Default,fontSize:w.a.rem(.875),lineHeight:w.a.rem(1.3125),$nest:{a:{color:"inherit"}}},V={width:w.a.rem(12),lineHeight:w.a.rem(1.25)},U=Object.assign({marginRight:w.a.rem(.5)},T.a.buttonOverrideSpecificity({fontSize:w.a.rem(.875)},N)),W=T.a.buttonOverrideSpecificity({fontSize:w.a.rem(.875),fontWeight:"bold"},M),q={position:"absolute",top:w.a.rem(y.g.Space2),right:w.a.rem(y.g.Space2)},z=w.a.style(L),$=w.a.style(R),G=w.a.style(B),K=w.a.style(F),Y=w.a.style(D),Z=w.a.style(H),X=w.a.style(V),Q=w.a.style({display:"flex",flexDirection:"row",alignItems:"flex-end"}),J=w.a.joinClasses([N,w.a.style(U)]),ee=w.a.joinClasses([M,w.a.style(W)]),te=w.a.style({display:"inline"}),ne=w.a.style(q),ae=f.b.Node.make(({view:e,notify:t})=>{const{ref:n,onMount:a}=v.a.useElWatcher(),r=b.useMemo(()=>n.pipe(o.a.observeOn(o.a.asapScheduler),o.b.compact,o.a.tap(e=>t({kind:u.OnboardingUIAction.Kind.mount,step:u.Onboarding.StepName.initial,element:e})())),[n]);return v.a.useSubscriptionTo(r),b.createElement(x,{className:z,reference:e("reference"),placement:e("placement"),offset:e("offset"),boundaryAreaPadding:e("boundaryAreaPadding"),arrowColor:y.f.Base.Surface.Secondary.Default},b.createElement(S.g,{onClick:t({kind:u.OnboardingUIAction.Kind.close,step:u.Onboarding.StepName.initial}),name:"onboardingClose",size:"medium",className:ne}),b.createElement("div",{className:$},b.createElement(S.m,null)),b.createElement("div",{className:G,ref:a},b.createElement("div",{className:K},b.createElement("div",null,"Write faster with GrammarlyGO"),b.createElement(S.b,null,"Beta")),b.createElement("div",{className:Y},"Brainstorm, write, and rewrite with generative AI assistance at your fingertips.")),b.createElement("div",{className:Z},b.createElement("div",{className:X},"If you use GrammarlyGO,"," ",b.createElement(S.j,{href:"https://grammarly.com/terms",className:te},"additional terms")," ","apply."),b.createElement("div",{className:Q},b.createElement(S.c.Tertiary,{onClick:t({kind:u.OnboardingUIAction.Kind.close,step:u.Onboarding.StepName.initial}),className:J,name:"skip"},"Skip"),b.createElement(S.c.Primary,{onClick:t({kind:u.OnboardingUIAction.Kind.tryItOut}),className:ee,name:"tryItOut"},"Try it out"))))});function re(e){return f.a.fromSideEffect(t=>e.notify(t),e.activeStep.pipe(o.b.compact))}function ie(e){switch(e){case u.Onboarding.StepName.knowledgeHub:return w.a.rem(16);case u.Onboarding.StepName.references:return w.a.rem(17.8);default:return w.a.rem(13.75)}}const oe=Object(k.d)(({reference:e,placement:t,offset:n,boundaryAreaPadding:a,children:r,name:i})=>b.createElement(S.t,{reference:e,placement:t,offset:n,boundaryAreaPadding:a,theme:{bgColor:y.a.Green80,fgColor:y.f.Emphasized.Content.Primary.Default,padding:w.a.rem(y.g.Space4),width:ie(i)}},r)),se={[u.Onboarding.StepName.prompts]:{title:"Start with a prompt",description:e=>e?`Choose a suggested prompt, or type your own to get started. You’ll get ${Number(e).toLocaleString()} each month.`:"Choose a suggested prompt, or type your own to get started."},[u.Onboarding.StepName.review]:{title:"How does this sound?",description:"Adjust it to your liking with additional prompts. Don’t forget to check for any inaccuracies. "},[u.Onboarding.StepName.rewrite]:{title:"Want help rewriting?",description:"Select your text to rewrite it with GrammarlyGO."},[u.Onboarding.StepName.knowledgeHub]:{title:"Using organizational language?",description:"Prompt GrammarlyGO using terms and project names from Knowledge Share to automatically insert organizational context."},[u.Onboarding.StepName.references]:{title:"GrammarlyGO now incorporates your organizational knowledge",description:"Review the references for accuracy and relevance and regenerate the response without any references that seem irrelevant or outdated."}},le=f.b.Node.make(({state:e,view:t,notify:n})=>{const{ref:a,onMount:r}=v.a.useElWatcher(),i=b.useMemo(()=>a.pipe(o.b.compact,o.a.withLatestFrom(t("name")),o.a.observeOn(o.a.asapScheduler),o.a.map(([e,t])=>({element:e,stepName:t})),o.a.tap(({element:e,stepName:t})=>n({kind:u.OnboardingUIAction.Kind.mount,step:t,element:e})())),[a]);return v.a.useSubscriptionTo(i),b.createElement(oe,{name:t("name"),reference:t("reference"),placement:t("placement"),offset:t("offset"),boundaryAreaPadding:t("boundaryAreaPadding")},e.pipe(o.a.map(e=>b.createElement(b.Fragment,null,b.createElement(S.g,{onClick:n({kind:u.OnboardingUIAction.Kind.close,step:e.name}),name:"tooltipClose",className:de,size:"small"}),b.createElement("div",{className:ue},se[e.name].title),b.createElement("div",{ref:r},e.name===u.Onboarding.StepName.prompts?se[e.name].description(e.promptsAllocated):se[e.name].description)))))}),ce=f.b.Union.asOption(le),ue=w.a.style({fontWeight:700}),de=w.a.style({position:"absolute",top:w.a.rem(y.g.Space2),right:w.a.rem(y.g.Space2)});function pe(e){return f.a.composeOption(function(e){return f.a.fromSideEffect(t=>e.notify(t),e.activeStep.pipe(o.b.compact,o.a.filter(a.isTooltipOnboardingStep),o.a.withLatestFrom(e.promptsAllocated.pipe(o.a.map(r.toUndefined))),o.a.map(([e,t])=>Object.assign(Object.assign({},e),{promptsAllocated:t}))))}(e),()=>e.activeStep.pipe(o.a.map(r.filter(a.isTooltipOnboardingStep))))}const me=f.b.Union.make("kind",{none:f.b.Node.empty,initial:ae,tooltip:ce});function he(e){return f.a.composeUnion({none:()=>o.a.of(null),initial:re(e),tooltip:pe(e)},()=>e.activeStep.view(ge).view(e=>({kind:e})))}function ge(e){return Object(i.pipe)(e,r.filter(e=>e.show),r.fold(()=>"none",e=>{switch(e.name){case u.Onboarding.StepName.initial:return"initial";case u.Onboarding.StepName.prompts:case u.Onboarding.StepName.review:case u.Onboarding.StepName.rewrite:case u.Onboarding.StepName.knowledgeHub:case u.Onboarding.StepName.references:return"tooltip";default:return Object(l.d)(e.name)}}))}},p7hf:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n("ERkP"),r=n("LNSM"),i=n("vOOZ"),o=n("9NHN"),s=n("zR/0"),l=n("hoSD"),c=n("ot6E"),u=n("sWIT"),d=n("NIeu");class p extends a.Component{constructor(){super(...arguments),this.isDropZoneVisible=r.a.create(!1),this.isDropZoneHovered=r.a.create(!1),this.timeout=void 0,this.isDocumentUploading=r.a.create(!1),this.onLeave=()=>{this.isDropZoneVisible.set(!1),this.isDropZoneHovered.set(!1)},this.onDragOver=e=>(this.isDropZoneVisible.set(!0),this.isDropZoneHovered.set(this.props.canDrop(e)),Boolean(this.timeout)&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.onLeave(),100),e.stopPropagation(),e.preventDefault(),!1),this.onDrop=e=>{e.preventDefault(),e.stopPropagation(),this.onLeave(),this.props.canDrop(e)&&(this.isDocumentUploading.set(!0),this.props.documentUpload.upload({files:e.dataTransfer.files,notify:!0,allowMultiple:this.props.multiple,isDragNDrop:!0}).then(()=>this.isDocumentUploading.set(!1)))},this._subs=[]}componentDidMount(){this._subs=[s.a.fromEvent(document,"dragover").subscribe(this.onDragOver),s.a.fromEvent(document,"drop").subscribe(this.onDrop)]}componentWillUnmount(){this._unsubscribe(),this.props.documentUpload.navigated()}render(){return this.props.render(this.isDropZoneVisible,this.isDropZoneHovered,this.isDocumentUploading)}_unsubscribe(){this._subs.forEach(e=>e.unsubscribe()),this._subs=[]}}const m=e=>{const t=a.useContext(c.a.Context);return a.createElement(p,Object.assign({},e,{canDrop:e=>l.c.hasParentWithClassName(e.target,d.dropzone),render:(e,n,r)=>a.createElement(i.a.div,Object.assign({},Object(o.c)(d.dropZoneElement,e.pipe(s.a.map(e=>e&&d.active)),n.pipe(s.a.map(e=>e&&d.hovered)),r.pipe(s.a.map(e=>e&&Object(o.c)(d.active,d.hovered).className)))),a.createElement(i.a.div,{className:d.dropzone},r.pipe(s.a.map(e=>e?a.createElement("div",{className:d.progressContainer,key:"uploading"},a.createElement("div",{className:d.message},t.modalUploadingDocumentText),a.createElement(u.a,{size:18})):a.createElement("div",{className:d.dropzoneMiddleblock,key:"dropAFile"},"Drop a text file here")))))}))}},pKPl:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n("ERkP"),r=n("vOOZ"),i=n("p7l/"),o=n("xEVj"),s=n("zR/0"),l=n("gy42");class c extends a.Component{componentDidMount(){this.props.onMount&&this.props.onMount(this._editorWrapEl)}shouldComponentUpdate(){return!1}render(){const{theme:e={},children:t,onMouseDown:n}=this.props;return a.createElement("div",{className:e.editorContentWrap,onMouseDown:n},a.createElement(r.a.div,{className:e.editorContent,mount:e=>e&&(this._editorWrapEl=e)},t))}}const u=e=>{const t=a.useContext(i.a.Context),{ref:n,onMount:r}=o.a.useElWatcher();o.a.useSubscriptionTo(n.pipe(s.b.compactMap(n=>e.scrollEl.pipe(s.b.compact,s.a.first(),s.a.tap(a=>e.denaliEditor.attach(n,a,t.pipe(s.a.map(e=>e.rect)))))))),o.a.useSubscriptionTo(n.pipe(s.b.compactMap(t=>l.a.getResizeObservable(t).pipe(s.a.map(e=>e.height),s.a.distinctUntilChanged(),s.a.startWith(t.getBoundingClientRect().height),s.a.tap(l.b.toAtom(e.editorHeight)))))),a.useEffect(()=>()=>e.denaliEditor.dispose());const{theme:u={},children:d}=e;return a.createElement(c,{theme:u,onMount:r},d)}},pKiV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("vOOZ"),o=n("9NHN"),s=n("D9EC"),l=n("lrqh"),c=n("1w6p"),u=n("e12y"),d=n("EiZq"),p=n("aIes"),m=n("zR/0");!function(e){let t;function n(e){return c.b.List.make(p.a.Sorted.getFoldableWithIndex(),a(e))}function a(t){return c.b.Knot.make(e.IdProvider,{cell:c.b.Knot.make(d.a.Cell,{item:c.b.Composite.make(e.CardStyleProvider,t)})})}!function(e){e.onMount="onMount"}(t=e.ActionsKind||(e.ActionsKind={})),e.cardListContent=n,e.cardList=function(t){return c.b.Knot.make(e.ScrollableBox,{content:n(t)})},e.ScrollableBox=c.b.Grid.make(({notify:e,view:n,slots:a})=>r.createElement(i.a.div,Object.assign({},Object(o.c)(n("disableUserActions").pipe(m.a.map(Object(s.c)(g.disableUserActions,void 0))),g.scrollContent),{"data-purpose":"scrollable-box",style:{height:n("height")},mount:n=>e({kind:t.onMount,element:l.g.fromNullable(n)})()}),a.content)),e.cell=a,e.CardStyleProvider=c.b.Grid.make(({slots:e})=>r.createElement("div",{className:g.cardWrapper},e.children)),e.IdProvider=c.b.Grid.make(({slots:e,state:t})=>r.createElement(i.a.div,{"data-id":t},e.cell))}(a||(a={}));const h={margin:u.a.rem(.5)+" 0",background:"none",userSelect:"none",$nest:{"&:before":{position:"absolute",left:u.a.rem(-.5),width:u.a.rem(.5),height:u.a.percent(100),background:"none",content:"''"}}},g=u.a.stylesheet({scrollContent:[{position:"relative",boxSizing:"content-box"}],disableUserActions:[{pointerEvents:"none"}],cardWrapper:[h]})},pgXu:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("ERkP"),r=n("9NHN"),i=n("ax6a"),o=n("rk+4"),s=n("bO3R"),l=n("3rlE"),c=n("e12y"),u=n("WIwS"),d=n("ps/9");const p=({upgradeAction:e,size:t,title:n,className:i})=>{const c=a.useContext(o.a.Context).goPremium,u=Boolean(n)?n:c;return a.createElement(s.a,Object.assign({name:"upgrade"},Object(r.c)(i,"big"===t?O.baseBig:"link"===t?O.link:O.baseSmall),{onClick:e}),"link"===t?a.createElement(l.d.PaidLink,{width:14,className:O.linkIcon}):a.createElement(l.d.Paid,{className:"big"===t?O.bigIcon:O.icon}),u)},m={display:"inline-flex",alignItems:"center",background:i.a.CoreGreen60,borderRadius:c.a.rem(d.t),boxShadow:"0 2px 5px "+c.a.color(u.j).fade(.35).toRGBA().toString(),color:i.a.CoreNeutral0,textTransform:"uppercase",letterSpacing:c.a.rem(d.h),fontWeight:"bold",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:c.a.color(i.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:c.a.color(i.a.CoreGreen60).tint(.2).toRGBA().toString()}}},h={padding:`0 ${c.a.rem(3)} 0 ${c.a.rem(2)}`,fontSize:c.a.rem(.8125),lineHeight:c.a.rem(3)},g={padding:`0 ${c.a.rem(1)} 0 ${c.a.rem(.5)}`,fontSize:c.a.rem(.6875),lineHeight:c.a.rem(2)},f={background:i.a.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:c.a.color(i.a.CoreGreen60).tint(.1).toRGBA().toString()},"&:not([data-disabled='true']):active":{background:c.a.color(i.a.CoreGreen60).tint(.2).toRGBA().toString()}}},b={padding:`0 ${c.a.rem(3)} 0 ${c.a.rem(2)}`,fontSize:c.a.rem(.8125),lineHeight:c.a.rem(3)},y={padding:`0 ${c.a.rem(2)} 0 ${c.a.rem(.5)}`,fontSize:c.a.rem(.6875),lineHeight:c.a.rem(2)},v={fill:i.a.CoreNeutral0,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{fill:i.a.CoreNeutral0}}},S={marginRight:c.a.rem(.2)},C={display:"inline-flex",alignItems:"center",color:i.a.CoreGreen60,fontSize:c.a.rem(.75),transition:"transform .2s ease-out",$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{transform:"scale(1.05)"},"&:not([data-disabled='true']):active":{transition:"none",transform:"scale(1)"}}},w={color:i.a.CoreGreen60},k={fill:i.a.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:i.a.CoreGreen60}}},E={fill:i.a.CoreGreen60,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{fill:i.a.CoreGreen60}}},O=c.a.stylesheet({base:[m],baseBig:[m,h],baseSmall:[m,g],baseUpHookRedesign:[m,f],baseBigUpHookRedesign:[h,f,b],baseSmallUpHookRedesign:[g,f,y],icon:[v],bigIcon:[v,S],link:[C],linkUpHookRedesign:[C,w],linkIconUpHookRedesign:[k],linkIcon:[E]})},pwLq:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n("ERkP"),r=n("en1W"),i=n("k+B8"),o=n("wfm3");class s{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return(null==t?void 0:t.childNodes)||[]}constructor(e){this.keyMap=new Map,this.iterable=e;let t,n=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&"section"===e.type)for(let t of e.childNodes)n(t)};for(let t of e)n(t);let a=0;for(let[e,n]of this.keyMap)t?(t.nextKey=e,n.prevKey=t.key):(this.firstKey=e,n.prevKey=void 0),"item"===n.type&&(n.index=a++),t=n,t.nextKey=void 0;this.lastKey=null==t?void 0:t.key}}function l(e){let{filter:t}=e,n=(0,r.b)(e),o=(0,a.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),l=(0,a.useCallback)(e=>new s(t?t(e):e),[t]),c=(0,a.useMemo)(()=>({suppressTextValueWarning:e.suppressTextValueWarning}),[e.suppressTextValueWarning]),u=(0,i.i)(e,l,c),d=(0,a.useMemo)(()=>new(0,r.a)(u,n),[u,n]);const p=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(null!=n.focusedKey&&!u.getItem(n.focusedKey)){const e=p.current.getItem(n.focusedKey),t=[...p.current.getKeys()].map(e=>{const t=p.current.getItem(e);return"item"===t.type?t:null}).filter(e=>null!==e),a=[...u.getKeys()].map(e=>{const t=u.getItem(e);return"item"===t.type?t:null}).filter(e=>null!==e),r=t.length-a.length;let i,o=Math.min(r>1?Math.max(e.index-r+1,0):e.index,a.length-1);for(;o>=0;){if(!d.isDisabled(a[o].key)){i=a[o];break}o<a.length-1?o++:(o>e.index&&(o=e.index),o--)}n.setFocusedKey(i?i.key:null)}p.current=u},[u,d,n,n.focusedKey]),{collection:u,disabledKeys:o,selectionManager:d}}function c(e){var t;let[n,r]=(0,o.b)(e.selectedKey,null!==(t=e.defaultSelectedKey)&&void 0!==t?t:null,e.onSelectionChange),i=(0,a.useMemo)(()=>null!=n?[n]:[],[n]),{collection:s,disabledKeys:c,selectionManager:u}=l({...e,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:i,onSelectionChange:t=>{let a=t.values().next().value;a===n&&e.onSelectionChange&&e.onSelectionChange(a),r(a)}}),d=null!=n?s.getItem(n):null;return{collection:s,disabledKeys:c,selectionManager:u,selectedKey:n,setSelectedKey:r,selectedItem:d}}},q9Ib:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return S}));var a,r=n("OA+g"),i=n("I7vG"),o=n("94k3"),s=n("dE97"),l=n("GUi3"),c=n("yA7V"),u=n("PyeZ"),d=n("zR/0"),p=n("GGUR"),m=n("gy42"),h=n("BeBM"),g=n("XCjp"),f=n("lrqh"),b=n("D9EC"),y=n("6fbX"),v=n("PrA7");!function(e){let t,n;!function(e){e.getInlineHighlightFilter=e=>t=>!e.view(h.e.isSidebarOpened).get()||Object(i.pipe)(t,f.g.map(e=>s.a.State.isBulkApplied(e.state)),f.g.getOrElse(r.constTrue))}(t=e.ViewModel||(e.ViewModel={})),function(e){e.highlightMarkByInlineAlert=(e,t,n)=>({id:"highlightMarkByInlineAlert",when:Object(b.p)(l.a.isClosedId,l.a.isMainLens),what:h.e.Effect.Applicator.create(g.a.getHighlightSubscribtion(e,t,n).pipe(d.a.switchMapTo(d.a.NEVER)))})}(n=e.Effects||(e.Effects={}))}(a||(a={}));class S{constructor(e,t,n,a,o,l,h,g,b,S,C){this._inlineManager=e,this._alertMarkRectGetter=t,this._closeEvent=n,this._checkingDomain=a,this._alertsReader=o,this._alertsService=l,this._telemetry=h,this._openInlineAlert=g,this._hovered=b,this.hydrate=S,this._inlineHighlightFilter=C,this._subs=new p.a.Keeper,this.events=new d.a.BehaviorSubject({type:u.b.Type.closed}),this._emitCloseWhen=d.b.listenWhenSome(e=>this._checkingDomain.state.pipe(d.a.map(c.a.get(e.id)),d.a.filter(f.g.isNone),d.a.merge(this._closeEvent),d.a.tap(this._inlineManager.closeCards))),this._toMarkAndAlert=Object(r.flow)(f.g.filter(e=>f.g.isSome(this._alertsReader.getInteractable(e.id))),f.g.map(e=>{Object(y.f)(!s.a.isInPremiumLens(e),"Can't hover plagiarism alert");const t={alert:e,highlightIndex:0};return Object.assign(Object.assign({},t),{getMarkRect:this._alertMarkRectGetter(t)})})),this.state=d.a.combineLatestStatic(this._inlineManager.hoveredMarkAlert.pipe(d.a.filter(this._inlineHighlightFilter),d.a.switchMap(this._emitCloseWhen)),this.events.pipe(d.a.tap(e=>{"unhovered"===e.type&&this._telemetry.gnarSpec.alertUnderlineHover(this._telemetry.pageId,"assistantOff",this._telemetry.pageSessionId)}))).pipe(d.a.debounce(([e,t])=>d.a.timer(f.g.isNone(e)&&"closed"!==t.type?300:0)),d.a.switchMap(([e,t])=>Object(i.pipe)(e,f.g.fold(()=>"hovered"===t.type?d.a.EMPTY:(this._hovered.next(f.g.empty()),d.a.of(f.g.none)),e=>{switch(this._hovered.next(f.g.some(e)),t.type){case u.b.Type.closed:return m.b.delay(f.g.some(e),300);case u.b.Type.opened:case u.b.Type.unhovered:case u.b.Type.hovered:case u.b.Type.addedToDictionary:case u.b.Type.ignored:case u.b.Type.applied:case u.b.Type.confirmed:case u.b.Type.undone:case u.b.Type.mounted:case u.b.Type.looked:return d.a.of(f.g.some(e));default:return Object(y.c)(t)}}))),d.a.distinctUntilChanged(f.g.getEq(s.d.ordId).equals),d.a.map(this._toMarkAndAlert),d.a.share()),this._log=v.Monitoring.Logging.getLogger("InlineCardViewModelImpl",v.Logging.LogLevel.DEBUG),this._sendFeedback=(e,t)=>Object(i.pipe)(this._alertsService.applyFeedback(e,t,s.b.text),f.b.fold(e=>this._log.error("error sending alert feedback",e),r.constVoid)),this._subs.push(this._listenAlertOpenings(),this._listenAlertIgnores(),this._listenAlertAddedToDictionary(),this._listenAlertApplies(),this._listenCardLooks())}_openAlert(e){this._openInlineAlert.next(e)}_listenAlertIgnores(){return this.events.pipe(d.a.filter(u.b.isAlertIgnoreAction)).subscribe(e=>this._sendFeedback(e.alertId,{kind:o.a.AlertFeedbackType.IGNORE,subtype:o.a.FeedbackSubtype.Inline}))}_listenAlertAddedToDictionary(){return this.events.pipe(d.a.filter(u.b.isAlertAddToDictionaryAction)).subscribe(e=>this._sendFeedback(e.alertId,{kind:o.a.AlertFeedbackType.ADD_TO_DICTIONARY,subtype:o.a.FeedbackSubtype.Inline}))}_listenAlertOpenings(){return this.events.pipe(d.a.filter(u.b.isAlertOpenAction)).subscribe(e=>{this._openAlert(e.alert)})}_listenAlertApplies(){return this.events.pipe(d.a.filter(u.b.isAlertApplyAction)).subscribe(e=>{Object(i.pipe)(this._alertsService.apply(e.alertId,{alternativeIndex:e.alternativeIndex,source:s.b.text,feedbackSubtype:o.a.FeedbackSubtype.Inline}),f.b.fold(e=>this._log.error("error applying alert",e),()=>{const t=Object(i.pipe)(this._alertsReader.getById(e.alertId),f.g.chain(e=>e.extraProperties.freePremium),f.g.exists(e=>"unlocked"===e));this._telemetry.gnarSpec.suggestedReplacementButtonClick(t,this._telemetry.pageId,"defaultCard","assistantOn",this._telemetry.pageSessionId)}))})}_listenCardLooks(){return this.events.pipe(d.a.filter(u.b.isLookedAction),d.a.pluck("alertId"),d.a.filter(this._alertsReader.isValidForFeedback)).subscribe(e=>this._sendFeedback(e,{kind:o.a.AlertFeedbackType.LOOKED,subtype:o.a.FeedbackSubtype.Inline}))}dispose(){this._subs.dispose()}}!function(e){e.DATA_NAME="inline-card",e.isInlineCard=t=>!!t&&t.getAttribute("data-name")===e.DATA_NAME}(a||(a={}))},qAV9:function(e,t,n){e.exports=n.p+"files/b6cb5f7a8f36dd2ce986bdf8c4cd48d4/grammarlyproductbeta1_8-medium.woff2"},qE82:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("fOOC"),i=n("24uI"),o=n("4ae2"),s=n("6fbX"),l=n("lrqh"),c=function(){function e(e){this._delta=e,this._cursor={index:0,operationOffset:0}}return e.prototype.next=function(e){Object(s.f)(e>=0,"Length cannot be negative");var t=this._cursor.index;if(t>=this._delta.ops.length)return l.g.none;for(var n=i.a.operationLength(this._delta.ops[t]),a=e-(n-this._cursor.operationOffset);a>0&&t<this._delta.ops.length-1;)t++,a-=n=i.a.operationLength(this._delta.ops[t]);return a>0?(this._cursor={index:t+1,operationOffset:0},l.g.none):(this._cursor={index:t,operationOffset:n+a},l.g.some(this._delta.ops[t]))},e}();!function(e){const t=l.g.getMonoid(Object(r.getObjectSemigroup)());e.getEnrichedWithFormattingDelta=e=>n=>{const a=new c(e);return n.ops.reduce(([e,n],r)=>{const o=a.next(n);return i.a.isInsert(r)?[e.insert(r.insert,l.g.toUndefined(t.concat(l.g.chain(i.a.getAttrs)(o),i.a.getAttrs(r)))),0]:[e.push(r),i.a.operationLength(r)]},[new o.a,1])[0]}}(a||(a={}))},qZUR:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));const a={z100:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 1px 8px rgba(0, 0, 0, .15)",z300:"0px 0px 0px 1px rgba(0, 0, 0, .05), 0px 4px 20px rgba(0, 0, 0, .15)"},r={llamaShadowToken:"0px 2px 8px 0px #1A213433, 0px 0px 0.5px 0px #000000B2"}},"r/bb":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a,r=n("ERkP"),i=n("OA+g"),o=n("LNSM"),s=n("lrqh"),l=n("ax6a"),c=n("rk+4"),u=n("bO3R"),d=n("3rlE"),p=n("wsrD"),m=n("BugA"),h=n("e12y"),g=n("ps/9"),f=n("aIes"),b=n("xEVj"),y=n("+w1e");!function(e){e.NAME_LENGTH_LIMIT=30,e.CONTENT_LENGTH_LIMIT=1e3;e.validate=(t,n,a)=>{const r=((t,n)=>0===t.trim().length?s.g.some(n.nameEmpty):t.length>e.NAME_LENGTH_LIMIT?s.g.some(n.nameTooLong):s.g.none)(t,a),i=((t,n)=>0===t.trim().length?s.g.some(n.textEmpty):t.length>e.CONTENT_LENGTH_LIMIT?s.g.some(n.textTooLong):s.g.none)(n,a);return s.g.isNone(r)&&s.g.isNone(i)?s.b.right(void 0):s.b.left({nameError:r,contentError:i})}}(a||(a={}));var v,S=n("IdhR"),C=n("yZqL"),w=n("H9T+"),k=n("HUX/");!function(e){e.Full=({card:e,actions:n,isChecking:l})=>{const u=r.useContext(c.a.Context),[d,h]=r.useState(""),[g,b]=r.useState(e.activeAlert.snippetText),[v,C]=r.useState(""),[k,E]=r.useState(""),O=Object(i.pipe)(e.activeAlert.snippetsTrigger,s.g.fold(()=>"\\",i.identity));return r.createElement(w.s,{card:e,actions:n,isChecking:l,body:r.createElement("div",null,r.createElement(w.i,{alert:e.activeAlert,options:e.renderOptions}),r.createElement(m.a,{className:N.subheader},u.card.suggestedSnippet.subheader),r.createElement("div",{className:N.inputContainer},r.createElement(p.b,{name:"snippet-name",placeholder:u.card.suggestedSnippet.namePlaceholder,value:d,onChange:e=>h(e.target.value),className:N.snippetName}),v.length>0&&r.createElement(m.l,{className:N.inputError},v)),r.createElement("div",{className:N.inputContainer},r.createElement(p.c,{blockExtension:!0,name:"snippet-content",placeholder:u.card.suggestedSnippet.textPlaceholder,value:g,onChange:e=>b(e.target.value),className:N.snippetText}),k.length>0&&r.createElement(m.l,{className:N.inputError},k)),r.createElement(m.l,{className:N.explanation},u.card.suggestedSnippet.explanation(r.createElement(t,{trigger:O}))),r.createElement(w.q,{title:u.card.todoAction(e.activeAlert.todoAction),applyMessage:e.activeAlert.todoAction,checkingMessage:e.activeAlert.todoAction,checkingInProgress:o.a.create(!1),onClick:f.d.callOnce(()=>{Object(i.pipe)(a.validate(d,g,u.card.suggestedSnippet.validationMessages),s.b.fold(({nameError:e,contentError:t})=>{Object(i.pipe)(e,s.g.fold(()=>C(""),C)),Object(i.pipe)(t,s.g.fold(()=>E(""),E))},()=>{n.next({type:y.b.Type.createSnippet,id:e.id,alertId:e.activeAlert.id,snippetName:d,snippetText:g}),C(""),E("")}))})})),footer:r.createElement(S.b,{key:"card-actions-details",visualState:e.visualState,className:N.more},r.createElement(m.a,null,u.card.suggestedSnippet.details(r.createElement(r.Fragment,null,O))))})};const t=({trigger:e})=>r.createElement("span",{className:N.snippetsTrigger},e);e.Success=({card:e,actions:t})=>{const n=r.useContext(c.a.Context);return b.a.useEffectOnWillUnmount(()=>{t.next({type:y.b.Type.suggestedSnippetSuccessDismissed,id:e.id,alertId:e.activeAlert.id})}),r.createElement(C.a,{ariaLabel:`${e.activeAlert.highlightTexts[0]} - ${e.activeAlert.miniCardTitle}`,onFocus:()=>t.next({type:y.b.Type.mutedAlertSuccessShow}),theme:Object(k.b)(e.renderOptions),visualState:e.visualState,body:r.createElement("div",{className:N.successHeader},r.createElement(d.d.ValidationOk,{className:N.successIcon}),r.createElement(m.l,null,n.card.suggestedSnippet.successStateTitle)),mainActions:r.createElement(r.Fragment,null),footer:r.createElement(r.Fragment,null),subActions:r.createElement("div",{className:N.successAction},r.createElement(u.a.Tertiary,{name:"openSnippetsLibrary",onClick:()=>t.next({type:y.b.Type.snippetsOpenExternalLink,externalLink:e.activeAlert.libLink,alertId:e.activeAlert.id,itemId:e.id})},n.card.suggestedSnippet.libraryLinkCaption,r.createElement(d.d.OuterLink,null)),r.createElement(u.a.Ghost,{name:"done",onClick:()=>f.d.callOnce(()=>t.next({type:y.b.Type.switchToNext}))()},n.done))})}}(v||(v={}));const E={paddingTop:h.a.rem(.75),paddingBottom:h.a.rem(.5),letterSpacing:l.h.SubheadingLetterSpacing,fontSize:h.a.rem(l.h.SubheadingSize),lineHeight:h.a.rem(l.h.SubheadingLineHeight),color:l.h.SubheadingColor,textTransform:"uppercase"},O={fontFamily:"inherit",boxSizing:"border-box",padding:""+h.a.rem(.5),fontSize:h.a.rem(.875)},A=Object.assign(Object.assign({},O),{height:h.a.rem(2.5)}),_=Object.assign(Object.assign({},O),{height:h.a.rem(8)}),x={marginBottom:h.a.rem(.5)},I={color:l.a.CoreRed50},j={display:"block",color:l.a.CoreNeutral50,marginBottom:h.a.rem(.75)},T={position:"absolute",left:h.a.rem(.5),width:h.a.rem(1),height:h.a.rem(1),minWidth:h.a.rem(1),minHeight:h.a.rem(1)},M={display:"inline-block",width:h.a.rem(1),height:h.a.rem(1),backgroundColor:l.a.CoreBlue1,borderRadius:h.a.rem(g.t),textAlign:"center"},N=h.a.stylesheet({subheader:[E],snippetName:[A],snippetText:[_],explanation:[j],successIcon:[T],successHeader:[{display:"flex",alignItems:"center"}],successAction:[{display:"flex",justifyContent:"space-between",width:"100%"}],inputContainer:[x],inputError:[I],more:[w.y],snippetsTrigger:[M]})},rGmV:function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return A}));var a=n("ERkP"),r=n.n(a),i=n("EanR");class o{getStringForLocale(e,t){let n=this.strings[t];n||(n=function(e,t,n="en-US"){if(t[e])return t[e];let a=function(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}(e);if(t[a])return t[a];for(let e in t)if(e.startsWith(a+"-"))return t[e];return t[n]}(t,this.strings,this.defaultLocale),this.strings[t]=n);let a=n[e];if(!a)throw new Error(`Could not find intl message ${e} in ${t} locale`);return a}constructor(e,t="en-US"){this.strings={...e},this.defaultLocale=t}}const s=new Map,l=new Map;class c{format(e,t){let n=this.strings.getStringForLocale(e,this.locale);return"function"==typeof n?n(t,this):n}plural(e,t,n="cardinal"){let a=t["="+e];if(a)return"function"==typeof a?a():a;let r=this.locale+":"+n,i=s.get(r);return i||(i=new Intl.PluralRules(this.locale,{type:n}),s.set(r,i)),a=t[i.select(e)]||t.other,"function"==typeof a?a():a}number(e){let t=l.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),l.set(this.locale,t)),t.format(e)}select(e,t){let n=e[t]||e.other;return"function"==typeof n?n():n}constructor(e,t){this.locale=e,this.strings=t}}new Map;new Map;const u=["hours","minutes","seconds"];new Map;n("KCID");new Map;let d=!1;try{d="exceptZero"===new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay}catch(e){}let p=!1;try{p="unit"===new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style}catch(e){}new RegExp("^.*\\(.*\\).*$");new Map;new Set(["decimal","fraction","integer","minusSign","plusSign","group"]);const m=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),h=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function g(e){if(Intl.Locale){let t=new Intl.Locale(e).maximize().script;return m.has(t)}let t=e.split("-")[0];return h.has(t)}function f(){let e="undefined"!=typeof navigator&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch(t){e="en-US"}return{locale:e,direction:g(e)?"rtl":"ltr"}}let b=f(),y=new Set;function v(){b=f();for(let e of y)e(b)}function S(){let e=(0,i.a)(),[t,n]=(0,a.useState)(b);return(0,a.useEffect)(()=>(0===y.size&&window.addEventListener("languagechange",v),y.add(n),()=>{y.delete(n),0===y.size&&window.removeEventListener("languagechange",v)}),[]),e?{locale:"en-US",direction:"ltr"}:t}const C=r.a.createContext(null);function w(){let e=S();return(0,a.useContext)(C)||e}const k=new WeakMap;function E(e){let{locale:t}=w(),n=(0,a.useMemo)(()=>function(e){let t=k.get(e);return t||(t=new o(e),k.set(e,t)),t}(e),[e]);return(0,a.useMemo)(()=>new c(t,n),[t,n])}let O=new Map;function A(e){let{locale:t}=w(),n=t+(e?Object.entries(e).sort((e,t)=>e[0]<t[0]?-1:1).join():"");if(O.has(n))return O.get(n);let a=new Intl.Collator(t,e);return O.set(n,a),a}},rQ7a:function(e,t,n){"use strict";n.r(t),n.d(t,"literal",(function(){return o})),n.d(t,"string",(function(){return s})),n.d(t,"number",(function(){return l})),n.d(t,"boolean",(function(){return c})),n.d(t,"UnknownArray",(function(){return u})),n.d(t,"UnknownRecord",(function(){return d})),n.d(t,"refine",(function(){return p})),n.d(t,"nullable",(function(){return m})),n.d(t,"struct",(function(){return h})),n.d(t,"type",(function(){return g})),n.d(t,"partial",(function(){return f})),n.d(t,"array",(function(){return b})),n.d(t,"record",(function(){return y})),n.d(t,"tuple",(function(){return v})),n.d(t,"intersect",(function(){return S})),n.d(t,"union",(function(){return C})),n.d(t,"sum",(function(){return w})),n.d(t,"lazy",(function(){return k})),n.d(t,"readonly",(function(){return E})),n.d(t,"alt",(function(){return O})),n.d(t,"zero",(function(){return A})),n.d(t,"compose",(function(){return _})),n.d(t,"id",(function(){return x})),n.d(t,"URI",(function(){return I})),n.d(t,"Schemable",(function(){return j})),n.d(t,"WithUnknownContainers",(function(){return T})),n.d(t,"WithUnion",(function(){return M})),n.d(t,"WithRefine",(function(){return N}));var a=n("OA+g"),r=n("I7vG"),i=n("ST6u"),o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{is:function(t){return-1!==e.findIndex((function(e){return e===t}))}}},s={is:function(e){return"string"==typeof e}},l={is:function(e){return"number"==typeof e&&!isNaN(e)}},c={is:function(e){return"boolean"==typeof e}},u={is:Array.isArray},d={is:function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}},p=function(e){return function(t){return{is:function(n){return t.is(n)&&e(n)}}}},m=function(e){return{is:function(t){return null===t||e.is(t)}}},h=function(e){return Object(r.pipe)(d,p((function(t){for(var n in e)if(!(n in t)||!e[n].is(t[n]))return!1;return!0})))},g=h,f=function(e){return Object(r.pipe)(d,p((function(t){for(var n in e){var a=t[n];if(void 0!==a&&!e[n].is(a))return!1}return!0})))},b=function(e){return Object(r.pipe)(u,p((function(t){return t.every(e.is)})))},y=function(e){return Object(r.pipe)(d,p((function(t){for(var n in t)if(!e.is(t[n]))return!1;return!0})))},v=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{is:function(t){return Array.isArray(t)&&t.length===e.length&&e.every((function(e,n){return e.is(t[n])}))}}},S=function(e){return function(t){return{is:function(n){return t.is(n)&&e.is(n)}}}},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{is:function(t){return e.some((function(e){return e.is(t)}))}}},w=function(e){return function(t){return Object(r.pipe)(d,p((function(n){var a=n[e];return a in t&&t[a].is(n)})))}},k=function(e){var t=Object(i.b)(e);return{is:function(e){return t().is(e)}}},E=a.identity,O=function(e){return function(t){return{is:function(n){return t.is(n)||e().is(n)}}}},A=function(){return{is:function(e){return!1}}},_=function(e){return function(t){return{is:function(n){return t.is(n)&&e.is(n)}}}},x=function(){return{is:function(e){return!0}}},I="io-ts/Guard",j={URI:I,literal:o,string:s,number:l,boolean:c,nullable:m,type:g,struct:h,partial:f,record:y,array:b,tuple:v,intersect:S,sum:w,lazy:function(e,t){return k(t)},readonly:E},T={UnknownArray:u,UnknownRecord:d},M={union:C},N={refine:p}},rTXf:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var a=n("ERkP"),r=n("I7vG"),i=n("vOOZ"),o=n("LNSM"),s=n("9NHN"),l=n("lrqh"),c=n("D9EC"),u=n("zI3C"),d=n("rk+4"),p=n("bO3R"),m=n("NmGF"),h=n("D6Vf"),g=n("Q8bi"),f=n("pgXu"),b=n("gy42"),y=n("xEVj"),v=n("zR/0"),S=n("D57K"),C=n("OA+g"),w=n("hoSD"),k=n("ax6a"),E=n("e12y");const O={display:"flex",flexDirection:"column",maxHeight:"90vh",width:E.a.rem(41.5),backgroundColor:k.a.CoreNeutral0,textAlign:"left"},A={padding:`${E.a.rem(1.125)} ${E.a.rem(2)} ${E.a.rem(1)}`,paddingBottom:E.a.rem(1)},_={paddingBottom:0,backgroundColor:k.a.CoreNeutral0,flexShrink:0,$nest:{"&:after":{position:"absolute",bottom:0,display:"block",width:`calc(100% - ${E.a.rem(4)})`,height:E.a.px(1),background:k.a.CoreNeutral20,content:"''"}}},x={display:"block",margin:E.a.rem(.8125)+" 0",color:k.a.CoreNeutral90,fontWeight:k.h.SmallLightWeight,lineHeight:E.a.rem(1.5)},I={minHeight:E.a.rem(4)},j={display:"flex",$nest:{"&:not(:last-child)":{marginBottom:E.a.rem(1.25),borderBottom:"1px solid "+k.a.CoreNeutral20}}},T={marginBottom:E.a.rem(-.5),maxWidth:E.a.rem(27),justifyContent:"initial",flexWrap:"wrap",$nest:{"& > .setGoalsToneButton":{margin:"0 0 "+E.a.rem(.5),marginLeft:E.a.important(0),$nest:{"&:not(:last-child)":{marginRight:E.a.rem(.5)}}}}},M={width:E.a.rem(7),textTransform:"capitalize",lineHeight:E.a.rem(2)},N={marginTop:E.a.rem(.8125)},P={margin:`0 0 ${E.a.rem(1.5)} ${E.a.rem(7)}`},L={margin:`0 0 ${E.a.rem(1.5)} ${E.a.rem(7)}`},R={position:"absolute",top:E.a.rem(2.5)},B={display:"flex",width:E.a.percent(100),justifyContent:"space-between"},F={color:k.a.CoreNeutral90,fontWeight:300,fontSize:E.a.rem(.8125)},D=E.a.stylesheet({wrapper:[O],modalBody:[A],modalHeader:[_],itemDescription:[x],modalFooter:[I],row:[j],toneButtons:[T],rowHeader:[M],extraContent:[N],title:[P],description:[L],image:[R],footerWrapper:[B],checkboxText:[F]}),H=({name:e,items:t,sticky:n,theme:r={},extraContent:o,children:s,isVisible:l})=>a.createElement(i.a.Fragment,null,l.view(i=>i?a.createElement("div",{className:D.row},a.createElement("div",null,a.createElement(g.Typography,{nodeType:"h3",styleType:g.Typography.Type.H4,className:D.rowHeader},e),o),a.createElement("div",null,a.createElement(p.a.Group,{sticky:n,className:r.buttonsGroup},t.map(t=>{var{description:n}=t,i=Object(S.__rest)(t,["description"]);const o=w.c.createUniqueId(i.key);return a.createElement(a.Fragment,{key:i.key},a.createElement(p.a.White,Object.assign({className:r.button,name:`context-${e}-${i.key}`,"aria-describedby":o},i)),a.createElement("span",{hidden:!0,id:o},e,": ",n))})),a.createElement(g.Typography.Small,{className:D.itemDescription},s))):null)),V=({items:e,current:t,isVisible:n,shouldDisable:a,itemDescription:r,itemTitle:i=C.identity})=>({sticky:!0,isVisible:n,items:e.map(e=>({key:e,active:t.view(t=>t===e),onClick:()=>t.set(e),disabled:a&&a(e),children:i(e),description:r(e)}))}),U=({blocks:e,features:t,showOnLoad:n,close:r,upgrade:i,reset:o,showOnLoadChanged:s})=>{const l=a.useContext(u.a.Context),c=b.b.toObservable(t),d=b.b.toObservable(e),p=b.b.toObservable(n),m=b.b.toObservable(r);return a.createElement(h.a,{className:D.wrapper,focusTrapMode:"dynamic",initialFocus:y.a.FocusTrap.InitialFocus.none},a.createElement(h.a.Header,{className:D.modalHeader},a.createElement(q,null)),a.createElement(h.a.Body,{name:"goalsBody",className:D.modalBody},a.createElement(W,{features:c,upgradeAction:i,blocks:d})),a.createElement(h.a.Footer,{className:D.modalFooter},a.createElement(z,{supportsSetGoalsLoader:c.pipe(v.a.map(e=>!e.demoMode&&l.has(u.a.Flag.supportsSetGoalsLoader))),onDone:m,reset:o,showOnLoad:p,showOnLoadChanged:s})))},W=({blocks:e,features:t,upgradeAction:n})=>{const o=a.useContext(d.a.Context).goals;return a.createElement(i.a.Fragment,null,v.a.combineLatestStatic(e,t).pipe(v.a.map(([{audience:e,formality:t,domain:s,intent:c,type:u,format:d},p])=>{const m=a.createElement(H,Object.assign({name:"domain"},V(Object.assign(Object.assign({},s),{itemTitle:e=>"mail"===e?"email":e,itemDescription:e=>o.sections.domain[e]})),{extraContent:a.createElement(i.a.div,{className:D.extraContent},p.isFree?a.createElement(f.a,{size:"link",upgradeAction:n}):null)}),s.current.view(e=>p.isFree?o.sections.domain.free:Boolean(e)?o.sections.domain[e]:"")),h=a.createElement(H,Object.assign({name:"intent"},(({items:e,isVisible:t,current:n},a,i)=>({isVisible:t,items:e.map(e=>({key:e,active:n.view(t=>Object(r.pipe)(t,l.g.exists(t=>t.has(e)))),description:i(e),onClick:()=>n.modify(t=>{const n=Object(r.pipe)(t,l.g.fold(()=>new Set,e=>new Set(e)));return n.has(e)?n.delete(e):n.add(e),l.g.some(n)}),children:a(e)}))}))(c,e=>o.sections.intent.options[e],e=>o.sections.intent.options[e])),o.sections.intent.experimental),g=a.createElement(H,Object.assign({name:"audience"},V(Object.assign(Object.assign({},e),{itemDescription:t=>o.sections.audience[t](Object(r.pipe)(e.default,l.g.exists(e=>e===t)))}))),e.current.view(t=>Boolean(t)&&o.sections.audience[t](Object(r.pipe)(e.default,l.g.exists(e=>e===t))))),b=a.createElement(H,Object.assign({name:"formality"},V(Object.assign(Object.assign({},t),{itemDescription:e=>o.sections.formality[e]}))),t.current.view(e=>Boolean(e)?o.sections.formality[e]:"")),y=a.createElement(H,Object.assign({name:"type"},V(Object.assign(Object.assign({},u),{itemDescription:e=>o.sections.type.options[e]}))),u.current.view(e=>Boolean(e)?o.sections.type.options[e]:"")),v=a.createElement(H,Object.assign({name:"format"},V(Object.assign(Object.assign({},d),{itemTitle:o.sections.format.formatTitle,itemDescription:e=>o.sections.format.options[e]}))),d.current.view(e=>Boolean(e)?o.sections.format.options[e]:""));return p.isStudentsOFE?a.createElement(a.Fragment,null,m,h,g,b,y,v):a.createElement(a.Fragment,null,g,b,m,h)})))},q=()=>{const e=a.useContext(d.a.Context).goals,t=a.useContext(h.a.TitleIdContext);return a.createElement(a.Fragment,null,a.createElement(g.Typography,{nodeType:"h2",styleType:g.Typography.Type.H1,id:t,className:D.title},e.title),a.createElement($,null),a.createElement(h.a.SpokenDescription,null,a.createElement(g.Typography.Base,{className:D.description},e.header)))},z=({supportsSetGoalsLoader:e,showOnLoad:t,showOnLoadChanged:n,reset:r,onDone:l})=>{const u=a.useContext(d.a.Context),h=o.a.create(!1);return y.a.useSubscriptionTo(t.pipe(v.a.tap(b.b.toAtom(h)))),y.a.useSubscriptionTo(h.pipe(v.a.tap(n))),a.createElement(i.a.div,Object.assign({},Object(s.c)(e.pipe(v.a.map(Object(c.c)(D.footerWrapper,null))))),e.pipe(v.a.map(Object(c.c)(a.createElement(m.a,{checked:h,name:"set-goals"},a.createElement(g.Typography.Small,{className:D.checkboxText},u.goals.footer.showModalOnStart)),null))),a.createElement(p.a.Group,null,a.createElement(p.a.Ghost,{name:"reset",onClick:r},u.goals.footer.reset),l.pipe(v.a.map(e=>a.createElement(p.a.Primary,{name:"closeSetContext",onClick:e},u.done)))))},$=()=>a.createElement("svg",{"aria-hidden":!0,className:D.image,width:"69",height:"80",viewBox:"0 0 69 80"},a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M28.935 70C12.955 70 0 57.045 0 41.065 0 25.085 12.955 12.13 28.935 12.13c15.98 0 28.936 12.954 28.936 28.935C57.87 57.045 44.917 70 28.936 70zm0-12.242c9.22 0 16.694-7.474 16.694-16.693 0-9.22-7.475-16.694-16.695-16.694s-16.693 7.475-16.693 16.695 7.474 16.693 16.693 16.693z",fill:"#4C7AF1"}),a.createElement("path",{d:"M28.935 57.758c-9.22 0-16.693-7.474-16.693-16.693 0-9.22 7.474-16.694 16.693-16.694 9.22 0 16.694 7.475 16.694 16.695s-7.475 16.693-16.695 16.693zm0-11.13a5.564 5.564 0 1 0 0-11.128 5.565 5.565 0 0 0 .001 11.129z",fill:"#BCDBFB"}),a.createElement("circle",{fill:"#FFF",cx:"28.935",cy:"41.065",r:"5.565"}),a.createElement("path",{stroke:"#4C7AF1",strokeLinecap:"round",strokeWidth:"1.5",d:"M15.024 68.016L9.46 78.5m32.274-10.484L47.298 78.5"}),a.createElement("path",{d:"M61.96 13.367a.65.65 0 0 1 .645.656.65.65 0 0 1-.646.655h-6.075L29.35 41.7a.636.636 0 0 1-.913 0 .663.663 0 0 1 0-.927L54.972 13.75V7.59a.65.65 0 0 1 .645-.656.65.65 0 0 1 .646.656v5.777h5.696zm3.17-3.215a.65.65 0 0 1 .646.655.65.65 0 0 1-.646.655h-6.34a.65.65 0 0 1-.647-.655V4.372a.65.65 0 0 1 .646-.655.65.65 0 0 1 .644.655v5.78h5.696zm3.17-3.218a.65.65 0 0 1 .647.656.65.65 0 0 1-.646.655h-6.34a.65.65 0 0 1-.647-.655V1.155A.65.65 0 0 1 61.96.5a.65.65 0 0 1 .645.655v5.78H68.3z",fill:"#4C7AF1"}),a.createElement("path",{d:"M49.267 20.486l-8.586 8.757",stroke:"#FFF",strokeWidth:"1.3"})))},rmZI:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));var a,r,i=n("LNSM");!function(e){let t;!function(e){e.VerySatisfied="VerySatisfied",e.SomewhatSatisfied="SomewhatSatisfied",e.Neutral="Neutral",e.SomewhatDissatisfied="SomewhatDissatisfied",e.VeryDissatisfied="VeryDissatisfied"}(t=e.Experience||(e.Experience={})),e.adminSatisfactionReasons=["CreatingStrongCompanyBrand","SavingTimeWritingAndEditing","CentrallyManagingGrammarlyAccount","EnablingTeamToCommunicateWithCustomersEffectively","Other"],e.teamMemberSatisfactionReasons=["SavingTimeWritingAndEditing","SoundingFluentInEnglish","SoundingMoreProfessionalAndPolished","ImprovingOverallWritingSkills","FeelingConfidentWhenCommunicating","CommunicatingWithCustomersEffectively","Other"],e.dissatisfactionReasons=["DoesntIntegrateWithAnAppIUse","LowQualitySuggestions","FeaturesAreMissing","TechnicalDifficulties","NotSureWhatGrammarlyBusinessDoes","DidntFindItValuable","Other"]}(a||(a={})),function(e){e.isFirstQuestion=e=>!("answer1"in e)&&!("answer2"in e),e.isSecondQuestion=e=>"answer1"in e&&!("answer2"in e),e.isThirdQuestion=e=>"answer1"in e&&"answer2"in e&&!("answer3"in e),e.isCompleted=e=>"answer1"in e&&"answer2"in e&&"answer3"in e;const t=[a.Experience.Neutral,a.Experience.SomewhatDissatisfied,a.Experience.VeryDissatisfied];e.isSecondQuestionAboutDissatisfaction=e=>"answer1"in e&&t.includes(e.answer1),e.getSecondQuestionAnswer=e=>e.answer2}(r||(r={}));class o{constructor(e,t){this._tracking=e,this.isAdmin=t,this.state=i.a.create({})}answer(e){const t=this.state.view(r.isFirstQuestion).get(),n=this.state.view(r.isSecondQuestion).get(),a=t?"answer1":n?"answer2":"answer3";this.state.modify(t=>Object.assign(Object.assign({},t),{[a]:e})),t?this._tracking.onFirstAnswer(e):n?this._tracking.onSecondAnswer(e):Boolean(e.trim())&&this._tracking.onThirdAnswer(e)}}},rq0W:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var a,r=n("I7vG"),i=n("lrqh"),o=n("D9EC"),s=n("PrA7"),l=n("D/5U"),c=n("sWLkM");function u({from:e,transition:t,incomplete:n}){if(!n)return{};const a=p("transitionClassMapper");return Object(r.pipe)(e,i.g.map(e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return a.error(`Impossible transition: ${e} -> ${t.type}`),{main:l.a.addedMain};case"focused":return{main:t.clockwise?l.a.rendered2focusedMainClockwise:l.a.rendered2focusedMain};case"removed":return{shade:l.a.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:l.a.focused2renderedMain,shade:t.clockwise?l.a.focused2renderedShadeClockwise:l.a.focused2renderedShade};case"removed":return{main:"",shade:t.clockwise?l.a.focused2renderedShadeClockwise:l.a.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?l.a.focused2renderedShadeClockwise:l.a.focused2renderedShade};case"focused":return{main:l.a.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:l.a.focused2successMain,shade:l.a.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return a.error(`Impossible transition: ${e} -> ${t.type}`),{main:l.a.addedMain};default:return{}}default:return{}}}),i.g.getOrElse(()=>{switch(t.type){case"added":return{main:l.a.addedMain};case"focused":return{main:l.a.openedMain};default:return{}}}))}function d({from:e,transition:t,incomplete:n}){return n?Object(r.pipe)(e,i.g.map(e=>{switch(e){case"added":case"rendered":switch(t.type){case"added":return p("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:l.a.addedMain};case"focused":return{main:t.clockwise?c.a.rendered2focusedBundleMainClockwise:c.a.rendered2focusedBundleMain,shade:c.a.rendered2focusedBundleShade};case"removed":return{shade:l.a.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(t.type){case"rendered":return{main:c.a.focused2renderedBundleMain,shade:t.clockwise?c.a.focused2renderedBundleShadeClockwise:c.a.focused2renderedBundleShade};case"removed":return{main:"",shade:t.clockwise?l.a.focused2renderedShadeClockwise:l.a.focused2renderedShade};default:return{}}case"success":switch(t.type){case"removed":return{main:"",shade:t.clockwise?l.a.focused2renderedShadeClockwise:l.a.focused2renderedShade};case"focused":return{main:l.a.success2FocusedMain};default:return{}}case"presuccess":switch(t.type){case"success":return{main:l.a.focused2successMain,shade:l.a.focused2successShade};default:return{}}case"removed":switch(t.type){case"added":return p("bundleTransitionClassMapper").error(`Impossible transition: ${e} -> ${t.type}`),{main:l.a.addedMain};default:return{}}default:return{}}}),i.g.getOrElse(()=>{switch(t.type){case"added":return{main:l.a.addedMain};case"focused":return{main:l.a.openedMain};default:return{}}})):{}}!function(e){e.toOption=function(e){return t=>{const{main:n,shade:a}=e(t);return{main:i.g.fromNullable(n),shade:i.g.fromNullable(a)}}}}(a||(a={}));const p=Object(o.l)(s.Monitoring.Logging.getLogger)},"s+3N":function(e,t,n){"use strict";n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return k}));var a=n("OA+g"),r=n("I7vG"),i=n("lrqh"),o=n("6fbX"),s=n("7b34"),l=n("D9EC"),c=n("PrA7"),u=n("kMag"),d=n("dE97"),p=n("GUi3"),m=n("yA7V"),h=n("jAb7"),g=n("zR/0"),f=n("UEGg"),b=n("BeBM"),y=n("bFfh");const v=Object(a.not)(d.a.isMuted),S=()=>b.e.create({alertSource:d.b.api,switchOrder:"lensOrder",currentLens:y.a.Closed.create(a.constFalse,i.c.fromEquals(a.constFalse))}),C=()=>b.e.create({alertSource:d.b.api,switchOrder:"lensOrder",currentLens:y.a.DraftAI.create()}),w=()=>b.e.create({alertSource:d.b.api,switchOrder:"lensOrder",currentLens:y.a.Cheetah.create()});class k{constructor(e,t,n,a,i,o,s,l,u,p=b.e.FocusFirstFilter.defaultFilter){this._checkingState=e,this._alertsReader=t,this._lenses=n,this._positionManager=a,this._lensPreviewVM=i,this._lensFactory=o,this._alertsHandlerFactory=s,this._capabilities=l,this._alertsFilterService=u,this._focusFirstFilter=p,this._transformAlertsDiffToApplicator=e=>t=>n=>b.e.hasItems(n)?n.patch({currentLens:e(t,v)(n.currentLens)}):n,this._log=c.Monitoring.Logging.getLogger("FocusedLensManagerImpl"),this._updateMetaSource=e=>t=>n=>e===n.currentLens.id&&b.e.hasItems(n)?b.e.Prism.getLensWithItems().modify(this._capabilities.updateMeta(t),n):n,this._lensAlerts=e=>{const t=this._alertsFilterService.alertVisibleInSidebar(e.id);return Object(r.pipe)(this._checkingState.get(),m.a.reduce([],(e,{alert:n})=>t(n)?[...e,n]:e),e=>e.sort(d.d.ord.compare))}}static _mapByActiveLensId(e,t,n,a){if(p.a.isOutcomeId(e))return a();switch(e){case p.a.SpecialId.Plagiarism:return t();case p.a.SpecialId.Premium:return n();case p.a.SpecialId.AllAlerts:case p.a.SpecialId.Priority:case p.a.SpecialId.PredictionTakeaways:case p.a.SpecialId.PredictionEmogenie:case p.a.SpecialId.RealTimeProofit:case p.a.SpecialId.FreePremiumAlerts:return a();default:return Object(o.c)(e)}}_conditionedApplicator(e,t){return n=>a=>e(a,n)?t(n)(a):a}static _filterALEvents(e,t){return n=>g.a.of(Object(r.pipe)(n,m.a.Diff.filter(t=>e(t.alert)),e=>(t.isEnabled(c.Logging.LogLevel.TRACE)&&t.trace("diff after filter",e),e))).pipe(g.a.filter(Object(a.not)(s.a.isEmpty)))}emptyState(e=p.a.SpecialId.AllAlerts){return b.e.create({currentLens:this._createLens({lensId:e,initialLens:this._lensPreviewVM.getLens(e).get(),visibleAlerts:[],alertHighlight:i.g.none,previousState:i.g.none,alertSource:d.b.api}),alertSource:d.b.api,switchOrder:"lensOrder"})}getLensEventsByLensId(e,t,n={}){const a=this._getActiveLensMeta(t),o=this._lensAlerts(a),s=this._createState(e,i.g.none,a,t,o),l=n.focusBehavior?this._getAlertToFocus(n.focusBehavior,s):i.g.none;e.currentLens.id===t&&b.e.hasItems(e)&&this._capabilities.getActiveAlertsCount(e.currentLens)!==o.length&&this._log.warn("Lens contains inconsistent number of alerts",a.id);const c=b.e.hasItems(s)?Object(r.pipe)(l,i.g.fold(()=>s,n=>this._createState(e,i.g.some(n),a,t,o))):s;return this._generateEventsFromState(c,this._alertsHandlerFactory(t))}getLensEventsByAlert(e,t,n){Object(o.f)(i.g.isSome(this._alertsReader.getById(n.alert.id)),"Can't focus non existing alert",n.alert.id);const a=this._getActiveLensMeta(t),r=e.currentLens.meta.id===t&&e.currentLens.meta.filter(n.alert)&&b.e.hasItems(e)?b.e.Prism.getLensWithItems().modify(this._capabilities.selectItemByAlert(n),e):this._createState(e,i.g.some(n),a,t,this._lensAlerts(a));return this._generateEventsFromState(r,this._alertsHandlerFactory(t))}findClosestAlertHighlight(e,t){return Object(r.pipe)(this._positionManager.findClosestToPosition(e,e=>u.a.is(e)&&u.b.isVisible(e)&&!u.b.isApplied(e)&&Object(r.pipe)(this._alertsReader.getRegistered(e.meta.alertId),i.g.exists(n=>this._alertsFilterService.alertCanBeDisplayed(n)&&t(n)&&n.getHighlightRanges().some(t=>t.meta.id===e.meta.id)))),i.g.chain(e=>Object(r.pipe)(this._alertsReader.getRegistered(e.meta.alertId),i.g.map(t=>{const n={alert:f.a.fromModel(t),highlightIndex:t.getHighlightRanges().findIndex(t=>t.meta.id===e.meta.id)};return n.highlightIndex<0&&(this._log.error("findClosestAlertRange returned a range which doesn't exist in alert.highlightRanges",{alert:n.alert.toString(),range:JSON.stringify(e),positionManagerRanges:JSON.stringify(this._positionManager.findRanges(e=>u.a.is(e)&&e.meta.alertId===t.id)),hasPendingRanges:t.hasNewRangesForUpdate}),n.highlightIndex=0),n}))))}findNextAlertInText({alert:e,highlightIndex:t},n){const a=e.getHighlightRanges();return Object(o.f)(t<a.length,"AHI is out of highlightRanges length",`hr length: ${a.length}, ahi: ${t}`),this.findClosestAlertHighlight(a[t].end,n)}findNextAlertInTextByLens(e,t,n){return this.findNextAlertInText(e,Object(l.b)(this._alertsFilterService.alertVisibleInText(n.id,t),t=>t.id!==e.alert.id,Object(a.flow)(y.a.findItemWithAlertInLens(n,this._capabilities),i.g.isSome)))}findPremiumAlert(){return this._lensPreviewVM.getLens(p.a.SpecialId.Premium).get().count>0?Object(r.pipe)(this._checkingState.get(),m.a.find(Object(a.flow)(d.a.fromAlertModel,Object(l.b)(d.a.isRegistered,d.a.isPremium))),i.g.map(e=>({alert:f.a.fromModel(e.alert),highlightIndex:0}))):i.g.none}hasZeroFreeAlerts(e){return 0===this._lensPreviewVM.getLens(e.get()).get().priorityCount}_getMetaChangesObservable(e){return b.e.hasItems(e)&&e.currentLens.kind===b.f.persistent?this._lensPreviewVM.getLens(e.currentLens.id).view(this._updateMetaSource(e.currentLens.id)):b.e.hasItems(e)&&e.currentLens.type===b.i.lensview?this._lenses.pipe(g.a.distinctUntilChanged(h.a.eq.equals),g.a.map(Object(a.flow)(h.a.lookup(e.currentLens.id),i.g.map(this._updateMetaSource(e.currentLens.id)),i.g.getOrElse(()=>b.e.Effect.Applicator.Source.identity)))):b.e.Effect.Applicator.Source.empty}_generateEventsFromState(e,t){return g.a.mergeStatic(this._checkingState.pipe(g.a.pairwise(),g.a.map(([e,t])=>m.a.diff(e,t)),g.a.tap(e=>{this._log.isEnabled(c.Logging.LogLevel.TRACE)&&this._log.trace("new alerts diff",e)}),g.a.switchMap(k._filterALEvents(e.currentLens.meta.filter,this._log)),g.a.map(this._conditionedApplicator((e,t)=>{const n=this._alertsFilterService.getLensesFilter(e.currentLens.id),i=Object(r.pipe)(t,m.a.Diff.filter(Object(a.not)(({alert:e})=>n(e))));return s.a.isEmpty(i)},this._transformAlertsDiffToApplicator(t)))),this._getMetaChangesObservable(e)).pipe(g.a.startWith(b.e.Effect.Applicator.Source.override(e)))}_getActiveLensMeta(e){const t=k._mapByActiveLensId(e,()=>this._lensPreviewVM.getLens(p.a.SpecialId.Plagiarism).get(),()=>this._lensPreviewVM.getLens(p.a.SpecialId.Premium).get(),()=>this._lensPreviewVM.getLens(e).get());return Object(o.f)(void 0!==t,"unknown lensId:"+e),t}_createState(e,t,n,a,s){Object(o.f)(i.g.forAll(({alert:e})=>i.g.isSome(this._alertsReader.getInteractable(e.id)))(t),"we can create state only with alert in registered state",()=>Object(r.pipe)(t,i.g.fold(()=>"null",e=>e.toString())));const l=e.alertSource,c=e.switchOrder,u=this._createLens({lensId:a,initialLens:n,visibleAlerts:s,alertHighlight:t,alertSource:l,previousState:i.g.some(e.currentLens)});return b.e.create({currentLens:u,alertSource:l,switchOrder:c})}_createLens(e){return this._lensFactory(e.lensId,e.initialLens,e.visibleAlerts,this._focusFirstFilter(e),e.previousState)}_getAlertToFocus(e,t){switch(e.kind){case b.e.Effect.FocusBehaviorType.noFocus:case b.e.Effect.FocusBehaviorType.unFocus:return i.g.none;case b.e.Effect.FocusBehaviorType.focusFirst:return b.e.hasItems(t)?this._capabilities.findFirstAlert(t.currentLens):i.g.none;case b.e.Effect.FocusBehaviorType.focusNext:return b.e.hasItems(t)?this._capabilities.findNextAlert(t.currentLens):i.g.none;case b.e.Effect.FocusBehaviorType.focusAlert:return i.g.some(e.alertHighlight);default:Object(o.c)(e)}}}},s9lZ:function(e,t,n){e.exports=n.p+"files/f3eff5948418ea16f395ca03499aad13/mutedAlerts.png"},sDKV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("LNSM"),o=n("vOOZ"),s=n("GGUR"),l=n("zR/0"),c=n("lrqh"),u=n("hoSD"),d=n("07Tf"),p=n("q4n/"),m=n("PrA7");!function(e){e.getSelectionHOCs=e=>({withNeutralForSelection:t=>function(e,t){return class extends r.Component{constructor(){super(...arguments),this._el=i.a.create(c.g.none),this._subs=new s.a.Keeper,this._onMount=e=>{this._el.set(c.g.fromNullable(e)),this.props.onMount&&e&&this.props.onMount(e)},this._neutralForSelection=()=>this._el.pipe(l.a.switchMap(c.g.fold(()=>l.a.EMPTY,e=>l.a.mergeStatic(l.a.fromEvent(document,"mousedown").pipe(l.a.map(e=>e.target),l.a.filter(t=>!(t===e||u.c.isParent(e,t))),l.a.mapTo(!0)),l.a.fromEvent(document,"mouseup").pipe(l.a.mapTo(!1))).pipe(l.a.tap(t=>{e.style.pointerEvents=t?"none":"auto"}))))).subscribe(),this._preventOnMouseMove=()=>{const e=i.a.create(!1);return[t.dontFreezeWhen(e,"prevent-focus"),this._el.pipe(l.a.switchMap(c.g.fold(()=>l.a.EMPTY,e=>l.a.mergeStatic(l.a.fromEvent(e,"mousedown").pipe(l.a.mapTo(!0)),l.a.fromEvent(e,"mouseup").pipe(l.a.mapTo(!1))))),l.a.tap(t=>e.set(t))).subscribe()]}}componentDidMount(){this._subs.push(this._neutralForSelection(),...this._preventOnMouseMove())}componentWillUnmount(){this._subs.dispose()}render(){return r.createElement(e,Object.assign({},this.props,{onMount:this._onMount}))}}}(t,e),withSelectionEffect:(t,a)=>n.withSelectionEffect(t,e,a)});const t=e=>t=>r.createElement(e,Object.assign({},t));let n;e.getPassThrough=()=>({withNeutralForSelection:t,withSelectionEffect:t}),e.Context=r.createContext(d.a.invariantContent("DenaliEditorSelection")),function(e){e.PlainContainer=({children:e,onMouseDown:t,onMount:n,className:a})=>r.createElement(o.a.div,{className:a,onMouseDown:t,mount:n},e),e.withSelectionEffect=function(e,t,n){return class extends r.Component{_onMouseDown(e){p.b.isLeftMouseButtom(e)&&n(t,e)}render(){return r.createElement(e,Object.assign({},this.props,{onMouseDown:this._onMouseDown}))}}},e.collapse=(e,t)=>{const n=e.getCursor().index;c.b.getOrElse(e=>m.Monitoring.Logging.getLogger("Selection").error("Failed to set cursor on selection collapse",e,{index:n}))(e.setCursor(n,0)),t.stopPropagation()},e.resetAsap=(e,t)=>{setTimeout(()=>{const{index:t,length:n}=e.getCursor();c.b.getOrElse(e=>m.Monitoring.Logging.getLogger("Selection").error("Failed to set cursor on selection reset.",e,{index:t,length:n}))(e.setCursor(t,n))},0),t.stopPropagation()},e.prevent=(e,t)=>{t.stopPropagation()}}(n=e.Effect||(e.Effect={}))}(a||(a={}))},sWLkM:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return O}));var a=n("e12y"),r=n("ps/9"),i=n("D/5U"),o=n("3bJT");const s=a.a.keyframes({from:{opacity:0,transform:"translateY(50%)"},to:{opacity:1,transform:"translateY(0)"}}),l=a.a.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(-25%)"}}),c=a.a.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(100%)"}}),u=a.a.keyframes({from:{transform:"translateY(0)"},to:{transform:"translateY(150%)"}}),d=a.a.keyframes({from:{opacity:1,transform:"scaleY(1)"},to:{opacity:0,transform:"scaleY(.5)"}}),p=a.a.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),m=a.a.keyframes({from:{transform:"translateY(-10%)"},to:{transform:"translateY(0)"}}),h=a.a.keyframes({from:{transform:"translateY(100%)"},to:{transform:"translateY(0)"}}),g=a.a.keyframes({from:{transform:"translateY(150%)"},to:{transform:"translateY(0)"}}),f=a.a.keyframes({from:{opacity:0,transform:"scaleY(.2)"},to:{opacity:1,transform:"scaleY(1)"}}),b=a.a.keyframes({from:{opacity:1,transform:"translateY(0)"},to:{opacity:0,transform:"translateY(125%)"}}),y={opacity:0,animation:`${s} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},v={transformOrigin:"top",animation:`${i.c} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleInnerContainerSelector]:{animation:`${l} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleFakeCard1Selector]:{animation:`${c} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},["& ."+o.b.bundleFakeCard2Selector]:{animation:`${u} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},S={transformOrigin:"top",animation:`${d} ${a.a.seconds(r.d/1500)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleInnerContainerSelector]:{animation:`${l} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleFakeCard1Selector]:{animation:`${c} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},["& ."+o.b.bundleFakeCard2Selector]:{animation:`${u} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},C={animation:`${p} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleInnerContainerSelector]:{animation:`${m} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleFakeCard1Selector]:{animation:`${h} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},["& ."+o.b.bundleFakeCard2Selector]:{animation:`${g} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},w={animation:`${f} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleInnerContainerSelector]:{animation:`${m} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`,$nest:{["& ."+o.b.bundleFakeCard1Selector]:{animation:`${h} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},["& ."+o.b.bundleFakeCard2Selector]:{animation:`${g} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`}}}}},k={animation:`${b} ${a.a.seconds(r.d/1e3)} ${i.f} forwards`},E=a.a.stylesheet({focused2renderedBundleMain:[y],focused2renderedBundleShade:[i.e,v],focused2renderedBundleShadeClockwise:[i.e,S],rendered2focusedBundleMain:[i.d,C],rendered2focusedBundleMainClockwise:[i.d,w],rendered2focusedBundleShade:[i.e,k]}),O=new Map([[i.c,E.focused2renderedBundleShade],[d,E.focused2renderedBundleShadeClockwise],[b,E.rendered2focusedBundleShade]])},"sq+9":function(e,t,n){"use strict";n.r(t),n.d(t,"SE",(function(){return M})),n.d(t,"ap",(function(){return N})),n.d(t,"error",(function(){return L})),n.d(t,"success",(function(){return R})),n.d(t,"failure",(function(){return B})),n.d(t,"fromRefinement",(function(){return F})),n.d(t,"fromGuard",(function(){return D})),n.d(t,"literal",(function(){return H})),n.d(t,"string",(function(){return V})),n.d(t,"number",(function(){return U})),n.d(t,"boolean",(function(){return W})),n.d(t,"UnknownArray",(function(){return q})),n.d(t,"UnknownRecord",(function(){return z})),n.d(t,"mapLeftWithInput",(function(){return $})),n.d(t,"withMessage",(function(){return G})),n.d(t,"refine",(function(){return K})),n.d(t,"parse",(function(){return Y})),n.d(t,"nullable",(function(){return Z})),n.d(t,"fromStruct",(function(){return X})),n.d(t,"fromType",(function(){return Q})),n.d(t,"struct",(function(){return J})),n.d(t,"type",(function(){return ee})),n.d(t,"fromPartial",(function(){return te})),n.d(t,"partial",(function(){return ne})),n.d(t,"fromArray",(function(){return ae})),n.d(t,"array",(function(){return re})),n.d(t,"fromRecord",(function(){return ie})),n.d(t,"record",(function(){return oe})),n.d(t,"fromTuple",(function(){return se})),n.d(t,"tuple",(function(){return le})),n.d(t,"union",(function(){return ce})),n.d(t,"intersect",(function(){return ue})),n.d(t,"fromSum",(function(){return de})),n.d(t,"sum",(function(){return pe})),n.d(t,"lazy",(function(){return me})),n.d(t,"readonly",(function(){return he})),n.d(t,"map",(function(){return fe})),n.d(t,"alt",(function(){return be})),n.d(t,"compose",(function(){return ye})),n.d(t,"id",(function(){return ve})),n.d(t,"URI",(function(){return Se})),n.d(t,"Functor",(function(){return Ce})),n.d(t,"Alt",(function(){return we})),n.d(t,"Category",(function(){return ke})),n.d(t,"Schemable",(function(){return Ee})),n.d(t,"WithUnknownContainers",(function(){return Oe})),n.d(t,"WithUnion",(function(){return Ae})),n.d(t,"WithRefine",(function(){return _e})),n.d(t,"draw",(function(){return Pe})),n.d(t,"stringify",(function(){return Le}));var a=n("rbBt"),r=n("OA+g"),i=n("I7vG"),o=function(e){return{_tag:"Of",value:e}},s=function(e,t){return{_tag:"Concat",left:e,right:t}};var l=function(e,t,n){return{_tag:"Key",key:e,kind:t,errors:n}},c=function(e,t,n){return{_tag:"Index",index:e,kind:t,errors:n}},u=function(e,t){return{_tag:"Member",index:e,errors:t}};function d(){return{concat:s}}var p=n("rQ7a"),m=n("ST6u");function h(e){return function(t,n){return{decode:function(a){return t(a)?e.of(a):e.throwError(n(a))}}}}function g(e){return function(t){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return{decode:function(a){return p.literal.apply(p,n).is(a)?e.of(a):e.throwError(t(a,n))}}}}}function f(e){return function(t){return function(n){return{decode:function(a){return e.mapLeft(n.decode(a),(function(e){return t(a,e)}))}}}}}function b(e){return function(t){return function(n){return E(e)({decode:t})(n)}}}function y(e){return function(t){return function(n){return{decode:function(a){return null===a?e.of(null):e.bimap(n.decode(a),(function(e){return t(a,e)}),(function(e){return e}))}}}}}function v(e){var t=j(e);return function(n){return function(a){return{decode:function(r){return t(a,(function(t,a){return e.mapLeft(a.decode(r[t]),(function(e){return n(t,e)}))}))}}}}}function S(e){var t=I(e);return function(n){return function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];return{decode:function(r){return t(a,(function(t,a){return e.mapLeft(a.decode(r[t]),(function(e){return n(t,e)}))}))}}}}}function C(e){return function(t){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return{decode:function(a){for(var r=e.mapLeft(n[0].decode(a),(function(e){return t(0,e)})),i=function(i){r=e.alt(r,(function(){return e.mapLeft(n[i].decode(a),(function(e){return t(i,e)}))}))},o=1;o<n.length;o++)i(o);return r}}}}}function w(e){return function(t){return function(n){return{decode:function(a){return e.ap(e.map(n.decode(a),(function(e){return function(t){return Object(m.a)(e,t)}})),t.decode(a))}}}}}function k(e){return function(t){return function(n,a){var r=Object(m.b)(a);return{decode:function(a){return e.mapLeft(r().decode(a),(function(e){return t(n,e)}))}}}}}function E(e){return function(t){return function(n){return{decode:function(a){return e.chain(n.decode(a),t.decode)}}}}}function O(e){return function(){return{decode:e.of}}}function A(e){return function(t){return function(n){return{decode:function(a){return e.map(n.decode(a),t)}}}}}function _(e){return function(t){return function(n){return{decode:function(a){return e.alt(n.decode(a),(function(){return t().decode(a)}))}}}}}var x,I=function(e){return function(t,n){return t.reduce((function(t,a,r){return e.ap(e.map(t,(function(e){return function(t){return e.push(t),e}})),n(r,a))}),e.of([]))}},j=function(e){return function(t,n){var a=Object.keys(t);if(0===a.length)return e.of({});for(var r=e.of({}),i=function(a){r=e.ap(e.map(r,(function(e){return function(t){return e[a]=t,e}})),n(a,t[a]))},o=0,s=a;o<s.length;o++){i(s[o])}return r}},T=function(e){var t={};for(var n in e){var r=e[n];a.isRight(r)&&(t[n]=r.right)}return t},M=d(),N=function(e,t){return a.isLeft(e)?a.isLeft(t)?a.left(M.concat(e.left,t.left)):e:a.isLeft(t)?t:a.right(e.right(t.right))},P={URI:a.URI,_E:void 0,map:function(e,t){return Object(i.pipe)(e,a.map(t))},ap:N,of:a.right,chain:function(e,t){return Object(i.pipe)(e,a.chain(t))},throwError:a.left,bimap:function(e,t,n){return Object(i.pipe)(e,a.bimap(t,n))},mapLeft:function(e,t){return Object(i.pipe)(e,a.mapLeft(t))},alt:function(e,t){if(a.isRight(e))return e;var n=t();return a.isLeft(n)?a.left(M.concat(e.left,n.left)):n}},L=function(e,t){return o(function(e,t){return{_tag:"Leaf",actual:e,error:t}}(e,t))},R=a.right,B=function(e,t){return a.left(L(e,t))},F=function(e,t){return h(P)(e,(function(e){return L(e,t)}))},D=function(e,t){return F(e.is,t)},H=g(P)((function(e,t){return L(e,t.map((function(e){return JSON.stringify(e)})).join(" | "))})),V=D(p.string,"string"),U=D(p.number,"number"),W=D(p.boolean,"boolean"),q=D(p.UnknownArray,"Array<unknown>"),z=D(p.UnknownRecord,"Record<string, unknown>"),$=f(P),G=function(e){return $((function(t,n){return o(function(e,t){return{_tag:"Wrap",error:e,errors:t}}(e(t,n),n))}))},K=function(e,t){return(n=P,function(e,t){return function(a){return E(n)(h(n)(e,t))(a)}})(e,(function(e){return L(e,t)}));var n},Y=b(P),Z=y(P)((function(e,t){return s(o(u(0,L(e,"null"))),o(u(1,t)))})),X=function(e){return v(P)((function(e,t){return o(l(e,"required",t))}))(e)},Q=X,J=function(e){return Object(i.pipe)(z,ye(X(e)))},ee=J,te=function(e){return(n=j(t=P),r=t.of(a.right(void 0)),i=t.of(a.left(void 0)),function(e){return function(o){return{decode:function(s){return t.map(n(o,(function(n,o){var l=s[n];return void 0===l?n in s?r:i:t.bimap(o.decode(l),(function(t){return e(n,t)}),(function(e){return a.right(e)}))})),T)}}}})((function(e,t){return o(l(e,"optional",t))}))(e);var t,n,r,i},ne=function(e){return Object(i.pipe)(z,ye(te(e)))},ae=function(e){return(n=I(t=P),function(e){return function(a){return{decode:function(r){return n(r,(function(n,r){return t.mapLeft(a.decode(r),(function(t){return e(n,t)}))}))}}}})((function(e,t){return o(c(e,"optional",t))}))(e);var t,n},re=function(e){return Object(i.pipe)(q,ye(ae(e)))},ie=function(e){return(n=j(t=P),function(e){return function(a){return{decode:function(r){return n(r,(function(n,r){return t.mapLeft(a.decode(r),(function(t){return e(n,t)}))}))}}}})((function(e,t){return o(l(e,"optional",t))}))(e);var t,n},oe=function(e){return Object(i.pipe)(z,ye(ie(e)))},se=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return S(P)((function(e,t){return o(c(e,"required",t))})).apply(void 0,e)},le=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(i.pipe)(q,ye(se.apply(void 0,e)))},ce=C(P)((function(e,t){return o(u(e,t))})),ue=w(P),de=function(e){return function(t){return(n=P,function(e){return function(t){return function(a){var r=Object.keys(a);return{decode:function(i){var o=i[t];return o in a?a[o].decode(i):n.throwError(e(t,o,r))}}}}})((function(e,t,n){return o(l(e,"required",L(t,0===n.length?"never":n.map((function(e){return JSON.stringify(e)})).join(" | "))))}))(e)(t);var n}},pe=function(e){return function(t){return Object(i.pipe)(z,ye(de(e)(t)))}},me=k(P)((function(e,t){return o(function(e,t){return{_tag:"Lazy",id:e,errors:t}}(e,t))})),he=r.identity,ge=function(e,t){return Object(i.pipe)(e,fe(t))},fe=A(P),be=_(P),ye=E(P),ve=O(P),Se="io-ts/Decoder",Ce={URI:Se,map:ge},we={URI:Se,map:ge,alt:function(e,t){return Object(i.pipe)(e,be(t))}},ke={URI:Se,compose:function(e,t){return Object(i.pipe)(t,ye(e))},id:ve},Ee={URI:Se,literal:H,string:V,number:U,boolean:W,nullable:Z,type:ee,struct:J,partial:ne,record:oe,array:re,tuple:le,intersect:ue,sum:pe,lazy:me,readonly:he},Oe={UnknownArray:q,UnknownRecord:z},Ae={union:ce},_e={refine:K},xe=[],Ie=function(e,t){return void 0===t&&(t=xe),{value:e,forest:t}},je=function(e){return e.value+Te("\n",e.forest)},Te=function(e,t){for(var n,a="",r=t.length,i=0;i<r;i++){var o=i===r-1;a+=e+(o?"└":"├")+"─ "+(n=t[i]).value,a+=Te(e+(r>1&&!o?"│  ":"   "),n.forest)}return a},Me=(x={Leaf:function(e,t){return Ie("cannot decode "+JSON.stringify(e)+", should be "+t)},Key:function(e,t,n){return Ie(t+" property "+JSON.stringify(e),Ne(n))},Index:function(e,t,n){return Ie(t+" index "+e,Ne(n))},Member:function(e,t){return Ie("member "+e,Ne(t))},Lazy:function(e,t){return Ie("lazy type "+e,Ne(t))},Wrap:function(e,t){return Ie(e,Ne(t))}},function(e){switch(e._tag){case"Leaf":return x.Leaf(e.actual,e.error);case"Key":return x.Key(e.key,e.kind,e.errors);case"Index":return x.Index(e.index,e.kind,e.errors);case"Member":return x.Member(e.index,e.errors);case"Lazy":return x.Lazy(e.id,e.errors);case"Wrap":return x.Wrap(e.error,e.errors)}}),Ne=function(e){for(var t=[],n=e,a=[];;)switch(n._tag){case"Of":a.push(Me(n.value));var r=t.pop();if(void 0===r)return a;n=r;break;case"Concat":t.push(n.right),n=n.left}},Pe=function(e){return Ne(e).map(je).join("\n")},Le=a.fold(Pe,(function(e){return JSON.stringify(e,null,2)}))},sv6e:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a,r,i=n("ERkP"),o=n("BbAu"),s=n("OA+g"),l=n("mAhp"),c=n("zR/0"),u=n("lrqh"),d=n("hoSD"),p=n("07Tf");!function(e){let t;!function(e){e.editor="editor",e.checksFeed="checksFeed",e.navigation="navigation",e.menu="menu",e.title="title",e.support="support",e.formatting="formatting"}(t=e.Id||(e.Id={})),e.eq=u.c.getStructEq({id:u.c.eqString,order:u.c.eqNumber}),e.ord=Object(s.pipe)(u.h.ordNumber,u.h.contramap(d.e.pick("order"))),e.show=o.a({id:o.e,order:o.d}),e.create=e=>({id:e,order:Object.values(t).findIndex(t=>t===e)}),e.Context=i.createContext(p.a.invariantContent("Focus")),e.createComponent=l.a.create(e.Context),e.initTracking=(e,t)=>e.state.pipe(c.b.compact,c.a.skip(1),c.a.tap(e=>t.gnarSpec.focusSectionSwitched(t.pageId,e.id))).subscribe()}(a||(a={})),(r||(r={})).create=e=>({inFocus:e.isEditorFocused.pipe(c.a.skip(1),c.a.distinctUntilChanged()),updateFocus:t=>t&&requestAnimationFrame(()=>e.restoreFocus())})},tSYx:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("h6df"),i=n("PK5a"),o=n("lrqh"),s=n("7b34"),l=n("uIDj");function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t,n){return{entries:e,latestChangeDiff:t,diffVersion:n+1}}!function(e){var t=function(e,t){return function(n){return Array.from(n.entries.values()).reduce((function(e,n){return t(e,n)}),e)}},n=function(e,t){return o.e.symmetricDiff(l.a.Item.eq)(e,t)},c=function(e){var t=e.added,n=void 0===t?new Map:t,a=e.updated,r=void 0===a?new Map:a,i=e.removed,c=void 0===i?new Map:i,u=new Map,p=s.a.fromMutation((function(e){c.forEach((function(t,n){e.set(n,o.m.left(t))})),n.forEach((function(t,n){e.has(n)?u.set(n,"sdui item add overlaps with sdui item remove: toAdd(".concat(l.a.Item.show.show(t)," overlapWith(").concat(o.m.getShow(l.a.Item.show,l.a.Item.show).show(e.get(n)),"))")):e.set(n,o.m.right(t))})),r.forEach((function(t,n){var a=d(t,2),r=a[0],i=a[1];e.has(n)?u.set(n,"sdui item update overlaps with unexpected sdui item add/remove: toUpdate(".concat(l.a.Item.show.show(i),") overlapWith(").concat(o.m.getShow(l.a.Item.show,l.a.Item.show).show(e.get(n)),"))")):e.set(n,o.m.both(r,i))}))}));return u.size>0?o.b.left({recovered:p,rejected:u}):o.b.right(p)};e.iso=i.iso(),e.empty={entries:new Map,latestChangeDiff:s.a.empty(),diffVersion:0};e.get=function(e){return function(t){return o.g.fromNullable(t.entries.get(e))}},e.find=function(e){return t(o.g.none,(function(t,n){return Object(r.m)(t,o.g.alt((function(){return o.g.fromPredicate(e)(n)})))}))},e.reduce=t;e.size=function(e){return e.entries.size};e.diff=function(e,t){return 0===e.diffVersion?o.b.unsafeGet(c({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:n(e.entries,t.entries)},e.diffFromEntries=n,e.applyDiff=function(e){return function(t){var n=o.e.leftToRight(o.e.Merger.createStrict(l.a.Item.eqShow),t.entries,e);return Object(r.m)(n,o.b.bimap((function(n){var a=s.a.fromMutation((function(t){Object(r.m)(e,s.a.forEach((function(e,a){return!n.rejected.has(a)&&t.set(a,o.m.left(e))}),(function(e,a,r){return!n.rejected.has(r)&&t.set(r,o.m.both(e,a))}),(function(e,a){return!n.rejected.has(a)&&t.set(a,o.m.right(e))})))}));return{recovered:p(n.recovered,a,t.diffVersion),rejected:n.rejected}}),(function(n){return p(n,e,t.diffVersion)})))}},e.applyDiffLoose=function(e){return function(t){var n=o.e.leftToRight(o.e.Merger.createLoose(l.a.Item.eqShow),t.entries,e);return Object(r.m)(n,o.b.bimap((function(n){return{recovered:p(n.recovered,e,t.diffVersion),rejected:n.rejected}}),(function(n){return p(n,e,t.diffVersion)})))}},e.createDiff=c,e.toJSON=function(e){return{entries:Array.from(e.entries),latestChangeDiff:s.a.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}};var m,h,g,f;e.diffShow=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){u(e,t,n[t])}))}return e}({},s.a.getShow(l.a.Item.Id.show,l.a.Item.show));m=e.InternalDiff||(e.InternalDiff={}),h=m.showMapKeys={show:function(e){return null==e?"None":Array.from(e.keys()).join(", ")}},m.show={show:function(e){return"added: ".concat(h.show(e.added),"\n        \n removed: ").concat(h.show(e.removed),"\n updated: ").concat(h.show(e.removed))}},m.isEmpty=function(e){var t=e.added,n=e.updated,a=e.removed;return!(null!=t&&0!==t.size||null!=n&&0!==n.size||null!=a&&0!==a.size)},g=e.MutableInternalDiff||(e.MutableInternalDiff={}),f=g.empty=function(){return{added:new Map,updated:new Map,removed:new Map}},g.fromState=function(e){return a.reduce(f(),e)}}(a||(a={}))},"u4+s":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return p}));var a,r,i=n("93Qa"),o=n("OA+g"),s=n("I7vG"),l=n("cu2o"),c=n("lrqh"),u=n("D9EC"),d=n("hoSD");!function(e){e.Monthly="Monthly",e.Quarterly="Quarterly",e.Annual="Annual"}(a||(a={})),function(e){const t=c.a.reduce({annual:c.g.none,quarterly:c.g.none,monthly:c.g.none},(e,t)=>{switch(t.periodMonths){case 1:return Object.assign(Object.assign({},e),{monthly:c.g.some(t)});case 3:return Object.assign(Object.assign({},e),{quarterly:c.g.some(t)});case 12:return Object.assign(Object.assign({},e),{annual:c.g.some(t)});default:return e}});function n(e,t){return{pricePerYear:{value:e-t.value,currency:t.currency},percent:Math.round(100*(e-t.value)/e)+"%"}}e.createOfferBasedOnAnnual=Object(o.flow)(t,Object(i.sequenceS)(c.g.Applicative),c.g.map(({annual:e,quarterly:t,monthly:a})=>({price:e.priceMoney,regularPrice:e.regularPriceMoney,discountPercent:"0%",periodInMonths:12,title:"Annual",savePricedBySwitchingFrom:{monthly:n(12*a.priceMoney.value,e.priceMoney),quarterly:n(4*t.priceMoney.value,e.priceMoney)}})))}(r||(r={}));class p{constructor(e,t,n,a,r,i,s){this.offer=e,this.currentPlan=t,this.nextPaymentDate=n,this._isCancelled=a,this._isOnTrial=r,this._queuedPlan=i,this._subscriptionOps=s,this._renew=e=>c.l.tryCatch(()=>!0===e?this._subscriptionOps.renew():Promise.resolve(),e=>({reason:"Renew failed",originalError:e})),this._getPlans=()=>c.l.tryCatch(()=>this._subscriptionOps.getPlans(),e=>({reason:"Could not get plans",originalError:e})),this._changePlan=e=>c.l.tryCatch(()=>this._subscriptionOps.changePlan(e),e=>({reason:"Changing plan failed",originalError:e})),this._extractAnnualPlan=Object(o.flow)(c.a.findFirst(e=>12===e.periodMonths),c.b.fromOption(()=>({reason:"Expectation failed, we did not receive the annual plan"})),c.b.filterOrElse(e=>l.a.eq.equals(e.priceMoney,this.offer.price),()=>({reason:"Expectation failed, we did not receive the annual plan with offered price"})),c.b.map(e=>e.id),c.l.fromEither),Object(u.r)("changePlanHookShowOffer",()=>p.enableDebugModeToShowOffer=!0)}get isMonthly(){return 1===this.currentPlan.periodMonths}get isQuarterly(){return 3===this.currentPlan.periodMonths}get savedPrice(){return this.isMonthly?this.offer.savePricedBySwitchingFrom.monthly:this.offer.savePricedBySwitchingFrom.quarterly}get currentPlanType(){return this.isMonthly?a.Monthly:this.isQuarterly?a.Quarterly:a.Annual}get daysToRenewal(){const e=this.nextPaymentDate.getTime(),t=d.d.Local.now().getTime();return Math.floor(Math.max(0,e-t)/d.d.MS_IN_DAY)}get shouldShowOffer(){return!!p.enableDebugModeToShowOffer||this.willSubscriptionRenewSoon&&!this.hasAlreadyChangedToAnnual&&!this._isOnTrial}get hasAlreadyChangedToAnnual(){return Object(s.pipe)(this._queuedPlan,c.g.exists(({periodMonths:e})=>12===e))}get willSubscriptionRenewSoon(){const e=this.daysToRenewal<2*d.d.DAYS_IN_WEEK;return(this.isMonthly||this.isQuarterly)&&e}changePlan(){return Object(s.pipe)(this._renew(this._isCancelled),c.l.chain(this._getPlans),c.l.chain(this._extractAnnualPlan),c.l.chain(this._changePlan))}static create({currentPlan:e,queuedPlan:t,nextPayDate:n,expirationDate:a,isCancelled:i,plans:o,isOnTrial:l},u){if(!Boolean(e))return c.b.left("Cannot load plans for change plan when user is freemium");if(!n&&!a)return c.b.left("Cannot change plan when nextPayDate and expirationDate are null");const d={renew:()=>u.renew(),changePlan:e=>u.changePlan(e),getPlans:()=>u.getPlans()},m=r.createOfferBasedOnAnnual(o);return Object(s.pipe)(m,c.b.fromOption(()=>"Cannot create offer, plans are incomplete, monthly or quarterly or annual are not presented in subscription status"),c.b.map(r=>new p(r,e,new Date(null!=n?n:a),null!=i&&i,null!=l&&l,c.g.fromNullable(t),d)))}}p.enableDebugModeToShowOffer=!1},uIDj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r,i,o=n("TTz4"),s=n("xU3y"),l=n("IL1e"),c=n("lrqh"),u=n("AHUR");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i=a||(a={}),(r=i.AlertId||(i.AlertId={})).eq=c.c.eqString,r.show=s.a,r.from=function(e){return"".concat(e)},function(e){var t,n;(n=t=e.Id||(e.Id={})).eq=c.c.eqString,n.show=s.a,n.from=function(e){return"".concat(e)};var a=e.eqId=c.c.contramap((function(e){return e.id}))(t.eq),r=e.eqContent=c.c.contramap((function(e){return e.content}))(u.a.eq),i=e.eqAlerts=c.c.contramap((function(e){return e.alertIds}))(l.t(c.c.eqString)),p=e.eqInvalid=c.c.contramap((function(e){return Boolean(e.invalid)}))(c.c.eqBoolean),m=e.eq=Object(o.a)(c.c.getMonoid())([a,r,i,p]),h=e.show={show:function(e){return"SDUI Item [".concat(Boolean(e.invalid)?"invalid":"valid","] #(").concat(e.id," ").concat(0===e.alertIds.length?"":"with alertIds:"+e.alertIds.join(", "),")")}};e.eqShow=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){d(e,t,n[t])}))}return e}({},m,h)}(i.Item||(i.Item={}))},uYVq:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("ERkP"),r=n("OA+g"),i=n("I7vG"),o=n("vOOZ"),s=n("uukV"),l=n("lrqh"),c=n("Ars8"),u=n("cqAx"),d=n("omiJ"),p=n("ksOW"),m=n("/kIX");class h extends a.Component{componentDidMount(){const e=this._el.children;this.props.onElementsReady({header:e[0].outerHTML,stats:e[1].outerHTML,text:e[2].outerHTML,footer:e[3].outerHTML})}render(){const{model:e}=this.props,t=(n=e.plagiarism,Object(i.pipe)(n,l.g.filter(e=>e.state===s.a.PlagiarismCheckingState.CHECKED),l.g.map(e=>e.sortedAlerts),l.g.getOrElse(()=>[])));var n;return a.createElement("div",{ref:e=>{null!==e&&(this._el=e)}},a.createElement(u.d,{title:e.title}),a.createElement(u.b,{model:e}),a.createElement("div",null,a.createElement(p.a,{html:e.dedHTML,title:e.title,alerts:e.sortedAlerts,plagiarism:t}),a.createElement(d.a,{alerts:e.sortedAlerts,plagiarism:t})),a.createElement(u.c,null))}}class g extends a.Component{_prepareHTML(e){return'<!doctype html><html lang="en" style="--rem: 23.8;"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Report</title><style>'+Object(m.a)()+"</style></head>"+`<body>${e}</body></html>`}render(){const{reportViewModel:e}=this.props;return a.createElement(o.a.div,{className:c.a.invisible},e.reportData.view(Object(r.flow)(l.g.map(t=>a.createElement(h,{model:t,onElementsReady:({header:t,footer:n,stats:a,text:r})=>e.generateReport(this._prepareHTML(a+r),t,n)})),l.g.toNullable)))}}},uukV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("LNSM"),i=n("D9EC"),o=n("lrqh");!function(e){let t,n;!function(e){e[e.CHECKED=0]="CHECKED",e[e.NOT_CHECKED=1]="NOT_CHECKED"}(t=e.PlagiarismCheckingState||(e.PlagiarismCheckingState={})),function(e){e.Mock=class{constructor(){this.downloadStarted=r.a.create(!1),this.beginDownload=i.e,this.tryToInterrupt=i.e,this.generateReport=()=>{throw new Error("Method not implemented.")},this.reportData=r.a.create(o.g.none),this.dedHTML="",this.dispose=i.e}}}(n=e.ViewModel||(e.ViewModel={}))}(a||(a={}))},uwfv:function(e,t,n){e.exports=n.p+"files/c93e619c54ac4d58a06e3deb35b1724a/inter-italic.woff2"},v7oR:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("lrqh");!function(e){e.setTimeToGlobalTimers=function(e){window.Grammarly.denali.timers={[e]:Date.now()}},e.popTimeFromGlobalTimers=function(e){var t,n,a,i;const o=r.g.fromNullable(null===(i=null===(a=null===(n=null===(t=window)||void 0===t?void 0:t.Grammarly)||void 0===n?void 0:n.denali)||void 0===a?void 0:a.timers)||void 0===i?void 0:i[e]);return window.Grammarly.denali.timers={[e]:void 0},o}}(a||(a={}))},vLzu:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return a}));var a,r=n("I7vG"),i=n("FGLS"),o=n("zR/0"),s=n("CvSs"),l=n("lrqh"),c=n("D9EC"),u=n("mEc7"),d=n("Pe9T");class p{constructor(e,t,n,r,l,c){this._doxApi=e,this._appRouter=t,this._notificationsManager=n,this._telemetry=r,this._environment=l,this._config=c,this._upload=e=>this._doxApi.createDocument(i.a.Create.file(e,i.a.UploadFileMode.plain)),this.uploadModel=new d.c.UploadModelImpl(e=>this._upload(e),(e,t)=>this._appRouter.navigate(u.a.routes.denali_editor.href({docId:e}),t),this._telemetry,this._notificationsManager,this._environment,this._config),this.state=this.uploadModel.state.pipe(o.a.pairwise(),o.a.map(([e,t])=>s.a.isInProgress(t)?a.State.loading:s.a.isOk(t)||s.a.isIdle(t)&&s.a.isOk(e)?a.State.uploaded:a.State.idle),o.a.startWith(a.State.idle))}isUploaded(e,t){const n=Object(r.pipe)(this._appRouter.locationState,l.g.chain(e=>l.g.fromNullable(e.uploadedFileType))),a=Object(r.pipe)(this._appRouter.locationState,l.g.chain(e=>l.g.fromNullable(e.uploadedFileName))),i=void 0!==e?Object(r.pipe)(n,l.g.exists(t=>t===e)):l.g.isSome(n),o=void 0!==t?Object(r.pipe)(a,l.g.exists(e=>t.test(e))):l.g.isSome(a);return i||o}dispose(){this.uploadModel.dispose()}}!function(e){let t;!function(e){e.idle="idle",e.loading="loading",e.uploaded="uploaded"}(t=e.State||(e.State={}));e.Mock=class{constructor(){this.uploadModel={navigated:c.e},this.state=o.a.EMPTY,this.dispose=c.e}isUploaded(e,t){throw new Error("Method not implemented.")}showUploadNotificationIfNeeded(){throw new Error("Method not implemented.")}}}(a||(a={}))},vVVP:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n("a5W6"),r=n("OA+g"),i=n("I7vG"),o=n("5E2i"),s=n("kgbq"),l=n("mbuk"),c=n("+JVj"),u=n("lrqh"),d=n("6fbX"),p=n("hoSD"),m=n("QxMx"),h=n("D9EC"),g=n("PrA7"),f=n("dE97"),b=n("kFFO"),y=n("UEGg"),v=n("XpkH");class S{constructor(e,t,n,a,s,l,c,d){this._alert=e,this._alertsService=t,this._alertRangeService=n,this._changeMarksInDEd=a,this._create=s,this._update=l,this._remove=c,this._onTransitionEnd=d,this._currentState=v.b.from(v.c.initial),this._scheduledState=v.b.from(v.c.visible),this.id=this._alert("id").id,this._marksMap=new Map,this._alertRef=this._alertsService.takeReference(this._alert("_alertRef"),"mark"),this._shouldInitMark=!0,this._tryToUpdateRangesInAlert=e=>{if(!e.to.updateRanges||!Object(i.pipe)(this._alertRangeService.hasNewRangesForUpdate(this.id),u.b.fold(r.constFalse,o.a)))return u.g.none;const t=Object(i.pipe)(this._alertRangeService.applyPendingRangesUpdate(this.id),u.b.mapLeft(e=>C("markAlert").error("cannot apply pending ranges",e)),u.g.fromEither,u.g.chain(o.a),u.g.filter(({addedHighlightedRanges:e,removedHighlightedRanges:t})=>e.length>0||t.length>0));return Object(i.pipe)(t,u.g.map(e=>({commit:()=>e.removedHighlightedRanges[1](),ranges:{added:e.addedHighlightedRanges,removed:e.removedHighlightedRanges[0]}})))},this._dispose=()=>{this._marksMap.clear(),u.b.either.map(this._alertRef,e=>e.dispose())},this._disposeIfEmpty=()=>{0===this._marksMap.size&&this._dispose()},u.b.either.mapLeft(this._alertRef,e=>C("markAlert").warn("can not take alertRef",e))}get state(){return{current:this._currentState,scheduled:this._scheduledState}}get alert(){return this._alert()}scheduleApply(e){return this._throwWhenNotAllowedState(e),this._throwWhenInFinaleState(e),Object(d.f)(e!==v.c.initial,`Cannot schedule change ${this.id} from ${this._currentState.visualState} to initial state`),this._currentState.visualState!==v.c.initial||e!==v.c.disposed&&!v.c.isApplied(e)?this._scheduledState&&this._scheduledState.forceUpdate?this._scheduledState=v.b.updateVisualState(this._scheduledState,e):this._currentState.visualState!==e||this._currentState.updateRanges?this._scheduledState=v.b.updateVisualState(this._currentState,e):this._scheduledState=null:(this._scheduledState=null,this._currentState=v.b.from(v.c.disposed),this._dispose()),this}scheduleUpdate(){this._throwWhenInFinaleState(),this._scheduledState=v.b.updateRanges(this._scheduledState||this._currentState,!0)}scheduleForceUpdate(){this._throwWhenInFinaleState(),this._scheduledState=v.b.forceUpdate(this._scheduledState||this._currentState,!0)}apply(){if(!v.a.isPending(this))return;this._throwWhenInFinaleState();const e=this._getTransition();Object(i.pipe)(this.change(),u.g.filter(e=>e.rawMark.length>0),u.g.map(t=>{this._handleBasicEvent(t.rawMark),t.commit(),this._onTransitionEnd(e,this)}))}applyWith(e){const t=[this,...e];this._handleMultipleHighlights(t,e=>e.change())}markByIndex(e){try{return this._throwWhenInFinaleState(),this._shouldInitMark&&(this._shouldInitMark=!1,this.apply()),this._markbyIndex(e)}catch(e){return u.g.none}}get mark(){return this.markByIndex(0)}_iterateOverMarkAlerts(e,t){e.forEach(({change:e,ma:n})=>{e.rawMark.forEach(e=>{"create"===e.action?n._setMarkAndCheckFinaleState(e.id,Object(i.pipe)(t.created.get(e.id)||u.b.left(new Error("Cannot get unknown mark")),u.g.fromEither)):"remove"===e.action&&n._removeMark(e.id)}),e.commit(),n._disposeIfEmpty()})}_handleMultipleHighlights(e,t){const n=e.map(e=>[e,t(e)]).filter(([e,t])=>Object(i.pipe)(t,u.g.filter(t=>0!==t.rawMark.length||(C("markAlert").warn("rawAction must have rawMark array",{rawAction:t.action,state:Object.assign(Object.assign({},e.toJSON()),{alert:void 0})}),!1)),u.g.isSome)).map(([e,t])=>({ma:e,change:u.g.unsafeGet(t)}));if(0===n.length)return;const a=p.a.flatMap(n.map(e=>e.change.rawMark)),r=this._changeMarksInDEd(a);this._iterateOverMarkAlerts(n,r)}get _mark(){return this._markbyIndex(0)}_markbyIndex(e){return this._marksMap.size>e?0===e?this._marksMap.values().next().value:Array.from(this._marksMap.values())[e]:u.g.none}_setMarkAndCheckFinaleState(e,t){this._throwWhenInFinaleState(),this._setMark(e,t)}_setMark(e,t){this._shouldInitMark=!1,this._marksMap.set(e,t)}_removeMark(e){this._marksMap.delete(e)}change(){Object(d.f)(v.a.isPending(this),"Next state should be scheduled to change it",()=>JSON.stringify({currentState:this._currentState,aid:this.id}));const e=this._commitTransition();return e.from.visualState!==e.to.visualState||e.to.forceUpdate||e.to.updateRanges?u.g.some(this._getRawActionForApply(e)):u.g.none}_handleBasicEvent(e){const t=this._changeMarksInDEd(e);e.forEach(e=>{if(e.action===l.a.Change.ActionType.remove)this._removeMark(e.id);else{const n=Object(i.pipe)(u.g.fromNullable(this._marksMap.get(e.id)),u.g.chain(o.a),u.g.alt(()=>Object(i.pipe)((e.action===l.a.Change.ActionType.create?t.created.get(e.id):t.updated.get(e.id))||u.b.left(new Error("Cannot get unknown mark")),u.g.fromEither)));this._setMark(e.id,n)}}),this._disposeIfEmpty()}_getTransition(){return Object(d.f)(v.a.isPending(this),"Next state should be scheduled to change it",()=>JSON.stringify({currentState:this._currentState,aid:this.id})),{from:this._currentState,to:this._scheduledState}}_commitTransition(){const e=this._getTransition();return this._currentState=Object.assign(Object.assign({},e.to),{updateRanges:!1,forceUpdate:!1}),this._scheduledState=null,e}_getRawActionForApply(e){switch(e.from.visualState){case v.c.initial:return Object(i.pipe)(this._tryToUpdateRangesInAlert(e),u.g.map(e=>e.commit())),{action:"create",commit:s.a,rawMark:this._getHighlightRanges(t=>this._create(()=>t,e)(t.meta.id))};default:switch(e.to.visualState){case v.c.disposed:const t=v.c.isApplied(e.from.visualState)||f.a.State.isRemoved(this.alert.state)&&y.a.isApplicableAlert(this.alert)&&this._getAppliedRanges(r.constVoid).length>0?this._getAppliedRanges((e,t)=>({id:t().meta.id,range:t})):this._getHighlightRanges(e=>({id:e.meta.id,range:()=>e}));return{action:"remove",commit:Object(i.pipe)(this._tryToUpdateRangesInAlert(e),u.g.map(({commit:e})=>e),u.g.getOrElse(()=>r.constVoid)),rawMark:t.map(e=>this._remove(e.range)(e.id))};case v.c.applied:const n=this._getHighlightRanges(e=>this._remove(()=>e)(e.meta.id));return{action:"replace",commit:Object(i.pipe)(this._tryToUpdateRangesInAlert(e),u.g.map(({commit:e})=>e),u.g.getOrElse(()=>r.constVoid)),rawMark:[...n,...this._getAppliedRanges((t,n)=>this._create(n,e)(n().meta.id))]};default:const a=()=>f.a.State.isBulkApplied(this._alert("_getRawActionForApply").state)?this._getAppliedRanges((e,t)=>t()):this._getHighlightRanges(o.a);return Object(i.pipe)(this._tryToUpdateRangesInAlert(e),u.g.map(({commit:t,ranges:n})=>this._getReplaceAction(e,a(),n.removed,t)),u.g.getOrElse(()=>({action:"update",commit:s.a,rawMark:a().map(t=>this._update(()=>t,e)(t.meta.id))})))}}}_getReplaceAction(e,t,n,a){return{action:"replace",commit:a,rawMark:[...n.map(e=>this._remove(()=>e)(e.meta.id)),...t.map(t=>this._create(()=>t,e)(t.meta.id))]}}_getAppliedRanges(e){return Object(i.pipe)(this._alertRangeService.getAppliedRanges(this.id),u.b.fold(e=>(C("markAlert").error("cannot get applied ranges",{error:e.message,alert:y.a.snapshot(this._alert("_getAppliedRanges"))}),[]),a.mapWithIndex(e)))}_getHighlightRanges(e){return Object(i.pipe)(this._alertRangeService.getHighlightRanges(this.id),u.b.fold(t=>(C("markAlert").warn("cannot get highlight ranges via range service",{error:t,alert:this._alert("_getHighlightRanges")}),Object(i.pipe)(this._alert("_getHighlightRanges_Fallback").getHighlightRanges(),a.map(e))),a.map(e)))}_throwWhenNotAllowedState(e){const t=this._alert("_throwWhenNotAllowedState");Object(d.f)(!!y.a.isApplicableAlert(t)||(!Boolean(e)||f.a.State.isBulkApplied(t.state)||!v.c.isApplied(e)),"Applied state isn't allowed for "+this.id)}_throwWhenInFinaleState(e){Object(d.f)(Boolean(e)&&v.a.isOneOf(v.c.applied)(this)?e===v.c.disposed||f.a.State.isBulkApplied(this._alert("_throwWhenInFinaleState").state):v.a.notAnyOf(v.c.disposed)(this),`'${this._currentState.visualState}' MarkAlert '${this.id}' cannot be changed${Boolean(e)?` to '${e}' `:""}`)}toJSON(){return{current:this._currentState,scheduled:this._scheduledState,mark:{id:Object(i.pipe)(this._mark,u.g.map(e=>e.id),u.g.toUndefined),range:Object(i.pipe)(this._mark,u.g.map(e=>e.range),u.g.toUndefined)},alert:this._alert("toJSON")}}equals(e){return v.a.eq.equals(this,e)}hashCode(){return Object(b.b)(this.id)}}!function(e){e.compareTo=e=>{const t=Object(m.a)(c.b.distanceFrom)(e);return(e,n)=>Object(h.d)(Math.min(...e.alert.getHighlightRanges().map(t)),Math.min(...n.alert.getHighlightRanges().map(t)))}}(S||(S={}));const C=Object(h.l)(g.Monitoring.Logging.getLogger)},vXpH:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return S}));var a=n("ERkP"),r=n("vOOZ"),i=n("9NHN"),o=n("bO3R"),s=n("3rlE"),l=n("D6Vf"),c=n("BugA"),u=n("e12y"),d=n("ax6a"),p=n("mLKH");const m={position:"fixed",zIndex:u.d.level5,display:"flex",padding:"0 1rem",width:"28rem",height:"13rem",background:d.a.CoreNeutral0,alignItems:"center"},h={display:"flex",flexDirection:"column",marginTop:"2rem",height:u.a.percent(100),flexBasis:"6rem",alignItems:"center"},g={display:"inline-block",margin:".9rem 1.4rem 0 0",padding:"0 .15rem 0 .25rem",height:"1.125rem",borderTopLeftRadius:".1875rem",borderTopRightRadius:".1875rem",background:u.c.ui200,color:u.c.ui600,textTransform:"uppercase",letterSpacing:u.a.px(1.1),fontSize:".6rem",lineHeight:"1.125rem"},f={display:"flex",flexDirection:"column",height:u.a.percent(100),flexBasis:"19rem"},b=u.a.stylesheet({modalNotification:[m,p.a],modalNotificationReverse:[{flexDirection:"row-reverse"}],topLeft:[{top:".5rem",left:"4.5rem"}],topRight:[{top:".5rem",right:"4.5rem"}],bottomLeft:[{bottom:".5rem",left:"4.5rem"}],bottomRight:[{right:"4.5rem",bottom:".5rem"}],closeIcon:[{position:"absolute",top:0,right:0}],iconSection:[h],icon:[{marginTop:"1.1rem"}],label:[g],contentSection:[f],title:[{display:"block",marginTop:"1.05rem"}],content:[{display:"block",marginTop:".6rem"}],btnGroup:[{display:"flex",marginTop:".65rem"}]});var y,v;!function(e){e.TopLeft="topLeft",e.TopRight="topRight",e.BottomLeft="bottomLeft",e.BottomRight="bottomRight"}(y||(y={})),function(e){e.Left="Left",e.Right="Right"}(v||(v={}));class S extends a.Component{render(){const{title:e,content:t,position:n,icon:l,iconPosition:u,label:d,buttons:p,isCloseButton:m}=this.props;return a.createElement(r.a.Fragment,null,this.props.isVisibleAtom.view(r=>r&&a.createElement("div",Object.assign({role:"status","aria-live":"polite",id:this._id},Object(i.c)(b.modalNotification,u===v.Right?b.modalNotificationReverse:"",b[null!=n?n:y.BottomLeft])),!1!==m&&a.createElement(o.a,{name:"modal-notification-close",className:b.closeIcon,onClick:()=>this._closeModal()},a.createElement(s.d.Close,null)),(l||d)&&a.createElement("section",{className:b.iconSection},Boolean(d)?a.createElement("div",{className:b.label},d):null,Boolean(l)?a.createElement("div",{className:b.icon},l):null),a.createElement("section",{className:b.contentSection},a.createElement(c.j,{className:b.title},e),a.createElement(c.a,{className:b.content},t),p&&a.createElement("div",{className:b.btnGroup},p)))))}get _id(){return Boolean(this.props.id)?this.props.id:"modal-notification"}_closeModal(){this.props.isVisibleAtom.set(!1)}}!function(e){class t extends a.Component{render(){return a.createElement(a.Fragment,null,a.createElement(l.b,{positionType:"fixed",preventClose:!1,visible:this.props.isVisibleAtom,alignment:"none",overlayType:"transparent"}),a.createElement(e,Object.assign({key:"modal-notification"},this.props)))}}e.WithOverlay=t}(S||(S={}))},vuzl:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("h6df"),n("5C44");var a=function(e,t){return{left:e,right:t}}},vz4c:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return I}));var a,r,i,o,s,l,c=n("D57K"),u=n("OA+g"),d=n("I7vG"),p=n("LNSM"),m=n("xlCj"),h=n("R+r4"),g=n("bYZB"),f=n("D8Xd"),b=n("zR/0"),y=n("GGUR"),v=n("CvSs"),S=n("gy42"),C=n("lrqh"),w=n("6fbX"),k=n("D9EC"),E=n("PrA7"),O=n("mEc7"),A=n("8iZ1");class _{constructor(e){this._closeModal=e,this.actions=new b.a.Subject,this._subscriptions=new y.a.Keeper,this._subscriptions.push(this.actions.subscribe(()=>this._closeProofitOrder()))}_closeProofitOrder(){this._closeModal()}dispose(){this._subscriptions.dispose()}}class x{constructor(e,t){this.details=e,this._ops=t,this.active=p.a.create(!1),this.select=()=>{this._ops._selectPlan(this.details)},this.unselect=()=>{this._ops._selectPlan(null)},this.placeOrder=(e,t)=>this._ops._placeOrder(this.details,e,t)}toggleActive(e){return this.active.set(e),this}isRecommended(e){const t=Object.values(h.a.PlanType);return this===[...e].filter(e=>e.details.tier===this.details.tier).reduce((e,n)=>t.indexOf(n.details.turnaround)<t.indexOf(e.details.turnaround)?n:e)&&this.details.enabled}}!function(e){e.Order="Order",e.Success="Success"}(a||(a={})),function(e){e[e.Step1=0]="Step1",e[e.Step2=1]="Step2"}(r||(r={})),function(e){e[e.Step1=0]="Step1",e[e.Step2=1]="Step2",e[e.Step3=2]="Step3",e[e.Step4=3]="Step4",e[e.Step5=4]="Step5"}(i||(i={})),(s=o||(o={})).selectPlanTier=function(e,t){return Object.assign(Object.assign({},e),{selectedPlanTier:t,selectedPlans:e.plans.filter(e=>e.details.tier===t).slice(0,3)})},s.selectPlan=function(e,t){const n=C.g.getEq(h.a.Plan.eq),a=e=>n.equals(t,C.g.some(e.details)),r=e=>e.toggleActive(a(e));return Object.assign(Object.assign({},e),{plans:e.plans.map(r),selectedPlans:e.selectedPlans.map(r),selectedPlan:C.g.fromNullable(e.plans.find(a))})};class I{constructor(e,t,n,s,l,c,S){this._subscription=e,this._documentModel=t,this._ded=n,this._user=s,this._notificationsManager=l,this._router=c,this._config=S,this.modal=p.a.create(C.g.none),this.isVisibleModal=this.modal.lens(m.a.create(C.g.isSome,(e,t)=>e?t:C.g.none)),this.viewState=p.a.create(C.g.none),this.subscriptionState=this._subscription.state,this.braintreeApi=this._subscription.braintreeApi,this.leftStep=p.a.create(i.Step1),this.rightStep=p.a.create(r.Step1),this._orderModalViewModelOption=C.g.none,this._initialNativeLanguage=C.g.none,this.viewStateAndSubscription=this.viewState.pipe(b.a.combineLatest(this._subscription.state)),this._subscriptions=new y.a.Keeper,this._closeModal=()=>this.modal.set(C.g.none),this.changeLeftStep=e=>{this.leftStep.set(e)},this.changeRightStep=e=>{this.rightStep.set(e)},this.placeOrderAfterAntiFraudCheck=e=>{this._log.info("Anti-fraud place order after check"),this._subscriptions.push(this.viewStateAndSubscription.pipe(b.a.first(),b.a.map(([e])=>e),b.a.map(C.g.chain(e=>e.selectedPlan)),b.a.switchMap(C.g.fold(Promise.resolve,t=>t.placeOrder(C.g.some(e),!1)))).subscribe(()=>this._onBillingSuccess(),()=>this.onBillingError()))},this.onBillingError=()=>{this._subscriptions.push(this._showPaymentError().subscribe())},this.requestPlans=this._ded.contentUpdated.pipe(b.a.filter(g.b.isTextMaybeWithFormatting),b.a.auditTime(1e3),b.a.startWith(void 0),b.a.switchMap(()=>Promise.all([this._proofit.getPlans(),this._user.getUserNativeLanguage()])),b.a.retryWhen(v.a.OperationRetrier.RetryStrategy.conditional(e=>"TimeoutError"===e.name||"NotConnectedError"===e.name,v.a.OperationRetrier.RetryStrategy.linear(2,1e3))),b.a.tap(([e,t])=>{this._initialNativeLanguage=Object(d.pipe)(t,C.b.getOrElse(()=>C.g.none));const n=[...e.turnaroundOptions,...e.clarityTurnaroundOptions].map(e=>new x(e,this)),a={words:e.words,selectedPlanTier:h.a.PlanTier.Base,plans:n,selectedPlans:[],selectedPlan:C.g.none,proofitState:C.g.none,statistics:C.g.none,userInputs:Object(d.pipe)(t,C.b.fold(()=>e.userInputs,t=>Object.assign(Object.assign({},e.userInputs),{nativeLanguage:t,noteToEditor:C.g.none}))),priceOfferId:e.priceOfferId},r=(e,t)=>e.some(({details:e})=>e.tier===t&&Object(d.pipe)(e.credits,C.g.fold(()=>!1,e=>e.canBeUsed&&e.balance>0))),i=r(n,h.a.PlanTier.Base),s=r(n,h.a.PlanTier.Clarity),l=i&&!s?h.a.PlanTier.Base:h.a.PlanTier.Clarity;this.viewState.set(C.g.some(o.selectPlanTier(a,l)))}),b.a.catchError(e=>(this._log.error("Error querying proofit plan options",e),this._notificationsManager.enqueue("error").pipe(b.a.filter(f.a.isCloseAction),b.a.tap(()=>this.modal.set(C.g.none))))),b.a.finalize(()=>{this.viewState.set(C.g.none)}),b.a.share()),this.requestStatistics=()=>this._proofit.getStatistics().pipe(b.a.retryWhen(v.a.OperationRetrier.RetryStrategy.conditional(e=>"NotConnectedError"===e.name,v.a.OperationRetrier.RetryStrategy.linear(2,1e3))),b.a.tap(e=>{this.viewState.modify(C.g.map(t=>Object.assign(Object.assign({},t),{statistics:e})))}),b.a.catchError(e=>(this._log.debug("Error querying proofit statistics",e),b.a.of(C.g.none)))),this.selectPlanTier=e=>{this.viewState.modify(C.g.map(t=>o.selectPlan(o.selectPlanTier(t,e),C.g.none)))},this._selectPlan=e=>{this.viewState.modify(C.g.map(t=>o.selectPlan(t,C.g.fromNullable(e))))},this._placeOrder=(e,t,n)=>(this._updateUserNativeLanguage(),this._proofit.placeOrder(e,this._getUserInputs(),this._getPriceOfferId(),t,n)),this._onBillingSuccess=()=>{this._subscriptions.push(this._showPaymentMessage().subscribe())},this._log=E.Monitoring.Logging.getLogger("ProofitView"),this._goToMyDocuments=()=>{this._router.navigate(O.a.routes.documents.href(),{proofitSubmitted:!0})},this._proofit=this._documentModel.proofit,this.isInternalUser=this._user.features.denali.isInternalUser,this.noteToEditor=this._user.features.denali.proofitNoteToEditor;const k=this._subscription.state.get().value;this.requirePaymentCheck=this._user.features.denali.requirePaymentCheck?p.a.create(!0):this.viewState.view(Object(u.flow)(C.g.chain(e=>e.selectedPlan),C.g.map(e=>e.details.requirePaymentCheck),C.g.getOrElse(u.constFalse))),this.freeProofitTermsAgreed=p.a.create(!1),this._subscriptions.push(this._proofit.state.pipe(b.a.tap(e=>this.viewState.modify(C.g.map(t=>Object.assign(Object.assign({},t),{proofitState:e})))),b.b.compact,b.a.switchMap(e=>{switch(e.kind){case"submitted":return this._log.info("Document submitted for proofreading"),this._showSuccessModal();case"finished":case"cancelled":case"sending":return b.a.EMPTY;case"error":return this._log.error("Error sending document for proofreading:",e.errorType),this._createErrorNotification(e.errorType,k.paymentMethod);default:return Object(w.c)(e)}})).subscribe()),this._subscriptions.push(this.modal.pipe(b.a.pairwise(),b.a.filter(([e])=>Object(d.pipe)(e,C.g.exists(e=>e.type===a.Success)))).subscribe(this._goToMyDocuments))}clearModals(){Object(d.pipe)(this._orderModalViewModelOption,C.g.map(e=>e.dispose())),this._orderModalViewModelOption=C.g.none}newOrderModalViewModel(){const e=new _(this._closeModal);return this._orderModalViewModelOption=C.g.some(e),e}closeModal(){this.modal.set(C.g.none),this.leftStep.set(i.Step1),this.rightStep.set(r.Step1),this.freeProofitTermsAgreed.set(!1)}showOrderModal(){this.modal.set(C.g.some({type:a.Order}))}selectUserInput(e,t){this.viewState.modify(C.g.map(n=>Object.assign(Object.assign({},n),{userInputs:Object.assign(Object.assign({},n.userInputs),{[e]:t})})))}dispose(){this.clearModals(),this._subscriptions.dispose()}_showPaymentMessage(){return this._notificationsManager.enqueue("paymentSuccess")}_showPaymentError(){return this._notificationsManager.enqueue("paymentError")}_showSuccessModal(){return this._log.info("Show Success Modal"),this._proofit.jobDetails.pipe(b.b.compact,b.a.combineLatest(this._user.profile,({dueTime:e},{email:t})=>C.g.some({type:a.Success,payload:{email:t,dueDate:e}})),b.a.first(),b.a.tap(S.b.toAtom(this.modal)))}_createErrorNotification(e,t){switch(e){case"payment":return this._notificationsManager.enqueue("proofitPaymentDeclinedError",{paymentMethod:t}).pipe(b.a.filter(e=>"navigateToSubscription"===e),b.a.tap(()=>window.open(this._config.account.subscription,"_blank")));case"emptyDocument":return this._notificationsManager.enqueue("proofitEmptyDocumentError");case"alreadyProofread":return this._notificationsManager.enqueue("proofitDocumentProofreadError").pipe(b.a.filter(e=>"navigateToDocuments"===e),b.a.tap(this._goToMyDocuments));case"complexInternalStructure":return this._notificationsManager.enqueue("proofitComplexInternalStructureError").pipe(b.a.filter(e=>"navigateToDocuments"===e),b.a.tap(this._goToMyDocuments));case"unknown":return this._notificationsManager.enqueue("error");default:return Object(w.c)(e)}}_getUserInputs(){return Object(d.pipe)(this.viewState.get(),C.g.map(({userInputs:e})=>e),C.g.getOrElse(Object(u.constant)({nativeLanguage:C.g.none,dialect:C.g.none,quotationType:C.g.none,spaceType:C.g.none,noteToEditor:C.g.none})))}_updateUserNativeLanguage(){const e=this._getUserInputs();C.g.getEq(C.c.eqStrict).equals(e.nativeLanguage,this._initialNativeLanguage)||Object(d.pipe)(e.nativeLanguage,C.g.tap(e=>this._user.updateUserNativeLanguage(e)()))}_getPriceOfferId(){const e=this.viewState.get();return Object(w.f)(!C.g.isNone(e),"Proofit view state should be initialized"),C.g.unsafeGet(e).priceOfferId}}(l||(l={})).Mock=class{constructor(e,t=C.g.none){this._proofit=e,this._proofitLastJob=t,this.modal=p.a.create(C.g.none),this.isVisibleModal=p.a.create(!0),this.subscriptionState=A.a.mock().state,this.leftStep=p.a.create(i.Step1),this.rightStep=p.a.create(r.Step1),this.braintreeApi=A.a.mock().braintreeApi,this.requirePaymentCheck=p.a.create(!1),this.noteToEditor=!1,this.isInternalUser=!1,this.freeProofitTermsAgreed=p.a.create(!1),this.clearModals=k.e,this.showOrderModal=()=>{this.modal.set(C.g.some({type:a.Order}))},this.showSuccessModal=()=>{this.modal.set(C.g.none)},this.selectPlanTier=k.e,this.selectUserInput=k.e,this.changeLeftStep=k.e,this.changeRightStep=k.e,this.placeOrderAfterAntiFraudCheck=k.e,this.onBillingError=k.e,this.viewState=p.a.create(C.g.none),this.requestStatistics=()=>b.a.of(C.g.some({status:h.a.StatisticsStatus.Success,lastCompletedJobDate:this._proofitLastJob})),this.requestPlans=b.a.from(this._proofit.getPlans().then(e=>{this.viewState.set(C.g.some({words:e.words,plans:e.turnaroundOptions.map(e=>new x(e,this)),selectedPlans:[],selectedPlan:C.g.none,selectedPlanTier:h.a.PlanTier.Base,proofitState:C.g.none,statistics:C.g.none,userInputs:{nativeLanguage:C.g.none,dialect:C.g.none,quotationType:C.g.none,spaceType:C.g.none,noteToEditor:C.g.none},priceOfferId:e.priceOfferId}))}).catch(console.error)),this._updateActive=e=>this.viewState.modify(C.g.map(t=>{var{plans:n}=t,a=Object(c.__rest)(t,["plans"]);const r=n.find(t=>t.details.turnaround===e);return Object.assign(Object.assign({},a),{plans:n.map(t=>t.toggleActive(t.details.turnaround===e)),selectedPlan:C.g.fromNullable(r)})})),this._placeOrder=()=>new Promise(e=>setTimeout(e,1e3)),this._selectPlan=k.e,this.dispose=k.e,this.viewStateAndSubscription=this.viewState.pipe(b.a.combineLatest(p.a.create(v.a.ok({plans:[]}))))}newOrderModalViewModel(){return new _(()=>null)}closeModal(){this.modal.set(C.g.none),this.isVisibleModal.set(!1)}}},wI8h:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("I7vG"),i=n("LNSM"),o=n("viRF"),s=n("hoSD"),l=n("lrqh"),c=n("D9EC"),u=n("6fbX"),d=n("4e/B");!function(e){let t,n,a,p,m,h;function g(e,{emogenie:{popup:{intensities:n}}}){switch(e){case t.VeryStrong:return n.veryStrong;case t.Strong:return n.strong;case t.Moderate:return n.moderate;case t.Slight:return n.slight;default:return Object(u.c)(e)}}!function(e){e[e.Low=1]="Low",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate",e[e.Strong=4]="Strong",e[e.VeryStrong=5]="VeryStrong"}(t||(t={})),e.intensitiesOrder=s.e.keys(t).map(e=>t[e]).filter(e=>"number"==typeof e).sort(),function(e){e.fromConfidence=function(e,n){const a=o.b.unwrap(e);return a<.25?t.Slight:a<.5?t.Moderate:a/n>.5?t.VeryStrong:t.Strong}}(n||(n={})),function(e){e.fromModel=function({name:e,confidence:t,feedback:a,emoji:i},o,s,c){const u=n.fromConfidence(t,s);return{emoji:i,name:e,intensity:u,intensityCaption:g(u,c),feedback:a,actions:{like:{name:e+"-like",tooltip:c.emogenie.popup.actions.like,active:Object(r.pipe)(a,l.g.exists(e=>e===d.a.FeedbackType.Like)),disabled:l.g.isSome(a),handler:()=>o(e,d.a.FeedbackType.Like)},dislike:{name:e+"-dislike",tooltip:c.emogenie.popup.actions.dislike,active:Object(r.pipe)(a,l.g.exists(e=>e===d.a.FeedbackType.Dislike)),disabled:l.g.isSome(a),handler:()=>o(e,d.a.FeedbackType.Dislike)}}}}}(a=e.Item||(e.Item={})),function(e){let t;!function(e){e.Report="Report",e.ZeroState="ZeroState"}(t=e.Type||(e.Type={})),e.isReport=t=>t.type===e.Type.Report}(p=e.View||(e.View={})),function(e){e.fromModel=function(e,t,n){const r=e.reduce((e,t)=>e+o.b.unwrap(t.confidence),0),[i,...s]=e.map(e=>a.fromModel(e,t,r,n));return{type:p.Type.Report,primaryItem:i,secondaryItems:s,onPopupClose:c.e,onPopupOpen:c.e}}}(m||(m={})),function(e){e.create=function(e,t,n){return{visualState:i.a.combine(e.emotions,t.documentLength.view("trimmed").view(e=>e<120),(t,a)=>a||0===t.length?{type:p.Type.ZeroState,tooltipText:a?l.g.some(n.emogenie.popup.textIsTooShortMessage):l.g.none}:m.fromModel(t,e.sendEmotionFeedback,n))}}}(h=e.ViewModel||(e.ViewModel={})),e.getIntensityTitle=g}(a||(a={}))},wZAk:function(e,t,n){"use strict";n.d(t,"I",(function(){return i})),n.d(t,"H",(function(){return o})),n.d(t,"p",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"o",(function(){return u})),n.d(t,"A",(function(){return d})),n.d(t,"q",(function(){return y})),n.d(t,"w",(function(){return v})),n.d(t,"J",(function(){return S})),n.d(t,"s",(function(){return w})),n.d(t,"l",(function(){return k})),n.d(t,"n",(function(){return E})),n.d(t,"m",(function(){return O})),n.d(t,"h",(function(){return A})),n.d(t,"r",(function(){return _})),n.d(t,"y",(function(){return x})),n.d(t,"f",(function(){return I})),n.d(t,"z",(function(){return j})),n.d(t,"c",(function(){return R})),n.d(t,"K",(function(){return L})),n.d(t,"E",(function(){return $})),n.d(t,"a",(function(){return Z})),n.d(t,"G",(function(){return ve})),n.d(t,"v",(function(){return Le})),n.d(t,"b",(function(){return Re})),n.d(t,"g",(function(){return Ue})),n.d(t,"i",(function(){return Ye})),n.d(t,"j",(function(){return Qe})),n.d(t,"B",(function(){return Je})),n.d(t,"D",(function(){return tt})),n.d(t,"C",(function(){return nt})),n.d(t,"t",(function(){return ot})),n.d(t,"F",(function(){return ut})),n.d(t,"u",(function(){return mt})),n.d(t,"d",(function(){return gt})),n.d(t,"x",(function(){return ft})),n.d(t,"e",(function(){return yt}));var a=n("ERkP"),r=n("3rlE");const i=e=>a.createElement(r.e,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),a.createElement("path",{d:"M12 7L12 17",strokeLinecap:"round"}),a.createElement("path",{d:"M9 9L9 15",strokeLinecap:"round"}),a.createElement("path",{d:"M15 9L15 15",strokeLinecap:"round"}),a.createElement("path",{d:"M18 11L18 13",strokeLinecap:"round"}),a.createElement("path",{d:"M6 11L6 13",strokeLinecap:"round"})),o=e=>a.createElement(r.e,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),a.createElement("rect",{width:"16",height:"16",rx:"2",fill:"inherit",stroke:"none"}),a.createElement("path",{d:"M3 7L3 9",stroke:"white",fill:"none",strokeLinecap:"round"}),a.createElement("path",{d:"M5.5 5.5L5.5 10.5",stroke:"white",fill:"none",strokeLinecap:"round"}),a.createElement("path",{d:"M8 3L8 13",stroke:"white",fill:"none",strokeLinecap:"round"}),a.createElement("path",{d:"M10.5 5.5L10.5 10.5",stroke:"white",fill:"none",strokeLinecap:"round"}),a.createElement("path",{d:"M13 7L13 9",stroke:"white",fill:"none",strokeLinecap:"round"})),s=e=>a.createElement(r.e,Object.assign({width:"12",height:"15",viewBox:"0 0 12 15",fill:"#99A0B3"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 0.5C3.67157 0.5 3 1.17157 3 2V3H0.5C0.223858 3 0 3.22386 0 3.5C0 3.77614 0.223858 4 0.5 4H1.04536L1.82983 12.237C1.95203 13.5201 3.02968 14.5 4.31857 14.5H7.68143C8.97032 14.5 10.048 13.5201 10.1702 12.237L10.9546 4H11.5C11.7761 4 12 3.77614 12 3.5C12 3.22386 11.7761 3 11.5 3H9V2C9 1.17157 8.32843 0.5 7.5 0.5H4.5ZM8 3V2C8 1.72386 7.77614 1.5 7.5 1.5H4.5C4.22386 1.5 4 1.72386 4 2V3H8ZM2.04988 4H9.95012L9.17467 12.1422C9.10135 12.9121 8.45476 13.5 7.68143 13.5H4.31857C3.54524 13.5 2.89865 12.9121 2.82533 12.1422L2.04988 4Z",stroke:"none"}));var l=n("iVSA");const c=e=>a.createElement(r.e,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),a.createElement("path",{d:"M14 11.5H16.7929L8.92289 19.37L10.4851 13.1213L10.6404 12.5H10H7.20711L15.0771 4.62999L13.5149 10.8787L13.3596 11.5H14Z",stroke:l.f.Base.Content.Secondary.Default,strokeMiterlimit:"4.25735"})),u=e=>a.createElement(r.e,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),a.createElement("rect",{x:"4.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:l.f.Base.Content.Secondary.Default}),a.createElement("rect",{x:"4.5",y:"13.5",width:"6",height:"6",rx:"1.5",stroke:l.f.Base.Content.Secondary.Default}),a.createElement("rect",{x:"13.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:l.f.Base.Content.Secondary.Default}),a.createElement("path",{d:"M14.5513 15.8162L12.9269 16.3577C12.7902 16.4033 12.7902 16.5967 12.9269 16.6423L14.5513 17.1838C15.1485 17.3828 15.6172 17.8515 15.8162 18.4487L16.3577 20.0731C16.4033 20.2098 16.5967 20.2098 16.6423 20.0731L17.1838 18.4487C17.3828 17.8515 17.8515 17.3828 18.4487 17.1838L20.0731 16.6423C20.2098 16.5967 20.2098 16.4033 20.0731 16.3577L18.4487 15.8162C17.8515 15.6172 17.3828 15.1485 17.1838 14.5513L16.6423 12.9269C16.5967 12.7902 16.4033 12.7902 16.3577 12.9269L15.8162 14.5513C15.6172 15.1485 15.1485 15.6172 14.5513 15.8162Z",fill:l.f.Base.Content.Secondary.Default,stroke:l.f.Base.Content.Secondary.Default})),d=e=>a.createElement(r.e,Object.assign({width:"32",height:"32",fill:l.f.Base.Content.Secondary.Default,viewBox:"0 0 32 32"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 16a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm1 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11-3a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-4Z",stroke:"none"})),p=e=>a.createElement(r.e,Object.assign({width:"12",height:"15",viewBox:"0 0 12 15",fill:"#99A0B3"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 0.5C0.776142 0.5 1 0.723858 1 1V2H11.5C11.7022 2 11.8845 2.12182 11.9619 2.30866C12.0393 2.4955 11.9966 2.71055 11.8536 2.85355L8.70711 6L11.8536 9.14645C11.9966 9.28945 12.0393 9.5045 11.9619 9.69134C11.8845 9.87818 11.7022 10 11.5 10H1V14.5C1 14.7761 0.776142 15 0.5 15C0.223858 15 0 14.7761 0 14.5V1C0 0.723858 0.223858 0.5 0.5 0.5ZM1 9H10.2929L7.64645 6.35355C7.45118 6.15829 7.45118 5.84171 7.64645 5.64645L10.2929 3H1V9Z",stroke:"none"}));var m=n("e12y"),h=n("9NHN"),g=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const f=m.a.keyframes({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}),b=m.a.style({animation:f+" 1s linear infinite",width:m.a.rem(1),height:m.a.rem(1),minWidth:m.a.rem(1),minHeight:m.a.rem(1)}),y=e=>{const{className:t}=e,n=g(e,["className"]);return a.createElement(r.e,Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},Object(h.c)(b,t),n),a.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#C2C6D4",strokeWidth:"2"}),a.createElement("path",{d:"M13 8C13 8.76694 12.8236 9.5236 12.4844 10.2114C12.1452 10.8993 11.6523 11.4999 11.0438 11.9668C10.4354 12.4336 9.72765 12.7543 8.97545 12.9039C8.22325 13.0535 7.44671 13.0281 6.7059 12.8296",stroke:"#05735A",strokeWidth:"2",strokeLinecap:"round"}))},v=e=>a.createElement(r.e,Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},e),a.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeWidth:".857",d:"m4 4 2 2m2 2L6 6m0 0 2-2M6 6 4 8"})),S=e=>a.createElement(r.e,Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"#99A0B3"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0607 3.64286C9.5893 2.78571 8.4107 2.78571 7.93926 3.64286L3.16592 12.3214C2.69448 13.1786 3.28378 14.25 4.22667 14.25H13.7733C14.7162 14.25 15.3055 13.1786 14.8341 12.3214L10.0607 3.64286ZM8.25 6C8.25 5.58579 8.58579 5.25 9 5.25C9.41421 5.25 9.75 5.58579 9.75 6V9.75C9.75 10.1642 9.41421 10.5 9 10.5C8.58579 10.5 8.25 10.1642 8.25 9.75V6ZM9.75 12C9.75 12.4142 9.41421 12.75 9 12.75C8.58579 12.75 8.25 12.4142 8.25 12C8.25 11.5858 8.58579 11.25 9 11.25C9.41421 11.25 9.75 11.5858 9.75 12Z",stroke:"none"}));var C=n("e9DL");const w=e=>a.createElement(r.e,Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:C.b.BrandGreen60},e),a.createElement("path",{d:"M17.1056 9.44721L0.992696 17.5037C0.607324 17.6963 0.174955 17.3439 0.285972 16.9276L1.83393 11.1228C1.93505 10.7436 2.24864 10.4586 2.63576 10.394L9.52041 9.2466C9.79894 9.20018 9.79894 8.79982 9.52041 8.7534L2.63576 7.60596C2.24864 7.54144 1.93505 7.25644 1.83393 6.87723L0.285971 1.07239C0.174955 0.656082 0.607322 0.303661 0.992694 0.496347L17.1056 8.55279C17.4741 8.73705 17.4741 9.26295 17.1056 9.44721Z",stroke:"none"})),k=e=>a.createElement(r.e,Object.assign({width:"26",height:"12",viewBox:"0 0 26 12",fill:C.b.BrandGreen60},e),a.createElement("path",{d:"M19.3727 0.000327934C16.1036 0.000327934 13.4619 2.6865 13.4619 6.00016C13.4619 9.31383 16.1081 12 19.3727 12C22.6374 12 25.2836 9.31474 25.2836 6.00016C25.2836 2.68559 22.6374 0.000327934 19.3727 0.000327934ZM19.3727 9.73428C17.3867 9.73428 15.7766 8.06247 15.7766 6.00016C15.7766 3.93786 17.3867 2.26604 19.3727 2.26604C21.3587 2.26604 22.9688 3.93786 22.9688 6.00016C22.9688 8.06247 21.3587 9.73428 19.3727 9.73428Z",stroke:"none"}),a.createElement("path",{d:"M12.6746 6.42151H7.39304V8.29493H8.68981C9.01927 8.30238 9.34872 8.28019 9.67419 8.22864L9.69144 8.24589C9.08392 9.13311 7.98875 9.75788 6.70651 9.75788C4.63967 9.75788 2.99964 8.11512 2.99964 5.9938C2.99964 3.87247 4.63967 2.23062 6.70651 2.23062C7.30404 2.23157 7.89242 2.3776 8.42105 2.65615C8.94969 2.93471 9.40278 3.33745 9.74139 3.82979L11.593 2.55844C11.0537 1.76195 10.3255 1.11146 9.47342 0.665066C8.62136 0.218676 7.672 -0.00970839 6.71014 0.000316333C5.92081 -0.00586192 5.13814 0.145157 4.40777 0.444568C3.6774 0.74398 3.01395 1.18579 2.45608 1.74425C1.89822 2.3027 1.45712 2.96663 1.15848 3.69731C0.859842 4.428 0.709651 5.21083 0.716666 6.00015C0.716666 9.35378 3.34108 12 6.60571 12C8.60354 12 10.2626 10.8658 10.9192 9.61622L10.9519 9.63347C10.8546 10.0093 10.8049 10.3958 10.8039 10.784V11.7221L12.6755 11.7167V6.42242L12.6746 6.42151Z",stroke:"none"})),E=e=>a.createElement(r.e,Object.assign({width:"79",height:"15",viewBox:"0 0 79 15",fill:l.f.Base.Content.Secondary.Default},e),a.createElement("path",{stroke:"none",d:"M7.76927 3.34994C7.12351 3.34994 6.60106 3.87239 6.60106 4.50309V4.51815C5.97131 3.82626 5.21824 3.28876 3.94178 3.28876C2.05251 3.28782 0.284668 4.67159 0.284668 7.13037V7.16143C0.284668 9.60515 2.02144 11.004 3.94272 11.004C5.18717 11.004 5.94118 10.4966 6.63213 9.66634V10.0664C6.63213 11.5415 5.87906 12.3106 4.28066 12.3106C3.40427 12.3106 2.68226 12.1261 2.00638 11.8192C1.89907 11.7731 1.77575 11.742 1.62231 11.742C1.09987 11.742 0.669676 12.1722 0.669676 12.6946C0.669676 13.1248 0.931369 13.4477 1.3305 13.6011C2.29914 13.9852 3.25177 14.1697 4.34279 14.1697C5.94118 14.1697 7.12445 13.8318 7.89353 13.0636C8.58541 12.3718 8.93841 11.2958 8.93841 9.82072V4.51721C8.93841 3.87145 8.41597 3.349 7.77021 3.349L7.76927 3.34994ZM6.63213 7.16143C6.63213 8.28351 5.75574 9.06765 4.6186 9.06765C3.48146 9.06765 2.62013 8.29951 2.62013 7.16143V7.13037C2.62013 6.00829 3.48052 5.22415 4.6186 5.22415C5.75668 5.22415 6.63213 6.00829 6.63213 7.13037V7.16143Z"}),a.createElement("path",{stroke:"none",d:"M14.3577 3.34988C13.6658 3.34988 13.1133 4.0879 12.7744 4.88709V4.51809C12.7744 3.87233 12.252 3.34988 11.6062 3.34988C10.9604 3.34988 10.438 3.87233 10.438 4.51809V10.6039C10.438 11.2496 10.9604 11.7721 11.6062 11.7721C12.252 11.7721 12.7744 11.2496 12.7744 10.6039V8.42183C12.7744 6.76224 13.4352 5.85479 14.6185 5.57898C15.0948 5.47167 15.4949 5.10266 15.4949 4.48797C15.4949 3.82714 15.0797 3.35083 14.3577 3.35083V3.34988Z"}),a.createElement("path",{stroke:"none",d:"M19.5002 3.34988C18.4092 3.34988 17.61 3.50332 16.872 3.78008C16.5029 3.91845 16.2422 4.27146 16.2422 4.68659C16.2422 5.22409 16.6724 5.63923 17.2108 5.63923C17.3181 5.63923 17.4104 5.62416 17.5488 5.57804C17.994 5.43966 18.5174 5.34741 19.1622 5.34741C20.3304 5.34741 20.9301 5.88491 20.9301 6.85355V6.99193C20.3464 6.79237 19.7468 6.65399 18.9165 6.65399C16.9651 6.65399 15.5964 7.48425 15.5964 9.28221V9.31328C15.5964 10.9427 16.872 11.8342 18.4242 11.8342C19.5614 11.8342 20.3455 11.4191 20.9141 10.7893V10.8044C20.9141 11.2957 21.3593 11.773 22.0361 11.773C22.6659 11.773 23.1733 11.2816 23.1733 10.6509V6.90062C23.1733 5.7936 22.8965 4.88709 22.2818 4.2724C21.6982 3.68877 20.7757 3.34988 19.5002 3.34988ZM20.9602 8.77483C20.9602 9.62016 20.2222 10.2198 19.1312 10.2198C18.3781 10.2198 17.8557 9.85078 17.8557 9.22103V9.18996C17.8557 8.45195 18.4703 8.05282 19.4691 8.05282C20.0377 8.05282 20.5601 8.17614 20.9602 8.36064V8.77577V8.77483Z"}),a.createElement("path",{stroke:"none",d:"M34.4752 3.28764C33.3531 3.28764 32.4927 3.7489 31.7698 4.59422C31.3396 3.76396 30.5253 3.28764 29.4494 3.28764C28.2661 3.28764 27.5592 3.9174 27.0207 4.60929V4.51703C27.0207 3.87127 26.4983 3.34883 25.8525 3.34883C25.2068 3.34883 24.6843 3.87127 24.6843 4.51703V10.6037C24.6843 11.2495 25.2068 11.7719 25.8525 11.7719C26.4983 11.7719 27.0207 11.2495 27.0207 10.6037V7.08407C27.0207 5.978 27.5582 5.40848 28.4346 5.40848C29.311 5.40848 29.8024 5.97705 29.8024 7.08407V10.6037C29.8024 11.2495 30.3248 11.7719 30.9706 11.7719C31.6164 11.7719 32.1388 11.2495 32.1388 10.6037V7.08407C32.1388 5.978 32.6763 5.40848 33.5527 5.40848C34.4291 5.40848 34.9205 5.97705 34.9205 7.08407V10.6037C34.9205 11.2495 35.4429 11.7719 36.0887 11.7719C36.7344 11.7719 37.2569 11.2495 37.2569 10.6037V6.31594C37.2569 4.33347 36.212 3.28858 34.4752 3.28858V3.28764Z"}),a.createElement("path",{stroke:"none",d:"M48.5558 3.28764C47.4337 3.28764 46.5733 3.7489 45.8504 4.59422C45.4202 3.76396 44.6059 3.28764 43.53 3.28764C42.3467 3.28764 41.6397 3.9174 41.1013 4.60929V4.51703C41.1013 3.87127 40.5789 3.34883 39.9331 3.34883C39.2873 3.34883 38.7649 3.87127 38.7649 4.51703V10.6037C38.7649 11.2495 39.2873 11.7719 39.9331 11.7719C40.5789 11.7719 41.1013 11.2495 41.1013 10.6037V7.08407C41.1013 5.978 41.6388 5.40848 42.5152 5.40848C43.3916 5.40848 43.883 5.97705 43.883 7.08407V10.6037C43.883 11.2495 44.4054 11.7719 45.0512 11.7719C45.6969 11.7719 46.2194 11.2495 46.2194 10.6037V7.08407C46.2194 5.978 46.7569 5.40848 47.6333 5.40848C48.5097 5.40848 49.001 5.97705 49.001 7.08407V10.6037C49.001 11.2495 49.5235 11.7719 50.1692 11.7719C50.815 11.7719 51.3374 11.2495 51.3374 10.6037V6.31594C51.3374 4.33347 50.2926 3.28858 48.5558 3.28858V3.28764Z"}),a.createElement("path",{stroke:"none",d:"M56.11 3.34988C55.019 3.34988 54.2198 3.50332 53.4818 3.78008C53.1128 3.91845 52.8521 4.27146 52.8521 4.68659C52.8521 5.22409 53.2822 5.63923 53.8207 5.63923C53.928 5.63923 54.0203 5.62416 54.1586 5.57804C54.6039 5.43966 55.1273 5.34741 55.7721 5.34741C56.9403 5.34741 57.5399 5.88491 57.5399 6.85355V6.99193C56.9563 6.79237 56.3567 6.65399 55.5264 6.65399C53.5741 6.65399 52.2063 7.48425 52.2063 9.28221V9.31328C52.2063 10.9427 53.4818 11.8342 55.0341 11.8342C56.1712 11.8342 56.9554 11.4191 57.5239 10.7893V10.8044C57.5239 11.2957 57.9692 11.773 58.646 11.773C59.2758 11.773 59.7831 11.2816 59.7831 10.6509V6.90062C59.7831 5.7936 59.5064 4.88709 58.8917 4.2724C58.3081 3.68877 57.3856 3.34988 56.11 3.34988ZM57.5701 8.77483C57.5701 9.62016 56.832 10.2198 55.741 10.2198C54.988 10.2198 54.4655 9.85078 54.4655 9.22103V9.18996C54.4655 8.45195 55.0802 8.05282 56.079 8.05282C56.6475 8.05282 57.17 8.17614 57.5701 8.36064V8.77577V8.77483Z"}),a.createElement("path",{stroke:"none",d:"M65.1976 3.34988C64.5057 3.34988 63.9522 4.0879 63.6142 4.88709V4.51809C63.6142 3.87233 63.0918 3.34988 62.446 3.34988C61.8003 3.34988 61.2778 3.87233 61.2778 4.51809V10.6039C61.2778 11.2496 61.8003 11.7721 62.446 11.7721C63.0918 11.7721 63.6142 11.2496 63.6142 10.6039V8.42183C63.6142 6.76224 64.2751 5.85479 65.4583 5.57898C65.9346 5.47167 66.3347 5.10266 66.3347 4.48797C66.3347 3.82714 65.9196 3.35083 65.1976 3.35083V3.34988Z"}),a.createElement("path",{stroke:"none",d:"M68.2759 0.367645C67.6301 0.367645 67.1077 0.890089 67.1077 1.53585V10.6038C67.1077 11.2495 67.6301 11.772 68.2759 11.772C68.9216 11.772 69.4441 11.2495 69.4441 10.6038V1.53585C69.4441 0.890089 68.9216 0.367645 68.2759 0.367645Z"}),a.createElement("path",{stroke:"none",d:"M77.1111 3.34988C76.5115 3.34988 76.1736 3.74901 75.9891 4.24133L74.2673 9.02146L72.4844 4.22627C72.2849 3.67276 71.9469 3.34988 71.3624 3.34988C70.7166 3.34988 70.2092 3.81114 70.2092 4.47196C70.2092 4.6254 70.2704 4.85603 70.3325 5.00947L73.1453 11.5264L73.0681 11.7109C72.8525 12.126 72.6529 12.2023 72.2378 12.2023C72.0684 12.2023 71.946 12.1712 71.7464 12.11C71.6542 12.0789 71.5469 12.0488 71.3624 12.0488C70.8861 12.0488 70.4399 12.4329 70.4399 13.0015C70.4399 13.57 70.8399 13.8468 71.1779 13.9701C71.5619 14.1085 71.9309 14.1857 72.4534 14.1857C73.8522 14.1857 74.5432 13.5559 75.235 11.8803L78.109 4.97935C78.1551 4.87203 78.2163 4.61034 78.2163 4.42584C78.2163 3.81114 77.7089 3.34988 77.1093 3.34988H77.1111Z"})),O=()=>a.createElement("svg",{width:"240",height:"35",viewBox:"0 0 240 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M209.923 15.8961H197.325V20.5059H200.418C201.204 20.5238 201.989 20.4701 202.766 20.3428L202.807 20.3852C201.358 22.5683 198.746 24.1056 195.687 24.1056C190.757 24.1056 186.845 20.0635 186.845 14.8437C186.845 9.62393 190.757 5.58174 195.687 5.58174C197.113 5.58398 198.514 5.94373 199.775 6.62748C201.035 7.31123 202.116 8.30558 202.926 9.51667L207.343 6.39063C206.054 4.42875 204.315 2.82438 202.279 1.72725C200.245 0.627883 197.977 0.0692616 195.685 0.0960754C193.807 0.080434 191.94 0.449124 190.2 1.18651C188.461 1.92165 186.88 3.00985 185.55 4.38406C184.22 5.75827 183.169 7.39168 182.456 9.19044C181.746 10.9892 181.384 12.9153 181.402 14.8593C181.402 23.1113 187.662 29.6226 195.449 29.6226C200.219 29.6226 204.172 26.8317 205.738 23.7571L205.816 23.7995C205.584 24.7246 205.465 25.6743 205.463 26.6306V28.9388L209.927 28.9254H209.923V15.8984V15.8961Z",fill:"white"}),a.createElement("path",{d:"M225.901 0C218.113 0 211.801 6.62972 211.801 14.8102C211.801 22.9906 218.113 29.6204 225.901 29.6204C233.688 29.6204 240 22.9906 240 14.8102C240 6.62972 233.688 0 225.901 0ZM226.018 24.1191C221.187 24.1191 217.271 20.0054 217.271 14.9308C217.271 9.85632 221.187 5.74263 226.018 5.74263C230.848 5.74263 234.765 9.85632 234.765 14.9308C234.765 20.0054 230.848 24.1191 226.018 24.1191Z",fill:"white"}),a.createElement("path",{d:"M17.223 8.39048C15.737 8.39048 14.5348 9.63062 14.5348 11.1277V11.1635C13.0857 9.52113 11.3528 8.24524 8.41547 8.24524C4.06802 8.24301 0 11.5277 0 17.3642V17.4379C0 23.2386 3.99653 26.5591 8.41763 26.5591C11.2813 26.5591 13.0164 25.3547 14.6063 23.3839V24.3335C14.6063 27.835 12.8734 29.6606 9.19528 29.6606C7.1786 29.6606 5.51717 29.2226 3.96188 28.4942C3.71494 28.3847 3.43117 28.3109 3.07809 28.3109C1.87588 28.3109 0.885953 29.3321 0.885953 30.5722C0.885953 31.5934 1.48814 32.3598 2.40659 32.724C4.63555 33.6357 6.82768 34.0737 9.33824 34.0737C13.0164 34.0737 15.7392 33.2715 17.5089 31.4482C19.1011 29.8058 19.9134 27.2518 19.9134 23.7503V11.1612C19.9134 9.62839 18.7111 8.38825 17.2252 8.38825L17.223 8.39048ZM14.6063 17.4379C14.6063 20.1014 12.5896 21.9628 9.97293 21.9628C7.35622 21.9628 5.3742 20.1394 5.3742 17.4379V17.3642C5.3742 14.7007 7.35406 12.8393 9.97293 12.8393C12.5918 12.8393 14.6063 14.7007 14.6063 17.3642V17.4379Z",fill:"white"}),a.createElement("path",{d:"M32.3836 8.39038C30.7914 8.39038 29.5199 10.1422 28.7401 12.0393V11.1634C28.7401 9.63052 27.5379 8.39038 26.0519 8.39038C24.5659 8.39038 23.3637 9.63052 23.3637 11.1634V25.6093C23.3637 27.1422 24.5659 28.3823 26.0519 28.3823C27.5379 28.3823 28.7401 27.1422 28.7401 25.6093V20.4298C28.7401 16.4904 30.2607 14.3364 32.9836 13.6816C34.0797 13.4269 35.0003 12.551 35.0003 11.0919C35.0003 9.52327 34.045 8.39262 32.3836 8.39262V8.39038Z",fill:"white"}),a.createElement("path",{d:"M44.2178 8.39038C41.7072 8.39038 39.8682 8.7546 38.1699 9.41154C37.3208 9.74001 36.7207 10.5779 36.7207 11.5634C36.7207 12.8392 37.7107 13.8247 38.9497 13.8247C39.1967 13.8247 39.4089 13.7889 39.7274 13.6794C40.7519 13.3509 41.9563 13.132 43.4401 13.132C46.1283 13.132 47.5081 14.4079 47.5081 16.7071V17.0356C46.1651 16.5619 44.7853 16.2334 42.8748 16.2334C38.3843 16.2334 35.2348 18.2042 35.2348 22.4721V22.5459C35.2348 26.4138 38.1699 28.5298 41.7419 28.5298C44.3586 28.5298 46.163 27.5444 47.4713 26.0495V26.0853C47.4713 27.2517 48.4959 28.3846 50.0534 28.3846C51.5025 28.3846 52.6701 27.2182 52.6701 25.7211V16.8189C52.6701 14.1911 52.0332 12.0393 50.6187 10.5802C49.2757 9.1948 47.1529 8.39038 44.2178 8.39038ZM47.5775 21.2677C47.5775 23.2743 45.8792 24.6977 43.3686 24.6977C41.6357 24.6977 40.4335 23.8217 40.4335 22.3269V22.2531C40.4335 20.5013 41.848 19.5539 44.1463 19.5539C45.4546 19.5539 46.6568 19.8466 47.5775 20.2846V21.27V21.2677Z",fill:"white"}),a.createElement("path",{d:"M78.6766 8.24286C76.0945 8.24286 74.1147 9.33776 72.4511 11.3443C71.4611 9.37351 69.5874 8.24286 67.1115 8.24286C64.3887 8.24286 62.7619 9.73773 61.5229 11.3801V11.1611C61.5229 9.62824 60.3207 8.3881 58.8347 8.3881C57.3487 8.3881 56.1465 9.62824 56.1465 11.1611V25.6093C56.1465 27.1422 57.3487 28.3823 58.8347 28.3823C60.3207 28.3823 61.5229 27.1422 61.5229 25.6093V17.2545C61.5229 14.629 62.7597 13.2772 64.7764 13.2772C66.7931 13.2772 67.9238 14.6268 67.9238 17.2545V25.6093C67.9238 27.1422 69.126 28.3823 70.612 28.3823C72.098 28.3823 73.3002 27.1422 73.3002 25.6093V17.2545C73.3002 14.629 74.5371 13.2772 76.5537 13.2772C78.5704 13.2772 79.7011 14.6268 79.7011 17.2545V25.6093C79.7011 27.1422 80.9034 28.3823 82.3893 28.3823C83.8753 28.3823 85.0775 27.1422 85.0775 25.6093V15.4312C85.0775 10.7254 82.6731 8.24509 78.6766 8.24509V8.24286Z",fill:"white"}),a.createElement("path",{d:"M111.077 8.24286C108.495 8.24286 106.516 9.33776 104.852 11.3443C103.862 9.37351 101.988 8.24286 99.5124 8.24286C96.7895 8.24286 95.1628 9.73773 93.9237 11.3801V11.1611C93.9237 9.62824 92.7215 8.3881 91.2355 8.3881C89.7496 8.3881 88.5474 9.62824 88.5474 11.1611V25.6093C88.5474 27.1422 89.7496 28.3823 91.2355 28.3823C92.7215 28.3823 93.9237 27.1422 93.9237 25.6093V17.2545C93.9237 14.629 95.1606 13.2772 97.1773 13.2772C99.194 13.2772 100.325 14.6268 100.325 17.2545V25.6093C100.325 27.1422 101.527 28.3823 103.013 28.3823C104.499 28.3823 105.701 27.1422 105.701 25.6093V17.2545C105.701 14.629 106.938 13.2772 108.955 13.2772C110.971 13.2772 112.102 14.6268 112.102 17.2545V25.6093C112.102 27.1422 113.304 28.3823 114.79 28.3823C116.276 28.3823 117.478 27.1422 117.478 25.6093V15.4312C117.478 10.7254 115.074 8.24509 111.077 8.24509V8.24286Z",fill:"white"}),a.createElement("path",{d:"M128.461 8.39038C125.95 8.39038 124.111 8.7546 122.413 9.41154C121.564 9.74001 120.964 10.5779 120.964 11.5634C120.964 12.8392 121.954 13.8247 123.193 13.8247C123.44 13.8247 123.652 13.7889 123.97 13.6794C124.995 13.3509 126.199 13.132 127.683 13.132C130.371 13.132 131.751 14.4079 131.751 16.7071V17.0356C130.408 16.5619 129.028 16.2334 127.118 16.2334C122.625 16.2334 119.478 18.2042 119.478 22.4721V22.5459C119.478 26.4138 122.413 28.5298 125.985 28.5298C128.602 28.5298 130.406 27.5444 131.714 26.0495V26.0853C131.714 27.2517 132.739 28.3846 134.296 28.3846C135.745 28.3846 136.913 27.2182 136.913 25.7211V16.8189C136.913 14.1911 136.276 12.0393 134.862 10.5802C133.519 9.1948 131.396 8.39038 128.461 8.39038ZM131.82 21.2677C131.82 23.2743 130.122 24.6977 127.612 24.6977C125.879 24.6977 124.676 23.8217 124.676 22.3269V22.2531C124.676 20.5013 126.091 19.5539 128.389 19.5539C129.698 19.5539 130.9 19.8466 131.82 20.2846V21.27V21.2677Z",fill:"white"}),a.createElement("path",{d:"M149.373 8.39038C147.781 8.39038 146.507 10.1422 145.73 12.0393V11.1634C145.73 9.63052 144.527 8.39038 143.041 8.39038C141.555 8.39038 140.353 9.63052 140.353 11.1634V25.6093C140.353 27.1422 141.555 28.3823 143.041 28.3823C144.527 28.3823 145.73 27.1422 145.73 25.6093V20.4298C145.73 16.4904 147.25 14.3364 149.973 13.6816C151.069 13.4269 151.99 12.551 151.99 11.0919C151.99 9.52327 151.034 8.39262 149.373 8.39262V8.39038Z",fill:"white"}),a.createElement("path",{d:"M156.456 1.31152C154.97 1.31152 153.768 2.55166 153.768 4.08452V25.6093C153.768 27.1422 154.97 28.3823 156.456 28.3823C157.942 28.3823 159.144 27.1422 159.144 25.6093V4.08452C159.144 2.55166 157.942 1.31152 156.456 1.31152Z",fill:"white"}),a.createElement("path",{d:"M176.788 8.39038C175.408 8.39038 174.63 9.3378 174.206 10.5064L170.244 21.8532L166.141 10.4707C165.682 9.15681 164.904 8.39038 163.559 8.39038C162.073 8.39038 160.906 9.48528 160.906 11.0539C160.906 11.4181 161.046 11.9656 161.189 12.3298L167.662 27.7991L167.484 28.2371C166.988 29.2225 166.529 29.4035 165.574 29.4035C165.184 29.4035 164.902 29.3298 164.443 29.1845C164.231 29.1108 163.984 29.0393 163.559 29.0393C162.463 29.0393 161.436 29.9509 161.436 31.3006C161.436 32.6502 162.357 33.3071 163.135 33.5999C164.018 33.9283 164.867 34.1116 166.07 34.1116C169.289 34.1116 170.879 32.6167 172.471 28.6393L179.084 12.2583C179.19 12.0035 179.331 11.3824 179.331 10.9444C179.331 9.48528 178.163 8.39038 176.783 8.39038H176.788Z",fill:"white"})),A=e=>a.createElement(r.e,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),a.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_4506_11023_disheartening_emoji)",stroke:"none"}),a.createElement("path",{d:"M8.97126 19.5491C10.9569 18.1193 14.0431 18.1193 16.0295 19.5491C16.3344 19.7674 16.5155 19.5315 16.4184 19.3455C14.4879 15.6555 10.5121 15.6555 8.58164 19.3455C8.48451 19.5315 8.66564 19.7674 8.97126 19.5491Z",fill:"#302C3B",stroke:"none"}),a.createElement("path",{d:"M19.895 12.8239C17.9806 13.5491 15.4865 12.8809 14.1909 11.2954C13.9925 11.0531 13.7945 11.2046 13.8328 11.376C14.5936 14.775 17.807 15.6364 20.1654 13.0721C20.2839 12.9435 20.1886 12.7133 19.895 12.8239Z",fill:"#302C3B",stroke:"none"}),a.createElement("path",{d:"M10.8091 11.2954C9.51351 12.8813 7.01976 13.5491 5.10501 12.8239C4.81176 12.7133 4.71614 12.9431 4.83464 13.0721C7.19301 15.6364 10.4064 14.775 11.1673 11.376C11.2059 11.2046 11.0079 11.0531 10.8091 11.2954Z",fill:"#302C3B",stroke:"none"}),a.createElement("defs",null,a.createElement("linearGradient",{id:"paint0_linear_4506_11023_disheartening_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#FFA027"}),a.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),a.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),a.createElement("stop",{offset:"1",stopColor:"#FFE261"})))),_=e=>a.createElement(r.e,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),a.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_4506_11027_neutral_emoji)",stroke:"none"}),a.createElement("path",{d:"M17.3266 17.25H7.6726C6.7336 17.25 6.7336 15.75 7.6726 15.75H17.3266C18.2656 15.75 18.2656 17.25 17.3266 17.25Z",fill:"#302C3B",stroke:"none"}),a.createElement("path",{d:"M8.7496 12.1875C9.68158 12.1875 10.4371 11.1801 10.4371 9.9375C10.4371 8.69486 9.68158 7.6875 8.7496 7.6875C7.81762 7.6875 7.0621 8.69486 7.0621 9.9375C7.0621 11.1801 7.81762 12.1875 8.7496 12.1875Z",fill:"#302C3B",stroke:"none"}),a.createElement("path",{d:"M16.2496 12.1875C17.1816 12.1875 17.9371 11.1801 17.9371 9.9375C17.9371 8.69486 17.1816 7.6875 16.2496 7.6875C15.3176 7.6875 14.5621 8.69486 14.5621 9.9375C14.5621 11.1801 15.3176 12.1875 16.2496 12.1875Z",fill:"#302C3B",stroke:"none"}),a.createElement("defs",null,a.createElement("linearGradient",{id:"paint0_linear_4506_11027_neutral_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#FFA027"}),a.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),a.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),a.createElement("stop",{offset:"1",stopColor:"#FFE261"})))),x=e=>a.createElement(r.e,Object.assign({width:"24",height:"24",fill:"none",viewBox:"0.5 0 24 24"},e),a.createElement("path",{d:"M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",fill:"url(#paint0_linear_11994_841_smiling_emoji)",stroke:"none"}),a.createElement("path",{d:"M5.82085 15.8453C7.89191 15.8453 9.57085 14.1663 9.57085 12.0953C9.57085 10.0242 7.89191 8.34528 5.82085 8.34528C3.74978 8.34528 2.07085 10.0242 2.07085 12.0953C2.07085 14.1663 3.74978 15.8453 5.82085 15.8453Z",fill:"url(#paint1_radial_11994_841_smiling_emoji)",stroke:"none"}),a.createElement("path",{d:"M19.1792 15.75C21.2502 15.75 22.9292 14.0711 22.9292 12C22.9292 9.92893 21.2502 8.25 19.1792 8.25C17.1081 8.25 15.4292 9.92893 15.4292 12C15.4292 14.0711 17.1081 15.75 19.1792 15.75Z",fill:"url(#paint2_radial_11994_841_smiling_emoji)",stroke:"none"}),a.createElement("path",{d:"M14.0844 9.3015C15.5 7.72425 17.7012 7.7235 19.1176 9.3015C19.3344 9.543 19.4634 9.282 19.3944 9.07725C18.0181 5.0055 15.1831 5.0055 13.8069 9.07725C13.7379 9.282 13.8669 9.54262 14.0844 9.3015Z",fill:"#302C3B",stroke:"none"}),a.createElement("path",{d:"M5.88312 9.3015C7.29949 7.72425 9.49999 7.7235 10.9164 9.3015C11.1331 9.543 11.2629 9.282 11.1931 9.07725C9.81687 5.0055 6.98187 5.0055 5.60562 9.07725C5.53699 9.282 5.66562 9.54262 5.88312 9.3015Z",fill:"#302C3B",stroke:"none"}),a.createElement("path",{d:"M17.1961 13.647C14.3352 15.7061 10.6614 15.705 7.802 13.647C7.397 13.356 7.15512 13.6706 7.28487 13.9178C9.4805 18.1151 15.5187 18.1144 17.7147 13.9178C17.8437 13.6703 17.6026 13.3556 17.1961 13.647Z",fill:"#302C3B",stroke:"none"}),a.createElement("defs",null,a.createElement("linearGradient",{id:"paint0_linear_11994_841_smiling_emoji",x1:"12.5002",y1:"23.25",x2:"12.5002",y2:"0.750188",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#FFA027"}),a.createElement("stop",{offset:"0.2723",stopColor:"#FFC151"}),a.createElement("stop",{offset:"0.7633",stopColor:"#FFC93F"}),a.createElement("stop",{offset:"1",stopColor:"#FFE261"})),a.createElement("radialGradient",{id:"paint1_radial_11994_841_smiling_emoji",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.82103 12.0952) scale(3.75 3.75)"},a.createElement("stop",{stopColor:"#F18D84"}),a.createElement("stop",{offset:"0.2514",stopColor:"#F29180",stopOpacity:"0.7486"}),a.createElement("stop",{offset:"0.5118",stopColor:"#F49E73",stopOpacity:"0.4882"}),a.createElement("stop",{offset:"0.7755",stopColor:"#F8B25F",stopOpacity:"0.2245"}),a.createElement("stop",{offset:"1",stopColor:"#FDCA47",stopOpacity:"0"})),a.createElement("radialGradient",{id:"paint2_radial_11994_841_smiling_emoji",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.179 12) scale(3.75)"},a.createElement("stop",{stopColor:"#F18D84"}),a.createElement("stop",{offset:"0.2514",stopColor:"#F29180",stopOpacity:"0.7486"}),a.createElement("stop",{offset:"0.5118",stopColor:"#F49E73",stopOpacity:"0.4882"}),a.createElement("stop",{offset:"0.7755",stopColor:"#F8B25F",stopOpacity:"0.2245"}),a.createElement("stop",{offset:"1",stopColor:"#FDCA47",stopOpacity:"0"})))),I=e=>a.createElement(r.e,Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:l.a.Green30},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM18.2071 9.20711C18.5976 8.81658 18.5976 8.18342 18.2071 7.79289C17.8166 7.40237 17.1834 7.40237 16.7929 7.79289L10 14.5858L8.20711 12.7929C7.81658 12.4024 7.18342 12.4024 6.79289 12.7929C6.40237 13.1834 6.40237 13.8166 6.79289 14.2071L10 17.4142L18.2071 9.20711Z",stroke:"none"})),j=e=>a.createElement(r.e,Object.assign({width:"18",height:"17",viewBox:"0 0 18 17",fill:"none"},e),a.createElement("path",{d:"M9 1L11.069 6.15226L16.6085 6.52786L12.3477 10.0877L13.7023 15.4721L9 12.52L4.29772 15.4721L5.65228 10.0877L1.39155 6.52786L6.931 6.15226L9 1Z",fill:"transparent",stroke:l.a.NeutralGray50,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}));var T=n("bO3R");const M="button",N=e=>({minWidth:m.a.rem(e),minHeight:m.a.rem(e),lineHeight:m.a.rem(e)}),P=e=>{const t=(t,n)=>{var a;return Object.assign({"& > i":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e.compact?{marginLeft:0}:{marginLeft:m.a.rem(-.25)}),"small"===e.size?{minWidth:m.a.rem(1.5)}:{}),"medium"===e.size?{minWidth:m.a.rem(1.75)}:{}),"large"===e.size?{minWidth:m.a.rem(2)}:{}),t),"&[data-disabled='true']":Object.assign({opacity:.4,cursor:"not-allowed"},null===(a=e.style)||void 0===a?void 0:a.disabled)},n)};return C.a.specificity(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({borderRadius:m.a.rem(l.e.Radius1),fontSize:m.a.rem(.75),textAlign:"center",padding:"0 "+m.a.rem(l.g.Space2),userSelect:"none",display:"inline-flex",alignItems:"center",justifyContent:"center"},e.compact?{padding:0}:{}),"small"===e.size?N(1.5):{}),"medium"===e.size?N(1.75):{}),"large"===e.size?N(2):{}),"primary"===e.type?((e,t)=>Object.assign(Object.assign({color:l.f.Base.Content.OnPrimary.Default,backgroundColor:C.b.BrandGreen60,transitionProperty:"border, background, color",fontWeight:"bold"},null==t?void 0:t.base),{$nest:e((null==t?void 0:t.icon)||{},{"&:not([data-disabled='true'])":{$nest:{"&[data-hovered='true']":Object.assign({backgroundColor:C.b.BrandGreen80},null==t?void 0:t.hovered),"&:focus-visible":Object.assign({boxShadow:`0 0 0 2px ${l.f.Base.Surface.Primary.Default}, 0 0 0 4px ${C.b.BrandGreen80}`},null==t?void 0:t.focusVisible),"&[data-active='true'], &:active":Object.assign({backgroundColor:C.b.BrandGreen60,color:l.f.Base.Surface.Primary.Default},null==t?void 0:t.active)}}})}))(t,e.style):{}),"secondary"===e.type?((e,t)=>Object.assign(Object.assign({backgroundColor:"transparent",fontWeight:"normal",color:l.a.BlueGray80,stroke:l.a.BlueGray80,boxShadow:"inset 0 0 0 1px "+l.a.BlueGray5,transitionProperty:"border, background, color"},null==t?void 0:t.base),{$nest:e(Object.assign({stroke:m.a.important(l.a.BlueGray80),fill:m.a.important(l.a.BlueGray80)},null==t?void 0:t.icon),{"&:not([data-disabled='true'])":{$nest:{"&[data-hovered='true']":Object.assign({backgroundColor:l.a.BlueGray0},null==t?void 0:t.hovered),"&:focus-visible":Object.assign({boxShadow:`inset 0 0 0 1px ${l.a.BlueGray80}, 0 0 0 1px ${l.a.BlueGray80}, 0 0 0 2px ${l.f.Base.Surface.Primary.Default}, 0 0 0 4px ${l.a.BlueGray80}`},null==t?void 0:t.focusVisible),"&[data-active='true'], &:active":Object.assign({backgroundColor:"transparent",color:l.a.BlueGray80},null==t?void 0:t.active)}}})}))(t,e.style):{}),"tertiary"===e.type?((e,t,n)=>Object.assign(Object.assign({backgroundColor:"transparent",fontWeight:"normal",color:l.f.Base.Content.Secondary.Default,transitionProperty:"border, background, color"},null==n?void 0:n.base),{$nest:t(Object.assign({stroke:m.a.important(l.f.Base.Content.Secondary.Default),fill:m.a.important(l.f.Base.Content.Secondary.Default)},null==n?void 0:n.icon),{"&:not([data-disabled='true'])":{$nest:Object.assign(Object.assign({"&[data-hovered='true'], &[data-active='true'], &:active":Object.assign({backgroundColor:l.a.BlueGray0,color:l.f.Base.Content.Secondary.Default},null==n?void 0:n.active)},"dark"===e.theme?{"&[data-hovered='true'], &[data-active='true'], &:active":Object.assign({backgroundColor:m.a.color(l.a.BlueGray0).toRGBA().fade(.2).toString()},null==n?void 0:n.active)}:{}),{"&:focus-visible":Object.assign({boxShadow:`0 0 0 2px ${l.f.Base.Surface.Primary.Default}, 0 0 0 4px ${l.f.Base.Content.Secondary.Default}`},null==n?void 0:n.focusVisible)})}})}))(e,t,e.style):{}),M,C.a.baseButtonContentOverrideSpecificity)},L=e=>m.a.joinClasses([M,m.a.style(P(e))]);var R,B,F=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};(B=R||(R={})).Primary=e=>{var{className:t,compact:n,theme:r,children:i,onClick:o,size:s,style:l}=e,c=F(e,["className","compact","theme","children","onClick","size","style"]);return a.createElement(T.a.Primary,Object.assign({},Object(h.c)(L({compact:n,theme:null!=r?r:"light",size:null!=s?s:"large",type:"primary",style:l}),t),c,{onClick:Object(C.q)(o)}),i)},B.Secondary=e=>{var{className:t,compact:n,theme:r,children:i,onClick:o,size:s,style:l}=e,c=F(e,["className","compact","theme","children","onClick","size","style"]);return a.createElement(T.a.Ghost,Object.assign({},Object(h.c)(L({compact:n,theme:null!=r?r:"light",size:null!=s?s:"large",type:"secondary",style:l}),t),c,{onClick:Object(C.q)(o)}),i)},B.Tertiary=e=>{var{className:t,compact:n,theme:r,children:i,onClick:o,size:s,style:l}=e,c=F(e,["className","compact","theme","children","onClick","size","style"]);return a.createElement(T.a.Tertiary,Object.assign({},Object(h.c)(L({compact:n,theme:null!=r?r:"light",size:null!=s?s:"large",type:"tertiary",style:l}),t),c,{onClick:Object(C.q)(o)}),i)};var D=n("7nmT"),H=n("b+P9"),V=n("MsKq"),U=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const W="#161719",q="#646B81",z=e=>{var{children:t,style:n,dataGrammarlyPart:r="ui-kit-iframe"}=e,i=U(e,["children","style","dataGrammarlyPart"]);const[o,s]=a.useState(null),l=a.useCallback(e=>{var t,n;let a=null;"contentDocument"in e.target&&(a=null!==(n=null===(t=e.target.contentDocument)||void 0===t?void 0:t.body)&&void 0!==n?n:null),s(a),a&&(a.style.margin="0",a.style.height="100vh",a.style.overflowY="hidden")},[]),c=a.useContext(V.a.Context);return a.useEffect(()=>{const e=c.subscribe(e=>{o&&V.a.setRootCssVar(o,H.some(e))});return()=>e.unsubscribe()},[o]),a.createElement("iframe",Object.assign({},i,{style:Object.assign({},n),onLoad:l,srcDoc:"<html><body></body></html>","data-grammarly-part":r}),o&&Object(D.createPortal)(t,o))},$=({fitContentHeight:e,text:t,ariaLabel:n,onChange:r,placeholder:i,disabled:o,className:s,onFocus:c,onBlur:u,onKeyDownEnter:d,autofocus:p,onKeyUpEscape:h,onKeyDownArrowUp:g,onKeyDownArrowDown:f,onKeyDownShiftEnter:b,theme:y})=>{var v,S,C;const w=1.375*(i?i.length:1),[k,E]=a.useState({kind:"rem",value:w}),[O,A]=a.useState(null);return a.useEffect(()=>{O&&void 0!==p&&(O.focus(),O.selectionStart=t.length,O.selectionEnd=t.length)},[p,O]),a.useLayoutEffect(()=>{if(""===t)E({kind:"rem",value:w});else{const e=null==O?void 0:O.scrollHeight;E(e?{kind:"px",value:e}:{kind:"rem",value:w})}},[t,O,i]),a.createElement(z,{className:s,style:{height:e?"rem"===k.kind?m.a.rem(k.value):m.a.px(k.value):void 0},title:n+" container"},a.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .container {\n        position: relative;\n        width: 100%;\n        height: 100%;\n      }\n      .textarea {\n        box-sizing: border-box;\n        border-radius: ${m.a.rem(l.e.Radius1)};\n        overflow-y: auto;\n        width: 100%;\n        height: 100%;\n        border: none;\n        padding: 0px;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${null!==(v=null==y?void 0:y.fontSize)&&void 0!==v?v:m.a.rem(.875)};\n        font-weight: 400;\n        color: ${null!==(S=null==y?void 0:y.color)&&void 0!==S?S:W};\n      }\n      .textarea::placeholder {\n        color: ${q};\n      }\n      .textarea:focus {\n        outline: none;\n      }\n      .placeholder {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        background: transparent;\n        font-family: Inter, sans-serif;\n        font-size: ${m.a.rem(.875)};\n        font-weight: 400;\n        z-index: -1;\n        color: ${q};\n      }\n      `}}),a.createElement("div",{className:"container"},a.createElement("textarea",{"aria-label":n,className:"textarea",style:{lineHeight:null!==(C=null==y?void 0:y.lineHeight)&&void 0!==C?C:m.a.rem(1.375)},value:t,ref:A,onChange:e=>r(e.target.value),placeholder:1===(null==i?void 0:i.length)?i[0]:void 0,disabled:o,onFocus:()=>null==c?void 0:c(),onBlur:()=>null==u?void 0:u(),onKeyDown:e=>{var t;d&&"Enter"===e.key&&!e.shiftKey?(e.preventDefault(),e.stopPropagation(),d()):"ArrowUp"===e.key&&g&&(G(t=e.currentTarget)&&0===t.selectionStart)?(e.preventDefault(),e.stopPropagation(),g()):"ArrowDown"===e.key&&f&&function(e){return G(e)&&e.selectionStart===e.value.length}(e.currentTarget)?(e.preventDefault(),e.stopPropagation(),f()):"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),e.stopPropagation(),null==b||b())},onKeyUp:e=>{h&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),h())}}),((null==i?void 0:i.length)||0)>1&&""===t?a.createElement("div",{className:"placeholder",style:{lineHeight:m.a.rem(1.375)}},(i||[]).map((e,t)=>a.createElement(a.Fragment,{key:t},e,a.createElement("br",null)))):null))};function G(e){return e.selectionStart===e.selectionEnd}var K=n("hUf6");const Y=new K.a(999999);var Z;!function(e){e.create=function(e){return null!=e?e:Y.newId()}}(Z||(Z={}));var X=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const Q=e=>{var{text:t,onChange:n,placeholder:r,disabled:i,className:o,onFocus:s,onBlur:c,onKeyPressEnter:u,autofocus:d,onKeyUpEscape:p}=e,h=X(e,["text","onChange","placeholder","disabled","className","onFocus","onBlur","onKeyPressEnter","autofocus","onKeyUpEscape"]);const[g,f]=a.useState(null);return a.useEffect(()=>{g&&void 0!==d&&g.focus()},[d,g]),a.createElement(z,{className:o,style:{height:m.a.rem(1.375)}},a.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .textBox {\n        box-sizing: border-box;\n        border-radius: ${m.a.rem(l.e.Radius1)};\n        overflow-y: auto;\n        width: 100%;\n        height: 100%;\n        border: none;\n        padding: 0;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${m.a.rem(.875)};\n        font-weight: 400;\n        color: ${W};\n      }\n      .textBox::placeholder {\n        color: ${q};\n      }\n      .textBox:focus {\n        outline: none;\n      }\n      `}}),a.createElement("input",Object.assign({},h,{className:"textBox",style:{lineHeight:m.a.rem(1.375)},value:t,ref:f,onChange:e=>n(e.target.value),placeholder:r,disabled:i,onFocus:()=>null==s?void 0:s(),onBlur:()=>null==c?void 0:c(),onKeyPress:e=>{u&&"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),e.stopPropagation(),u())},onKeyDown:e=>{p&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),p())}})))};var J=n("nxFc"),ee=n("U75S"),te=n("OA+g"),ne=n("xEVj"),ae=n("zR/0");const re={padding:`${m.a.rem(l.g.Space1)} ${m.a.rem(l.g.Space1+l.g.Space8)} ${m.a.rem(l.g.Space1)} ${m.a.rem(l.g.Space3)}`,border:"1px solid "+l.f.Emphasized.InteractiveNeutral.Primary.Default,borderRadius:m.a.rem(l.e.Radius1),width:m.a.rem(15),height:m.a.rem(2),boxSizing:"border-box",position:"relative"},ie={position:"absolute",right:m.a.rem(l.g.Space2),top:m.a.rem(.1875),border:"none",background:"transparent",display:"flex",alignItems:"center",cursor:"pointer",width:m.a.rem(1.5),height:m.a.rem(1.5),padding:0},oe=Object.assign(Object.assign({},C.a.iconSizeRems(1.5)),{$nest:{"& svg":{stroke:l.f.Base.Content.Secondary.Default}}}),se=e=>m.a.color(l.a.BlueGray40).toRGBA().fade(e).toString(),le={padding:m.a.rem(l.g.Space1),background:"white",boxShadow:`0px 0px 0px 0.5px ${l.a.BlueGray40}, 0px 0px 2px 0.5px ${se(.5)}, 0px 1px 6px 0.5px ${se(.25)}`,borderRadius:m.a.rem(l.e.Radius1),width:m.a.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:m.a.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},ce={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:m.a.rem(.875),lineHeight:m.a.rem(1.375),color:l.f.Base.Content.Primary.Default,padding:`${m.a.rem(.1875)} ${m.a.rem(l.g.Space3)}`,borderRadius:m.a.rem(l.e.Radius1),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{background:l.a.Blue0},"& mark":{backgroundColor:"unset",fontWeight:"bold"}}},ue={width:m.a.percent(100),border:"none"},de=m.a.style(re),pe=m.a.style(ie),me=m.a.style(oe),he=m.a.style(le),ge=m.a.style(ce),fe=m.a.style({whiteSpace:"pre"}),be=m.a.style(ue),ye=new K.a(999999);function ve({text:e,placeholder:t,clearButton:n,selectOnBlur:i,label:o,options:s,className:l,filterBy:c=((e,t)=>o(e).toLowerCase().includes(t.toLowerCase())),onInputChange:u,onSelectionChange:d}){const[p,m]=a.useState(!1),g=a.useRef(ye.newId().toString()),[f,b]=a.useState(null),[y,v]=a.useState(null),{styles:S,attributes:w}=Object(J.a)(f,y,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),k=s.filter(t=>c(t,e.trim())),E=p&&k.length>0,O=a.useMemo(()=>new ae.a.Subject,[]);return ne.a.useSubscriptionTo(O.pipe(ae.a.debounceTime(50),ae.a.filter(e=>!e),ae.a.tap(()=>{m(!1),i&&""!==e.trim()&&d(k.length>0?k[0]:null)}))),a.createElement("div",Object.assign({},Object(h.c)(de,l),{ref:b}),a.createElement(Q,{className:be,placeholder:t,onChange:u,text:e,onFocus:()=>{m(!0),O.next(!0)},onBlur:()=>O.next(!1),role:"combobox","aria-haspopup":"listbox","aria-owns":g.current,"aria-expanded":E}),""!==e.trim()&&!!n&&a.createElement("button",{onClick:Object(C.q)(()=>d(null)),className:pe,"aria-label":"Clear",type:"button"},a.createElement(r.d.Close,{className:me})),E&&a.createElement("div",Object.assign({ref:v,style:S.popper},w.popper,{className:he,onFocus:()=>O.next(!0),onBlur:()=>O.next(!1)}),a.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:g.current},k.map(t=>{const n=o(t);return a.createElement("li",{key:n,"aria-label":n,role:"option"},a.createElement("button",{className:ge,onClick:Object(C.q)(()=>{d(t),m(!1)})},a.createElement(Se,{label:n,pattern:e})))}))))}const Se=({label:e,pattern:t})=>{if(""===t.trim())return a.createElement(a.Fragment,null,e);const n=t.trim(),r=e.split(new RegExp(n,"i")),i=Object(te.pipe)(r.map((e,t)=>({token:e,mark:!1,end:t*n.length+r.slice(0,t).join("").length+e.length})),ee.mb({token:"",mark:!0,end:0})).map((t,a,r)=>t.mark&&a>0?{token:e.slice(r[a-1].end,r[a-1].end+n.length),mark:!0}:{token:t.token,mark:!1}).filter(e=>e.token.length>0);return a.createElement(a.Fragment,null,i.map((e,t)=>e.mark?a.createElement("mark",{key:t,className:fe},e.token):a.createElement("span",{key:t,className:fe},e.token)))},Ce={border:"1px solid "+l.f.Emphasized.InteractiveNeutral.Primary.Default,borderRadius:m.a.rem(l.e.Radius1),width:m.a.rem(15),height:m.a.rem(2),boxSizing:"border-box",position:"relative"},we={padding:`${m.a.rem(l.g.Space1)} ${m.a.rem(l.g.Space1+l.g.Space8)} ${m.a.rem(l.g.Space1)} ${m.a.rem(l.g.Space3)}`,width:"100%",height:"100%",border:"none",background:"transparent",position:"relative",cursor:"pointer",display:"flex",alignItems:"center"},ke={fontWeight:400,fontSize:m.a.rem(.875),lineHeight:m.a.rem(1.375),color:l.f.Base.Content.Primary.Default},Ee=Object.assign(Object.assign({position:"absolute",top:m.a.rem(l.g.Space1),right:m.a.rem(l.g.Space2)},C.a.iconSizeRems(1.5)),{$nest:{"& svg":{stroke:l.f.Base.Content.Secondary.Default}}}),Oe=e=>m.a.color(l.a.BlueGray40).toRGBA().fade(e).toString(),Ae={padding:m.a.rem(l.g.Space1),background:"white",boxShadow:`0px 0px 0px 0.5px ${l.a.BlueGray40}, 0px 0px 2px 0.5px ${Oe(.5)}, 0px 1px 6px 0.5px ${Oe(.25)}`,borderRadius:m.a.rem(l.e.Radius1),width:m.a.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:m.a.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},_e={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:m.a.rem(.875),lineHeight:m.a.rem(1.375),color:l.f.Base.Content.Primary.Default,padding:`${m.a.rem(.1875)} ${m.a.rem(l.g.Space3)}`,borderRadius:m.a.rem(l.e.Radius1),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{background:l.a.Blue0}}},xe=m.a.style(Ce),Ie=m.a.style(we),je=m.a.style(ke),Te=m.a.style(Ae),Me=m.a.style(_e),Ne=m.a.style(Ee),Pe=new K.a(999999);function Le({label:e,selection:t,className:n,placeholder:i,options:o,onSelectionChange:s,renderOption:l}){const[c,u]=a.useState(!1),d=a.useRef(Pe.newId().toString()),p=a.useRef(Pe.newId().toString()),m=a.useRef(null),[g,f]=a.useState(null),[b,y]=a.useState(null),{styles:v,attributes:S}=Object(J.a)(g,b,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),w=a.useMemo(()=>new ae.a.Subject,[]),k=a.useMemo(()=>w.pipe(ae.a.debounceTime(100),ae.a.filter(e=>!e),ae.a.tap(()=>{u(!1)})),[w,u]);return ne.a.useSubscriptionTo(k),a.createElement("div",Object.assign({},Object(h.c)(xe,n),{ref:f}),a.createElement("button",{ref:m,className:Ie,onClick:()=>{var e;u(!0),w.next(!0),null===(e=m.current)||void 0===e||e.focus()},onFocus:()=>{u(!0),w.next(!0)},onBlur:()=>w.next(!1),type:"button","aria-haspopup":"listbox","aria-owns":d.current,"aria-expanded":c,"aria-labelledby":p.current},a.createElement("div",{id:p.current,className:je},t?l?l(t):e(t):i),a.createElement(r.d.Arrow,{direction:r.a.down,className:Ne})),c&&a.createElement("div",Object.assign({ref:y,style:v.popper},S.popper,{className:Te,onFocus:()=>w.next(!0),onBlur:()=>w.next(!1)}),a.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:d.current},o.map((t,n)=>{const r=e(t);return a.createElement("li",{key:n,"aria-label":r,role:"option"},a.createElement("button",{className:Me,onClick:Object(C.q)(()=>{s(t),u(!1)})},l?l(t):e(t)))}))))}const Re=({className:e,children:t})=>a.createElement("div",Object.assign({},Object(h.c)(Be,e)),t),Be=m.a.style({color:l.a.BlueGray60,fontWeight:400,fontSize:m.a.rem(.625),lineHeight:m.a.rem(1),background:l.a.BlueGray0,borderRadius:m.a.rem(l.e.RadiusHalf),padding:"0 "+m.a.rem(l.g.Space1),cursor:"default"}),Fe="closeBtn",De="closeIcon",He=C.a.buttonOverrideSpecificity({$nest:{["& ."+De]:Object.assign(Object.assign({},C.a.iconSizeRems(1.5)),{stroke:m.a.important(l.f.Emphasized.Content.Primary.Default)})}},Fe),Ve={closeButton:m.a.joinClasses([Fe,m.a.style(He)]),closeIcon:De},Ue=({name:e,className:t,size:n,onClick:i})=>a.createElement(R.Tertiary,Object.assign({},Object(h.c)(Ve.closeButton,t),{onClick:i,compact:!0,size:n,theme:"dark",name:e}),a.createElement(r.d.Close,{className:Ve.closeIcon}));var We=n("Mi01"),qe=n("D9EC"),ze=n("LNSM"),$e=n("vOOZ"),Ge=n("e9jP"),Ke=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function Ye(e){var{children:t,onOpenChange:n,title:r,placement:i="bottom end",appearanceBehavior:o="mouseClick"}=e,s=Ke(e,["children","onOpenChange","title","placement","appearanceBehavior"]);const l=a.useMemo(()=>ze.a.create(!1),[]),c=a.useMemo(()=>l.pipe(ae.a.filter(e=>!0===e),ae.a.switchMap(()=>ae.a.timer(250)),ae.a.tap(()=>l.set(!1))),[l]);return ne.a.useSubscriptionTo(c),a.createElement(Ge.a.Consumer,null,({portalContainer:e})=>a.createElement($e.a.Fragment,null,e.view(H.fold(te.constNull,e=>a.createElement(We.a.Dropdown,Object.assign({title:l.pipe(ae.a.map(Object(qe.c)(void 0,r))),placement:i,appearanceBehavior:o,portalContainer:e,onOpenChange:e=>{e||l.set(!0),null==n||n(e)}},s),t)))))}var Ze=n("hoSD"),Xe=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const Qe=a.forwardRef((function(e,t){var{children:n,rel:r}=e,i=Xe(e,["children","rel"]);const o=a.useMemo(()=>Ze.f.alphanumeric(10),[]);return a.createElement(a.Fragment,null,a.createElement("span",{hidden:!0,id:o},"Opens an external site in a new window"),a.createElement("a",Object.assign({},i,{"aria-describedby":o,target:"_blank",rel:null!=r?r:"noopener noreferrer",ref:t}),n))}));var Je,et=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};!function(e){let t;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={}))}(Je||(Je={}));const tt=({tabs:e,activeTabId:t,onActiveTabChange:n,children:r})=>a.createElement(a.Fragment,null,a.createElement("div",{className:at,role:"tablist"},e.map(e=>a.createElement("button",{key:e.id,onClick:()=>n(e.id),tabIndex:0,className:rt,id:"tab-"+e.id,"aria-label":`${e.label} ${e.id===t?"Selected.":""}`,"aria-controls":"tabpanel-"+e.id,"aria-selected":t===e.id,role:"tab",type:"button"},e.label))),r),nt=e=>{var{id:t,isActive:n,children:r,className:i,style:o}=e,s=et(e,["id","isActive","children","className","style"]);return a.createElement("div",Object.assign({role:"tabpanel",id:"tabpanel-"+t,"aria-labelledby":"tab-"+t,hidden:!n,style:n?o:void 0,className:n?i:void 0},s),r)},at=m.a.style({display:"flex",alignContent:"flex-start",gap:m.a.rem(l.g.Space2)}),rt=m.a.style({cursor:"pointer",border:"none",display:"flex",alignItems:"center",background:"transparent",borderBottom:m.a.rem(l.g.SpaceHalf)+" solid transparent",fontWeight:400,fontSize:m.a.rem(.75),lineHeight:m.a.rem(1.125),height:m.a.rem(1.5),color:C.b.TextBaseSubduedColor,$nest:{'&[aria-selected="true"]':{borderBottomColor:C.b.TextBaseSubduedColor,fontWeight:700},'&[aria-selected="false"]:hover':{borderBottomColor:l.a.BlueGray10}}});var it=n("IqZr");const ot=({reference:e,children:t,placement:n,offset:r,theme:i,boundaryAreaPadding:o})=>{var s,l;const[c,u]=a.useState(null),[d,p]=a.useState(null),m=Object(it.c)(),{styles:h,attributes:g,state:f}=Object(J.a)(e,c,{placement:null!=n?n:"top",modifiers:[{name:"offset",options:{offset:[0,12+(null!=r?r:0)]}},{name:"arrow",options:{element:d,padding:12}},{name:"preventOverflow",options:{padding:null!=o?o:5}},m]});return e?a.createElement("div",Object.assign({ref:u,style:h.popper},g.popper,{className:lt(i)}),a.createElement("div",{ref:p,style:h.arrow,className:ct(null==i?void 0:i.bgColor),"data-placement":(null===(s=null==f?void 0:f.placement)||void 0===s?void 0:s.startsWith("bottom"))?"bottom":(null==f?void 0:f.placement.startsWith("top"))?"top":(null==f?void 0:f.placement.startsWith("right"))?"right":(null===(l=null==f?void 0:f.placement)||void 0===l?void 0:l.startsWith("left"))?"left":void 0}),t):null},st=m.a.keyframes({from:{opacity:0},to:{opacity:1}});function lt(e){var t,n,a;return m.a.style({animation:st+" linear 0.1s",background:null!==(t=null==e?void 0:e.bgColor)&&void 0!==t?t:l.f.Emphasized.Surface.Primary.Default,borderRadius:m.a.rem(l.g.Space2),width:null==e?void 0:e.width,color:null!==(n=null==e?void 0:e.fgColor)&&void 0!==n?n:l.f.Emphasized.Content.Primary.Default,padding:null!==(a=null==e?void 0:e.padding)&&void 0!==a?a:m.a.rem(l.g.Space4),fontSize:m.a.rem(.875),lineHeight:m.a.rem(1.375),display:"flex",flexDirection:"column",gap:m.a.rem(l.g.SpaceHalf),$nest:{"&[data-popper-reference-hidden='true']":{visibility:"hidden"}}})}function ct(e=l.f.Emphasized.Surface.Primary.Default,t=m.a.rem(.5),n=m.a.rem(-.5)){return m.a.style({$nest:{"&[data-placement='bottom']":{top:n,borderLeft:t+" solid transparent",borderRight:t+" solid transparent",borderBottom:`${t} solid ${e}`},"&[data-placement='top']":{bottom:n,borderLeft:t+" solid transparent",borderRight:t+" solid transparent",borderTop:`${t} solid ${e}`},"&[data-placement='right']":{left:n,borderTop:t+" solid transparent",borderBottom:t+" solid transparent",borderRight:`${t} solid ${e}`},"&[data-placement='left']":{right:n,borderTop:t+" solid transparent",borderBottom:t+" solid transparent",borderLeft:`${t} solid ${e}`}}})}const ut=({children:e,theme:t,body:n,placement:r,active:i,onCloseButtonClick:o})=>{const s=a.useRef(null);return a.createElement(a.Fragment,null,a.createElement(ot,{placement:r,reference:i&&s.current||void 0,theme:t},a.createElement(Ue,{onClick:o,name:"tooltipClose",className:dt,size:"small"}),n),a.cloneElement(e,{ref:s}))},dt=m.a.style({position:"absolute",top:m.a.rem(l.g.Space2),right:m.a.rem(l.g.Space2)}),pt=C.a.buttonOverrideSpecificity(C.a.iconSizeRems(1.5),"reportMenuBtnIcon"),mt=({reportMenuButtonClassName:e,onClickReportOffensive:t,onClickProvideFeedback:n,onOpenChange:i})=>a.createElement(Ye,{"aria-label":"Provide feedback",title:"Provide feedback",name:"reportMenu",label:a.createElement(p,{className:m.a.joinClasses(["reportMenuBtnIcon",m.a.style(pt)])}),theme:{button:m.a.joinClasses([e,L({type:"tertiary",compact:!0,size:"small"})])},onAction:e=>{switch(e){case"provideFeedback":return n();case"reportOffensive":return t()}},onOpenChange:i},a.createElement(We.a.Item,{key:"provideFeedback",textValue:"provideFeedback"},a.createElement(r.d.AssistantFeedback,null),"Share your thoughts"),a.createElement(We.a.Item,{key:"reportOffensive",textValue:"reportOffensive"},a.createElement(r.d.Report,null),"Report as offensive"));var ht=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const gt=a.forwardRef((function(e,t){var{children:n,style:r}=e,i=ht(e,["children","style"]);return a.createElement("section",Object.assign({className:m.a.style({display:"flex",flexDirection:"column",padding:m.a.rem(l.g.Space3),gap:m.a.rem(l.g.Space2),background:"transparent",border:"0.5px solid "+l.a.BlueGray10,borderRadius:m.a.rem(l.e.Radius1+l.e.RadiusHalf),backgroundColor:l.f.Base.Surface.Primary.Default,color:l.f.Base.Content.Primary.Default},r)},i,{ref:t}),n)})),ft=({className:e})=>a.createElement("div",Object.assign({role:"separator"},Object(h.c)(bt,e))),bt=m.a.style({position:"relative",width:"100%",borderBottom:"0.5px solid "+l.a.BlueGray10}),yt=({children:e})=>a.createElement($e.a.h1,{className:vt},e),vt=m.a.style({color:l.f.Base.Content.Secondary.Default,margin:0,fontWeight:400,fontSize:m.a.rem(.75),lineHeight:m.a.rem(1.125),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"})},wfm3:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n("ERkP");function r(e,t,n){let[r,i]=(0,a.useState)(e||t),o=(0,a.useRef)(void 0!==e),s=void 0!==e;(0,a.useEffect)(()=>{let e=o.current;e!==s&&console.warn(`WARN: A component changed from ${e?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}.`),o.current=s},[s]);let l=s?e:r,c=(0,a.useCallback)((e,...t)=>{let a=(e,...t)=>{n&&(Object.is(l,e)||n(e,...t)),s||(l=e)};if("function"==typeof e){console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),i((n,...r)=>{let i=e(s?l:n,...r);return a(i,...t),s?n:i})}else s||i(e),a(e,...t)},[s,l,n]);return[l,c]}function i(e,t=-1/0,n=1/0){return Math.min(Math.max(e,t),n)}},wt7H:function(e,t,n){"use strict";n.d(t,"a",(function(){return fe})),n.d(t,"b",(function(){return ye}));var a,r=n("ERkP"),i=n("a5W6"),o=n("prnJ"),s=n("NaPV"),l=n("1w6p"),c=n("D6Vf"),u=n("rTXf"),d=n("xEVj"),p=n("zR/0");!function(e){let t;e.Modal=l.b.Node.make(({state:e,view:n,notify:a})=>{d.a.useSubscriptionTo(n("source").pipe(p.a.first(),p.a.tap(e=>a({kind:t.open,source:e})())));const i=e.pipe(p.a.map(e=>a({kind:t.close,source:e.source,context:e.context,showOnLoad:e.showOnLoad})));return r.createElement(c.c,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:i},r.createElement(u.a,{blocks:n("blocks"),features:n("features"),close:i,upgrade:a({kind:t.upgrade}),reset:a({kind:t.reset}),showOnLoad:n("showOnLoad"),showOnLoadChanged:e=>a({kind:t.showOnLoadChanged,value:e})()}))}),function(e){e.open="open",e.close="close",e.upgrade="upgrade",e.reset="reset",e.showOnLoadChanged="showOnLoadChanged"}(t=e.ActionsKind||(e.ActionsKind={}))}(a||(a={}));var m=n("4Gmt"),h=n("6fbX"),g=n("lrqh"),f=n("kllO"),b=n("umZW"),y=n("+ukg");class v{constructor(e,t,n,a){this._userAccount=e,this._config=t,this._environment=n,this._telemetry=a,this.dismiss=()=>{this._userAccount.settings.incrementDunningDismissCount()},this.updatePayment=()=>{this._telemetry.gnarSpec.inProductDunningNoticationUpdatePaymentInformationButtonClick(this._telemetry.pageId),this._environment.actions.openPopup(new b.a(this._config.account.subscription))}}get isBusinessAdmin(){return y.g.isBusinessAdmin(this._userAccount.features.denaliUserType)}}var S=n("LNSM"),C=n("xlCj"),w=n("94k3"),k=n("Uwwq"),E=n("aIes"),O=n("Fgeo");const A=k.a.Category.Id.create(w.a.MutedAlerts.SpecialCategory.InQuotes);class _{constructor(e,t,n,a){this._denaliSettings=e,this._categoriesModel=t,this._features=n,this._telemetry=a,this._preferencesModel=this._denaliSettings.editorPreferences,this._newPreferences=S.a.create(this._denaliSettings.editorPreferences.get()),this.trackOpened=()=>{this._telemetry.gnarSpec.preferencesPopupShow(this._telemetry.pageId)},this.trackSuggestionManagementClicked=()=>{this._telemetry.gnarSpec.deactivatedSuggestionsSuggestionManagementClick(this._telemetry.pageId,"editorSettings",this._telemetry.pageSessionId)},this.update=()=>{const e=this._newPreferences.get(),t=this._categoriesModel.getMutedSpecialCategories().has(A),n=this.muteQuotedAlerts.get(),a=t!==n,r=!O.d.eq.equals(this._preferencesModel.get(),e)||a;e.suggestionsVisualMode!==this._preferencesModel.get().suggestionsVisualMode&&this._telemetry.gnarSpec.suggestionsVisualModeFeatureToggled(this._telemetry.pageId,e.suggestionsVisualMode,this._telemetry.pageSessionId),r&&(this._denaliSettings.updateEditorPreferences(e),this._telemetry.gnarSpec.preferencesFormSuccess(this.autoScrollToNextAlert.get(),e.fontSize,n,this._telemetry.pageId,e.suggestionsVisualMode)),a&&(t?(this._categoriesModel.unmuteCategories([A]),this._telemetry.gnarSpec.muteQuotedAlertsFeatureToggled(this._telemetry.pageId,"unmuted",this._telemetry.pageSessionId)):(this._categoriesModel.muteCategories([A]),this._telemetry.gnarSpec.muteQuotedAlertsFeatureToggled(this._telemetry.pageId,"muted",this._telemetry.pageSessionId)))},this.autoScrollToNextAlert=this._newPreferences.lens("autoScrollToNextAlert").lens(E.b.O.unwrap(!this._features.autoJumpSettings.isDisabledByDefault)),this.fontSize=this._newPreferences.lens(C.a.create(e=>e.fontSize===O.e.Large,(e,t)=>Object.assign(Object.assign({},t),{fontSize:e?O.e.Large:O.e.Normal}))),this.suggestionsVisualMode=this._newPreferences.lens(C.a.create(e=>e.suggestionsVisualMode===O.o.Accessible,(e,t)=>Object.assign(Object.assign({},t),{suggestionsVisualMode:e?O.o.Accessible:O.o.Default}))),this.muteQuotedAlerts=S.a.create(this._categoriesModel.getMutedSpecialCategories().has(A)),this.showMuteQuoted=!this._features.sdui}}var x=n("8z+V"),I=n("I7vG"),j=n("gy42"),T=n("BoSw"),M=n("PrA7");class N{constructor(e,t,n,a){this.reportViewModel=e,this._documentModel=t,this._notificationsManager=n,this._modalOperations=a,this.state=p.a.defer(()=>j.b.promiseToStream(()=>this._documentModel.calculateStats())).pipe(p.a.combineLatest(this._documentModel.checkingState,(e,t)=>Object(I.pipe)(e,g.g.filter(()=>"idle"===t))),p.a.switchMap(g.g.fold(()=>p.a.of({type:T.a.State.Type.LOADING}).pipe(p.a.delay(150)),g.b.fold(e=>(M.Monitoring.Logging.getLogger("editor.toolbar").error("Error on requesting document stats",e),this._notificationsManager.enqueue("statisticsError").pipe(p.a.mapTo({type:T.a.State.Type.ERROR}),p.a.finalize(()=>this.onModalClose()))),e=>S.a.combine(this._documentModel.score,this._documentModel.counters,this._documentModel.documentLength.view("trimmed"),(t,n,a)=>Object(I.pipe)(t,g.g.fold(()=>({type:T.a.State.Type.SHORT_CONTENT}),t=>({type:T.a.State.Type.READY,documentIsEmpty:0===a,score:t,counters:n,stats:e}))))))),p.a.startWith({type:T.a.State.Type.EMPTY}),p.a.publishReplay(1),p.a.refCount()),this.onModalClose=()=>{this._modalOperations.onClose()}}}var P=n("OA+g"),L=n("eZux");var R=n("hoSD"),B=n("USP3");function F(e,t,n,r,i,s,c){return Object(I.pipe)(function(e,t,n,r,i,s,c,u){const d=Object(I.pipe)(e.defaultContext.get(),g.g.fold(()=>(M.Monitoring.Logging.getLogger("createSetGoalsFlow").warn("Default context not yet set, using fallback",i),i),P.identity)),p=L.a.create(e.context.get(),d,s,u),m=S.a.combine(p.showSetGoalsLoader,p.localContext,(e,t)=>({blocks:p.blocks,context:t,showOnLoad:e,features:s,source:r}));return l.a.fromSideEffect(r=>{switch(r.kind){case a.ActionsKind.open:t.goalsPopupShow(r.source);break;case a.ActionsKind.upgrade:t.getPremiumButtonClick(),c();break;case a.ActionsKind.close:n.onClose();const i=(()=>g.g.contains("academic")(r.context.domain)&&s.isStudentsOFE)()&&g.g.isNone(r.context.outcomeContext)?Object.assign(Object.assign({},r.context),{outcomeContext:g.g.some(o.a.OutcomeContext.defaultAcademic)}):r.context;e.updateContext(i)&&t.goalsFormSuccess(i,d);break;case a.ActionsKind.reset:p.localContext.set(o.a.unset);break;case a.ActionsKind.showOnLoadChanged:p.showSetGoalsLoader.set(r.value);break;default:Object(h.c)(r)}},m)}(t,function(e,t,n){return{goalsPopupShow:t=>e.gnarSpec.goalsPopupShow(e.pageId,t),getPremiumButtonClick:()=>e.gnarSpec.getPremiumButtonClick(e.pageId,"goPremium","setGoalsPopup"),goalsFormSuccess:(a,r)=>{const i=()=>g.g.contains("academic")(a.domain)&&t.features.denali.isStudentsOFE;return e.gnarSpec.goalsFormSuccess(Object(I.pipe)(a.domain,g.g.getOrElse(()=>r.domain)),Object(I.pipe)(a.goals,g.g.map(e=>i()?[]:e),g.g.getOrElse(()=>r.goals),e=>Array.from(e)),e.pageId,n,Object(I.pipe)(a.outcomeContext,g.g.filter(i),g.g.map(R.e.pick("type")),g.g.toUndefined),Object(I.pipe)(a.audience,g.g.filter(Object(P.not)(i)),g.g.toUndefined),Object(I.pipe)(a.outcomeContext,g.g.filter(i),g.g.map(R.e.pick("citation")),g.g.toUndefined),Object(I.pipe)(a.style,g.g.filter(Object(P.not)(i)),g.g.toUndefined))}}}(r,e,s),i,s,c,{demoMode:e.features.demoMode,isFree:e.features.isFree.get(),isStudentsOFE:e.features.denali.isStudentsOFE},()=>n.openUpgradeUrl(B.a.Place.DenaliDocument.editorDenaliGoals),e.settings.enableSetGoalsLoader.get()),l.a.extendActions(p.a.pipe(p.a.tap(t=>{switch(t.kind){case a.ActionsKind.close:e.settings.enableSetGoalsLoader.get()!==t.showOnLoad&&(e.settings.updateSetGoalsLoader(t.showOnLoad),r.gnarSpec.showGoalsNewDocumentFormSuccess(t.showOnLoad,r.pageId,s))}}))))}var D=n("lqtc"),H=n("XBrO");const V=({changePlanViewModel:e})=>r.createElement(c.c,{positionType:"fixed",animate:!0,smallResolution:"resize",onClose:e.close},r.createElement(H.a,{changePlanViewModel:e}));var U=n("n+Au"),W=n("bO3R"),q=n("wsrD"),z=n("BugA"),$=n("rmLU"),G=n("ztZG"),K=n("JMYL");const Y=()=>{const e=r.useContext(c.a.TitleIdContext);return r.createElement(z.c,{id:e},"Send Product Feedback")},Z=({feedbackViewModel:e,modalOperations:t})=>{const n=r.useContext($.a.Context),a=S.a.create(!0);return r.useEffect(()=>{e.modalShown.next();const n=a.pipe(p.a.first(e=>!1===e)).subscribe(t.onClose);return()=>n.unsubscribe()},[e.modalShown,a,t.onClose]),r.createElement(c.b,{positionType:"fixed",visible:a,preventClose:!0,animate:!0},r.createElement(c.a,{className:K.wrapper},r.createElement(c.a.Header,null,r.createElement(Y,null)),r.createElement(c.a.Body,{className:K.feedbackPopupBody,name:"feedbackBody"},r.createElement(z.i,{className:K.description},"Tell us what you think. We promise to act on your feedback to make Grammarly even more awesome."),r.createElement(q.a,{autofocus:!0,value:e.currentText.lens("brief"),placeholder:"Brief description",className:K.briefDescriptionInput}),r.createElement(q.d,{placeholder:"Type your feedback",className:K.feedbackInput,value:e.currentText.lens("detailed")}),r.createElement(z.a,null,"If you have a support or billing-related request, please go to"," ",r.createElement(G.a,{href:n.support.mainPage,target:"_blank",className:K.helpdesk},"Grammarly Helpdesk"))),r.createElement(c.a.Footer,{className:K.feedbackPopupFooter},r.createElement(W.a.Ghost,{name:"cancel",onClick:()=>a.set(!1)},"Cancel"),r.createElement(W.a.Primary,{name:"send",disabled:e.currentText.view(e=>""===e.brief||""===e.detailed),onClick:()=>(a.set(!1),e.sendFeedback())},"Send"))))};var X=n("9NHN"),Q=n("rk+4"),J=n("3rlE"),ee=n("e12y"),te=n("ax6a"),ne=n("cQVk");const ae=e=>r.createElement(c.c,{positionType:"fixed",animate:!0,onClose:e.modalOperations.onClose},r.createElement(ie,{preferencesViewModel:e.preferencesViewModel,close:e.modalOperations.onClose,isSDUIEnabled:e.isSDUIEnabled})),re=()=>{const e=r.useContext(Q.a.Context),t=r.useContext(c.a.TitleIdContext);return r.createElement(z.c,{id:t},e.editorSettingsModalHeader)},ie=({preferencesViewModel:e,isSDUIEnabled:t,close:n})=>{const a=r.useContext(Q.a.Context);return d.a.useEffectOnDidMount(e.trackOpened),d.a.useEffectOnWillUnmount(e.update),r.createElement(c.a,{className:he.popupWrapper},r.createElement(c.a.Header,{className:he.popupHeader},r.createElement(re,null)),r.createElement(c.a.Body,{name:"preferencesBody",className:he.popupBody},r.createElement(ue,{value:e.autoScrollToNextAlert,id:"autoScrollSwitcher",title:a.preferences.autoJumpToNextAlert,description:a.preferences.autoJumpToNextAlertDescription}),!0===e.showMuteQuoted?r.createElement(ue,{value:e.muteQuotedAlerts,id:"muteCitedAlerts",title:a.preferences.muteQuotedAlerts}):null,r.createElement(ue,{value:e.fontSize,id:"fontSizeIncreasedSwitcher",title:a.preferences.increaseFontSize}),r.createElement(ue,{value:e.suggestionsVisualMode,id:"suggestionsVisualModeSwitcher",title:a.preferences.suggestionsVisualMode.title,description:t?a.preferences.suggestionsVisualMode.descritionSDUI:a.preferences.suggestionsVisualMode.description}),r.createElement(ce,{onClick:e.trackSuggestionManagementClicked})),r.createElement(c.a.Footer,null,r.createElement(W.a.Primary,{name:"pref-done-btn",className:he.doneButton,onClick:n},a.done)))},oe=({children:e})=>r.createElement(z.l,{className:he.description},e),se=({children:e,className:t})=>r.createElement("section",Object.assign({},Object(X.c)(he.bodySection,t)),e),le=e=>{const t=r.useContext($.a.Context),n=r.useContext(Q.a.Context).preferences;return r.createElement(W.a,{name:"manage-suggestions",href:t.account.suggestions,target:"_blank",onClick:e.onClick,className:he.manageSuggestions},n.suggestionManagementLink,r.createElement(J.d.OuterLink,{className:he.manageSuggestionsIcon}))},ce=e=>{const t=r.useContext(Q.a.Context).preferences;return r.createElement(se,null,r.createElement(le,{onClick:e.onClick}),r.createElement(oe,null,t.suggestionManagementDescription))},ue=({value:e,id:t,title:n,description:a,className:i})=>r.createElement(se,{className:R.c.classes(he.setting,i)},r.createElement("label",{id:t},r.createElement(z.a,null,n),Boolean(a)?r.createElement(oe,null,a):null),r.createElement(ne.a,{checked:e,className:he.toggle,name:t,ariaLabelledBy:t})),de=ee.a.rem(2),pe=ee.a.rem(1),me=te.a.CoreBlue50,he=ee.a.prefixedStylesheet("preferencePopup",{popupWrapper:[{display:"flex",flexDirection:"column",width:ee.a.rem(27),userSelect:"none"}],popupHeader:[{padding:`${ee.a.rem(3)} ${de} ${pe}`,backgroundColor:te.a.CoreNeutral0}],popupBody:[{padding:"0 "+de}],doneButton:[{padding:ee.a.important("0 "+pe)}],bodySection:[{padding:pe+" 0",borderTop:"1px solid "+te.a.CoreNeutral20}],description:[{color:te.a.CoreNeutral50,marginTop:ee.a.rem(.5),whiteSpace:"pre-line"}],selectableLabel:[{userSelect:"text",cursor:"text"}],setting:[{display:"flex",cursor:"pointer",justifyContent:"space-between"}],toggle:[{marginLeft:ee.a.rem(1.75),marginTop:ee.a.rem(.125)}],manageSuggestions:[{display:"flex",alignItems:"center",color:me,fontSize:ee.a.rem(te.h.BodySize),fontWeight:te.h.BodyWeight,lineHeight:ee.a.rem(2),marginTop:ee.a.rem(-.3125)}],manageSuggestionsIcon:[{stroke:"currentColor"}]});var ge,fe,be;!function(e){e.Tour="Tour",e.WhatsNew="WhatsNew",e.Proofit="Proofit",e.Preferences="Preferences",e.Feedback="Feedback",e.ChangePlan="ChangePlan",e.Dunning="Dunning",e.SignOut="SignOut"}(ge||(ge={})),(be=fe||(fe={})).tour={type:ge.Tour},be.news={type:ge.WhatsNew},be.feedback={type:ge.Feedback},be.dunning={type:ge.Dunning},be.preferences={type:ge.Preferences},be.changePlan=e=>({type:ge.ChangePlan,model:e}),be.setGoals=s.c.setGoals,be.performance=s.c.performance,be.signOut={type:ge.SignOut};class ye{constructor(e,t,n,a,r,i,o,s,l,c,u,d,p){this._userAccount=e,this._textResources=t,this._documentContext=n,this._upgradeViewModel=a,this._config=r,this._environment=i,this._feedbackViewModel=o,this._notificationsManager=s,this._documentModel=l,this._reportViewModel=c,this._telemetry=u,this._categoriesModel=d,this._logout=p}load(e){switch(e.type){case ge.ChangePlan:return this._loadChangePlanModal(e.model);case ge.Tour:return this._userAccount.features.denali.demoDocOnboardingCopyV1?this._loadTourDemoDocOnboardingCopyV1():this._loadTour();case ge.WhatsNew:return this._loadWhatsNew();case ge.Preferences:return this._loadPreferences();case ge.Feedback:return this._loadFeedback();case ge.Dunning:return this._loadDunning();case s.d.SetGoals:return this._loadSetGoals(e.source);case s.d.Performance:return this._loadPerformance();case ge.Proofit:throw new Error(`Failed to load ${e} modal`);case ge.SignOut:return this._loadSignOut();default:return Object(h.c)(e)}}_loadTourDemoDocOnboardingCopyV1(){return Promise.all([n.e(0),n.e(32)]).then(n.bind(null,"5WOL")).then(({TourModalDemoDocOnboardingCopyV1:e})=>t=>{const n=new D.b(this._userAccount.settings,t);return{instance:{type:ge.Tour},component:r.createElement(e,{tourViewModel:n})}})}_loadTour(){return(new Image).src=n("cppq"),Promise.all([n.e(0),n.e(3),n.e(25)]).then(n.bind(null,"w2B9")).then(({TourModal:e,getSteps:t})=>n=>{const a=new D.c(g.g.unsafeGet(this._userAccount.features.denali.tour),t(this._textResources.base),this._userAccount.settings,n);return{instance:{type:ge.Tour},component:r.createElement(e,{tourViewModel:a})}})}_loadWhatsNew(){return Promise.all([n.e(23).then(n.bind(null,"b9Qk")).then(({newsMedia:e,initStaticNewsData:t,ordNews:n})=>{const a=Object.values(t(this._textResources.base)).map(t=>({id:t.id,date:t.date,content:Object.assign({title:t.title,body:t.body},e[t.id])})),r=i.sort(n)(Object.values(a).filter(e=>this._userAccount.features.denali.newsConfig[e.id].visible()));return r.forEach(e=>{(new Image).src=x.a.Content.isVideo(e.content)?e.content.poster:e.content.image}),r}),Promise.all([n.e(0),n.e(139)]).then(n.bind(null,"CqKJ"))]).then(([e,{WhatsNewPopup:t}])=>n=>({instance:{type:ge.WhatsNew},component:r.createElement(t,{newsVM:new x.b(this._userAccount.settings),content:e,modalOperations:n})}))}_loadSetGoals(e){return Promise.resolve(t=>{const n=F(this._userAccount,this._documentContext,this._upgradeViewModel,this._telemetry,t,e,o.a.defaultContextFallback);return{instance:{type:s.d.SetGoals,source:e},component:l.b.mount(a.Modal,n)}})}_loadPreferences(){const e=new _(this._userAccount.settings,this._categoriesModel,this._userAccount.features.denali,this._telemetry);return Promise.resolve(t=>({instance:{type:ge.Preferences},component:r.createElement(ae,{preferencesViewModel:e,modalOperations:t,isSDUIEnabled:this._userAccount.features.denali.sdui})}))}_loadFeedback(){return Promise.resolve(e=>({instance:{type:ge.Feedback},component:r.createElement(Z,{feedbackViewModel:this._feedbackViewModel,modalOperations:e})}))}_loadSignOut(){return n.e(140).then(n.bind(null,"uBz+")).then(({SignOutPopup:e})=>t=>{const n=e.Flow(t,this._telemetry,this._userAccount.settings,this._userAccount.features,this._logout);return{instance:{type:ge.SignOut},component:l.b.mount(e.View,n)}})}_loadDunning(){return n.e(138).then(n.bind(null,"Edy/")).then(({DunningPopup:e})=>t=>{const n=new v(this._userAccount,this._config,this._environment,this._telemetry);return{instance:{type:ge.Dunning},component:r.createElement(e,{dunningViewModel:n,modalOperations:t})}})}_loadPerformance(){return Promise.resolve(e=>{const t=new N(this._reportViewModel,this._documentModel,this._notificationsManager,e),n=l.b.Knot.make(m.a.ModalView,{downloadButton:l.b.Node.make(()=>r.createElement(U.b,{reportViewModel:t.reportViewModel,state:t.state}))}),a=l.a.fromSideEffect(t=>{switch(t.action.kind){case m.a.ActionsKind.close:e.onClose();break;default:Object(h.c)(t.action.kind)}},t.state.pipe(p.a.map(e=>({root:e}))));return{instance:{type:s.d.Performance},component:l.b.mount(n,a)}})}_loadChangePlanModal(e){return Promise.resolve(t=>{const n=new f.a(e,t,this._notificationsManager,this._telemetry);return{instance:{type:ge.ChangePlan,model:e},component:r.createElement(V,{changePlanViewModel:n})}})}}},x98X:function(e,t,n){e.exports=n.p+"files/db93eceba2b0e3ad6331500e393c0ec8/ring-48.png"},xGXC:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n("ERkP"),r=n("BugA"),i=n("hoSD"),o=n("e12y"),s=n("SD38"),l=n("WIwS");const c=n("ax6a").a.CoreNeutral0,u={position:"relative",width:o.a.percent(100),height:o.a.vh(100),boxShadow:"0 -25px 56px 0 rgba(96, 101, 123, .05)"},d={position:"absolute",top:o.a.percent(30),overflow:"hidden",width:o.a.percent(100),height:o.a.rem(24),$nest:{"&::after":{position:"absolute",top:0,left:0,width:o.a.percent(100),height:o.a.percent(100),backgroundImage:`linear-gradient(-180deg, ${c} 5%, ${s.transparent} 50%, ${c} 95%)`,content:"''"},[`@media (${o.d.smallHeightMedia})`]:{top:o.a.percent(15)}}},p={opacity:0,animationName:o.a.keyframes({"0%":{opacity:1},"100%":{opacity:0}}),animationDuration:"1s",animationIterationCount:1,$nest:{"&:nth-child(2)":{animationDelay:".1s"},"&:nth-child(3)":{animationDelay:".3s"}}},m={padding:"0 "+o.a.rem(1),color:l.j,lineHeight:o.a.rem(3),transition:"color .3s",willChange:"color"},h=o.a.stylesheet({wrapper:[u],checkingWrapper:[d],dot:[{transition:"opacity .6s",transitionDelay:".3s",$nest:{"&:nth-child(2)":{transitionDelay:".5s"},"&:nth-child(3)":{transitionDelay:".7s"}}}],dotOptimized:[p],item:[m]});var g=n("3gtx");const f={position:"absolute",width:o.a.percent(100),$nest:{"&:last-child:after":{position:"absolute",top:o.a.rem(3),width:o.a.percent(100),height:o.a.rem(3),content:"''",pointerEvents:"none"}}},b={transition:"transform "+o.a.seconds(.3)},y=o.a.stylesheet({flowPosition:[f],flowPositionAnimate:[b]}),v=e=>{const{offset:t}=e,{flowPosition:n,flowPositionAnimate:r}=e.theme||y;return a.createElement("div",{style:{transform:`translate3d(0, ${t}, 0)`},className:`${n} ${r}`},e.children)},S=["Conjunctions","Determiners","Fluency","Modifiers","Nouns","Numerals","Prepositions","Pronouns","Punctuation","Syntax","Spelling","Verbs","Word Order","Conciseness","References","Voice","Formality","Sensitivity","Variety","Vocabulary","Conventions"].map(e=>({id:e,title:e})),C=e=>a.createElement("span",null,a.createElement("span",{className:h.dotOptimized},"."),a.createElement("span",{className:h.dotOptimized},"."),a.createElement("span",{className:h.dotOptimized,onAnimationEnd:e.onTransitionEnd},".")),w=()=>{const[e,t]=a.useState(()=>i.a.shuffle(S)),n=a.useCallback(()=>{t(e=>{const t=e.slice(0),n=t.shift();return n&&t.push(n),t})},[]);return a.createElement("div",{className:h.wrapper},a.createElement("div",{className:h.checkingWrapper},e.slice(0,8).map(({id:e,title:t},i)=>a.createElement(v,{key:e,offset:100*i+"%",theme:g.a},a.createElement(r.a,{className:h.item},t,5===i&&a.createElement(C,{onTransitionEnd:n}))))))}},xU3y:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("mvgW");var a={show:function(e){return JSON.stringify(e)}}},xdtP:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("ERkP"),r=n("FpF0");const i={MLA:"https://owl.purdue.edu/owl/research_and_citation/mla_style/mla_formatting_and_style_guide/mla_works_cited_electronic_sources.html",APA:"https://owl.purdue.edu/owl/research_and_citation/apa_style/apa_formatting_and_style_guide/reference_list_electronic_sources.html",Chicago:"https://owl.purdue.edu/owl/research_and_citation/chicago_manual_17th_edition/cmos_formatting_and_style_guide/web_sources.html"},o=e=>({type:t})=>a.createElement(r.a,{href:i[t],className:e},t)},yA7V:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("BbAu"),i=n("OA+g"),o=n("I7vG"),s=n("PK5a"),l=n("7b34"),c=n("lrqh"),u=n("tn8Q"),d=n("v0pb"),p=n("Xo/A"),m=n("lSTv");!function(e){let t;!function(e){e.show=l.a.getShow(r.e,d.a.show),e.eq=l.a.getEq(d.a.Id.ord,d.a.ord),e.empty=()=>l.a.empty(),e.toRegistered=function(e){return l.a.fromMutation(t=>{Object(o.pipe)(e,l.a.forEach((e,n)=>d.a.isRegistered(e)&&t.set(n,c.m.left(e)),(e,n,a)=>{d.a.isRegistered(e)?d.a.isRegistered(n)?t.set(a,c.m.both(e,n)):t.set(a,c.m.left(e)):d.a.isRegistered(n)&&t.set(a,c.m.right(n))},(e,n)=>d.a.isRegistered(e)&&t.set(n,c.m.right(e))))})},e.filter=function(e){return l.a.filter(e,(t,n)=>e(t)&&e(n),e)}}(t=e.Diff||(e.Diff={})),e.empty=p.a.iso.wrap(p.a.empty),e.eq=s.getEq(p.a.eqShow),e.show=p.a.eqShow,e.get=function(e){return Object(i.flow)(p.a.iso.unwrap,p.a.get(e))},e.reduce=function(e,t){return Object(i.flow)(p.a.iso.unwrap,p.a.reduce(e,t))},e.diff=function(e,t){return p.a.diff(p.a.iso.unwrap(e),p.a.iso.unwrap(t))},e.isEmpty=function(e){return 0===p.a.iso.unwrap(e).entries.size},e.find=function(e){return Object(i.flow)(p.a.iso.unwrap,p.a.find(e))},e.size=function(){return Object(i.flow)(p.a.iso.unwrap,p.a.size)},e.from=function(e){return Object(o.pipe)(p.a.createDiff({added:e.reduce((e,t)=>e.set(t.id,d.a.create(t)),new Map)}),u.a.recover(i.constVoid),m.a.applyDiff,c.j.map(Object(i.flow)(u.a.recover(i.constVoid),p.a.iso.wrap)))(p.a.empty)}}(a||(a={}))},yB2L:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("ERkP"),i=n("vOOZ"),o=n("9NHN"),s=n("zR/0"),l=n("gy42"),c=n("hoSD"),u=n("ax6a"),d=n("zI3C"),p=n("3rlE"),m=n("jAl6"),h=n("e12y"),g=n("SD38"),f=n("CXK/"),b=n("viRF");!function(e){function t(e){return 0===e?"":e>=1e3?Math.min(Math.trunc(e/1e3),9)+"k+":String(e)}const n=({className:e,isChecking:t,type:n,animateFade:a=!0})=>{const{state:l,complete:c}=f.a.fadeOutState(t);return r.createElement(i.a.div,Object.assign({},Object(o.c)(V.loader,e)),a?l.pipe(s.a.map(e=>"end"===e?r.createElement("div",{key:"checking-complete",className:"checking-complete"}):r.createElement(m.a,{key:"spinner",variation:n,size:"100%",className:"fadeOut"===e?V.fadeOut:void 0,onTransitionEnd:c}))):t.pipe(s.a.map(e=>e?r.createElement(m.a,{variation:n,size:"100%"}):r.createElement("div",{className:"checking-complete"}))))},a=({name:e,theme:n={},count:a,type:s="white",suffix:u=""})=>{const p=r.useContext(d.a.Context);return r.createElement(i.a.div,Object.assign({},Object(o.c)(V.roundCounter,l.b.mapMaybeObservable(s,m.a.getClassName(V)),n.counterWrapper),{"data-role":"counter"}),r.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 32",className:V.circular},r.createElement("g",null,r.createElement("circle",{r:"15.75",cx:"16",cy:"16"}),r.createElement("text",Object.assign({x:"16",y:"17"},c.c.svgVerticalAlignment(p.has(d.a.Flag.supportsSVGDominantBaseline)),{fontSize:a>=100?14:18,"data-name":e},Object(o.c)(E,n.counterContent)),t(a),u))))},u=({name:e,theme:n={},count:a,type:s="white",suffix:u=""})=>{const p=r.useContext(d.a.Context);return r.createElement(i.a.div,Object.assign({},Object(o.c)(V.ovalCounter,l.b.mapMaybeObservable(s,m.a.getClassName(V)),n.counterWrapper),{"data-role":"counter"}),r.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 20",className:V.circular},r.createElement("rect",{width:"32",height:"20",rx:"10"}),r.createElement("text",Object.assign({x:"16",y:"10.5"},c.c.svgVerticalAlignment(p.has(d.a.Flag.supportsSVGDominantBaseline)),{fontSize:11,"data-name":e},Object(o.c)(E,n.counterContent)),t(a),u)))};e.Counter=({theme:e={},count:t,type:n="white"})=>{const i=t>=100?u:a;return r.createElement(i,{theme:Object.assign(Object.assign({},e),{counterWrapper:Object(o.c)(e.counterWrapper,V.flexCounter).className}),count:t,type:n})},e.OutcomeCounter=({name:e,theme:n={},count:a,type:s="white",suffix:u,fontSize:p=12})=>{const h=r.useContext(d.a.Context);return r.createElement(i.a.div,Object.assign({},Object(o.c)(V.outcomeCounter,l.b.mapMaybeObservable(s,m.a.getClassName(V)),n.counterWrapper),{"data-role":"counter"}),r.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 18",className:V.circular},r.createElement("rect",Object.assign({},function(e,t){return t||e>=100?{width:32}:e>=10?{x:4,width:24}:{x:7,width:18}}(a,Boolean(u)),{height:18,rx:9})),r.createElement("text",Object.assign({x:"50%",y:"10px"},c.c.svgVerticalAlignment(h.has(d.a.Flag.supportsSVGDominantBaseline)),{fontSize:p,"data-name":e},Object(o.c)(E,n.counterContent)),t(a),u)))},e.MainMeter=({count:e,isChecking:t,className:i})=>{const s=0===e;return r.createElement("div",Object.assign({},Object(o.c)(V.meter,i)),r.createElement(n,{isChecking:t,type:s?"green":"red"}),0===e?r.createElement(p.d.Grammarly,null):r.createElement(a,{count:e,type:"red",name:"toolbar-mistakes"}))},e.LensNavMeter=({count:e,isChecking:t})=>r.createElement("div",{className:V.lensNavMeter},r.createElement(n,{isChecking:t,type:"red"}),r.createElement(a,{count:e,type:"white",name:"toolbar-mistakes"})),e.PlagiarismMeter=({count:e,isChecking:t,className:a})=>r.createElement("div",Object.assign({},Object(o.c)(V.plagiarismMeter,a)),r.createElement(n,{isChecking:t,type:"violet",animateFade:!1}),r.createElement(i.a.div,{className:V.wrapper},e.pipe(s.a.combineLatest(t),s.a.map(([e,t])=>0===e?r.createElement(p.d.NotificationInfo,{className:V.plagiarismIcon,key:"icon",width:20}):!t&&r.createElement(u,{count:e,type:"violet",key:"value",suffix:r.createElement("tspan",{fontSize:8,dominantBaseline:"center"},"%")})),s.a.startWith(null)))),e.PlagiarismOutcomesMeter=({count:t,isChecking:a,className:l})=>r.createElement("div",Object.assign({},Object(o.c)(V.plagiarismMeter,l)),r.createElement(n,{isChecking:a,type:"cyan",animateFade:!1}),r.createElement(i.a.div,{className:V.wrapper},t.pipe(s.a.combineLatest(a),s.a.map(([t,n])=>b.a.isMin(t)?r.createElement(p.d.CheckmarkOutcomes,{className:V.plagiarismOutcomeIcon,key:"icon",width:20}):!n&&r.createElement(e.OutcomeCounter,{count:b.a.prism.reverseGet(t),type:"cyan",key:"value",suffix:r.createElement("tspan",{fontSize:11},"%")})),s.a.startWith(null))))}(a||(a={}));const y={position:"absolute",top:0,right:0,bottom:0,left:0,overflow:"visible",margin:"auto",width:h.a.percent(100),height:h.a.percent(100)},v={position:"absolute",width:h.a.percent(150),height:h.a.percent(150),transform:"translate(-17%, -17%)"},S={position:"relative",display:"inline-flex"},C={width:h.a.percent(100),height:h.a.percent(100)},w={minWidth:h.a.rem(2),width:h.a.percent(100),height:h.a.rem(1.25)},k={maxWidth:h.a.rem(2),height:h.a.rem(1.25)},E=h.a.joinClasses(["counterText",h.a.style({fontWeight:"bold",textAnchor:"middle",fill:u.a.CoreNeutral0})]),O={fill:g.ui150,$nest:{"& .counterText":{fill:g.ui500}}},A={fill:u.a.CoreRed50,$nest:{"& .counterText":{fill:u.a.CoreNeutral0}}},_={fill:u.a.CoreGreen50,$nest:{"& .counterText":{fill:u.a.CoreNeutral0}}},x={fill:u.a.CoreBlue50,$nest:{"& .counterText":{fill:u.a.CoreNeutral0}}},I={fill:"transparent",$nest:{"& .counterText":{fill:g.ui500}}},j={fill:g.purple500,$nest:{"& .counterText":{fill:u.a.CoreNeutral0}}},T={fill:g.yellow600,$nest:{"& .counterText":{fill:u.a.CoreNeutral0}}},M={fill:u.a.CoreYellow20,$nest:{"& .counterText":{fill:u.a.CoreYellow80}}},N={fill:u.a.CoreYellow60,$nest:{"& .counterText":{fill:u.a.CoreNeutral0}}},P={fill:u.a.CoreCyan50,$nest:{"& .counterText":{fill:u.a.CoreNeutral0}}},L={width:h.a.rem(1.5),height:h.a.rem(1.5)},R={margin:"0 "+h.a.rem(.25)},B={width:h.a.rem(2),height:h.a.rem(1.25)},F={margin:h.a.rem(-1)+" 0"},D={$nest:{"&:not([data-disabled='true'])[data-active='true'], &:not([data-disabled='true'])[data-hovered='true']":{fill:u.a.CoreCyan50}}},H={width:h.a.rem(2),height:h.a.rem(1.125),position:"relative"},V=h.a.stylesheet({fadeOut:[{opacity:0,transition:"opacity .5s linear"}],circular:[y],loader:[v],wrapper:[S],roundCounter:[S,C],ovalCounter:[S,w],flexCounter:[S,k],gray:[O],red:[A],green:[_],blue:[x],white:[I],violet:[j],yellow:[T],yellowPremium:[M],orange:[N],cyan:[P],meter:[S,L],lensNavMeter:[S,L,R],plagiarismMeter:[S,B],plagiarismIcon:[F],plagiarismOutcomeIcon:[F,D],outcomeCounter:[S,{position:"absolute",left:0},H]})},yNQd:function(e,t){window.MutationObserver=window.MutationObserver||function(e){function t(e){this.i=[],this.m=e}function n(t){var n,a={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(n in t)a[n]!==e&&t[n]!==e&&(a[n]=t[n]);return a}function a(t,a){var s=i(t,a);return function(c){var u,d=c.length;a.a&&3===t.nodeType&&t.nodeValue!==s.a&&c.push(new n({type:"characterData",target:t,oldValue:s.a})),a.b&&s.b&&r(c,t,s.b,a.f),(a.c||a.g)&&(u=function(t,a,i,s){function c(e,a,i,o,l){var c,d,p,m=e.length-1;for(l=-~((m-l)/2);p=e.pop();)c=i[p.j],d=o[p.l],s.c&&l&&Math.abs(p.j-p.l)>=m&&(t.push(n({type:"childList",target:a,addedNodes:[c],removedNodes:[c],nextSibling:c.nextSibling,previousSibling:c.previousSibling})),l--),s.b&&d.b&&r(t,c,d.b,s.f),s.a&&3===c.nodeType&&c.nodeValue!==d.a&&t.push(n({type:"characterData",target:c,oldValue:d.a})),s.g&&u(c,d)}function u(a,i){for(var p,m,h,g,f,b=a.childNodes,y=i.c,v=b.length,S=y?y.length:0,C=0,w=0,k=0;w<v||k<S;)(g=b[w])===(f=(h=y[k])&&h.node)?(s.b&&h.b&&r(t,g,h.b,s.f),s.a&&h.a!==e&&g.nodeValue!==h.a&&t.push(n({type:"characterData",target:g,oldValue:h.a})),m&&c(m,a,b,y,C),s.g&&(g.childNodes.length||h.c&&h.c.length)&&u(g,h),w++,k++):(d=!0,p||(p={},m=[]),g&&(p[h=o(g)]||(p[h]=!0,-1===(h=l(y,g,k,"node"))?s.c&&(t.push(n({type:"childList",target:a,addedNodes:[g],nextSibling:g.nextSibling,previousSibling:g.previousSibling})),C++):m.push({j:w,l:h})),w++),f&&f!==b[w]&&(p[h=o(f)]||(p[h]=!0,-1===(h=l(b,f,w))?s.c&&(t.push(n({type:"childList",target:i.node,removedNodes:[f],nextSibling:y[k+1],previousSibling:y[k-1]})),C--):m.push({j:h,l:k})),k++));m&&c(m,a,b,y,C)}var d;return u(a,i),d}(c,t,s,a)),(u||c.length!==d)&&(s=i(t,a))}}function r(t,a,r,i){for(var o,s,l={},c=a.attributes,d=c.length;d--;)s=(o=c[d]).name,i&&i[s]===e||(u(a,o)!==r[s]&&t.push(n({type:"attributes",target:a,attributeName:s,oldValue:r[s],attributeNamespace:o.namespaceURI})),l[s]=!0);for(s in r)l[s]||t.push(n({target:a,type:"attributes",attributeName:s,oldValue:r[s]}))}function i(e,t){var n=!0;return function e(a){var r={node:a};return!t.a||3!==a.nodeType&&8!==a.nodeType?(t.b&&n&&1===a.nodeType&&(r.b=s(a.attributes,(function(e,n){return t.f&&!t.f[n.name]||(e[n.name]=u(a,n)),e}))),n&&(t.c||t.a||t.b&&t.g)&&(r.c=function(e,t){for(var n=[],a=0;a<e.length;a++)n[a]=t(e[a],a,e);return n}(a.childNodes,e)),n=t.g):r.a=a.nodeValue,r}(e)}function o(e){try{return e.id||(e.mo_id=e.mo_id||d++)}catch(t){try{return e.nodeValue}catch(e){return d++}}}function s(e,t){for(var n={},a=0;a<e.length;a++)n=t(n,e[a],a,e);return n}function l(e,t,n,a){for(;n<e.length;n++)if((a?e[n][a]:e[n])===t)return n;return-1}t._period=30,t.prototype={observe:function(e,n){for(var r={b:!!(n.attributes||n.attributeFilter||n.attributeOldValue),c:!!n.childList,g:!!n.subtree,a:!(!n.characterData&&!n.characterDataOldValue)},i=this.i,o=0;o<i.length;o++)i[o].s===e&&i.splice(o,1);n.attributeFilter&&(r.f=s(n.attributeFilter,(function(e,t){return e[t]=!0,e}))),i.push({s:e,o:a(e,r)}),this.h||function(e){!function n(){var a=e.takeRecords();a.length&&e.m(a,e),e.h=setTimeout(n,t._period)}()}(this)},takeRecords:function(){for(var e=[],t=this.i,n=0;n<t.length;n++)t[n].o(e);return e},disconnect:function(){this.i=[],clearTimeout(this.h),this.h=null}};var c=document.createElement("i");c.style.top=0;var u=(c="null"!=c.attributes.style.value)?function(e,t){return t.value}:function(e,t){return"style"!==t.name?t.value:e.style.cssText},d=1;return t}(void 0)},yV3Z:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return f}));var a=n("ERkP"),r=n("vOOZ"),i=n("9NHN"),o=n("1w6p"),s=n("ax6a"),l=n("rk+4"),c=n("yB2L"),u=n("3rlE"),d=n("zR/0"),p=n("m2o7");const m=e=>o.b.Grid.make(({slots:t})=>a.createElement(r.a.div,Object.assign({},Object(i.c)(p.a.wrapper,e)),t.body)),h=({alertsCount:e,extendedCard:t})=>{const n=a.useContext(l.a.Context).premiumUpHookCard.title;return a.createElement("div",{className:p.a.title},t?null:a.createElement(u.d.UpgradeHookPanel.TitleDiamond,{className:p.a.icon}),a.createElement("span",{className:p.a.titleText},n.weFound,a.createElement(r.a.span,null,e.pipe(d.a.map(e=>a.createElement("b",null,n.premiumIssues(e))))),t?n.forPremiumExtended:n.forPremium))},g=({alertsCount:e})=>a.createElement(r.a.div,{className:p.a.counter},a.createElement("svg",{"aria-hidden":!0,height:"128",width:"128"},a.createElement("circle",{cx:"50%",cy:"50%",r:"50%",fill:s.a.CoreYellow1}),a.createElement("circle",{cx:"50%",cy:"50%",r:"25%",fill:s.a.CoreYellow20})),e.pipe(d.a.map(e=>a.createElement("div",{className:p.a.counterText},e)))),f=({alert:e})=>a.createElement("div",{key:e.category,className:p.a.alertCategory},a.createElement(c.a.Counter,{count:e.count,type:"yellowPremium"}),a.createElement("div",{className:p.a.categoryHumanContainer},e.categoryHuman))},yZqL:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("ERkP"),r=n("vOOZ"),i=n("9NHN"),o=n("xEVj"),s=n("zR/0"),l=n("gy42"),c=n("lrqh"),u=n("rk+4"),d=n("e12y"),p=n("rq0W"),m=n("3bJT");const h=e=>{const{shade:t}=Object(p.c)(e.visualState),n=a.useContext(u.a.Context),{rect:d,onMount:m}=o.a.useRectWatcher(),h=d.pipe(s.a.map(c.g.exists(e=>e.height>0)));a.useEffect(()=>{Boolean(t)||e.onFocus()},[]);const g=e.theme||{};return a.createElement(r.a.div,{className:g.container},e.header,a.createElement(r.a.div,{className:g.innerContainer},a.createElement(r.a.div,Object.assign({},Object(i.c)(w.wrapper,g.wrapper),{onMouseOver:e.onMouseOver,onMouseOut:e.onMouseOut}),a.createElement(r.a.div,Object.assign({},Object(i.c)(w.grid,g.content)),a.createElement(r.a.div,Object.assign({role:"region","aria-label":l.b.toObservable(e.ariaLabel).pipe(s.a.map(e=>`${n.card.description}: ${e}`))},Object(i.c)(w.mainContent,g.contentBody)),e.body),Boolean(e.footer)?a.createElement(r.a.div,{role:"complementary",mount:m,"aria-hidden":l.b.invert(h),"aria-label":l.b.toObservable(e.ariaLabel).pipe(s.a.map(e=>`${n.card.more}: ${e}`)),className:w.footerContent},e.footer):null,Boolean(e.subActions)||Boolean(e.navigation)||Boolean(e.mainActions)?a.createElement(r.a.nav,{"aria-label":l.b.toObservable(e.ariaLabel).pipe(s.a.map(e=>`${n.card.cardActions}: ${e}`)),className:w.actions},e.subActions,a.createElement("div",{className:w.spacerOne}),e.navigation,a.createElement("div",{className:w.spacerFloat}),e.mainActions):null)),e.extra))},g={position:"relative"},f={padding:`${d.a.rem(1)} ${d.a.rem(.5)} ${d.a.rem(.75)} ${d.a.rem(1)}`},b={padding:`0 ${d.a.rem(.5)} 0 ${d.a.rem(1)}`,$nest:{"& > * + *":{marginTop:d.a.rem(.75)}}},y={padding:`0 ${d.a.rem(.5)} 0 ${d.a.rem(1)}`,$nest:{"& > * + *":{marginTop:d.a.rem(.75)}}},v={display:"flex",marginLeft:d.a.rem(.5),justifyContent:"space-between",$nest:{"& > *":{flexShrink:0}}},S={width:d.a.rem(1),flexShrink:1},C={$nest:{"& > * + *":{marginTop:d.a.rem(.75)}}},w=Object.assign(Object.assign({},d.a.stylesheet({mainContent:[b],footerContent:[y],actions:[v],spacerOne:[S],spacerFloat:[{flex:1}],grid:[C]})),{fullCard:d.a.joinClasses([m.b.fullCardSelector,d.a.style(g)]),wrapper:d.a.joinClasses([m.b.fullCardSelector,d.a.style(g,f)])})},ythQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return y}));var a=n("ERkP"),r=n("OA+g"),i=n("I7vG"),o=n("vOOZ"),s=n("9NHN"),l=n("bYZB"),c=n("bO3R"),u=n("8Ioe"),d=n("3rlE"),p=n("lrqh"),m=n("6fbX"),h=n("E/Yu"),g=n("zGI0"),f=n("MfJJ");const b=({viewModel:e})=>a.createElement(o.a.div,{className:f.wrapper},a.createElement(c.a.Ghost,{className:f.toolbarBtn,name:"head",animationMode:u.a.FromCenter,title:e.head.title,active:e.head.active,onClick:e.head.onClick},a.createElement(d.d.Formatting.Head,null)),e.visualState.view(t=>t===h.a.VisualState.Expanded&&a.createElement(v,{viewModel:e,theme:{panel:Object(s.c)(f.panel,f.panelAnimateIn).className,item:f.item,separator:f.separator}}))),y=({viewModel:e})=>a.createElement(v,{viewModel:e,theme:{panel:f.panelHorizontal,item:f.itemMini,itemIcon:f.iconMini,separator:f.verticalSeparator}}),v=({viewModel:e,theme:t})=>a.createElement(o.a.div,{key:"formatting-wrapper",className:t.panel},e.list.map((e,n)=>g.a.Item.isViewItem(e)?a.createElement(S,{theme:{itemClass:t.item,iconClass:t.itemIcon},key:n,item:e}):a.createElement("div",{key:n,className:t.separator}))),S=({item:e,theme:t})=>{const n=w(e.name,t.iconClass);return a.createElement(c.a,{name:"rtfToolbar-"+e.name,title:a.createElement(C,{item:e,labelClass:n.labelClass}),titleAlign:"topCenter",active:e.active,className:t.itemClass,key:e.name,onClick:e.onClick,"aria-label":e.ariaLabel},n.icon)},C=({item:e,labelClass:t})=>a.createElement("div",{className:f.tooltip},Object(i.pipe)(e.tooltip,p.g.fold(r.constNull,e=>a.createElement("span",Object.assign({},Object(s.c)(f.label,t)),e))),Object(i.pipe)(e.nestedItem,p.g.fold(r.constNull,p.b.fold(e=>a.createElement("span",{className:f.hotkeyLabel},e),r.constVoid)))),w=(e,t)=>{switch(e){case l.e.Type.bold:return{icon:a.createElement(d.d.Formatting.Bold,{className:t}),labelClass:f.bold};case l.e.Type.italic:return{icon:a.createElement(d.d.Formatting.Italic,{className:t}),labelClass:f.italic};case l.e.Type.underline:return{icon:a.createElement(d.d.Formatting.Underline,{className:t}),labelClass:f.underline};case l.e.Type.header1:return{icon:a.createElement(d.d.Formatting.Header1,{className:t}),labelClass:f.h1};case l.e.Type.header2:return{icon:a.createElement(d.d.Formatting.Header2,{className:t}),labelClass:f.h2};case l.e.Type.link:return{icon:a.createElement(d.d.Formatting.Link,{className:t}),labelClass:f.link};case l.e.Type.bulletList:return{icon:a.createElement(d.d.Formatting.BulletList,{className:t})};case l.e.Type.orderedList:return{icon:a.createElement(d.d.Formatting.OrderedList,{className:t})};case"clear":return{icon:a.createElement(d.d.Formatting.Clear,{className:t})};default:return Object(m.c)(e)}}},z1Kw:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("ERkP"),r=n("Q8bi"),i=n("rk+4"),o=n("bO3R"),s=n("D6Vf"),l=n("hoSD"),c=n("XUeO");const u=({payload:e,close:t})=>{const n=a.useContext(i.a.Context),u=a.useContext(s.a.TitleIdContext);return a.createElement("div",null,a.createElement(r.Typography,{nodeType:"h2",styleType:r.Typography.Type.H3,id:u},n.proofitSuccessModal.title),a.createElement("div",{className:c.timeWrapper},a.createElement(r.Typography,{nodeType:"h3",styleType:r.Typography.Type.H2,className:c.time,"data-name":"success-time"},l.d.Local.shortTime(e.dueDate)),a.createElement("div",{className:c.date,"data-name":"success-date"},l.d.Local.fullDate(e.dueDate))),a.createElement(r.Typography.Base,{className:c.description},n.proofitSuccessModal.description(e.email)),a.createElement(o.a.Primary,{name:"got-it",onClick:t},n.actions.gotIt))}},zGI0:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n("OA+g"),i=n("bYZB"),o=n("zR/0"),s=n("gy42"),l=n("lrqh");!function(e){let t,n,a,c;!function(t){t.toBindingProvider=(t,n)=>a=>i=>Object(r.pipe)(a,l.a.filter(e.isItem),l.a.chain(a=>Object(r.pipe)(a.hotkey,l.g.map(r=>r.map(r=>({action:a.name,hotkey:i(r),isActive:n(a.name),bind:o.a.tap(()=>t({event:a.name,source:e.Source.Hotkey}))}))),l.g.getOrElse(()=>[]))))}(t=e.Scheme||(e.Scheme={})),e.isItem=e=>"string"!=typeof e,function(e){e.isViewItem=e=>"string"!=typeof e}(n=e.Item||(e.Item={})),function(t){t.isView=t=>t.source===e.Source.View,t.isHotkey=t=>t.source===e.Source.Hotkey}(a=e.MenuEvent||(e.MenuEvent={})),function(e){e.Hotkey="Hotkey",e.View="View"}(c=e.Source||(e.Source={})),e.toMenuEvents=(e,t)=>t.pipe(o.a.map(t=>[t.event,i.g.toTextRange(e()),t.source])),e.linkEvents=function(e,t){return e.pipe(o.a.mergeMap(([e,n,a])=>s.b.toObservable(t[e].call(null,n,a))))}}(a||(a={}))},zN6a:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return k}));var a,r=n("I7vG"),i=n("LNSM"),o=n("GUi3"),s=n("dE97"),l=n("IyPE");!function(e){e.group=function(e){return Object.values(e.reduce((e,{lensName:t,isFree:n,cost:a})=>(void 0===e[t]&&(e[t]={lensName:t,free:0,premium:0}),e[t][n?"free":"premium"]+=a,e),{})).sort((e,t)=>t.premium-e.premium)}}(a||(a={}));var c,u=n("yA7V"),d=n("gyms"),p=n("5mwv"),m=n("B/RW"),h=n("zR/0"),g=n("GGUR"),f=n("lrqh"),b=n("D9EC"),y=n("6fbX"),v=n("umZW"),S=n("PrA7"),C=n("Pe9T"),w=n("+ukg");(c||(c={})).Mock=class{constructor(){this.events=new h.a.Subject,this.advancedAlerts=i.a.create(f.g.none),this.openUpgradeUrl=b.e,this.fromGbVoxUpHookLens=b.e,this.fromGrammarlyGO=b.e,this.enableGBVoxHookLens=b.e,this.displayValue=()=>""}};class k{constructor(e,t,n,a,i,l,c,u,d,p){this._checkingDomain=e,this._lensState=t,this._lensPreviewVM=n,this._docId=a,this._environment=i,this._upgradeHook=l,this._config=c,this._uphookFormat=u,this._telemetry=d,this._navigateToDocuments=p,this._log=S.Monitoring.Logging.getLogger("UpgradeViewModel"),this._subs=new g.a.Keeper,this.events=new h.a.Subject,this.advancedAlerts=this._lensPreviewVM.getLens(o.a.SpecialId.Premium).view(({count:e})=>e>0?Object(r.pipe)(f.g.some({count:e,alerts:()=>this._formatLiteAlerts(this._getGroupedLiteAlerts(e=>s.a.isPremium(e)))}),f.g.filter(({alerts:e})=>Object(b.n)(e()))):f.g.none),this._subs.push(this._listenHookEvents())}_listenHookEvents(){return this.events.pipe(h.a.tap(e=>{const t=this._lensState.get().currentLens.id;switch(e.kind){case p.a.ActionsKind.onMiniShow:[o.a.SpecialId.FreePremiumAlerts].includes(t)&&this._telemetry.gnarSpec.miniAdvancedIssuesCardShow(t,this._telemetry.pageId);break;case d.a.ActionsKind.onFullShow:[o.a.SpecialId.Premium,o.a.SpecialId.FreePremiumAlerts].includes(t)&&this._telemetry.gnarSpec.expandedAdvancedIssuesCardShow(t,this._telemetry.pageId);break;case m.a.ActionsKind.onUpgradeButtonMount:break;case m.a.ActionsKind.onUpgrade:case d.a.ActionsKind.onUpgrade:this._telemetry.gnarSpec.getPremiumButtonClick(this._telemetry.pageId,"goPremium","advancedIssuesCard"),this.openUpgradeUrl(C.i.Place.DenaliDocument.editorDenaliUpgradeInline);break;case d.a.ActionsKind.onContinueWithFreePlan:this._telemetry.gnarSpec.continueFreeButtonClick(this._telemetry.pageId),this._navigateToDocuments();break;default:Object(y.c)(e)}})).subscribe()}_formatLiteAlerts(e){const t=e.slice(0,5),n=e.slice(5).map(e=>e.count).reduce(b.t,0);return n>0?[...t,{group:"",category:"",categoryHuman:"more...",count:n,lensName:"more...",bundleInfo:f.g.some("more...")}]:t}openUpgradeUrl(e){Object(r.pipe)(f.b.tryCatchError(()=>this._upgradeHook.fromDenaliDocument(e,this._docId,this._getGroupedLiteAlerts(Object(b.m)(s.a.isPlagiarism)),this._getGroupedLensAlerts(Object(b.m)(s.a.isPlagiarism)))),f.b.chain(this._environment.actions.openUrl),f.b.getOrElse(e=>this._log.fatal("unexpected error on open upgrade page",e)))}fromGbVoxUpHookLens(){Object(r.pipe)(f.b.tryCatchError(()=>this._upgradeHook.fromGbVoxUpHookLens()),f.b.chain(this._environment.actions.openPopup),f.b.getOrElse(e=>this._log.fatal("unexpected error on open upgrade page",e)))}fromGrammarlyGO(){Object(r.pipe)(f.b.tryCatchError(()=>this._upgradeHook.fromGrammarlyGO()),f.b.chain(this._environment.actions.openPopup),f.b.getOrElse(e=>this._log.fatal("unexpected error on open upgrade pag for GrammarlyGO",e)))}enableGBVoxHookLens(){Object(r.pipe)(f.b.tryCatchError(()=>new v.a(this._config.account.styleGuide)),f.b.chain(this._environment.actions.openPopup),f.b.getOrElse(e=>this._log.fatal("unexpected error on open admin style guide page",e)))}displayValue(e){return Object(r.pipe)(this._uphookFormat,f.g.map(t=>t===w.r.layoutGroup?e.lensName:Object(r.pipe)(e.bundleInfo,f.g.getOrElse(()=>e.categoryHuman))),f.g.getOrElse(()=>e.categoryHuman))}_noRemovedFilter(e){return t=>!s.a.isRemoved(t)&&e(t)}_getGroupedLiteAlerts(e){return Object(r.pipe)(this._checkingDomain.state.get(),u.a.reduce([],(t,n)=>(this._noRemovedFilter(e)(n.alert)&&t.push(n.alert.toLiteAlert()),t)),Object(r.pipe)(this._uphookFormat,f.g.map(e=>e===w.r.layoutGroup?l.a.groupByGroup:l.a.groupByBundleInfo),f.g.getOrElse(()=>l.a.group)))}_getGroupedLensAlerts(e){return Object(r.pipe)(this._checkingDomain.state.get(),u.a.reduce([],(t,n)=>(this._noRemovedFilter(e)(n.alert)&&t.push(n.alert.toLensAlert()),t)),a.group)}dispose(){this._subs.dispose()}}},zTZn:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n("ERkP"),r=n("OA+g"),i=n("I7vG"),o=n("vOOZ"),s=n("9NHN"),l=n("94k3"),c=n("D9EC"),u=n("6fbX"),d=n("lrqh"),p=n("rk+4"),m=n("6lhv"),h=n("e12y"),g=n("zR/0"),f=n("FuGm");class b extends m.a{}const y=(e,t)=>{const n=e=>e+" "+j.transitionDelay;return e&&e.type===f.a.SuccessType.large&&t.type===f.a.SuccessType.small?{prev:{start:{main:j.fadeOutEnd,secondary:j.fadeOutEnd},end:{main:j.fadeOutEnd,secondary:j.fadeOutEnd}},next:{start:{main:j.visible,secondary:j.fadeInStart},end:{main:j.visible,secondary:j.fadeInEnd}}}:e&&e.type===f.a.SuccessType.small&&t.type===f.a.SuccessType.large?{prev:{start:{main:j.fadeOutEnd,secondary:j.fadeOutStart},end:{main:j.fadeOutEnd,secondary:j.fadeOutEnd}},next:{start:{main:j.visible,secondary:j.visible},end:{main:j.visible,secondary:j.visible}}}:{prev:{start:{main:j.fadeOutStart,secondary:j.fadeOutStart},end:{main:j.fadeOutEnd,secondary:j.fadeOutEnd}},next:{start:{main:n(j.fadeInStart),secondary:n(j.fadeInStart)},end:{main:n(j.fadeInEnd),secondary:n(j.fadeInEnd)}}}},v=(e,t,n,r=!1,i)=>{switch(t){case f.a.SuccessType.zero:return r?a.createElement(e.Birthday,{key:"nothing-to-check",animate:n,onComplete:i}):a.createElement(e.NothingToCheck,{key:"nothing-to-check",animate:n,onComplete:i});case f.a.SuccessType.small:case f.a.SuccessType.large:return a.createElement(e.NoIssuesFound,{key:"no-issues-found",animate:n,onComplete:i});case f.a.SuccessType.applied:case f.a.SuccessType.premiumOnboardingStart:case f.a.SuccessType.premiumOnboardingComplete:return a.createElement(e.EverythingIsClear,{key:"everything-is-clear",animate:n,onComplete:i});default:return Object(u.c)(t)}},S=({state:e,preventAnimation:t,illustrations:n,alertsListType:m,children:h,scoreStatus:S})=>{const C=a.useContext(p.a.Context),w=e.get(),k=S.view(e=>Object(i.pipe)(e,d.g.map(e=>e===l.a.Message.ScoresStatus.SENSITIVE),d.g.getOrElse(r.constFalse)));return a.createElement(o.a.Fragment,null,n.view(n=>a.createElement(o.a.div,{className:j.successContainer},e.pipe(g.a.pairwise(),g.a.map(([e,r])=>((e,t,n,r=!0,i)=>{switch(t.type){case f.a.SuccessType.zero:return n.type===f.a.SuccessType.large||n.type===f.a.SuccessType.small?!0===t.showBirthday?a.createElement(e.Birthday,{key:"no-issue-found-to-nothing-to-check",animate:r,onComplete:i}):a.createElement(e.NoIssueFoundToNothingToCheck,{key:"no-issue-found-to-nothing-to-check",animate:r}):v(e,t.type,r,t.showBirthday,i);case f.a.SuccessType.applied:return v(e,t.type,r,!1,i);case f.a.SuccessType.large:case f.a.SuccessType.small:return n.type===f.a.SuccessType.zero?a.createElement(e.NothingToNoIssueFound,{key:"nothing-to-no-issue-found",animate:r,onComplete:i}):v(e,t.type,r&&n.type!==f.a.SuccessType.large&&n.type!==f.a.SuccessType.small,!1,i);default:return Object(u.c)(t)}})(n,r,e,!t)),g.a.startWith(v(n,w.type,!t,w.type===f.a.SuccessType.zero&&w.showBirthday))),a.createElement(b,{className:j.animationWrapper,state:e.pipe(g.a.map(e=>((e,t,n)=>{const r=t.successLens;switch(e.type){case f.a.SuccessType.zero:return!0===e.showBirthday?{type:f.a.SuccessType.zero,title:"It’s our birthday!",firstLine:a.createElement(a.Fragment,null,"Time to let ",a.createElement("s",null,"lose")," loose.")}:Object.assign(Object.assign({},r.emptyText),{type:f.a.SuccessType.zero});case f.a.SuccessType.small:return Object.assign(Object.assign({},"priority"===n?r.priorityFirstCheck:r.smallText),{type:f.a.SuccessType.small});case f.a.SuccessType.large:return Object.assign(Object.assign({},"priority"===n?r.priorityFirstCheck:r.largeText),{type:f.a.SuccessType.large});case f.a.SuccessType.applied:return{title:r.fixedText.titles[Object(c.q)(9)],type:f.a.SuccessType.applied,secondLine:e.nonPriorityAlertsLeft?e.isAllAlerts?t.priorityList.successState.allAlertsHint:t.priorityList.successState.outcomesHint:void 0};default:return Object(u.c)(e)}})(e,C,m))),stateToClassMapper:y},({state:e,view:t})=>a.createElement("div",{"data-name":"success-lens-text",key:e.type,className:j.textWrapper},a.createElement(o.a.Fragment,null,k.view(n=>n?a.createElement("div",{className:j.successContent},null!=h?a.createElement(o.a.span,Object.assign({},Object(s.c)(j.successText,t.pipe(g.a.map(e=>e.main)))),h):null):a.createElement(a.Fragment,null,a.createElement(o.a.div,Object.assign({},Object(s.c)(j.successTitle,t.pipe(g.a.map(e=>e.main)))),e.title),a.createElement("div",{className:j.successContent},a.createElement(o.a.div,{key:"firstLine",className:t.pipe(g.a.map(e=>e.main))},e.firstLine),a.createElement(o.a.div,{key:"secondLine",className:t.pipe(g.a.map(e=>e.secondary))},e.secondLine),null!=h?a.createElement(o.a.span,Object.assign({},Object(s.c)(j.successText,t.pipe(g.a.map(e=>e.main)))),h):null)))))))))},C={display:"flex",flexDirection:"column",height:h.a.percent(100),justifyContent:"flex-start",alignItems:"center"},w={marginTop:h.a.rem(11.5)},k={marginTop:h.a.rem(2),textAlign:"center",wordSpacing:h.a.rem(.06),fontWeight:"bold",fontSize:h.a.rem(.9375)},E={marginTop:h.a.rem(.8),textAlign:"center",whiteSpace:"pre-line",wordSpacing:h.a.rem(.06),fontSize:h.a.rem(.875),lineHeight:h.a.rem(1.5)},O={position:"relative",display:"flex",width:h.a.percent(100),justifyContent:"center"},A={opacity:1,transition:"opacity "+h.a.seconds(.15)},_={opacity:0,transition:"opacity "+h.a.seconds(.15)},x={transitionDelay:h.a.seconds(.15)},I={right:h.a.rem(-.825)},j=h.a.stylesheet({successContainer:[C],successIcon:[w],successTitle:[k],successContent:[E],animationWrapper:[O],textWrapper:[{position:"absolute"}],fadeOutStart:[A],fadeOutEnd:[A,{opacity:0}],fadeInStart:[_],fadeInEnd:[_,{opacity:1}],visible:[{opacity:1}],transitionDelay:[x],backButton:[I],successText:[{display:"flex",flexDirection:"column",alignItems:"center"}]})},zicx:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("h6df"),r=n("OA+g"),i=(n("I7vG"),n("sq+9"));n("YcRB");function o(e,t){return{decode:e.decode,encode:t.encode}}function s(e){return{decode:e.decode,encode:r.identity}}i.string,i.number,i.boolean,i.UnknownArray,i.UnknownRecord;r.identity;var l,c,u,d,p,m,h=n("0UWf"),g=n("AS+/"),f=n("lrqh"),b=n("6fbX"),y=n("+w1e"),v=n("f9Xq");c=l||(l={}),u=c.Type=y.b.Type.sduiCardAction,d=g.a(h.a)(v.b.Actions),c.eq=f.c.fromEquals((function(e,t){return e.type===u&&e.type===t.type&&e.cardId===t.cardId&&d.equals(e.actions,t.actions)&&e.scope===t.scope})),p=o(g.a(i.Schemable)(v.b.Actions),{encode:function(e){return e}}),m=Object(a.h)(p.decode,f.b.mapLeft((function(e){return new Error(i.draw(e))}))),c.isSduiCardAction=function(e){return e.type===l.Type&&(n=e.actions,f.b.isRight(m(n)))&&"object"==typeof(t=e.scope)&&null!=t&&Object.keys(t).every((function(e){var n=t[e];switch(e){case"alertRefs":return Array.isArray(n);default:return Object(b.d)(e),!1}}));var t,n}},ztZG:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("D57K"),r=n("ERkP"),i=n("OA+g"),o=n("D9EC"),s=n("lrqh"),l=n("hoSD"),c=n("ot6E");const u=e=>null!=e.href&&e.href.includes(document.location.host),d=e=>"_blank"===e.target,p=e=>{var{children:t}=e,n=Object(a.__rest)(e,["children"]);const{link:{description:p}}=r.useContext(c.a.Context);return Object(i.pipe)(n,()=>Object(o.b)(u,d)(n)?s.g.some(p.internalNewWindow):Object(o.b)(Object(i.not)(u),d)(n)?s.g.some(p.externalNewWindow):Object(i.not)(u)(n)?s.g.some(p.external):s.g.none,s.g.map(e=>{const a=l.f.alphanumeric(5);return r.createElement(r.Fragment,null,r.createElement("span",{hidden:!0,id:a},e),r.createElement("a",Object.assign({},n,{"aria-describedby":a}),t))}),s.g.getOrElse(()=>r.createElement("a",Object.assign({},n),t)))}}}]);